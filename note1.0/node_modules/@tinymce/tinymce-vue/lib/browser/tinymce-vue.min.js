var Editor=function(m){"use strict";function f(n){return-1!==t.map(function(n){return n.toLowerCase()}).indexOf(n.toLowerCase())}function y(n,t,e,o,i,r){var a,u,l,c,s,d;o.setContent(r()),e.attrs["onUpdate:modelValue"]&&(u=e,l=o,i=i,t=(a=t).modelEvents||null,t=Array.isArray(t)?t.join(" "):t,m.watch(i,function(n,t){l&&"string"==typeof n&&n!==t&&n!==l.getContent({format:a.outputFormat})&&l.setContent(n)}),l.on(t||"change input undo redo",function(){u.emit("update:modelValue",l.getContent({format:a.outputFormat}))})),c=n,s=e.attrs,d=o,Object.keys(s).filter(f).forEach(function(n){var t=s[n];"function"==typeof t&&("onInit"===n?t(c,d):d.on(n.substring(2),function(n){return t(n,d)}))})}function o(n){var t=Date.now();return n+"_"+Math.floor(1e9*Math.random())+ ++e+String(t)}function g(n){return void 0===n||""===n?[]:Array.isArray(n)?n:n.split(" ")}function n(){return{listeners:[],scriptId:o("tiny-script"),scriptLoaded:!1}}function C(){var n="undefined"!=typeof window?window:global;return n&&n.tinymce?n.tinymce:null}var i,S=function(){return(S=Object.assign||function(n){for(var t,e=1,o=arguments.length;e<o;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}).apply(this,arguments)},t=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],e=0,h=(i=n(),{load:function(n,t,e){i.scriptLoaded?e():(i.listeners.push(e),n.getElementById(i.scriptId)||function(n,t,e,o){var i=t.createElement("script");i.referrerPolicy="origin",i.type="application/javascript",i.id=n,i.src=e;var r=function(){i.removeEventListener("load",r),o()};i.addEventListener("load",r),t.head&&t.head.appendChild(i)}(i.scriptId,n,t,function(){i.listeners.forEach(function(n){return n()}),i.scriptLoaded=!0}))},reinitialize:function(){i=n()}}),r={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(n){return"html"===n||"text"===n}}};return m.defineComponent({props:r,setup:function(i,r){function e(){var n,t,e=(n=f,d?function(){return null!=a&&a.value?a.value:""}:function(){return n?p:v}),o=S(S({},i.init),{readonly:i.disabled,selector:"#"+c,plugins:(o=i.init&&i.init.plugins,t=i.plugins,g(o).concat(g(t))),toolbar:i.toolbar||i.init&&i.init.toolbar,inline:s,setup:function(t){(l=t).on("init",function(n){return y(n,i,r,t,a,e)}),i.init&&"function"==typeof i.init.setup&&i.init.setup(t)}});null!==(t=u.value)&&"textarea"===t.tagName.toLowerCase()&&(u.value.style.visibility=""),C().init(o),f=!1}var n=m.toRefs(i),t=n.disabled,a=n.modelValue,u=m.ref(null),l=null,c=i.id||o("tiny-vue"),s=i.init&&i.init.inline||i.inline,d=!!r.attrs["onUpdate:modelValue"],f=!0,p=i.initialValue||"",v="";return m.watch(t,function(n){null!==l&&l.setMode(n?"readonly":"design")}),m.onMounted(function(){var n,t;null!==C()?e():u.value&&u.value.ownerDocument&&(t=i.cloudChannel||"5",n=i.apiKey||"no-api-key",t=null==i.tinymceScriptSrc?"https://cdn.tiny.cloud/1/"+n+"/tinymce/"+t+"/tinymce.min.js":i.tinymceScriptSrc,h.load(u.value.ownerDocument,t,e))}),m.onBeforeUnmount(function(){null!==C()&&C().remove(l)}),s||(m.onActivated(function(){f||e()}),m.onDeactivated(function(){var n;d||(v=l.getContent()),null!==(n=C())&&void 0!==n&&n.remove(l)})),function(){return s?(n=m.h,t=c,e=u,o=i.tagName,n(o||"div",{id:t,ref:e})):(0,m.h)("textarea",{id:c,visibility:"hidden",ref:u});var n,t,e,o}}})}(Vue);

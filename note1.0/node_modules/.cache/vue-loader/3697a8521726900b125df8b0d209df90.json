{"remainingRequest":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\src\\pages\\aliRegister\\aliRegister.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\src\\pages\\aliRegister\\aliRegister.vue","mtime":1630571418950},{"path":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646840428356},{"path":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\node_modules\\babel-loader\\lib\\index.js","mtime":1646840429222},{"path":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646840428356},{"path":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\node_modules\\vue-loader\\lib\\index.js","mtime":1646840430419}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgcmVxdWVzdCBmcm9tICJAL25ldHdvcmsvcmVxdWVzdCI7DQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudDoge30sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGNsaWVudF9pZDogIndlYiIsDQogICAgICBjbGllbnRfc2VjcmV0OiAid2ViIiwNCiAgICAgIGdyYW50X3R5cGU6ICJwYXNzd29yZCIsDQogICAgICBpbnB1dGVtYWlsOiAiIiwNCiAgICAgIGlucHV0Y2hlY2tjb2RlOiAiIiwNCiAgICAgIGlucHV0dXNlcm5hbWU6ICIiLA0KICAgICAgaW5wdXRwYXNzd29yZDogIiIsDQogICAgICBkaWFsb2dWaXNpYmxlOiBmYWxzZSwNCiAgICAgIGpzb246IHsNCiAgICAgICAgY2hlY2tDb2RlOiB0aGlzLmlucHV0Y2hlY2tjb2RlLA0KICAgICAgICBlbWFpbDogdGhpcy5pbnB1dGVtYWlsLA0KICAgICAgICBwYXNzd29yZDogdGhpcy5pbnB1dHBhc3N3b3JkLA0KICAgICAgICB1c2VybmFtZTogdGhpcy5pbnB1dHVzZXJuYW1lLA0KICAgICAgfSwNCiAgICAgIGxvZ2luVXNlcm5hbWU6ICIiLA0KICAgICAgbG9naW5QYXNzd29yZDogIiIsDQogICAgICByYWRpbzogIjEiLA0KICAgICAgYWN0aXZlTmFtZTogImZpcnN0IiwNCiAgICAgIHNob3dSZW50UHJpc2U6IGZhbHNlLA0KICAgICAgcmVtZW1iZXJwYXNzd29yZDogZmFsc2UsDQogICAgICBhY2NvdW50SW5mbzogIiIsDQogICAgICBhbGlJZDogIiIsDQoNCiAgICAgIC8vIGNsaWVudF9pZDogJ3dlYicsDQogICAgICAvLyBjbGllbnRfc2VjcmV0OiAnd2ViJywNCiAgICAgIC8vIGdyYW50X3R5cGU6ICdwYXNzd29yZCcNCiAgICB9Ow0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuZ2V0YWxpaWQoKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIGdldGFsaWlkKCkgew0KICAgICAgdmFyIHF1ZXJ5ID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHJpbmcoMSk7DQogICAgICB2YXIgdmFycyA9IHF1ZXJ5LnNwbGl0KCImIik7DQogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhcnMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgdmFyIHBhaXIgPSB2YXJzW2ldLnNwbGl0KCI9Iik7DQogICAgICAgIGlmIChwYWlyWzBdID09ICJpZCIpIHsNCiAgICAgICAgICB0aGlzLmFsaUlkID0gcGFpclsxXTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgbG9naW5idXR0b24oKSB7DQogICAgICByZXF1ZXN0KHsNCiAgICAgICAgdXJsOg0KICAgICAgICAgICIvYXV0aC9vYXV0aC90b2tlbj9jbGllbnRfaWQ9d2ViJmNsaWVudF9zZWNyZXQ9d2ViJmdyYW50X3R5cGU9cGFzc3dvcmQmdXNlcm5hbWU9IiArDQogICAgICAgICAgdGhpcy5pbnB1dHVzZXJuYW1lICsNCiAgICAgICAgICAiJnBhc3N3b3JkPSIgKw0KICAgICAgICAgIHRoaXMuaW5wdXRwYXNzd29yZCwNCiAgICAgICAgbWV0aG9kOiAicG9zdCIsDQogICAgICB9KQ0KICAgICAgICAudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2cocmVzKTsNCiAgICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgiVG9rZW4iLCByZXMuZGF0YS5hY2Nlc3NfdG9rZW4pOw0KICAgICAgICAgIC8vICR3aW5kb3cuc2Vlc2lvblN0b3JhZ2UuYWNjZXNzVG9rZW4gPSB0aGlzLnVzZXJfdG9rZW4NCiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgIGlmIChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJUb2tlbiIpKSB7DQogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvdXNlcmluZGV4Iik7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSwgNTAwKTsNCiAgICAgICAgICB0aGlzLiRyb3V0ZXIuZ28oMCk7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBjaGVja2V1c2VybmFtZSgpIHsNCiAgICAgIHZhciB0aGF0ID0gdGhpczsNCiAgICAgIGF4aW9zDQogICAgICAgIC5nZXQoDQogICAgICAgICAgImh0dHA6Ly8xMjAuNzYuMTI4LjIyMjo4MDA0L2F1dGgvdXNlci91c2VybmFtZS8iICsgdGhpcy5pbnB1dHVzZXJuYW1lDQogICAgICAgICkNCiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLmRhdGEpOw0KICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmRhdGEgPT0gdHJ1ZSkgew0KICAgICAgICAgICAgdGhhdC4kbWVzc2FnZSh7DQogICAgICAgICAgICAgIG1lc3NhZ2U6ICLor6XnlKjmiLflkI3lj6/ms6jlhowiLA0KICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhhdC4kbWVzc2FnZS5lcnJvcigi6K+l55So5oi35ZCN5LiN5Y+v5rOo5YaMIik7DQogICAgICAgICAgfQ0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgc3VicmVnaXN0ZXIoKSB7DQogICAgICBjb25zb2xlLmxvZyh0aGlzLmFsaUlkKTsNCiAgICAgIHZhciB0aGF0ID0gdGhpczsNCiAgICAgIGF4aW9zDQogICAgICAgIC5wb3N0KCJodHRwOi8vMTIwLjc2LjEyOC4yMjI6ODAwNC9hdXRoL3VzZXIvYWxpcGF5Iiwgew0KICAgICAgICAgIHBhc3N3b3JkOiB0aGlzLmlucHV0cGFzc3dvcmQsDQogICAgICAgICAgdXNlcm5hbWU6IHRoaXMuaW5wdXR1c2VybmFtZSwNCiAgICAgICAgICBhbGlVc2VySWQ6IHRoaXMuYWxpSWQsDQogICAgICAgIH0pDQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsNCiAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLmRhdGEpOw0KICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLmNvZGUgPT0gMTAwODYpIHsNCiAgICAgICAgICAgIHRoYXQuJG1lc3NhZ2UuZXJyb3IoIuaUr+S7mOWunUlE5Li656m6Iik7DQogICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoYXQuJG1lc3NhZ2Uoew0KICAgICAgICAgICAgICBtZXNzYWdlOiAi5rOo5YaM5oiQ5YqfIiwNCiAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLA0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB0aGlzLnJvdXRlci5nbygwKTsNCiAgICAgICAgICB9DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7DQogICAgICAgIH0pOw0KICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgIHRoaXMubG9naW5idXR0b24oKTsNCiAgICAgIH0sIDUwMCk7DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["aliRegister.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"aliRegister.vue","sourceRoot":"src/pages/aliRegister","sourcesContent":["<template>\r\n  <div>\r\n    <div\r\n      style=\"width: 100px;height: 100px;position: absolute;left: 50%;top: 10%;margin: -50px 0 0 -50px;\"\r\n    >\r\n      <img src=\"../../../public/NewNoteLogo.jpg\" width=\"100px\" height=\"100px\" />\r\n    </div>\r\n    <div\r\n      style=\"height: 500px;width: 500px; position: absolute;left: 50%;top: 50%;margin: -250px 0 0 -250px;\"\r\n    >\r\n      <el-tabs\r\n        v-model=\"activeName\"\r\n        type=\"border-card\"\r\n        @tab-click=\"handleClick\"\r\n        stretch=\"false\"\r\n      >\r\n        <el-form :inline=\"true\" :model=\"formInline\">\r\n          <el-form-item>\r\n            <el-input\r\n              v-model=\"inputusername\"\r\n              placeholder=\"请输入用户名\"\r\n              style=\"display:inline;\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button\r\n              @click=\"checkeusername\"\r\n              style=\"height: 40px;\r\n    width: 100%;\"\r\n              >是否能注册该用户名</el-button\r\n            >\r\n          </el-form-item>\r\n        </el-form>\r\n        <br />\r\n        <el-input\r\n          show-password\r\n          v-model=\"inputpassword\"\r\n          placeholder=\"请输入密码\"\r\n        ></el-input>\r\n        <br />\r\n        <br />\r\n        <el-button\r\n          type=\"primary\"\r\n          @click=\"subregister\"\r\n          style=\"height: 50px;\r\n    width: 100%;\r\n    background-color: #deb887;\r\n    margin-top: 17px;\r\n    background: #2dbe61;\r\n    border: 1px solid #1fae52;\r\n    border-radius: 6px;\r\n    font-size: 14px;\r\n    color: #fff;\r\n    margin-bottom: 10px;\r\n    cursor: pointer;\"\r\n          >注 册</el-button\r\n        >\r\n      </el-tabs>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/network/request\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  component: {},\r\n  data() {\r\n    return {\r\n      client_id: \"web\",\r\n      client_secret: \"web\",\r\n      grant_type: \"password\",\r\n      inputemail: \"\",\r\n      inputcheckcode: \"\",\r\n      inputusername: \"\",\r\n      inputpassword: \"\",\r\n      dialogVisible: false,\r\n      json: {\r\n        checkCode: this.inputcheckcode,\r\n        email: this.inputemail,\r\n        password: this.inputpassword,\r\n        username: this.inputusername,\r\n      },\r\n      loginUsername: \"\",\r\n      loginPassword: \"\",\r\n      radio: \"1\",\r\n      activeName: \"first\",\r\n      showRentPrise: false,\r\n      rememberpassword: false,\r\n      accountInfo: \"\",\r\n      aliId: \"\",\r\n\r\n      // client_id: 'web',\r\n      // client_secret: 'web',\r\n      // grant_type: 'password'\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getaliid();\r\n  },\r\n  methods: {\r\n    getaliid() {\r\n      var query = window.location.search.substring(1);\r\n      var vars = query.split(\"&\");\r\n      for (var i = 0; i < vars.length; i++) {\r\n        var pair = vars[i].split(\"=\");\r\n        if (pair[0] == \"id\") {\r\n          this.aliId = pair[1];\r\n        }\r\n      }\r\n    },\r\n    loginbutton() {\r\n      request({\r\n        url:\r\n          \"/auth/oauth/token?client_id=web&client_secret=web&grant_type=password&username=\" +\r\n          this.inputusername +\r\n          \"&password=\" +\r\n          this.inputpassword,\r\n        method: \"post\",\r\n      })\r\n        .then((res) => {\r\n          console.log(res);\r\n          window.sessionStorage.setItem(\"Token\", res.data.access_token);\r\n          // $window.seesionStorage.accessToken = this.user_token\r\n          setTimeout(() => {\r\n            if (sessionStorage.getItem(\"Token\")) {\r\n              this.$router.push(\"/userindex\");\r\n            }\r\n          }, 500);\r\n          this.$router.go(0);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    checkeusername() {\r\n      var that = this;\r\n      axios\r\n        .get(\r\n          \"http://120.76.128.222:8004/auth/user/username/\" + this.inputusername\r\n        )\r\n        .then(function(response) {\r\n          console.log(response.data.data);\r\n          if (response.data.data == true) {\r\n            that.$message({\r\n              message: \"该用户名可注册\",\r\n              type: \"success\",\r\n            });\r\n          } else {\r\n            that.$message.error(\"该用户名不可注册\");\r\n          }\r\n        })\r\n        .catch(function(error) {\r\n          console.log(error);\r\n        });\r\n    },\r\n    subregister() {\r\n      console.log(this.aliId);\r\n      var that = this;\r\n      axios\r\n        .post(\"http://120.76.128.222:8004/auth/user/alipay\", {\r\n          password: this.inputpassword,\r\n          username: this.inputusername,\r\n          aliUserId: this.aliId,\r\n        })\r\n        .then((response) => {\r\n          console.log(response);\r\n          console.log(response.data.data);\r\n          if (response.data.code == 10086) {\r\n            that.$message.error(\"支付宝ID为空\");\r\n          } else {\r\n            that.$message({\r\n              message: \"注册成功\",\r\n              type: \"success\",\r\n            });\r\n            this.router.go(0);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n      setTimeout(() => {\r\n        this.loginbutton();\r\n      }, 500);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.separator {\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  -webkit-box-pack: center;\r\n  -ms-flex-pack: center;\r\n  justify-content: center;\r\n  -webkit-box-align: center;\r\n  -ms-flex-align: center;\r\n  align-items: center;\r\n  -webkit-box-sizing: border-box;\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  text-align: center;\r\n}\r\n\r\n.separator .line {\r\n  -webkit-box-flex: 1;\r\n  -ms-flex: auto;\r\n  flex: auto;\r\n  height: 1px;\r\n  background: #eee;\r\n}\r\n</style>\r\n"]}]}
{"remainingRequest":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\src\\pages\\write\\tinymce-editor\\index.vue?vue&type=style&index=0&id=f356ea3c&lang=less&scoped=true&","dependencies":[{"path":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\src\\pages\\write\\tinymce-editor\\index.vue","mtime":1637643975478},{"path":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\node_modules\\css-loader\\dist\\cjs.js","mtime":1646840428982},{"path":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1646840431770},{"path":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\node_modules\\postcss-loader\\src\\index.js","mtime":1646840430064},{"path":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\node_modules\\less-loader\\dist\\cjs.js","mtime":1646840428348},{"path":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646840428356},{"path":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\node_modules\\vue-loader\\lib\\index.js","mtime":1646840430419}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQpAaW1wb3J0IHVybCgnLi9za2lucy91aS9veGlkZS9za2luLm1pbi5jc3MnKTsNCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuGA","file":"index.vue","sourceRoot":"src/pages/write/tinymce-editor","sourcesContent":["<template>\r\n  <section id=\"tinymce-editor\"></section>\r\n</template>\r\n\r\n<script>\r\nimport './tinymce.min.js';\r\nimport './themes/silver/theme.min.js';\r\nimport 'tinymce/icons/default';\r\nimport './langs/zh_CN';\r\nimport './plugins/preview/plugin.min.js';\r\n\r\nimport \"tinymce/themes/silver/theme\";\r\nimport \"tinymce/plugins/image\";\r\nimport \"tinymce/plugins/link\";\r\nimport \"tinymce/plugins/code\";\r\nimport \"tinymce/plugins/table\";\r\nimport \"tinymce/plugins/lists\";\r\nimport \"tinymce/plugins/contextmenu\";\r\nimport \"tinymce/plugins/wordcount\";\r\nimport \"tinymce/plugins/colorpicker\";\r\nimport \"tinymce/plugins/textcolor\";\r\n\r\n// import e from './tinymce.min.js';\r\n\r\n\r\nexport default {\r\n    // components:{\r\n    //     editor\r\n    // },\r\n    props:{\r\n        value:{\r\n            type: String,\r\n           \r\n            default: ''\r\n        },\r\n\r\n        // 接收传过来的地址\r\n        uploadUrl: {\r\n            type: String,\r\n            required: true\r\n        }\r\n    },\r\n    mounted(){\r\n        // eslint-disable-next-line no-undef\r\n        tinymce.init({\r\n            selector:'#tinymce-editor',\r\n            language: 'zh_CN',\r\n\r\n            //菜单栏\r\n\r\n            //工具栏\r\n            toolbar: 'undo redo |  formatselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | lists image media table | removeformat',\r\n  \r\n            //插件  \r\n            plugins: 'lists image media table textcolor wordcount contextmenu',\r\n\r\n            height: 500,\r\n\r\n            //监听 tinymce初始化完成事件\r\n            setup: (editor) => {\r\n                // eslint-disable-next-line no-unused-vars\r\n                editor.on('init',(e) => {\r\n                    editor.setContent(this.value);\r\n                } );\r\n            },      \r\n            \r\n            //监听 input 和 change 事件 实时更新value\r\n            init_instance_callback: (editor) => {\r\n                editor.on('input',(e) =>{\r\n                    this.$emit('input',e.target.innerHTML);\r\n                });\r\n                editor.on('change',(e) =>{\r\n                    this.$emit('input',e.level.content)\r\n                } );\r\n            }\r\n        });   \r\n\r\n    },\r\n\r\n      data() {\r\n    return {\r\n      //初始化配置\r\n      init: {\r\n        skin_url: '/static/tinymce/skins/lightgray',\r\n        plugins: this.plugins,\r\n        toolbar: this.toolbar,\r\n        branding: false,\r\n        menubar: false,\r\n        //此处为图片上传处理函数，这个直接用了base64的图片形式上传图片，\r\n        //如需ajax上传可参考https://www.tiny.cloud/docs/configure/file-image-upload/#images_upload_handler\r\n        // eslint-disable-next-line no-unused-vars\r\n        images_upload_handler: (blobInfo, success, failure) => {\r\n          const img = 'data:image/jpeg;base64,' + blobInfo.base64()\r\n          success(img)\r\n        }\r\n      },\r\n      myValue: this.value\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import url('./skins/ui/oxide/skin.min.css');\r\n</style>"]}]}
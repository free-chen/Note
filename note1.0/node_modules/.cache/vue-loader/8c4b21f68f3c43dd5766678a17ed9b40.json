{"remainingRequest":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\src\\pages\\write\\tinymce-editor\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\src\\pages\\write\\tinymce-editor\\index.vue","mtime":1637643975478},{"path":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646840428356},{"path":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\node_modules\\babel-loader\\lib\\index.js","mtime":1646840429222},{"path":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646840428356},{"path":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\node_modules\\vue-loader\\lib\\index.js","mtime":1646840430419}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KDQppbXBvcnQgJy4vdGlueW1jZS5taW4uanMnOw0KaW1wb3J0ICcuL3RoZW1lcy9zaWx2ZXIvdGhlbWUubWluLmpzJzsNCmltcG9ydCAndGlueW1jZS9pY29ucy9kZWZhdWx0JzsNCmltcG9ydCAnLi9sYW5ncy96aF9DTic7DQppbXBvcnQgJy4vcGx1Z2lucy9wcmV2aWV3L3BsdWdpbi5taW4uanMnOw0KDQppbXBvcnQgInRpbnltY2UvdGhlbWVzL3NpbHZlci90aGVtZSI7DQppbXBvcnQgInRpbnltY2UvcGx1Z2lucy9pbWFnZSI7DQppbXBvcnQgInRpbnltY2UvcGx1Z2lucy9saW5rIjsNCmltcG9ydCAidGlueW1jZS9wbHVnaW5zL2NvZGUiOw0KaW1wb3J0ICJ0aW55bWNlL3BsdWdpbnMvdGFibGUiOw0KaW1wb3J0ICJ0aW55bWNlL3BsdWdpbnMvbGlzdHMiOw0KaW1wb3J0ICJ0aW55bWNlL3BsdWdpbnMvY29udGV4dG1lbnUiOw0KaW1wb3J0ICJ0aW55bWNlL3BsdWdpbnMvd29yZGNvdW50IjsNCmltcG9ydCAidGlueW1jZS9wbHVnaW5zL2NvbG9ycGlja2VyIjsNCmltcG9ydCAidGlueW1jZS9wbHVnaW5zL3RleHRjb2xvciI7DQoNCi8vIGltcG9ydCBlIGZyb20gJy4vdGlueW1jZS5taW4uanMnOw0KDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICAvLyBjb21wb25lbnRzOnsNCiAgICAvLyAgICAgZWRpdG9yDQogICAgLy8gfSwNCiAgICBwcm9wczp7DQogICAgICAgIHZhbHVlOnsNCiAgICAgICAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgICAgICAgDQogICAgICAgICAgICBkZWZhdWx0OiAnJw0KICAgICAgICB9LA0KDQogICAgICAgIC8vIOaOpeaUtuS8oOi/h+adpeeahOWcsOWdgA0KICAgICAgICB1cGxvYWRVcmw6IHsNCiAgICAgICAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlDQogICAgICAgIH0NCiAgICB9LA0KICAgIG1vdW50ZWQoKXsNCiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmDQogICAgICAgIHRpbnltY2UuaW5pdCh7DQogICAgICAgICAgICBzZWxlY3RvcjonI3RpbnltY2UtZWRpdG9yJywNCiAgICAgICAgICAgIGxhbmd1YWdlOiAnemhfQ04nLA0KDQogICAgICAgICAgICAvL+iPnOWNleagjw0KDQogICAgICAgICAgICAvL+W3peWFt+agjw0KICAgICAgICAgICAgdG9vbGJhcjogJ3VuZG8gcmVkbyB8ICBmb3JtYXRzZWxlY3QgfCBib2xkIGl0YWxpYyB8IGFsaWdubGVmdCBhbGlnbmNlbnRlciBhbGlnbnJpZ2h0IGFsaWduanVzdGlmeSB8IGJ1bGxpc3QgbnVtbGlzdCBvdXRkZW50IGluZGVudCB8IGxpc3RzIGltYWdlIG1lZGlhIHRhYmxlIHwgcmVtb3ZlZm9ybWF0JywNCiAgDQogICAgICAgICAgICAvL+aPkuS7tiAgDQogICAgICAgICAgICBwbHVnaW5zOiAnbGlzdHMgaW1hZ2UgbWVkaWEgdGFibGUgdGV4dGNvbG9yIHdvcmRjb3VudCBjb250ZXh0bWVudScsDQoNCiAgICAgICAgICAgIGhlaWdodDogNTAwLA0KDQogICAgICAgICAgICAvL+ebkeWQrCB0aW55bWNl5Yid5aeL5YyW5a6M5oiQ5LqL5Lu2DQogICAgICAgICAgICBzZXR1cDogKGVkaXRvcikgPT4gew0KICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFycw0KICAgICAgICAgICAgICAgIGVkaXRvci5vbignaW5pdCcsKGUpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnNldENvbnRlbnQodGhpcy52YWx1ZSk7DQogICAgICAgICAgICAgICAgfSApOw0KICAgICAgICAgICAgfSwgICAgICANCiAgICAgICAgICAgIA0KICAgICAgICAgICAgLy/nm5HlkKwgaW5wdXQg5ZKMIGNoYW5nZSDkuovku7Yg5a6e5pe25pu05pawdmFsdWUNCiAgICAgICAgICAgIGluaXRfaW5zdGFuY2VfY2FsbGJhY2s6IChlZGl0b3IpID0+IHsNCiAgICAgICAgICAgICAgICBlZGl0b3Iub24oJ2lucHV0JywoZSkgPT57DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JyxlLnRhcmdldC5pbm5lckhUTUwpOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIGVkaXRvci5vbignY2hhbmdlJywoZSkgPT57DQogICAgICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JyxlLmxldmVsLmNvbnRlbnQpDQogICAgICAgICAgICAgICAgfSApOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsgICANCg0KICAgIH0sDQoNCiAgICAgIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIC8v5Yid5aeL5YyW6YWN572uDQogICAgICBpbml0OiB7DQogICAgICAgIHNraW5fdXJsOiAnL3N0YXRpYy90aW55bWNlL3NraW5zL2xpZ2h0Z3JheScsDQogICAgICAgIHBsdWdpbnM6IHRoaXMucGx1Z2lucywNCiAgICAgICAgdG9vbGJhcjogdGhpcy50b29sYmFyLA0KICAgICAgICBicmFuZGluZzogZmFsc2UsDQogICAgICAgIG1lbnViYXI6IGZhbHNlLA0KICAgICAgICAvL+atpOWkhOS4uuWbvueJh+S4iuS8oOWkhOeQhuWHveaVsO+8jOi/meS4quebtOaOpeeUqOS6hmJhc2U2NOeahOWbvueJh+W9ouW8j+S4iuS8oOWbvueJh++8jA0KICAgICAgICAvL+WmgumcgGFqYXjkuIrkvKDlj6/lj4LogINodHRwczovL3d3dy50aW55LmNsb3VkL2RvY3MvY29uZmlndXJlL2ZpbGUtaW1hZ2UtdXBsb2FkLyNpbWFnZXNfdXBsb2FkX2hhbmRsZXINCiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzDQogICAgICAgIGltYWdlc191cGxvYWRfaGFuZGxlcjogKGJsb2JJbmZvLCBzdWNjZXNzLCBmYWlsdXJlKSA9PiB7DQogICAgICAgICAgY29uc3QgaW1nID0gJ2RhdGE6aW1hZ2UvanBlZztiYXNlNjQsJyArIGJsb2JJbmZvLmJhc2U2NCgpDQogICAgICAgICAgc3VjY2VzcyhpbWcpDQogICAgICAgIH0NCiAgICAgIH0sDQogICAgICBteVZhbHVlOiB0aGlzLnZhbHVlDQogICAgfQ0KICB9LA0KfQ0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/write/tinymce-editor","sourcesContent":["<template>\r\n  <section id=\"tinymce-editor\"></section>\r\n</template>\r\n\r\n<script>\r\nimport './tinymce.min.js';\r\nimport './themes/silver/theme.min.js';\r\nimport 'tinymce/icons/default';\r\nimport './langs/zh_CN';\r\nimport './plugins/preview/plugin.min.js';\r\n\r\nimport \"tinymce/themes/silver/theme\";\r\nimport \"tinymce/plugins/image\";\r\nimport \"tinymce/plugins/link\";\r\nimport \"tinymce/plugins/code\";\r\nimport \"tinymce/plugins/table\";\r\nimport \"tinymce/plugins/lists\";\r\nimport \"tinymce/plugins/contextmenu\";\r\nimport \"tinymce/plugins/wordcount\";\r\nimport \"tinymce/plugins/colorpicker\";\r\nimport \"tinymce/plugins/textcolor\";\r\n\r\n// import e from './tinymce.min.js';\r\n\r\n\r\nexport default {\r\n    // components:{\r\n    //     editor\r\n    // },\r\n    props:{\r\n        value:{\r\n            type: String,\r\n           \r\n            default: ''\r\n        },\r\n\r\n        // 接收传过来的地址\r\n        uploadUrl: {\r\n            type: String,\r\n            required: true\r\n        }\r\n    },\r\n    mounted(){\r\n        // eslint-disable-next-line no-undef\r\n        tinymce.init({\r\n            selector:'#tinymce-editor',\r\n            language: 'zh_CN',\r\n\r\n            //菜单栏\r\n\r\n            //工具栏\r\n            toolbar: 'undo redo |  formatselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | lists image media table | removeformat',\r\n  \r\n            //插件  \r\n            plugins: 'lists image media table textcolor wordcount contextmenu',\r\n\r\n            height: 500,\r\n\r\n            //监听 tinymce初始化完成事件\r\n            setup: (editor) => {\r\n                // eslint-disable-next-line no-unused-vars\r\n                editor.on('init',(e) => {\r\n                    editor.setContent(this.value);\r\n                } );\r\n            },      \r\n            \r\n            //监听 input 和 change 事件 实时更新value\r\n            init_instance_callback: (editor) => {\r\n                editor.on('input',(e) =>{\r\n                    this.$emit('input',e.target.innerHTML);\r\n                });\r\n                editor.on('change',(e) =>{\r\n                    this.$emit('input',e.level.content)\r\n                } );\r\n            }\r\n        });   \r\n\r\n    },\r\n\r\n      data() {\r\n    return {\r\n      //初始化配置\r\n      init: {\r\n        skin_url: '/static/tinymce/skins/lightgray',\r\n        plugins: this.plugins,\r\n        toolbar: this.toolbar,\r\n        branding: false,\r\n        menubar: false,\r\n        //此处为图片上传处理函数，这个直接用了base64的图片形式上传图片，\r\n        //如需ajax上传可参考https://www.tiny.cloud/docs/configure/file-image-upload/#images_upload_handler\r\n        // eslint-disable-next-line no-unused-vars\r\n        images_upload_handler: (blobInfo, success, failure) => {\r\n          const img = 'data:image/jpeg;base64,' + blobInfo.base64()\r\n          success(img)\r\n        }\r\n      },\r\n      myValue: this.value\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import url('./skins/ui/oxide/skin.min.css');\r\n</style>"]}]}
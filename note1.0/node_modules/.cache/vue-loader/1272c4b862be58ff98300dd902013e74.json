{"remainingRequest":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\src\\pages\\aliRegister\\aliRegister.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\src\\pages\\aliRegister\\aliRegister.vue","mtime":1630571418950},{"path":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\node_modules\\css-loader\\dist\\cjs.js","mtime":1646840428982},{"path":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1646840431770},{"path":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\node_modules\\postcss-loader\\src\\index.js","mtime":1646840430064},{"path":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646840428356},{"path":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\node_modules\\vue-loader\\lib\\index.js","mtime":1646840430419}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLnNlcGFyYXRvciB7DQogIGRpc3BsYXk6IC13ZWJraXQtYm94Ow0KICBkaXNwbGF5OiAtbXMtZmxleGJveDsNCiAgZGlzcGxheTogZmxleDsNCiAgLXdlYmtpdC1ib3gtcGFjazogY2VudGVyOw0KICAtbXMtZmxleC1wYWNrOiBjZW50ZXI7DQogIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICAtd2Via2l0LWJveC1hbGlnbjogY2VudGVyOw0KICAtbXMtZmxleC1hbGlnbjogY2VudGVyOw0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogIHdpZHRoOiAxMDAlOw0KICB0ZXh0LWFsaWduOiBjZW50ZXI7DQp9DQoNCi5zZXBhcmF0b3IgLmxpbmUgew0KICAtd2Via2l0LWJveC1mbGV4OiAxOw0KICAtbXMtZmxleDogYXV0bzsNCiAgZmxleDogYXV0bzsNCiAgaGVpZ2h0OiAxcHg7DQogIGJhY2tncm91bmQ6ICNlZWU7DQp9DQo="},{"version":3,"sources":["aliRegister.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"aliRegister.vue","sourceRoot":"src/pages/aliRegister","sourcesContent":["<template>\r\n  <div>\r\n    <div\r\n      style=\"width: 100px;height: 100px;position: absolute;left: 50%;top: 10%;margin: -50px 0 0 -50px;\"\r\n    >\r\n      <img src=\"../../../public/NewNoteLogo.jpg\" width=\"100px\" height=\"100px\" />\r\n    </div>\r\n    <div\r\n      style=\"height: 500px;width: 500px; position: absolute;left: 50%;top: 50%;margin: -250px 0 0 -250px;\"\r\n    >\r\n      <el-tabs\r\n        v-model=\"activeName\"\r\n        type=\"border-card\"\r\n        @tab-click=\"handleClick\"\r\n        stretch=\"false\"\r\n      >\r\n        <el-form :inline=\"true\" :model=\"formInline\">\r\n          <el-form-item>\r\n            <el-input\r\n              v-model=\"inputusername\"\r\n              placeholder=\"请输入用户名\"\r\n              style=\"display:inline;\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button\r\n              @click=\"checkeusername\"\r\n              style=\"height: 40px;\r\n    width: 100%;\"\r\n              >是否能注册该用户名</el-button\r\n            >\r\n          </el-form-item>\r\n        </el-form>\r\n        <br />\r\n        <el-input\r\n          show-password\r\n          v-model=\"inputpassword\"\r\n          placeholder=\"请输入密码\"\r\n        ></el-input>\r\n        <br />\r\n        <br />\r\n        <el-button\r\n          type=\"primary\"\r\n          @click=\"subregister\"\r\n          style=\"height: 50px;\r\n    width: 100%;\r\n    background-color: #deb887;\r\n    margin-top: 17px;\r\n    background: #2dbe61;\r\n    border: 1px solid #1fae52;\r\n    border-radius: 6px;\r\n    font-size: 14px;\r\n    color: #fff;\r\n    margin-bottom: 10px;\r\n    cursor: pointer;\"\r\n          >注 册</el-button\r\n        >\r\n      </el-tabs>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport request from \"@/network/request\";\r\nimport axios from \"axios\";\r\n\r\nexport default {\r\n  component: {},\r\n  data() {\r\n    return {\r\n      client_id: \"web\",\r\n      client_secret: \"web\",\r\n      grant_type: \"password\",\r\n      inputemail: \"\",\r\n      inputcheckcode: \"\",\r\n      inputusername: \"\",\r\n      inputpassword: \"\",\r\n      dialogVisible: false,\r\n      json: {\r\n        checkCode: this.inputcheckcode,\r\n        email: this.inputemail,\r\n        password: this.inputpassword,\r\n        username: this.inputusername,\r\n      },\r\n      loginUsername: \"\",\r\n      loginPassword: \"\",\r\n      radio: \"1\",\r\n      activeName: \"first\",\r\n      showRentPrise: false,\r\n      rememberpassword: false,\r\n      accountInfo: \"\",\r\n      aliId: \"\",\r\n\r\n      // client_id: 'web',\r\n      // client_secret: 'web',\r\n      // grant_type: 'password'\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getaliid();\r\n  },\r\n  methods: {\r\n    getaliid() {\r\n      var query = window.location.search.substring(1);\r\n      var vars = query.split(\"&\");\r\n      for (var i = 0; i < vars.length; i++) {\r\n        var pair = vars[i].split(\"=\");\r\n        if (pair[0] == \"id\") {\r\n          this.aliId = pair[1];\r\n        }\r\n      }\r\n    },\r\n    loginbutton() {\r\n      request({\r\n        url:\r\n          \"/auth/oauth/token?client_id=web&client_secret=web&grant_type=password&username=\" +\r\n          this.inputusername +\r\n          \"&password=\" +\r\n          this.inputpassword,\r\n        method: \"post\",\r\n      })\r\n        .then((res) => {\r\n          console.log(res);\r\n          window.sessionStorage.setItem(\"Token\", res.data.access_token);\r\n          // $window.seesionStorage.accessToken = this.user_token\r\n          setTimeout(() => {\r\n            if (sessionStorage.getItem(\"Token\")) {\r\n              this.$router.push(\"/userindex\");\r\n            }\r\n          }, 500);\r\n          this.$router.go(0);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    checkeusername() {\r\n      var that = this;\r\n      axios\r\n        .get(\r\n          \"http://120.76.128.222:8004/auth/user/username/\" + this.inputusername\r\n        )\r\n        .then(function(response) {\r\n          console.log(response.data.data);\r\n          if (response.data.data == true) {\r\n            that.$message({\r\n              message: \"该用户名可注册\",\r\n              type: \"success\",\r\n            });\r\n          } else {\r\n            that.$message.error(\"该用户名不可注册\");\r\n          }\r\n        })\r\n        .catch(function(error) {\r\n          console.log(error);\r\n        });\r\n    },\r\n    subregister() {\r\n      console.log(this.aliId);\r\n      var that = this;\r\n      axios\r\n        .post(\"http://120.76.128.222:8004/auth/user/alipay\", {\r\n          password: this.inputpassword,\r\n          username: this.inputusername,\r\n          aliUserId: this.aliId,\r\n        })\r\n        .then((response) => {\r\n          console.log(response);\r\n          console.log(response.data.data);\r\n          if (response.data.code == 10086) {\r\n            that.$message.error(\"支付宝ID为空\");\r\n          } else {\r\n            that.$message({\r\n              message: \"注册成功\",\r\n              type: \"success\",\r\n            });\r\n            this.router.go(0);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n      setTimeout(() => {\r\n        this.loginbutton();\r\n      }, 500);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n.separator {\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  -webkit-box-pack: center;\r\n  -ms-flex-pack: center;\r\n  justify-content: center;\r\n  -webkit-box-align: center;\r\n  -ms-flex-align: center;\r\n  align-items: center;\r\n  -webkit-box-sizing: border-box;\r\n  box-sizing: border-box;\r\n  width: 100%;\r\n  text-align: center;\r\n}\r\n\r\n.separator .line {\r\n  -webkit-box-flex: 1;\r\n  -ms-flex: auto;\r\n  flex: auto;\r\n  height: 1px;\r\n  background: #eee;\r\n}\r\n</style>\r\n"]}]}
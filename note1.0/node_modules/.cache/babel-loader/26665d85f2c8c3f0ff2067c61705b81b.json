{"remainingRequest":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\src\\pages\\write\\tinymce-editor\\tinymce.min.js","dependencies":[{"path":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\src\\pages\\write\\tinymce-editor\\tinymce.min.js","mtime":1635882030000},{"path":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1646840428356},{"path":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\node_modules\\babel-loader\\lib\\index.js","mtime":1646840429222},{"path":"C:\\Users\\Free Chen\\Desktop\\GP\\note1.0\\node_modules\\eslint-loader\\index.js","mtime":1646840428756}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:cmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN5bWJvbCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlciIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5qb2luIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubGFzdC1pbmRleC1vZiIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29tZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LWJ1ZmZlci5zbGljZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QuZnJlZXplIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LmdldC1wcm90b3R5cGUtb2YiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuY29uc3RydWN0b3IiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zZXQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2giKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucmVwbGFjZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2giKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcudHJpbSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5hbmNob3IiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuZml4ZWQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS51aW50OC1hcnJheSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmNvcHktd2l0aGluIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZXZlcnkiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maWxsIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmlsdGVyIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmluZCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQtaW5kZXgiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5mb3ItZWFjaCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmluY2x1ZGVzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaW5kZXgtb2YiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pdGVyYXRvciIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmpvaW4iKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5sYXN0LWluZGV4LW9mIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkubWFwIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmVkdWNlIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmVkdWNlLXJpZ2h0Iik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkucmV2ZXJzZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNldCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNsaWNlIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc29tZSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnNvcnQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zdWJhcnJheSIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnRvLWxvY2FsZS1zdHJpbmciKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS50by1zdHJpbmciKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy53ZWFrLW1hcCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIuaW1tZWRpYXRlIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLnVybCIpOwoKdmFyIF90eXBlb2YgPSByZXF1aXJlKCJDOlxcVXNlcnNcXEZyZWUgQ2hlblxcRGVza3RvcFxcR1BcXG5vdGUxLjBcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvdHlwZW9mIik7CgovKioKICogQ29weXJpZ2h0IChjKSBUaW55IFRlY2hub2xvZ2llcywgSW5jLiBBbGwgcmlnaHRzIHJlc2VydmVkLgogKiBMaWNlbnNlZCB1bmRlciB0aGUgTEdQTCBvciBhIGNvbW1lcmNpYWwgbGljZW5zZS4KICogRm9yIExHUEwgc2VlIExpY2Vuc2UudHh0IGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uCiAqIEZvciBjb21tZXJjaWFsIGxpY2Vuc2VzIHNlZSBodHRwczovL3d3dy50aW55LmNsb3VkLwogKgogKiBWZXJzaW9uOiA1LjEwLjEgKDIwMjEtMTEtMDMpCiAqLwohZnVuY3Rpb24gKCkgewogICJ1c2Ugc3RyaWN0IjsKCiAgZnVuY3Rpb24gcihlKSB7CiAgICBpZiAobnVsbCA9PT0gZSkgcmV0dXJuICJudWxsIjsKICAgIGlmICh2b2lkIDAgPT09IGUpIHJldHVybiAidW5kZWZpbmVkIjsKCiAgICB2YXIgdCA9IF90eXBlb2YoZSk7CgogICAgcmV0dXJuICJvYmplY3QiID09IHQgJiYgKEFycmF5LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGUpIHx8IGUuY29uc3RydWN0b3IgJiYgIkFycmF5IiA9PT0gZS5jb25zdHJ1Y3Rvci5uYW1lKSA/ICJhcnJheSIgOiAib2JqZWN0IiA9PSB0ICYmIChTdHJpbmcucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoZSkgfHwgZS5jb25zdHJ1Y3RvciAmJiAiU3RyaW5nIiA9PT0gZS5jb25zdHJ1Y3Rvci5uYW1lKSA/ICJzdHJpbmciIDogdDsKICB9CgogIGZ1bmN0aW9uIGYobykgewogICAgcmV0dXJuIG0oZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgaWYgKGUubGVuZ3RoICE9PSB0Lmxlbmd0aCkgcmV0dXJuICExOwoKICAgICAgZm9yICh2YXIgbiA9IGUubGVuZ3RoLCByID0gMDsgciA8IG47IHIrKykgewogICAgICAgIGlmICghby5lcShlW3JdLCB0W3JdKSkgcmV0dXJuICExOwogICAgICB9CgogICAgICByZXR1cm4gITA7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIGQobCkgewogICAgcmV0dXJuIG0oZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgdmFyIG4sCiAgICAgICAgICByLAogICAgICAgICAgbywKICAgICAgICAgIGkgPSBPYmplY3Qua2V5cyhlKSwKICAgICAgICAgIGEgPSBPYmplY3Qua2V5cyh0KTsKICAgICAgaWYgKHIgPSBmKGcpLCBvID0gZnVuY3Rpb24gbyhlKSB7CiAgICAgICAgcmV0dXJuIHQgPSBuLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlKS5zb3J0KHQpOwogICAgICAgIHZhciB0OwogICAgICB9LCAhbShmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIHJldHVybiByLmVxKG8oZSksIG8odCkpOwogICAgICB9KS5lcShpLCBhKSkgcmV0dXJuICExOwoKICAgICAgZm9yICh2YXIgdSA9IGkubGVuZ3RoLCBzID0gMDsgcyA8IHU7IHMrKykgewogICAgICAgIHZhciBjID0gaVtzXTsKICAgICAgICBpZiAoIWwuZXEoZVtjXSwgdFtjXSkpIHJldHVybiAhMTsKICAgICAgfQoKICAgICAgcmV0dXJuICEwOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBlKHIpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gbiA9IF90eXBlb2YodCA9IGUpLCAobnVsbCA9PT0gdCA/ICJudWxsIiA6ICJvYmplY3QiID09IG4gJiYgKEFycmF5LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKHQpIHx8IHQuY29uc3RydWN0b3IgJiYgIkFycmF5IiA9PT0gdC5jb25zdHJ1Y3Rvci5uYW1lKSA/ICJhcnJheSIgOiAib2JqZWN0IiA9PSBuICYmIChTdHJpbmcucHJvdG90eXBlLmlzUHJvdG90eXBlT2YodCkgfHwgdC5jb25zdHJ1Y3RvciAmJiAiU3RyaW5nIiA9PT0gdC5jb25zdHJ1Y3Rvci5uYW1lKSA/ICJzdHJpbmciIDogbikgPT09IHI7CiAgICAgIHZhciB0LCBuOwogICAgfTsKICB9CgogIGZ1bmN0aW9uIHQodCkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBfdHlwZW9mKGUpID09PSB0OwogICAgfTsKICB9CgogIGZ1bmN0aW9uIG4odCkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiB0ID09PSBlOwogICAgfTsKICB9CgogIGZ1bmN0aW9uIEsoZSkgewogICAgcmV0dXJuIG51bGwgPT0gZTsKICB9CgogIGZ1bmN0aW9uIFYoZSkgewogICAgcmV0dXJuICFLKGUpOwogIH0KCiAgZnVuY3Rpb24gdGUoKSB7fQoKICBmdW5jdGlvbiBpKG4sIHIpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIGZvciAodmFyIGUgPSBbXSwgdCA9IDA7IHQgPCBhcmd1bWVudHMubGVuZ3RoOyB0KyspIHsKICAgICAgICBlW3RdID0gYXJndW1lbnRzW3RdOwogICAgICB9CgogICAgICByZXR1cm4gbihyLmFwcGx5KG51bGwsIGUpKTsKICAgIH07CiAgfQoKICBmdW5jdGlvbiBhKHQsIG4pIHsKICAgIHJldHVybiBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gdChuKGUpKTsKICAgIH07CiAgfQoKICBmdW5jdGlvbiBKKGUpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBlOwogICAgfTsKICB9CgogIGZ1bmN0aW9uIHUoZSkgewogICAgcmV0dXJuIGU7CiAgfQoKICBmdW5jdGlvbiBvKGUsIHQpIHsKICAgIHJldHVybiBlID09PSB0OwogIH0KCiAgdmFyIG0gPSBmdW5jdGlvbiBtKGUpIHsKICAgIHJldHVybiB7CiAgICAgIGVxOiBlCiAgICB9OwogIH0sCiAgICAgIGcgPSBtKGZ1bmN0aW9uIChlLCB0KSB7CiAgICByZXR1cm4gZSA9PT0gdDsKICB9KSwKICAgICAgcCA9IG0oZnVuY3Rpb24gKGUsIHQpIHsKICAgIGlmIChlID09PSB0KSByZXR1cm4gITA7CiAgICB2YXIgbiA9IHIoZSk7CiAgICByZXR1cm4gbiA9PT0gcih0KSAmJiAoLTEgIT09IFsidW5kZWZpbmVkIiwgImJvb2xlYW4iLCAibnVtYmVyIiwgInN0cmluZyIsICJmdW5jdGlvbiIsICJ4bWwiLCAibnVsbCJdLmluZGV4T2YobikgPyBlID09PSB0IDogImFycmF5IiA9PT0gbiA/IGYocCkuZXEoZSwgdCkgOiAib2JqZWN0IiA9PT0gbiAmJiBkKHApLmVxKGUsIHQpKTsKICB9KSwKICAgICAgWCA9IGUoInN0cmluZyIpLAogICAgICBoID0gZSgib2JqZWN0IiksCiAgICAgIFMgPSBlKCJhcnJheSIpLAogICAgICBsID0gbihudWxsKSwKICAgICAgdiA9IHQoImJvb2xlYW4iKSwKICAgICAgYiA9IG4odm9pZCAwKSwKICAgICAgeSA9IHQoImZ1bmN0aW9uIiksCiAgICAgIEUgPSB0KCJudW1iZXIiKTsKCiAgZnVuY3Rpb24gQShyKSB7CiAgICBmb3IgKHZhciBvID0gW10sIGUgPSAxOyBlIDwgYXJndW1lbnRzLmxlbmd0aDsgZSsrKSB7CiAgICAgIG9bZSAtIDFdID0gYXJndW1lbnRzW2VdOwogICAgfQoKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIGZvciAodmFyIGUgPSBbXSwgdCA9IDA7IHQgPCBhcmd1bWVudHMubGVuZ3RoOyB0KyspIHsKICAgICAgICBlW3RdID0gYXJndW1lbnRzW3RdOwogICAgICB9CgogICAgICB2YXIgbiA9IG8uY29uY2F0KGUpOwogICAgICByZXR1cm4gci5hcHBseShudWxsLCBuKTsKICAgIH07CiAgfQoKICBmdW5jdGlvbiBzKHQpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gIXQoZSk7CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gQyhlKSB7CiAgICByZXR1cm4gZSgpOwogIH0KCiAgZnVuY3Rpb24geChlKSB7CiAgICBlKCk7CiAgfQoKICBmdW5jdGlvbiBjKCkgewogICAgcmV0dXJuIE47CiAgfQoKICB2YXIgUiA9IEooITEpLAogICAgICB3ID0gSighMCksCiAgICAgIE4gPSB7CiAgICBmb2xkOiBmdW5jdGlvbiBmb2xkKGUsIHQpIHsKICAgICAgcmV0dXJuIGUoKTsKICAgIH0sCiAgICBpc1NvbWU6IFIsCiAgICBpc05vbmU6IHcsCiAgICBnZXRPcjogdSwKICAgIGdldE9yVGh1bms6IGssCiAgICBnZXRPckRpZTogZnVuY3Rpb24gZ2V0T3JEaWUoZSkgewogICAgICB0aHJvdyBuZXcgRXJyb3IoZSB8fCAiZXJyb3I6IGdldE9yRGllIGNhbGxlZCBvbiBub25lLiIpOwogICAgfSwKICAgIGdldE9yTnVsbDogSihudWxsKSwKICAgIGdldE9yVW5kZWZpbmVkOiBKKHZvaWQgMCksCiAgICBvcjogdSwKICAgIG9yVGh1bms6IGssCiAgICBtYXA6IGMsCiAgICBlYWNoOiB0ZSwKICAgIGJpbmQ6IGMsCiAgICBleGlzdHM6IFIsCiAgICBmb3JhbGw6IHcsCiAgICBmaWx0ZXI6IGZ1bmN0aW9uIGZpbHRlcigpIHsKICAgICAgcmV0dXJuIE47CiAgICB9LAogICAgdG9BcnJheTogZnVuY3Rpb24gdG9BcnJheSgpIHsKICAgICAgcmV0dXJuIFtdOwogICAgfSwKICAgIHRvU3RyaW5nOiBKKCJub25lKCkiKQogIH07CgogIGZ1bmN0aW9uIGsoZSkgewogICAgcmV0dXJuIGUoKTsKICB9CgogIGZ1bmN0aW9uIF8oZSwgdCkgewogICAgcmV0dXJuIHllLmNhbGwoZSwgdCk7CiAgfQoKICBmdW5jdGlvbiBEKGUsIHQpIHsKICAgIHJldHVybiAtMSA8IF8oZSwgdCk7CiAgfQoKICBmdW5jdGlvbiBGKGUsIHQpIHsKICAgIGZvciAodmFyIG4gPSAwLCByID0gZS5sZW5ndGg7IG4gPCByOyBuKyspIHsKICAgICAgaWYgKHQoZVtuXSwgbikpIHJldHVybiAhMDsKICAgIH0KCiAgICByZXR1cm4gITE7CiAgfQoKICBmdW5jdGlvbiBUKGUsIHQpIHsKICAgIGZvciAodmFyIG4gPSBlLmxlbmd0aCwgciA9IG5ldyBBcnJheShuKSwgbyA9IDA7IG8gPCBuOyBvKyspIHsKICAgICAgdmFyIGkgPSBlW29dOwogICAgICByW29dID0gdChpLCBvKTsKICAgIH0KCiAgICByZXR1cm4gcjsKICB9CgogIGZ1bmN0aW9uIFkoZSwgdCkgewogICAgZm9yICh2YXIgbiA9IDAsIHIgPSBlLmxlbmd0aDsgbiA8IHI7IG4rKykgewogICAgICB0KGVbbl0sIG4pOwogICAgfQogIH0KCiAgZnVuY3Rpb24gTyhlLCB0KSB7CiAgICBmb3IgKHZhciBuID0gZS5sZW5ndGggLSAxOyAwIDw9IG47IG4tLSkgewogICAgICB0KGVbbl0sIG4pOwogICAgfQogIH0KCiAgZnVuY3Rpb24gQihlLCB0KSB7CiAgICBmb3IgKHZhciBuID0gW10sIHIgPSBbXSwgbyA9IDAsIGkgPSBlLmxlbmd0aDsgbyA8IGk7IG8rKykgewogICAgICB2YXIgYSA9IGVbb107CiAgICAgICh0KGEsIG8pID8gbiA6IHIpLnB1c2goYSk7CiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgcGFzczogbiwKICAgICAgZmFpbDogcgogICAgfTsKICB9CgogIGZ1bmN0aW9uIFUoZSwgdCkgewogICAgZm9yICh2YXIgbiA9IFtdLCByID0gMCwgbyA9IGUubGVuZ3RoOyByIDwgbzsgcisrKSB7CiAgICAgIHZhciBpID0gZVtyXTsKICAgICAgdChpLCByKSAmJiBuLnB1c2goaSk7CiAgICB9CgogICAgcmV0dXJuIG47CiAgfQoKICBmdW5jdGlvbiBQKGUsIG4sIHIpIHsKICAgIHJldHVybiBPKGUsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHIgPSBuKHIsIGUsIHQpOwogICAgfSksIHI7CiAgfQoKICBmdW5jdGlvbiBMKGUsIG4sIHIpIHsKICAgIHJldHVybiBZKGUsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHIgPSBuKHIsIGUsIHQpOwogICAgfSksIHI7CiAgfQoKICBmdW5jdGlvbiBJKGUsIHQsIG4pIHsKICAgIGZvciAodmFyIHIgPSAwLCBvID0gZS5sZW5ndGg7IHIgPCBvOyByKyspIHsKICAgICAgdmFyIGkgPSBlW3JdOwogICAgICBpZiAodChpLCByKSkgcmV0dXJuIHZlLnNvbWUoaSk7CiAgICAgIGlmIChuKGksIHIpKSBicmVhazsKICAgIH0KCiAgICByZXR1cm4gdmUubm9uZSgpOwogIH0KCiAgZnVuY3Rpb24gTShlLCB0KSB7CiAgICByZXR1cm4gSShlLCB0LCBSKTsKICB9CgogIGZ1bmN0aW9uIHooZSwgdCkgewogICAgZm9yICh2YXIgbiA9IDAsIHIgPSBlLmxlbmd0aDsgbiA8IHI7IG4rKykgewogICAgICBpZiAodChlW25dLCBuKSkgcmV0dXJuIHZlLnNvbWUobik7CiAgICB9CgogICAgcmV0dXJuIHZlLm5vbmUoKTsKICB9CgogIGZ1bmN0aW9uIEgoZSwgdCkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgIGZvciAodmFyIHQgPSBbXSwgbiA9IDAsIHIgPSBlLmxlbmd0aDsgbiA8IHI7ICsrbikgewogICAgICAgIGlmICghUyhlW25dKSkgdGhyb3cgbmV3IEVycm9yKCJBcnIuZmxhdHRlbiBpdGVtICIgKyBuICsgIiB3YXMgbm90IGFuIGFycmF5LCBpbnB1dDogIiArIGUpOwogICAgICAgIENlLmFwcGx5KHQsIGVbbl0pOwogICAgICB9CgogICAgICByZXR1cm4gdDsKICAgIH0oVChlLCB0KSk7CiAgfQoKICBmdW5jdGlvbiBqKGUsIHQpIHsKICAgIGZvciAodmFyIG4gPSAwLCByID0gZS5sZW5ndGg7IG4gPCByOyArK24pIHsKICAgICAgaWYgKCEwICE9PSB0KGVbbl0sIG4pKSByZXR1cm4gITE7CiAgICB9CgogICAgcmV0dXJuICEwOwogIH0KCiAgZnVuY3Rpb24gcShlKSB7CiAgICB2YXIgdCA9IGJlLmNhbGwoZSwgMCk7CiAgICByZXR1cm4gdC5yZXZlcnNlKCksIHQ7CiAgfQoKICBmdW5jdGlvbiAkKGUsIHQpIHsKICAgIHJldHVybiBVKGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiAhRCh0LCBlKTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gVyhlLCB0KSB7CiAgICB2YXIgbiA9IGJlLmNhbGwoZSwgMCk7CiAgICByZXR1cm4gbi5zb3J0KHQpLCBuOwogIH0KCiAgZnVuY3Rpb24gRyhlLCB0KSB7CiAgICByZXR1cm4gMCA8PSB0ICYmIHQgPCBlLmxlbmd0aCA/IHZlLnNvbWUoZVt0XSkgOiB2ZS5ub25lKCk7CiAgfQoKICBmdW5jdGlvbiBRKGUpIHsKICAgIHJldHVybiBHKGUsIDApOwogIH0KCiAgZnVuY3Rpb24gWihlKSB7CiAgICByZXR1cm4gRyhlLCBlLmxlbmd0aCAtIDEpOwogIH0KCiAgZnVuY3Rpb24gZWUoZSwgdCkgewogICAgZm9yICh2YXIgbiA9IDA7IG4gPCBlLmxlbmd0aDsgbisrKSB7CiAgICAgIHZhciByID0gdChlW25dLCBuKTsKICAgICAgaWYgKHIuaXNTb21lKCkpIHJldHVybiByOwogICAgfQoKICAgIHJldHVybiB2ZS5ub25lKCk7CiAgfQoKICBmdW5jdGlvbiBuZShlLCB0KSB7CiAgICBmb3IgKHZhciBuID0gd2UoZSksIHIgPSAwLCBvID0gbi5sZW5ndGg7IHIgPCBvOyByKyspIHsKICAgICAgdmFyIGkgPSBuW3JdOwogICAgICB0KGVbaV0sIGkpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gcmUoZSwgbikgewogICAgcmV0dXJuIEVlKGUsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgazogdCwKICAgICAgICB2OiBuKGUsIHQpCiAgICAgIH07CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIG9lKG4pIHsKICAgIHJldHVybiBmdW5jdGlvbiAoZSwgdCkgewogICAgICBuW3RdID0gZTsKICAgIH07CiAgfQoKICBmdW5jdGlvbiBpZShlLCBuLCByLCBvKSB7CiAgICByZXR1cm4gbmUoZSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgKG4oZSwgdCkgPyByIDogbykoZSwgdCk7CiAgICB9KSwgMTsKICB9CgogIGZ1bmN0aW9uIGFlKGUsIHQpIHsKICAgIHZhciBuID0ge307CiAgICByZXR1cm4gaWUoZSwgdCwgb2UobiksIHRlKSwgbjsKICB9CgogIGZ1bmN0aW9uIHVlKGUsIHQpIHsKICAgIHJldHVybiBOZShlLCB0KSA/IHZlLmZyb20oZVt0XSkgOiB2ZS5ub25lKCk7CiAgfQoKICBmdW5jdGlvbiBzZShlLCB0KSB7CiAgICByZXR1cm4gTmUoZSwgdCkgJiYgdm9pZCAwICE9PSBlW3RdICYmIG51bGwgIT09IGVbdF07CiAgfQoKICBmdW5jdGlvbiBjZShlLCB0LCBuKSB7CiAgICB2YXIgciwgbzsKICAgIGlmICghZSkgcmV0dXJuICExOwoKICAgIGlmIChuID0gbiB8fCBlLCB2b2lkIDAgIT09IGUubGVuZ3RoKSB7CiAgICAgIGZvciAociA9IDAsIG8gPSBlLmxlbmd0aDsgciA8IG87IHIrKykgewogICAgICAgIGlmICghMSA9PT0gdC5jYWxsKG4sIGVbcl0sIHIsIGUpKSByZXR1cm4gITE7CiAgICAgIH0KICAgIH0gZWxzZSBmb3IgKHIgaW4gZSkgewogICAgICBpZiAoTmUoZSwgcikgJiYgITEgPT09IHQuY2FsbChuLCBlW3JdLCByLCBlKSkgcmV0dXJuICExOwogICAgfQoKICAgIHJldHVybiAhMDsKICB9CgogIGZ1bmN0aW9uIGxlKG4sIHIpIHsKICAgIHZhciBvID0gW107CiAgICByZXR1cm4gY2UobiwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgby5wdXNoKHIoZSwgdCwgbikpOwogICAgfSksIG87CiAgfQoKICBmdW5jdGlvbiBmZShuLCByKSB7CiAgICB2YXIgbyA9IFtdOwogICAgcmV0dXJuIGNlKG4sIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHIgJiYgIXIoZSwgdCwgbikgfHwgby5wdXNoKGUpOwogICAgfSksIG87CiAgfQoKICBmdW5jdGlvbiBkZShlLCB0KSB7CiAgICBpZiAoZSkgZm9yICh2YXIgbiA9IDAsIHIgPSBlLmxlbmd0aDsgbiA8IHI7IG4rKykgewogICAgICBpZiAoZVtuXSA9PT0gdCkgcmV0dXJuIG47CiAgICB9CiAgICByZXR1cm4gLTE7CiAgfQoKICBmdW5jdGlvbiBtZShlLCB0LCBuLCByKSB7CiAgICBmb3IgKHZhciBvID0gYihuKSA/IGVbMF0gOiBuLCBpID0gMDsgaSA8IGUubGVuZ3RoOyBpKyspIHsKICAgICAgbyA9IHQuY2FsbChyLCBvLCBlW2ldLCBpKTsKICAgIH0KCiAgICByZXR1cm4gbzsKICB9CgogIGZ1bmN0aW9uIGdlKGUsIHQsIG4pIHsKICAgIGZvciAodmFyIHIgPSAwLCBvID0gZS5sZW5ndGg7IHIgPCBvOyByKyspIHsKICAgICAgaWYgKHQuY2FsbChuLCBlW3JdLCByLCBlKSkgcmV0dXJuIHI7CiAgICB9CgogICAgcmV0dXJuIC0xOwogIH0KCiAgZnVuY3Rpb24gcGUoZSkgewogICAgcmV0dXJuIGVbZS5sZW5ndGggLSAxXTsKICB9CgogIHZhciBoZSA9IGZ1bmN0aW9uIGhlKG4pIHsKICAgIGZ1bmN0aW9uIGUoKSB7CiAgICAgIHJldHVybiBvOwogICAgfQoKICAgIGZ1bmN0aW9uIHQoZSkgewogICAgICByZXR1cm4gZShuKTsKICAgIH0KCiAgICB2YXIgciA9IEoobiksCiAgICAgICAgbyA9IHsKICAgICAgZm9sZDogZnVuY3Rpb24gZm9sZChlLCB0KSB7CiAgICAgICAgcmV0dXJuIHQobik7CiAgICAgIH0sCiAgICAgIGlzU29tZTogdywKICAgICAgaXNOb25lOiBSLAogICAgICBnZXRPcjogciwKICAgICAgZ2V0T3JUaHVuazogciwKICAgICAgZ2V0T3JEaWU6IHIsCiAgICAgIGdldE9yTnVsbDogciwKICAgICAgZ2V0T3JVbmRlZmluZWQ6IHIsCiAgICAgIG9yOiBlLAogICAgICBvclRodW5rOiBlLAogICAgICBtYXA6IGZ1bmN0aW9uIG1hcChlKSB7CiAgICAgICAgcmV0dXJuIGhlKGUobikpOwogICAgICB9LAogICAgICBlYWNoOiBmdW5jdGlvbiBlYWNoKGUpIHsKICAgICAgICBlKG4pOwogICAgICB9LAogICAgICBiaW5kOiB0LAogICAgICBleGlzdHM6IHQsCiAgICAgIGZvcmFsbDogdCwKICAgICAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXIoZSkgewogICAgICAgIHJldHVybiBlKG4pID8gbyA6IE47CiAgICAgIH0sCiAgICAgIHRvQXJyYXk6IGZ1bmN0aW9uIHRvQXJyYXkoKSB7CiAgICAgICAgcmV0dXJuIFtuXTsKICAgICAgfSwKICAgICAgdG9TdHJpbmc6IGZ1bmN0aW9uIHRvU3RyaW5nKCkgewogICAgICAgIHJldHVybiAic29tZSgiICsgbiArICIpIjsKICAgICAgfQogICAgfTsKICAgIHJldHVybiBvOwogIH0sCiAgICAgIHZlID0gewogICAgc29tZTogaGUsCiAgICBub25lOiBjLAogICAgZnJvbTogZnVuY3Rpb24gZnJvbShlKSB7CiAgICAgIHJldHVybiBudWxsID09IGUgPyBOIDogaGUoZSk7CiAgICB9CiAgfSwKICAgICAgYmUgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UsCiAgICAgIHllID0gQXJyYXkucHJvdG90eXBlLmluZGV4T2YsCiAgICAgIENlID0gQXJyYXkucHJvdG90eXBlLnB1c2gsCiAgICAgIHhlID0geShBcnJheS5mcm9tKSA/IEFycmF5LmZyb20gOiBmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuIGJlLmNhbGwoZSk7CiAgfSwKICAgICAgd2UgPSBPYmplY3Qua2V5cywKICAgICAgU2UgPSBPYmplY3QuaGFzT3duUHJvcGVydHksCiAgICAgIEVlID0gZnVuY3Rpb24gRWUoZSwgcikgewogICAgdmFyIG8gPSB7fTsKICAgIHJldHVybiBuZShlLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICB2YXIgbiA9IHIoZSwgdCk7CiAgICAgIG9bbi5rXSA9IG4udjsKICAgIH0pLCBvOwogIH0sCiAgICAgIE5lID0gZnVuY3Rpb24gTmUoZSwgdCkgewogICAgcmV0dXJuIFNlLmNhbGwoZSwgdCk7CiAgfSwKICAgICAga2UgPSBBcnJheS5pc0FycmF5LAogICAgICBfZTIgPSBmdW5jdGlvbiBfZSgpIHsKICAgIHJldHVybiAoX2UyID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAoZSkgewogICAgICBmb3IgKHZhciB0LCBuID0gMSwgciA9IGFyZ3VtZW50cy5sZW5ndGg7IG4gPCByOyBuKyspIHsKICAgICAgICBmb3IgKHZhciBvIGluIHQgPSBhcmd1bWVudHNbbl0pIHsKICAgICAgICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LCBvKSAmJiAoZVtvXSA9IHRbb10pOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIGU7CiAgICB9KS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH07CgogIGZ1bmN0aW9uIEFlKGUsIHQsIG4pIHsKICAgIGlmIChuIHx8IDIgPT09IGFyZ3VtZW50cy5sZW5ndGgpIGZvciAodmFyIHIsIG8gPSAwLCBpID0gdC5sZW5ndGg7IG8gPCBpOyBvKyspIHsKICAgICAgIXIgJiYgbyBpbiB0IHx8ICgociA9IHIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCwgMCwgbykpW29dID0gdFtvXSk7CiAgICB9CiAgICByZXR1cm4gZS5jb25jYXQociB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0KSk7CiAgfQoKICBmdW5jdGlvbiBSZShuKSB7CiAgICB2YXIgciwKICAgICAgICBvID0gITE7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICBmb3IgKHZhciBlID0gW10sIHQgPSAwOyB0IDwgYXJndW1lbnRzLmxlbmd0aDsgdCsrKSB7CiAgICAgICAgZVt0XSA9IGFyZ3VtZW50c1t0XTsKICAgICAgfQoKICAgICAgcmV0dXJuIG8gfHwgKG8gPSAhMCwgciA9IG4uYXBwbHkobnVsbCwgZSkpLCByOwogICAgfTsKICB9CgogIGZ1bmN0aW9uIERlKGUsIHQpIHsKICAgIHZhciBuID0gU3RyaW5nKHQpLnRvTG93ZXJDYXNlKCk7CiAgICByZXR1cm4gTShlLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gZS5zZWFyY2gobik7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIFRlKGUsIHQpIHsKICAgIHJldHVybiAtMSAhPT0gZS5pbmRleE9mKHQpOwogIH0KCiAgZnVuY3Rpb24gT2UodCkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBlLnJlcGxhY2UodCwgIiIpOwogICAgfTsKICB9CgogIGZ1bmN0aW9uIEJlKGUpIHsKICAgIHJldHVybiAwIDwgZS5sZW5ndGg7CiAgfQoKICBmdW5jdGlvbiBQZShlKSB7CiAgICByZXR1cm4gIUJlKGUpOwogIH0KCiAgZnVuY3Rpb24gTGUodCkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBUZShlLCB0KTsKICAgIH07CiAgfQoKICBmdW5jdGlvbiBJZShlKSB7CiAgICByZXR1cm4gd2luZG93Lm1hdGNoTWVkaWEoZSkubWF0Y2hlczsKICB9CgogIGZ1bmN0aW9uIE1lKGUpIHsKICAgIHJldHVybiBudWxsID09IGUgPyAiIiA6ICgiIiArIGUpLnJlcGxhY2Uod3QsICIiKTsKICB9CgogIGZ1bmN0aW9uIEZlKGUsIHQpIHsKICAgIHJldHVybiB0ID8gISgiYXJyYXkiICE9PSB0IHx8ICFrZShlKSkgfHwgX3R5cGVvZihlKSA9PT0gdCA6IHZvaWQgMCAhPT0gZTsKICB9CgogIGZ1bmN0aW9uIFVlKGUsIHQpIHsKICAgIGZvciAodmFyIG4gPSBbXSwgciA9IGZ1bmN0aW9uIHIoZSkgewogICAgICByZXR1cm4gbi5wdXNoKGUpLCB0KGUpOwogICAgfSwgbyA9IHQoZSk7IChvID0gby5iaW5kKHIpKS5pc1NvbWUoKTspIHsKICAgICAgOwogICAgfQoKICAgIHJldHVybiBuOwogIH0KCiAgZnVuY3Rpb24gemUoZSwgdCkgewogICAgdmFyIG4gPSBlLmRvbTsKICAgIGlmICgxICE9PSBuLm5vZGVUeXBlKSByZXR1cm4gITE7CiAgICB2YXIgciA9IG47CiAgICBpZiAodm9pZCAwICE9PSByLm1hdGNoZXMpIHJldHVybiByLm1hdGNoZXModCk7CiAgICBpZiAodm9pZCAwICE9PSByLm1zTWF0Y2hlc1NlbGVjdG9yKSByZXR1cm4gci5tc01hdGNoZXNTZWxlY3Rvcih0KTsKICAgIGlmICh2b2lkIDAgIT09IHIud2Via2l0TWF0Y2hlc1NlbGVjdG9yKSByZXR1cm4gci53ZWJraXRNYXRjaGVzU2VsZWN0b3IodCk7CiAgICBpZiAodm9pZCAwICE9PSByLm1vek1hdGNoZXNTZWxlY3RvcikgcmV0dXJuIHIubW96TWF0Y2hlc1NlbGVjdG9yKHQpOwogICAgdGhyb3cgbmV3IEVycm9yKCJCcm93c2VyIGxhY2tzIG5hdGl2ZSBzZWxlY3RvcnMiKTsKICB9CgogIGZ1bmN0aW9uIEhlKGUpIHsKICAgIHJldHVybiAxICE9PSBlLm5vZGVUeXBlICYmIDkgIT09IGUubm9kZVR5cGUgJiYgMTEgIT09IGUubm9kZVR5cGUgfHwgMCA9PT0gZS5jaGlsZEVsZW1lbnRDb3VudDsKICB9CgogIGZ1bmN0aW9uIGplKGUsIHQpIHsKICAgIHJldHVybiBlLmRvbSA9PT0gdC5kb207CiAgfQoKICBmdW5jdGlvbiBWZShlLCB0KSB7CiAgICByZXR1cm4gZHQoKS5icm93c2VyLmlzSUUoKSA/IChuID0gZS5kb20sIHIgPSB0LmRvbSwgbyA9IE5vZGUuRE9DVU1FTlRfUE9TSVRJT05fQ09OVEFJTkVEX0JZLCAwICE9IChuLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHIpICYgbykpIDogKGkgPSBlLmRvbSkgIT09IChhID0gdC5kb20pICYmIGkuY29udGFpbnMoYSk7CiAgICB2YXIgbiwgciwgbywgaSwgYTsKICB9CgogIGZ1bmN0aW9uIHFlKCkgewogICAgcmV0dXJuIFhlKDAsIDApOwogIH0KCiAgZnVuY3Rpb24gJGUoZSkgewogICAgZnVuY3Rpb24gdChlKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIG4gPT09IGU7CiAgICAgIH07CiAgICB9CgogICAgdmFyIG4gPSBlLmN1cnJlbnQsCiAgICAgICAgciA9IGUudmVyc2lvbjsKICAgIHJldHVybiB7CiAgICAgIGN1cnJlbnQ6IG4sCiAgICAgIHZlcnNpb246IHIsCiAgICAgIGlzRWRnZTogdCgiRWRnZSIpLAogICAgICBpc0Nocm9tZTogdCgiQ2hyb21lIiksCiAgICAgIGlzSUU6IHQoIklFIiksCiAgICAgIGlzT3BlcmE6IHQoIk9wZXJhIiksCiAgICAgIGlzRmlyZWZveDogdChudCksCiAgICAgIGlzU2FmYXJpOiB0KCJTYWZhcmkiKQogICAgfTsKICB9CgogIGZ1bmN0aW9uIFdlKGUpIHsKICAgIGZ1bmN0aW9uIHQoZSkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBuID09PSBlOwogICAgICB9OwogICAgfQoKICAgIHZhciBuID0gZS5jdXJyZW50LAogICAgICAgIHIgPSBlLnZlcnNpb247CiAgICByZXR1cm4gewogICAgICBjdXJyZW50OiBuLAogICAgICB2ZXJzaW9uOiByLAogICAgICBpc1dpbmRvd3M6IHQoaXQpLAogICAgICBpc2lPUzogdCgiaU9TIiksCiAgICAgIGlzQW5kcm9pZDogdChhdCksCiAgICAgIGlzT1NYOiB0KCJPU1giKSwKICAgICAgaXNMaW51eDogdCgiTGludXgiKSwKICAgICAgaXNTb2xhcmlzOiB0KHV0KSwKICAgICAgaXNGcmVlQlNEOiB0KHN0KSwKICAgICAgaXNDaHJvbWVPUzogdChjdCkKICAgIH07CiAgfQoKICBmdW5jdGlvbiBLZShlKSB7CiAgICBpZiAobnVsbCA9PSBlKSB0aHJvdyBuZXcgRXJyb3IoIk5vZGUgY2Fubm90IGJlIG51bGwgb3IgdW5kZWZpbmVkIik7CiAgICByZXR1cm4gewogICAgICBkb206IGUKICAgIH07CiAgfQoKICB2YXIgWGUgPSBmdW5jdGlvbiBYZShlLCB0KSB7CiAgICByZXR1cm4gewogICAgICBtYWpvcjogZSwKICAgICAgbWlub3I6IHQKICAgIH07CiAgfSwKICAgICAgWWUgPSB7CiAgICBudTogWGUsCiAgICBkZXRlY3Q6IGZ1bmN0aW9uIGRldGVjdChlLCB0KSB7CiAgICAgIHZhciBuLAogICAgICAgICAgciwKICAgICAgICAgIG8gPSBTdHJpbmcodCkudG9Mb3dlckNhc2UoKTsKICAgICAgcmV0dXJuIDAgPT09IGUubGVuZ3RoID8gcWUoKSA6IChyID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IGUubGVuZ3RoOyBuKyspIHsKICAgICAgICAgIHZhciByID0gZVtuXTsKICAgICAgICAgIGlmIChyLnRlc3QodCkpIHJldHVybiByOwogICAgICAgIH0KICAgICAgfShlLCBuID0gbykpID8gWGUoaSgxKSwgaSgyKSkgOiB7CiAgICAgICAgbWFqb3I6IDAsCiAgICAgICAgbWlub3I6IDAKICAgICAgfTsKCiAgICAgIGZ1bmN0aW9uIGkoZSkgewogICAgICAgIHJldHVybiBOdW1iZXIobi5yZXBsYWNlKHIsICIkIiArIGUpKTsKICAgICAgfQogICAgfSwKICAgIHVua25vd246IHFlCiAgfSwKICAgICAgR2UgPSBmdW5jdGlvbiBHZShlLCB0KSB7CiAgICByZXR1cm4gIiIgPT09IChuID0gdCkgfHwgZS5sZW5ndGggPj0gbi5sZW5ndGggJiYgZS5zdWJzdHIoMCwgMCArIG4ubGVuZ3RoKSA9PT0gbjsKICAgIHZhciBuOwogIH0sCiAgICAgIEplID0gT2UoL15ccyt8XHMrJC9nKSwKICAgICAgUWUgPSBPZSgvXlxzKy9nKSwKICAgICAgWmUgPSBPZSgvXHMrJC9nKSwKICAgICAgZXQgPSAvLio/dmVyc2lvblwvXCA/KFswLTldKylcLihbMC05XSspLiovLAogICAgICB0dCA9IHsKICAgIGJyb3dzZXJzOiBKKFt7CiAgICAgIG5hbWU6ICJFZGdlIiwKICAgICAgdmVyc2lvblJlZ2V4ZXM6IFsvLio/ZWRnZVwvID8oWzAtOV0rKVwuKFswLTldKykkL10sCiAgICAgIHNlYXJjaDogZnVuY3Rpb24gc2VhcmNoKGUpIHsKICAgICAgICByZXR1cm4gVGUoZSwgImVkZ2UvIikgJiYgVGUoZSwgImNocm9tZSIpICYmIFRlKGUsICJzYWZhcmkiKSAmJiBUZShlLCAiYXBwbGV3ZWJraXQiKTsKICAgICAgfQogICAgfSwgewogICAgICBuYW1lOiAiQ2hyb21lIiwKICAgICAgYnJhbmQ6ICJDaHJvbWl1bSIsCiAgICAgIHZlcnNpb25SZWdleGVzOiBbLy4qP2Nocm9tZVwvKFswLTldKylcLihbMC05XSspLiovLCBldF0sCiAgICAgIHNlYXJjaDogZnVuY3Rpb24gc2VhcmNoKGUpIHsKICAgICAgICByZXR1cm4gVGUoZSwgImNocm9tZSIpICYmICFUZShlLCAiY2hyb21lZnJhbWUiKTsKICAgICAgfQogICAgfSwgewogICAgICBuYW1lOiAiSUUiLAogICAgICB2ZXJzaW9uUmVnZXhlczogWy8uKj9tc2llXCA/KFswLTldKylcLihbMC05XSspLiovLCAvLio/cnY6KFswLTldKylcLihbMC05XSspLiovXSwKICAgICAgc2VhcmNoOiBmdW5jdGlvbiBzZWFyY2goZSkgewogICAgICAgIHJldHVybiBUZShlLCAibXNpZSIpIHx8IFRlKGUsICJ0cmlkZW50Iik7CiAgICAgIH0KICAgIH0sIHsKICAgICAgbmFtZTogIk9wZXJhIiwKICAgICAgdmVyc2lvblJlZ2V4ZXM6IFtldCwgLy4qP29wZXJhXC8oWzAtOV0rKVwuKFswLTldKykuKi9dLAogICAgICBzZWFyY2g6IExlKCJvcGVyYSIpCiAgICB9LCB7CiAgICAgIG5hbWU6ICJGaXJlZm94IiwKICAgICAgdmVyc2lvblJlZ2V4ZXM6IFsvLio/ZmlyZWZveFwvXCA/KFswLTldKylcLihbMC05XSspLiovXSwKICAgICAgc2VhcmNoOiBMZSgiZmlyZWZveCIpCiAgICB9LCB7CiAgICAgIG5hbWU6ICJTYWZhcmkiLAogICAgICB2ZXJzaW9uUmVnZXhlczogW2V0LCAvLio/Y3B1IG9zIChbMC05XSspXyhbMC05XSspLiovXSwKICAgICAgc2VhcmNoOiBmdW5jdGlvbiBzZWFyY2goZSkgewogICAgICAgIHJldHVybiAoVGUoZSwgInNhZmFyaSIpIHx8IFRlKGUsICJtb2JpbGUvIikpICYmIFRlKGUsICJhcHBsZXdlYmtpdCIpOwogICAgICB9CiAgICB9XSksCiAgICBvc2VzOiBKKFt7CiAgICAgIG5hbWU6ICJXaW5kb3dzIiwKICAgICAgc2VhcmNoOiBMZSgid2luIiksCiAgICAgIHZlcnNpb25SZWdleGVzOiBbLy4qP3dpbmRvd3NcIG50XCA/KFswLTldKylcLihbMC05XSspLiovXQogICAgfSwgewogICAgICBuYW1lOiAiaU9TIiwKICAgICAgc2VhcmNoOiBmdW5jdGlvbiBzZWFyY2goZSkgewogICAgICAgIHJldHVybiBUZShlLCAiaXBob25lIikgfHwgVGUoZSwgImlwYWQiKTsKICAgICAgfSwKICAgICAgdmVyc2lvblJlZ2V4ZXM6IFsvLio/dmVyc2lvblwvXCA/KFswLTldKylcLihbMC05XSspLiovLCAvLipjcHUgb3MgKFswLTldKylfKFswLTldKykuKi8sIC8uKmNwdSBpcGhvbmUgb3MgKFswLTldKylfKFswLTldKykuKi9dCiAgICB9LCB7CiAgICAgIG5hbWU6ICJBbmRyb2lkIiwKICAgICAgc2VhcmNoOiBMZSgiYW5kcm9pZCIpLAogICAgICB2ZXJzaW9uUmVnZXhlczogWy8uKj9hbmRyb2lkXCA/KFswLTldKylcLihbMC05XSspLiovXQogICAgfSwgewogICAgICBuYW1lOiAiT1NYIiwKICAgICAgc2VhcmNoOiBMZSgibWFjIG9zIHgiKSwKICAgICAgdmVyc2lvblJlZ2V4ZXM6IFsvLio/bWFjXCBvc1wgeFwgPyhbMC05XSspXyhbMC05XSspLiovXQogICAgfSwgewogICAgICBuYW1lOiAiTGludXgiLAogICAgICBzZWFyY2g6IExlKCJsaW51eCIpLAogICAgICB2ZXJzaW9uUmVnZXhlczogW10KICAgIH0sIHsKICAgICAgbmFtZTogIlNvbGFyaXMiLAogICAgICBzZWFyY2g6IExlKCJzdW5vcyIpLAogICAgICB2ZXJzaW9uUmVnZXhlczogW10KICAgIH0sIHsKICAgICAgbmFtZTogIkZyZWVCU0QiLAogICAgICBzZWFyY2g6IExlKCJmcmVlYnNkIiksCiAgICAgIHZlcnNpb25SZWdleGVzOiBbXQogICAgfSwgewogICAgICBuYW1lOiAiQ2hyb21lT1MiLAogICAgICBzZWFyY2g6IExlKCJjcm9zIiksCiAgICAgIHZlcnNpb25SZWdleGVzOiBbLy4qP2Nocm9tZVwvKFswLTldKylcLihbMC05XSspLiovXQogICAgfV0pCiAgfSwKICAgICAgbnQgPSAiRmlyZWZveCIsCiAgICAgIHJ0ID0gZnVuY3Rpb24gcnQoKSB7CiAgICByZXR1cm4gJGUoewogICAgICBjdXJyZW50OiB2b2lkIDAsCiAgICAgIHZlcnNpb246IFllLnVua25vd24oKQogICAgfSk7CiAgfSwKICAgICAgb3QgPSAkZSwKICAgICAgaXQgPSAoSigiRWRnZSIpLCBKKCJDaHJvbWUiKSwgSigiSUUiKSwgSigiT3BlcmEiKSwgSihudCksIEooIlNhZmFyaSIpLCAiV2luZG93cyIpLAogICAgICBhdCA9ICJBbmRyb2lkIiwKICAgICAgdXQgPSAiU29sYXJpcyIsCiAgICAgIHN0ID0gIkZyZWVCU0QiLAogICAgICBjdCA9ICJDaHJvbWVPUyIsCiAgICAgIGx0ID0gZnVuY3Rpb24gbHQoKSB7CiAgICByZXR1cm4gV2UoewogICAgICBjdXJyZW50OiB2b2lkIDAsCiAgICAgIHZlcnNpb246IFllLnVua25vd24oKQogICAgfSk7CiAgfSwKICAgICAgZnQgPSBXZSwKICAgICAgZHQgPSAoSihpdCksIEooImlPUyIpLCBKKGF0KSwgSigiTGludXgiKSwgSigiT1NYIiksIEoodXQpLCBKKHN0KSwgSihjdCksIFJlKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBlID0gbmF2aWdhdG9yLnVzZXJBZ2VudCwgdCA9IHZlLmZyb20obmF2aWdhdG9yLnVzZXJBZ2VudERhdGEpLCBuID0gSWUsIHAgPSB0dC5icm93c2VycygpLCBoID0gdHQub3NlcygpLCB2ID0gdC5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiByID0gcCwgZWUoZS5icmFuZHMsIGZ1bmN0aW9uICh0KSB7CiAgICAgICAgdmFyIG4gPSB0LmJyYW5kLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgcmV0dXJuIE0ociwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciB0OwogICAgICAgICAgcmV0dXJuIG4gPT09IChudWxsID09PSAodCA9IGUuYnJhbmQpIHx8IHZvaWQgMCA9PT0gdCA/IHZvaWQgMCA6IHQudG9Mb3dlckNhc2UoKSk7CiAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBjdXJyZW50OiBlLm5hbWUsCiAgICAgICAgICAgIHZlcnNpb246IFllLm51KHBhcnNlSW50KHQudmVyc2lvbiwgMTApLCAwKQogICAgICAgICAgfTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICAgIHZhciByOwogICAgfSkub3JUaHVuayhmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBEZShwLCBuID0gZSkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHQgPSBZZS5kZXRlY3QoZS52ZXJzaW9uUmVnZXhlcywgbik7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGN1cnJlbnQ6IGUubmFtZSwKICAgICAgICAgIHZlcnNpb246IHQKICAgICAgICB9OwogICAgICB9KTsKICAgICAgdmFyIG47CiAgICB9KS5mb2xkKHJ0LCBvdCksIGIgPSBEZShoLCByID0gZSkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gWWUuZGV0ZWN0KGUudmVyc2lvblJlZ2V4ZXMsIHIpOwogICAgICByZXR1cm4gewogICAgICAgIGN1cnJlbnQ6IGUubmFtZSwKICAgICAgICB2ZXJzaW9uOiB0CiAgICAgIH07CiAgICB9KS5mb2xkKGx0LCBmdCksIHsKICAgICAgYnJvd3NlcjogdiwKICAgICAgb3M6IGIsCiAgICAgIGRldmljZVR5cGU6IChpID0gdiwgYSA9IGUsIHUgPSBuLCBzID0gKG8gPSBiKS5pc2lPUygpICYmICEwID09PSAvaXBhZC9pLnRlc3QoYSksIGMgPSBvLmlzaU9TKCkgJiYgIXMsIGYgPSAobCA9IG8uaXNpT1MoKSB8fCBvLmlzQW5kcm9pZCgpKSB8fCB1KCIocG9pbnRlcjpjb2Fyc2UpIiksIGQgPSBzIHx8ICFjICYmIGwgJiYgdSgiKG1pbi1kZXZpY2Utd2lkdGg6NzY4cHgpIiksIG0gPSBjIHx8IGwgJiYgIWQsIGcgPSBpLmlzU2FmYXJpKCkgJiYgby5pc2lPUygpICYmICExID09PSAvc2FmYXJpL2kudGVzdChhKSwgewogICAgICAgIGlzaVBhZDogSihzKSwKICAgICAgICBpc2lQaG9uZTogSihjKSwKICAgICAgICBpc1RhYmxldDogSihkKSwKICAgICAgICBpc1Bob25lOiBKKG0pLAogICAgICAgIGlzVG91Y2g6IEooZiksCiAgICAgICAgaXNBbmRyb2lkOiBvLmlzQW5kcm9pZCwKICAgICAgICBpc2lPUzogby5pc2lPUywKICAgICAgICBpc1dlYlZpZXc6IEooZyksCiAgICAgICAgaXNEZXNrdG9wOiBKKCFtICYmICFkICYmICFnKQogICAgICB9KQogICAgfTsKICAgIHZhciBlLCB0LCBuLCByLCBvLCBpLCBhLCB1LCBzLCBjLCBsLCBmLCBkLCBtLCBnLCBwLCBoLCB2LCBiOwogIH0pKSwKICAgICAgbXQgPSBuYXZpZ2F0b3IudXNlckFnZW50LAogICAgICBndCA9IGR0KCksCiAgICAgIHB0ID0gZ3QuYnJvd3NlciwKICAgICAgaHQgPSBndC5vcywKICAgICAgdnQgPSBndC5kZXZpY2VUeXBlLAogICAgICBidCA9IC9XZWJLaXQvLnRlc3QobXQpICYmICFwdC5pc0VkZ2UoKSwKICAgICAgeXQgPSAiRm9ybURhdGEiIGluIHdpbmRvdyAmJiAiRmlsZVJlYWRlciIgaW4gd2luZG93ICYmICJVUkwiIGluIHdpbmRvdyAmJiAhIVVSTC5jcmVhdGVPYmplY3RVUkwsCiAgICAgIEN0ID0gLTEgIT09IG10LmluZGV4T2YoIldpbmRvd3MgUGhvbmUiKSwKICAgICAgeHQgPSB7CiAgICBvcGVyYTogcHQuaXNPcGVyYSgpLAogICAgd2Via2l0OiBidCwKICAgIGllOiAhKCFwdC5pc0lFKCkgJiYgIXB0LmlzRWRnZSgpKSAmJiBwdC52ZXJzaW9uLm1ham9yLAogICAgZ2Vja286IHB0LmlzRmlyZWZveCgpLAogICAgbWFjOiBodC5pc09TWCgpIHx8IGh0LmlzaU9TKCksCiAgICBpT1M6IHZ0LmlzaVBhZCgpIHx8IHZ0LmlzaVBob25lKCksCiAgICBhbmRyb2lkOiBodC5pc0FuZHJvaWQoKSwKICAgIGNvbnRlbnRFZGl0YWJsZTogITAsCiAgICB0cmFuc3BhcmVudFNyYzogImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSUFBQUFBQUFQLy8veUg1QkFFQUFBQUFMQUFBQUFBQkFBRUFBQUlCUkFBNyIsCiAgICBjYXJldEFmdGVyOiAhMCwKICAgIHJhbmdlOiB3aW5kb3cuZ2V0U2VsZWN0aW9uICYmICJSYW5nZSIgaW4gd2luZG93LAogICAgZG9jdW1lbnRNb2RlOiBwdC5pc0lFKCkgPyBkb2N1bWVudC5kb2N1bWVudE1vZGUgfHwgNyA6IDEwLAogICAgZmlsZUFwaTogeXQsCiAgICBjZUZhbHNlOiAhMCwKICAgIGNhY2hlU3VmZml4OiBudWxsLAogICAgY29udGFpbmVyOiBudWxsLAogICAgZXhwZXJpbWVudGFsU2hhZG93RG9tOiAhMSwKICAgIGNhbkhhdmVDU1A6ICFwdC5pc0lFKCksCiAgICBkZXNrdG9wOiB2dC5pc0Rlc2t0b3AoKSwKICAgIHdpbmRvd3NQaG9uZTogQ3QsCiAgICBicm93c2VyOiB7CiAgICAgIGN1cnJlbnQ6IHB0LmN1cnJlbnQsCiAgICAgIHZlcnNpb246IHB0LnZlcnNpb24sCiAgICAgIGlzQ2hyb21lOiBwdC5pc0Nocm9tZSwKICAgICAgaXNFZGdlOiBwdC5pc0VkZ2UsCiAgICAgIGlzRmlyZWZveDogcHQuaXNGaXJlZm94LAogICAgICBpc0lFOiBwdC5pc0lFLAogICAgICBpc09wZXJhOiBwdC5pc09wZXJhLAogICAgICBpc1NhZmFyaTogcHQuaXNTYWZhcmkKICAgIH0sCiAgICBvczogewogICAgICBjdXJyZW50OiBodC5jdXJyZW50LAogICAgICB2ZXJzaW9uOiBodC52ZXJzaW9uLAogICAgICBpc0FuZHJvaWQ6IGh0LmlzQW5kcm9pZCwKICAgICAgaXNDaHJvbWVPUzogaHQuaXNDaHJvbWVPUywKICAgICAgaXNGcmVlQlNEOiBodC5pc0ZyZWVCU0QsCiAgICAgIGlzaU9TOiBodC5pc2lPUywKICAgICAgaXNMaW51eDogaHQuaXNMaW51eCwKICAgICAgaXNPU1g6IGh0LmlzT1NYLAogICAgICBpc1NvbGFyaXM6IGh0LmlzU29sYXJpcywKICAgICAgaXNXaW5kb3dzOiBodC5pc1dpbmRvd3MKICAgIH0sCiAgICBkZXZpY2VUeXBlOiB7CiAgICAgIGlzRGVza3RvcDogdnQuaXNEZXNrdG9wLAogICAgICBpc2lQYWQ6IHZ0LmlzaVBhZCwKICAgICAgaXNpUGhvbmU6IHZ0LmlzaVBob25lLAogICAgICBpc1Bob25lOiB2dC5pc1Bob25lLAogICAgICBpc1RhYmxldDogdnQuaXNUYWJsZXQsCiAgICAgIGlzVG91Y2g6IHZ0LmlzVG91Y2gsCiAgICAgIGlzV2ViVmlldzogdnQuaXNXZWJWaWV3CiAgICB9CiAgfSwKICAgICAgd3QgPSAvXlxzKnxccyokL2csCiAgICAgIFN0ID0gZnVuY3Rpb24gU3QoZSwgbiwgciwgbykgewogICAgbyA9IG8gfHwgdGhpcywgZSAmJiBjZShlID0gciA/IGVbcl0gOiBlLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICByZXR1cm4gITEgIT09IG4uY2FsbChvLCBlLCB0LCByKSAmJiB2b2lkIFN0KGUsIG4sIHIsIG8pOwogICAgfSk7CiAgfSwKICAgICAgRXQgPSB7CiAgICB0cmltOiBNZSwKICAgIGlzQXJyYXk6IGtlLAogICAgaXM6IEZlLAogICAgdG9BcnJheTogZnVuY3Rpb24gdG9BcnJheShlKSB7CiAgICAgIGlmIChrZShlKSkgcmV0dXJuIGU7CgogICAgICBmb3IgKHZhciB0ID0gW10sIG4gPSAwLCByID0gZS5sZW5ndGg7IG4gPCByOyBuKyspIHsKICAgICAgICB0W25dID0gZVtuXTsKICAgICAgfQoKICAgICAgcmV0dXJuIHQ7CiAgICB9LAogICAgbWFrZU1hcDogZnVuY3Rpb24gbWFrZU1hcChlLCB0LCBuKSB7CiAgICAgIHZhciByOwoKICAgICAgZm9yICh0ID0gdCB8fCAiLCIsIG4gPSBuIHx8IHt9LCByID0gKGUgPSAic3RyaW5nIiA9PSB0eXBlb2YgKGUgPSBlIHx8IFtdKSA/IGUuc3BsaXQodCkgOiBlKS5sZW5ndGg7IHItLTspIHsKICAgICAgICBuW2Vbcl1dID0ge307CiAgICAgIH0KCiAgICAgIHJldHVybiBuOwogICAgfSwKICAgIGVhY2g6IGNlLAogICAgbWFwOiBsZSwKICAgIGdyZXA6IGZlLAogICAgaW5BcnJheTogZGUsCiAgICBoYXNPd246IE5lLAogICAgZXh0ZW5kOiBmdW5jdGlvbiBleHRlbmQoZSkgewogICAgICBmb3IgKHZhciB0ID0gW10sIG4gPSAxOyBuIDwgYXJndW1lbnRzLmxlbmd0aDsgbisrKSB7CiAgICAgICAgdFtuIC0gMV0gPSBhcmd1bWVudHNbbl07CiAgICAgIH0KCiAgICAgIGZvciAodmFyIHIgPSAwOyByIDwgdC5sZW5ndGg7IHIrKykgewogICAgICAgIHZhciBvLAogICAgICAgICAgICBpLAogICAgICAgICAgICBhID0gdFtyXTsKCiAgICAgICAgZm9yIChvIGluIGEpIHsKICAgICAgICAgICFOZShhLCBvKSB8fCB2b2lkIDAgIT09IChpID0gYVtvXSkgJiYgKGVbb10gPSBpKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBlOwogICAgfSwKICAgIGNyZWF0ZTogZnVuY3Rpb24gY3JlYXRlKGUsIHQsIG4pIHsKICAgICAgdmFyIHIsCiAgICAgICAgICBvLAogICAgICAgICAgaSwKICAgICAgICAgIGEgPSB0aGlzLAogICAgICAgICAgdSA9IDAsCiAgICAgICAgICBzID0gKGUgPSAvXigoc3RhdGljKSApPyhbXHcuXSspKDooW1x3Ll0rKSk/Ly5leGVjKGUpKVszXS5tYXRjaCgvKF58XC4pKFx3KykkL2kpWzJdLAogICAgICAgICAgYyA9IGEuY3JlYXRlTlMoZVszXS5yZXBsYWNlKC9cLlx3KyQvLCAiIiksIG4pOwoKICAgICAgaWYgKCFjW3NdKSB7CiAgICAgICAgaWYgKCJzdGF0aWMiID09PSBlWzJdKSByZXR1cm4gY1tzXSA9IHQsIHZvaWQgKHRoaXMub25DcmVhdGUgJiYgdGhpcy5vbkNyZWF0ZShlWzJdLCBlWzNdLCBjW3NdKSk7CiAgICAgICAgdFtzXSB8fCAodFtzXSA9IGZ1bmN0aW9uICgpIHt9LCB1ID0gMSksIGNbc10gPSB0W3NdLCBhLmV4dGVuZChjW3NdLnByb3RvdHlwZSwgdCksIGVbNV0gJiYgKHIgPSBhLnJlc29sdmUoZVs1XSkucHJvdG90eXBlLCBvID0gZVs1XS5tYXRjaCgvXC4oXHcrKSQvaSlbMV0sIGkgPSBjW3NdLCBjW3NdID0gdSA/IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiByW29dLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgfSA6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiB0aGlzLnBhcmVudCA9IHJbb10sIGkuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICB9LCBjW3NdLnByb3RvdHlwZVtzXSA9IGNbc10sIGEuZWFjaChyLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgICAgY1tzXS5wcm90b3R5cGVbdF0gPSByW3RdOwogICAgICAgIH0pLCBhLmVhY2godCwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgIHJbdF0gPyBjW3NdLnByb3RvdHlwZVt0XSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50ID0gclt0XSwgZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgfSA6IHQgIT09IHMgJiYgKGNbc10ucHJvdG90eXBlW3RdID0gZSk7CiAgICAgICAgfSkpLCBhLmVhY2godC5zdGF0aWMsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgICBjW3NdW3RdID0gZTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHdhbGs6IFN0LAogICAgY3JlYXRlTlM6IGZ1bmN0aW9uIGNyZWF0ZU5TKGUsIHQpIHsKICAgICAgdmFyIG4sIHI7CgogICAgICBmb3IgKHQgPSB0IHx8IHdpbmRvdywgZSA9IGUuc3BsaXQoIi4iKSwgbiA9IDA7IG4gPCBlLmxlbmd0aDsgbisrKSB7CiAgICAgICAgdFtyID0gZVtuXV0gfHwgKHRbcl0gPSB7fSksIHQgPSB0W3JdOwogICAgICB9CgogICAgICByZXR1cm4gdDsKICAgIH0sCiAgICByZXNvbHZlOiBmdW5jdGlvbiByZXNvbHZlKGUsIHQpIHsKICAgICAgdmFyIG4sIHI7CgogICAgICBmb3IgKHQgPSB0IHx8IHdpbmRvdywgbiA9IDAsIHIgPSAoZSA9IGUuc3BsaXQoIi4iKSkubGVuZ3RoOyBuIDwgciAmJiAodCA9IHRbZVtuXV0pOyBuKyspIHsKICAgICAgICA7CiAgICAgIH0KCiAgICAgIHJldHVybiB0OwogICAgfSwKICAgIGV4cGxvZGU6IGZ1bmN0aW9uIGV4cGxvZGUoZSwgdCkgewogICAgICByZXR1cm4gIWUgfHwgRmUoZSwgImFycmF5IikgPyBlIDogbGUoZS5zcGxpdCh0IHx8ICIsIiksIE1lKTsKICAgIH0sCiAgICBfYWRkQ2FjaGVTdWZmaXg6IGZ1bmN0aW9uIF9hZGRDYWNoZVN1ZmZpeChlKSB7CiAgICAgIHZhciB0ID0geHQuY2FjaGVTdWZmaXg7CiAgICAgIHJldHVybiB0ICYmIChlICs9ICgtMSA9PT0gZS5pbmRleE9mKCI/IikgPyAiPyIgOiAiJiIpICsgdCksIGU7CiAgICB9CiAgfSwKICAgICAgTnQgPSB7CiAgICBmcm9tSHRtbDogZnVuY3Rpb24gZnJvbUh0bWwoZSwgdCkgewogICAgICB2YXIgbiA9ICh0IHx8IGRvY3VtZW50KS5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgaWYgKG4uaW5uZXJIVE1MID0gZSwgIW4uaGFzQ2hpbGROb2RlcygpIHx8IDEgPCBuLmNoaWxkTm9kZXMubGVuZ3RoKSB0aHJvdyBjb25zb2xlLmVycm9yKCJIVE1MIGRvZXMgbm90IGhhdmUgYSBzaW5nbGUgcm9vdCBub2RlIiwgZSksIG5ldyBFcnJvcigiSFRNTCBtdXN0IGhhdmUgYSBzaW5nbGUgcm9vdCBub2RlIik7CiAgICAgIHJldHVybiBLZShuLmNoaWxkTm9kZXNbMF0pOwogICAgfSwKICAgIGZyb21UYWc6IGZ1bmN0aW9uIGZyb21UYWcoZSwgdCkgewogICAgICB2YXIgbiA9ICh0IHx8IGRvY3VtZW50KS5jcmVhdGVFbGVtZW50KGUpOwogICAgICByZXR1cm4gS2Uobik7CiAgICB9LAogICAgZnJvbVRleHQ6IGZ1bmN0aW9uIGZyb21UZXh0KGUsIHQpIHsKICAgICAgdmFyIG4gPSAodCB8fCBkb2N1bWVudCkuY3JlYXRlVGV4dE5vZGUoZSk7CiAgICAgIHJldHVybiBLZShuKTsKICAgIH0sCiAgICBmcm9tRG9tOiBLZSwKICAgIGZyb21Qb2ludDogZnVuY3Rpb24gZnJvbVBvaW50KGUsIHQsIG4pIHsKICAgICAgcmV0dXJuIHZlLmZyb20oZS5kb20uZWxlbWVudEZyb21Qb2ludCh0LCBuKSkubWFwKEtlKTsKICAgIH0KICB9OwoKICBmdW5jdGlvbiBrdChlKSB7CiAgICByZXR1cm4gZS5kb20ubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKICB9CgogIGZ1bmN0aW9uIF90KGUpIHsKICAgIHJldHVybiBlLmRvbS5ub2RlVHlwZTsKICB9CgogIGZ1bmN0aW9uIEF0KHQpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gX3QoZSkgPT09IHQ7CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gUnQoZSkgewogICAgcmV0dXJuIE50LmZyb21Eb20oZS5kb20ub3duZXJEb2N1bWVudCk7CiAgfQoKICBmdW5jdGlvbiBEdChlKSB7CiAgICByZXR1cm4gQW4oZSkgPyBlIDogUnQoZSk7CiAgfQoKICBmdW5jdGlvbiBUdChlKSB7CiAgICByZXR1cm4gTnQuZnJvbURvbShEdChlKS5kb20uZGVmYXVsdFZpZXcpOwogIH0KCiAgZnVuY3Rpb24gT3QoZSkgewogICAgcmV0dXJuIHZlLmZyb20oZS5kb20ucGFyZW50Tm9kZSkubWFwKE50LmZyb21Eb20pOwogIH0KCiAgZnVuY3Rpb24gQnQoZSkgewogICAgcmV0dXJuIHZlLmZyb20oZS5kb20ucHJldmlvdXNTaWJsaW5nKS5tYXAoTnQuZnJvbURvbSk7CiAgfQoKICBmdW5jdGlvbiBQdChlKSB7CiAgICByZXR1cm4gdmUuZnJvbShlLmRvbS5uZXh0U2libGluZykubWFwKE50LmZyb21Eb20pOwogIH0KCiAgZnVuY3Rpb24gTHQoZSkgewogICAgcmV0dXJuIHEoVWUoZSwgQnQpKTsKICB9CgogIGZ1bmN0aW9uIEl0KGUpIHsKICAgIHJldHVybiBVZShlLCBQdCk7CiAgfQoKICBmdW5jdGlvbiBNdChlLCB0KSB7CiAgICB2YXIgbiA9IGUuZG9tLmNoaWxkTm9kZXM7CiAgICByZXR1cm4gdmUuZnJvbShuW3RdKS5tYXAoTnQuZnJvbURvbSk7CiAgfQoKICBmdW5jdGlvbiBGdChlKSB7CiAgICByZXR1cm4gTXQoZSwgMCk7CiAgfQoKICBmdW5jdGlvbiBVdChlKSB7CiAgICByZXR1cm4gTXQoZSwgZS5kb20uY2hpbGROb2Rlcy5sZW5ndGggLSAxKTsKICB9CgogIGZ1bmN0aW9uIHp0KGUpIHsKICAgIHJldHVybiBlLmRvbS5jaGlsZE5vZGVzLmxlbmd0aDsKICB9CgogIGZ1bmN0aW9uIEh0KGUpIHsKICAgIHJldHVybiBSbihlKSAmJiBWKGUuZG9tLmhvc3QpOwogIH0KCiAgZnVuY3Rpb24ganQodCkgewogICAgcmV0dXJuIEh0KHQpID8gdCA6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGUgPSBEdCh0KS5kb20uaGVhZDsKICAgICAgaWYgKG51bGwgPT0gZSkgdGhyb3cgbmV3IEVycm9yKCJIZWFkIGlzIG5vdCBhdmFpbGFibGUgeWV0Iik7CiAgICAgIHJldHVybiBOdC5mcm9tRG9tKGUpOwogICAgfSgpOwogIH0KCiAgZnVuY3Rpb24gVnQoZSkgewogICAgcmV0dXJuIE50LmZyb21Eb20oZS5kb20uaG9zdCk7CiAgfQoKICBmdW5jdGlvbiBxdCh0LCBuKSB7CiAgICBPdCh0KS5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgIGUuZG9tLmluc2VydEJlZm9yZShuLmRvbSwgdC5kb20pOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiAkdChlLCB0KSB7CiAgICBQdChlKS5mb2xkKGZ1bmN0aW9uICgpIHsKICAgICAgT3QoZSkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgIFBuKGUsIHQpOwogICAgICB9KTsKICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgIHF0KGUsIHQpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBXdCh0LCBuKSB7CiAgICBGdCh0KS5mb2xkKGZ1bmN0aW9uICgpIHsKICAgICAgUG4odCwgbik7CiAgICB9LCBmdW5jdGlvbiAoZSkgewogICAgICB0LmRvbS5pbnNlcnRCZWZvcmUobi5kb20sIGUuZG9tKTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gS3QodCwgZSkgewogICAgWShlLCBmdW5jdGlvbiAoZSkgewogICAgICBQbih0LCBlKTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gWHQoZSkgewogICAgZS5kb20udGV4dENvbnRlbnQgPSAiIiwgWShEbihlKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgTG4oZSk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIFl0KGUpIHsKICAgIHZhciB0LAogICAgICAgIG4gPSBEbihlKTsKICAgIDAgPCBuLmxlbmd0aCAmJiAodCA9IGUsIFkobiwgZnVuY3Rpb24gKGUpIHsKICAgICAgcXQodCwgZSk7CiAgICB9KSksIExuKGUpOwogIH0KCiAgZnVuY3Rpb24gR3QoZSwgdCkgewogICAgcmV0dXJuIHZvaWQgMCAhPT0gZSA/IGUgOiB2b2lkIDAgIT09IHQgPyB0IDogMDsKICB9CgogIGZ1bmN0aW9uIEp0KGUpIHsKICAgIHZhciB0ID0gdm9pZCAwICE9PSBlID8gZS5kb20gOiBkb2N1bWVudCwKICAgICAgICBuID0gdC5ib2R5LnNjcm9sbExlZnQgfHwgdC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCwKICAgICAgICByID0gdC5ib2R5LnNjcm9sbFRvcCB8fCB0LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7CiAgICByZXR1cm4gRm4obiwgcik7CiAgfQoKICBmdW5jdGlvbiBRdChlLCB0LCBuKSB7CiAgICB2YXIgciA9ICh2b2lkIDAgIT09IG4gPyBuLmRvbSA6IGRvY3VtZW50KS5kZWZhdWx0VmlldzsKICAgIHIgJiYgci5zY3JvbGxUbyhlLCB0KTsKICB9CgogIGZ1bmN0aW9uIFp0KGUsIHQpIHsKICAgIGR0KCkuYnJvd3Nlci5pc1NhZmFyaSgpICYmIHkoZS5kb20uc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZCkgPyBlLmRvbS5zY3JvbGxJbnRvVmlld0lmTmVlZGVkKCExKSA6IGUuZG9tLnNjcm9sbEludG9WaWV3KHQpOwogIH0KCiAgZnVuY3Rpb24gZW4oZSwgdCwgbiwgcikgewogICAgcmV0dXJuIHsKICAgICAgeDogZSwKICAgICAgeTogdCwKICAgICAgd2lkdGg6IG4sCiAgICAgIGhlaWdodDogciwKICAgICAgcmlnaHQ6IGUgKyBuLAogICAgICBib3R0b206IHQgKyByCiAgICB9OwogIH0KCiAgZnVuY3Rpb24gdG4oZSkgewogICAgdmFyIHIgPSB2b2lkIDAgPT09IGUgPyB3aW5kb3cgOiBlLAogICAgICAgIHQgPSByLmRvY3VtZW50LAogICAgICAgIG8gPSBKdChOdC5mcm9tRG9tKHQpKSwKICAgICAgICBuID0gdm9pZCAwID09PSByID8gd2luZG93IDogcjsKICAgIHJldHVybiAoZHQoKS5icm93c2VyLmlzRmlyZWZveCgpID8gdmUubm9uZSgpIDogdmUuZnJvbShuLnZpc3VhbFZpZXdwb3J0KSkuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBlID0gci5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsCiAgICAgICAgICB0ID0gZS5jbGllbnRXaWR0aCwKICAgICAgICAgIG4gPSBlLmNsaWVudEhlaWdodDsKICAgICAgcmV0dXJuIGVuKG8ubGVmdCwgby50b3AsIHQsIG4pOwogICAgfSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGVuKE1hdGgubWF4KGUucGFnZUxlZnQsIG8ubGVmdCksIE1hdGgubWF4KGUucGFnZVRvcCwgby50b3ApLCBlLndpZHRoLCBlLmhlaWdodCk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIG5uKHQpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gISFlICYmIGUubm9kZVR5cGUgPT09IHQ7CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gcm4oZSkgewogICAgcmV0dXJuIGUgJiYgIU9iamVjdC5nZXRQcm90b3R5cGVPZihlKTsKICB9CgogIGZ1bmN0aW9uIG9uKGUpIHsKICAgIHZhciBuID0gZS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGUudG9Mb3dlckNhc2UoKTsKICAgIH0pOwogICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgIGlmIChlICYmIGUubm9kZU5hbWUpIHsKICAgICAgICB2YXIgdCA9IGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKICAgICAgICByZXR1cm4gRChuLCB0KTsKICAgICAgfQoKICAgICAgcmV0dXJuICExOwogICAgfTsKICB9CgogIGZ1bmN0aW9uIGFuKHIsIGUpIHsKICAgIHZhciBvID0gZS50b0xvd2VyQ2FzZSgpLnNwbGl0KCIgIik7CiAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgaWYgKHpuKGUpKSBmb3IgKHZhciB0ID0gMDsgdCA8IG8ubGVuZ3RoOyB0KyspIHsKICAgICAgICB2YXIgbiA9IGUub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGUsIG51bGwpOwogICAgICAgIGlmICgobiA/IG4uZ2V0UHJvcGVydHlWYWx1ZShyKSA6IG51bGwpID09PSBvW3RdKSByZXR1cm4gITA7CiAgICAgIH0KICAgICAgcmV0dXJuICExOwogICAgfTsKICB9CgogIGZ1bmN0aW9uIHVuKHQpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gem4oZSkgJiYgZS5oYXNBdHRyaWJ1dGUodCk7CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gc24oZSkgewogICAgcmV0dXJuIHpuKGUpICYmIGUuaGFzQXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIpOwogIH0KCiAgZnVuY3Rpb24gY24oZSkgewogICAgcmV0dXJuIHpuKGUpICYmICJUQUJMRSIgPT09IGUudGFnTmFtZTsKICB9CgogIGZ1bmN0aW9uIGxuKHQpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoZSkgewogICAgICBpZiAoem4oZSkpIHsKICAgICAgICBpZiAoZS5jb250ZW50RWRpdGFibGUgPT09IHQpIHJldHVybiAhMDsKICAgICAgICBpZiAoZS5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWNvbnRlbnRlZGl0YWJsZSIpID09PSB0KSByZXR1cm4gITA7CiAgICAgIH0KCiAgICAgIHJldHVybiAhMTsKICAgIH07CiAgfQoKICBmdW5jdGlvbiBmbihlLCB0LCBuKSB7CiAgICByZXR1cm4gdm9pZCAwID09PSBuICYmIChuID0gbyksIGUuZXhpc3RzKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBuKGUsIHQpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBkbihlLCB0LCBuKSB7CiAgICByZXR1cm4gZS5pc1NvbWUoKSAmJiB0LmlzU29tZSgpID8gdmUuc29tZShuKGUuZ2V0T3JEaWUoKSwgdC5nZXRPckRpZSgpKSkgOiB2ZS5ub25lKCk7CiAgfQoKICBmdW5jdGlvbiBtbihlKSB7CiAgICByZXR1cm4gdm9pZCAwICE9PSBlLnN0eWxlICYmIHkoZS5zdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKTsKICB9CgogIGZ1bmN0aW9uIGduKGUsIHQsIG4pIHsKICAgIGlmICghKFgobikgfHwgdihuKSB8fCBFKG4pKSkgdGhyb3cgY29uc29sZS5lcnJvcigiSW52YWxpZCBjYWxsIHRvIEF0dHJpYnV0ZS5zZXQuIEtleSAiLCB0LCAiOjogVmFsdWUgIiwgbiwgIjo6IEVsZW1lbnQgIiwgZSksIG5ldyBFcnJvcigiQXR0cmlidXRlIHZhbHVlIHdhcyBub3Qgc2ltcGxlIik7CiAgICBlLnNldEF0dHJpYnV0ZSh0LCBuICsgIiIpOwogIH0KCiAgZnVuY3Rpb24gcG4oZSwgdCwgbikgewogICAgZ24oZS5kb20sIHQsIG4pOwogIH0KCiAgZnVuY3Rpb24gaG4oZSwgdCkgewogICAgdmFyIG4gPSBlLmRvbTsKICAgIG5lKHQsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIGduKG4sIHQsIGUpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiB2bihlLCB0KSB7CiAgICB2YXIgbiA9IGUuZG9tLmdldEF0dHJpYnV0ZSh0KTsKICAgIHJldHVybiBudWxsID09PSBuID8gdm9pZCAwIDogbjsKICB9CgogIGZ1bmN0aW9uIGJuKGUsIHQpIHsKICAgIHJldHVybiB2ZS5mcm9tKHZuKGUsIHQpKTsKICB9CgogIGZ1bmN0aW9uIHluKGUsIHQpIHsKICAgIGUuZG9tLnJlbW92ZUF0dHJpYnV0ZSh0KTsKICB9CgogIGZ1bmN0aW9uIENuKGUsIHQpIHsKICAgIHZhciBuID0gZS5kb207CiAgICBuZSh0LCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAhZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgICBpZiAoIVgobikpIHRocm93IGNvbnNvbGUuZXJyb3IoIkludmFsaWQgY2FsbCB0byBDU1Muc2V0LiBQcm9wZXJ0eSAiLCB0LCAiOjogVmFsdWUgIiwgbiwgIjo6IEVsZW1lbnQgIiwgZSksIG5ldyBFcnJvcigiQ1NTIHZhbHVlIG11c3QgYmUgYSBzdHJpbmc6ICIgKyBuKTsKICAgICAgICBtbihlKSAmJiBlLnN0eWxlLnNldFByb3BlcnR5KHQsIG4pOwogICAgICB9KG4sIHQsIGUpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiB4bihlLCB0KSB7CiAgICB2YXIgbiA9IGUuZG9tLAogICAgICAgIHIgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShuKS5nZXRQcm9wZXJ0eVZhbHVlKHQpOwogICAgcmV0dXJuICIiICE9PSByIHx8IEluKGUpID8gciA6IFFuKG4sIHQpOwogIH0KCiAgZnVuY3Rpb24gd24oZSwgdCkgewogICAgdmFyIG4gPSBlLmRvbSwKICAgICAgICByID0gUW4obiwgdCk7CiAgICByZXR1cm4gdmUuZnJvbShyKS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIDAgPCBlLmxlbmd0aDsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gU24oZSkgewogICAgdmFyIHQgPSB7fSwKICAgICAgICBuID0gZS5kb207CiAgICBpZiAobW4obikpIGZvciAodmFyIHIgPSAwOyByIDwgbi5zdHlsZS5sZW5ndGg7IHIrKykgewogICAgICB2YXIgbyA9IG4uc3R5bGUuaXRlbShyKTsKICAgICAgdFtvXSA9IG4uc3R5bGVbb107CiAgICB9CiAgICByZXR1cm4gdDsKICB9CgogIGZ1bmN0aW9uIEVuKGUpIHsKICAgIHJldHVybiBNKGUsIGtuKTsKICB9CgogIGZ1bmN0aW9uIE5uKGUsIHQpIHsKICAgIHJldHVybiBlLmNoaWxkcmVuICYmIEQoZS5jaGlsZHJlbiwgdCk7CiAgfQoKICAidW5kZWZpbmVkIiAhPSB0eXBlb2Ygd2luZG93IHx8IEZ1bmN0aW9uKCJyZXR1cm4gdGhpczsiKSgpOwoKICB2YXIga24gPSBBdCgxKSwKICAgICAgX24gPSBBdCgzKSwKICAgICAgQW4gPSBBdCg5KSwKICAgICAgUm4gPSBBdCgxMSksCiAgICAgIERuID0gZnVuY3Rpb24gRG4oZSkgewogICAgcmV0dXJuIFQoZS5kb20uY2hpbGROb2RlcywgTnQuZnJvbURvbSk7CiAgfSwKICAgICAgVG4gPSB5KEVsZW1lbnQucHJvdG90eXBlLmF0dGFjaFNoYWRvdykgJiYgeShOb2RlLnByb3RvdHlwZS5nZXRSb290Tm9kZSksCiAgICAgIE9uID0gSihUbiksCiAgICAgIEJuID0gVG4gPyBmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuIE50LmZyb21Eb20oZS5kb20uZ2V0Um9vdE5vZGUoKSk7CiAgfSA6IER0LAogICAgICBQbiA9IGZ1bmN0aW9uIFBuKGUsIHQpIHsKICAgIGUuZG9tLmFwcGVuZENoaWxkKHQuZG9tKTsKICB9LAogICAgICBMbiA9IGZ1bmN0aW9uIExuKGUpIHsKICAgIHZhciB0ID0gZS5kb207CiAgICBudWxsICE9PSB0LnBhcmVudE5vZGUgJiYgdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHQpOwogIH0sCiAgICAgIEluID0gZnVuY3Rpb24gSW4oZSkgewogICAgdmFyIHQgPSBfbihlKSA/IGUuZG9tLnBhcmVudE5vZGUgOiBlLmRvbTsKICAgIGlmIChudWxsID09IHQgfHwgbnVsbCA9PT0gdC5vd25lckRvY3VtZW50KSByZXR1cm4gITE7CiAgICB2YXIgbiA9IHQub3duZXJEb2N1bWVudCwKICAgICAgICByID0gTnQuZnJvbURvbSh0KSwKICAgICAgICBvID0gQm4ocik7CiAgICByZXR1cm4gKEh0KG8pID8gdmUuc29tZShvKSA6IHZlLm5vbmUoKSkuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBuLmJvZHkuY29udGFpbnModCk7CiAgICB9LCBhKEluLCBWdCkpOwogIH0sCiAgICAgIE1uID0gZnVuY3Rpb24gTW4obiwgcikgewogICAgcmV0dXJuIHsKICAgICAgbGVmdDogbiwKICAgICAgdG9wOiByLAogICAgICB0cmFuc2xhdGU6IGZ1bmN0aW9uIHRyYW5zbGF0ZShlLCB0KSB7CiAgICAgICAgcmV0dXJuIE1uKG4gKyBlLCByICsgdCk7CiAgICAgIH0KICAgIH07CiAgfSwKICAgICAgRm4gPSBNbiwKICAgICAgVW4gPSBmdW5jdGlvbiBVbihlKSB7CiAgICB2YXIgdCwKICAgICAgICBuID0gZS5kb20sCiAgICAgICAgciA9IG4ub3duZXJEb2N1bWVudC5ib2R5OwogICAgcmV0dXJuIHIgPT09IG4gPyBGbihyLm9mZnNldExlZnQsIHIub2Zmc2V0VG9wKSA6IEluKGUpID8gKHQgPSBuLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBGbih0LmxlZnQsIHQudG9wKSkgOiBGbigwLCAwKTsKICB9LAogICAgICB6biA9IG5uKDEpLAogICAgICBIbiA9IG9uKFsidGV4dGFyZWEiLCAiaW5wdXQiXSksCiAgICAgIGpuID0gbm4oMyksCiAgICAgIFZuID0gbm4oOCksCiAgICAgIHFuID0gbm4oOSksCiAgICAgICRuID0gbm4oMTEpLAogICAgICBXbiA9IG9uKFsiYnIiXSksCiAgICAgIEtuID0gb24oWyJpbWciXSksCiAgICAgIFhuID0gbG4oInRydWUiKSwKICAgICAgWW4gPSBsbigiZmFsc2UiKSwKICAgICAgR24gPSBvbihbInRkIiwgInRoIl0pLAogICAgICBKbiA9IG9uKFsidmlkZW8iLCAiYXVkaW8iLCAib2JqZWN0IiwgImVtYmVkIl0pLAogICAgICBRbiA9IGZ1bmN0aW9uIFFuKGUsIHQpIHsKICAgIHJldHVybiBtbihlKSA/IGUuc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSh0KSA6ICIiOwogIH0sCiAgICAgIFpuID0gZHQoKS5icm93c2VyLAogICAgICBlciA9IHt9LAogICAgICB0ciA9IHsKICAgIGV4cG9ydHM6IGVyCiAgfTsKCiAgZnVuY3Rpb24gbnIoZSkgewogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIHRocm93IGU7CiAgICB9LCAwKTsKICB9CgogICFmdW5jdGlvbiAoKSB7CiAgICB2YXIgZSA9IHRoaXMsCiAgICAgICAgdCA9IGZ1bmN0aW9uIHQoKSB7CiAgICAgIHZhciBlLAogICAgICAgICAgdCwKICAgICAgICAgIG4sCiAgICAgICAgICByID0gewogICAgICAgIGV4cG9ydHM6IHt9CiAgICAgIH07CgogICAgICBmdW5jdGlvbiBvKCkge30KCiAgICAgIGZ1bmN0aW9uIGkoZSkgewogICAgICAgIGlmICgib2JqZWN0IiAhPSBfdHlwZW9mKHRoaXMpKSB0aHJvdyBuZXcgVHlwZUVycm9yKCJQcm9taXNlcyBtdXN0IGJlIGNvbnN0cnVjdGVkIHZpYSBuZXciKTsKICAgICAgICBpZiAoImZ1bmN0aW9uIiAhPSB0eXBlb2YgZSkgdGhyb3cgbmV3IFR5cGVFcnJvcigibm90IGEgZnVuY3Rpb24iKTsKICAgICAgICB0aGlzLl9zdGF0ZSA9IDAsIHRoaXMuX2hhbmRsZWQgPSAhMSwgdGhpcy5fdmFsdWUgPSB2b2lkIDAsIHRoaXMuX2RlZmVycmVkcyA9IFtdLCBmKGUsIHRoaXMpOwogICAgICB9CgogICAgICBmdW5jdGlvbiBhKG4sIHIpIHsKICAgICAgICBmb3IgKDsgMyA9PT0gbi5fc3RhdGU7KSB7CiAgICAgICAgICBuID0gbi5fdmFsdWU7CiAgICAgICAgfQoKICAgICAgICAwICE9PSBuLl9zdGF0ZSA/IChuLl9oYW5kbGVkID0gITAsIGkuX2ltbWVkaWF0ZUZuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBlLAogICAgICAgICAgICAgIHQgPSAxID09PSBuLl9zdGF0ZSA/IHIub25GdWxmaWxsZWQgOiByLm9uUmVqZWN0ZWQ7CgogICAgICAgICAgaWYgKG51bGwgIT09IHQpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBlID0gdChuLl92YWx1ZSk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICByZXR1cm4gdm9pZCBzKHIucHJvbWlzZSwgZSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHUoci5wcm9taXNlLCBlKTsKICAgICAgICAgIH0gZWxzZSAoMSA9PT0gbi5fc3RhdGUgPyB1IDogcykoci5wcm9taXNlLCBuLl92YWx1ZSk7CiAgICAgICAgfSkpIDogbi5fZGVmZXJyZWRzLnB1c2gocik7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHUodCwgZSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBpZiAoZSA9PT0gdCkgdGhyb3cgbmV3IFR5cGVFcnJvcigiQSBwcm9taXNlIGNhbm5vdCBiZSByZXNvbHZlZCB3aXRoIGl0c2VsZi4iKTsKCiAgICAgICAgICBpZiAoZSAmJiAoIm9iamVjdCIgPT0gX3R5cGVvZihlKSB8fCAiZnVuY3Rpb24iID09IHR5cGVvZiBlKSkgewogICAgICAgICAgICB2YXIgbiA9IGUudGhlbjsKICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBpKSByZXR1cm4gdC5fc3RhdGUgPSAzLCB0Ll92YWx1ZSA9IGUsIHZvaWQgYyh0KTsKICAgICAgICAgICAgaWYgKCJmdW5jdGlvbiIgPT0gdHlwZW9mIG4pIHJldHVybiB2b2lkIGYoKHIgPSBuLCBvID0gZSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIHIuYXBwbHkobywgYXJndW1lbnRzKTsKICAgICAgICAgICAgfSksIHQpOwogICAgICAgICAgfQoKICAgICAgICAgIHQuX3N0YXRlID0gMSwgdC5fdmFsdWUgPSBlLCBjKHQpOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIHModCwgZSk7CiAgICAgICAgfQoKICAgICAgICB2YXIgciwgbzsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gcyhlLCB0KSB7CiAgICAgICAgZS5fc3RhdGUgPSAyLCBlLl92YWx1ZSA9IHQsIGMoZSk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIGMoZSkgewogICAgICAgIDIgPT09IGUuX3N0YXRlICYmIDAgPT09IGUuX2RlZmVycmVkcy5sZW5ndGggJiYgaS5faW1tZWRpYXRlRm4oZnVuY3Rpb24gKCkgewogICAgICAgICAgZS5faGFuZGxlZCB8fCBpLl91bmhhbmRsZWRSZWplY3Rpb25GbihlLl92YWx1ZSk7CiAgICAgICAgfSk7CgogICAgICAgIGZvciAodmFyIHQgPSAwLCBuID0gZS5fZGVmZXJyZWRzLmxlbmd0aDsgdCA8IG47IHQrKykgewogICAgICAgICAgYShlLCBlLl9kZWZlcnJlZHNbdF0pOwogICAgICAgIH0KCiAgICAgICAgZS5fZGVmZXJyZWRzID0gbnVsbDsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gbChlLCB0LCBuKSB7CiAgICAgICAgdGhpcy5vbkZ1bGZpbGxlZCA9ICJmdW5jdGlvbiIgPT0gdHlwZW9mIGUgPyBlIDogbnVsbCwgdGhpcy5vblJlamVjdGVkID0gImZ1bmN0aW9uIiA9PSB0eXBlb2YgdCA/IHQgOiBudWxsLCB0aGlzLnByb21pc2UgPSBuOwogICAgICB9CgogICAgICBmdW5jdGlvbiBmKGUsIHQpIHsKICAgICAgICB2YXIgbiA9ICExOwoKICAgICAgICB0cnkgewogICAgICAgICAgZShmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBuIHx8IChuID0gITAsIHUodCwgZSkpOwogICAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgbiB8fCAobiA9ICEwLCBzKHQsIGUpKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIGlmIChuKSByZXR1cm47CiAgICAgICAgICBuID0gITAsIHModCwgZSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBlID0gciwgdCA9ICJ1bmRlZmluZWQiICE9IHR5cGVvZiBnbG9iYWxUaGlzID8gZ2xvYmFsVGhpcyA6ICJ1bmRlZmluZWQiICE9IHR5cGVvZiB3aW5kb3cgPyB3aW5kb3cgOiAidW5kZWZpbmVkIiAhPSB0eXBlb2YgZ2xvYmFsID8gZ2xvYmFsIDogInVuZGVmaW5lZCIgIT0gdHlwZW9mIHNlbGYgPyBzZWxmIDoge30sIG4gPSBzZXRUaW1lb3V0LCBpLnByb3RvdHlwZS5jYXRjaCA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMudGhlbihudWxsLCBlKTsKICAgICAgfSwgaS5wcm90b3R5cGUudGhlbiA9IGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgdmFyIG4gPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihvKTsKICAgICAgICByZXR1cm4gYSh0aGlzLCBuZXcgbChlLCB0LCBuKSksIG47CiAgICAgIH0sIGkuYWxsID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgdSA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGUpOwogICAgICAgIHJldHVybiBuZXcgaShmdW5jdGlvbiAobywgaSkgewogICAgICAgICAgaWYgKDAgPT09IHUubGVuZ3RoKSByZXR1cm4gbyhbXSk7CgogICAgICAgICAgZm9yICh2YXIgYSA9IHUubGVuZ3RoLCBlID0gMDsgZSA8IHUubGVuZ3RoOyBlKyspIHsKICAgICAgICAgICAgIWZ1bmN0aW9uIHQobiwgZSkgewogICAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgICBpZiAoZSAmJiAoIm9iamVjdCIgPT0gX3R5cGVvZihlKSB8fCAiZnVuY3Rpb24iID09IHR5cGVvZiBlKSkgewogICAgICAgICAgICAgICAgICB2YXIgciA9IGUudGhlbjsKICAgICAgICAgICAgICAgICAgaWYgKCJmdW5jdGlvbiIgPT0gdHlwZW9mIHIpIHJldHVybiByLmNhbGwoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICB0KG4sIGUpOwogICAgICAgICAgICAgICAgICB9LCBpKSwgMDsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICB1W25dID0gZSwgMCA9PSAtLWEgJiYgbyh1KTsKICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgICAgICBpKGUpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfShlLCB1W2VdKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSwgaS5yZXNvbHZlID0gZnVuY3Rpb24gKHQpIHsKICAgICAgICByZXR1cm4gdCAmJiAib2JqZWN0IiA9PSBfdHlwZW9mKHQpICYmIHQuY29uc3RydWN0b3IgPT09IGkgPyB0IDogbmV3IGkoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGUodCk7CiAgICAgICAgfSk7CiAgICAgIH0sIGkucmVqZWN0ID0gZnVuY3Rpb24gKG4pIHsKICAgICAgICByZXR1cm4gbmV3IGkoZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgIHQobik7CiAgICAgICAgfSk7CiAgICAgIH0sIGkucmFjZSA9IGZ1bmN0aW9uIChvKSB7CiAgICAgICAgcmV0dXJuIG5ldyBpKGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgICBmb3IgKHZhciBuID0gMCwgciA9IG8ubGVuZ3RoOyBuIDwgcjsgbisrKSB7CiAgICAgICAgICAgIG9bbl0udGhlbihlLCB0KTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSwgaS5faW1tZWRpYXRlRm4gPSAiZnVuY3Rpb24iID09IHR5cGVvZiBzZXRJbW1lZGlhdGUgPyBmdW5jdGlvbiAoZSkgewogICAgICAgIHNldEltbWVkaWF0ZShlKTsKICAgICAgfSA6IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgbihlLCAwKTsKICAgICAgfSwgaS5fdW5oYW5kbGVkUmVqZWN0aW9uRm4gPSBmdW5jdGlvbiAoZSkgewogICAgICAgICJ1bmRlZmluZWQiICE9IHR5cGVvZiBjb25zb2xlICYmIGNvbnNvbGUgJiYgY29uc29sZS53YXJuKCJQb3NzaWJsZSBVbmhhbmRsZWQgUHJvbWlzZSBSZWplY3Rpb246IiwgZSk7CiAgICAgIH0sIGkuX3NldEltbWVkaWF0ZUZuID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICBpLl9pbW1lZGlhdGVGbiA9IGU7CiAgICAgIH0sIGkuX3NldFVuaGFuZGxlZFJlamVjdGlvbkZuID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICBpLl91bmhhbmRsZWRSZWplY3Rpb25GbiA9IGU7CiAgICAgIH0sIGUuZXhwb3J0cyA/IGUuZXhwb3J0cyA9IGkgOiB0LlByb21pc2UgfHwgKHQuUHJvbWlzZSA9IGkpOwogICAgICB2YXIgZCA9IHIuZXhwb3J0czsKICAgICAgcmV0dXJuIHsKICAgICAgICBib2x0RXhwb3J0OiAoInVuZGVmaW5lZCIgIT0gdHlwZW9mIHdpbmRvdyA/IHdpbmRvdyA6IEZ1bmN0aW9uKCJyZXR1cm4gdGhpczsiKSgpKS5Qcm9taXNlIHx8IGQKICAgICAgfTsKICAgIH07CgogICAgIm9iamVjdCIgPT0gX3R5cGVvZihlcikgJiYgdm9pZCAwICE9PSB0ciA/IHRyLmV4cG9ydHMgPSB0KCkgOiAoZSA9ICJ1bmRlZmluZWQiICE9IHR5cGVvZiBnbG9iYWxUaGlzID8gZ2xvYmFsVGhpcyA6IGUgfHwgc2VsZikuRXBob3hDb250YWN0V3JhcHBlciA9IHQoKTsKICB9KCk7CgogIGZ1bmN0aW9uIHJyKGUpIHsKICAgIHJldHVybiBzcihmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBuZXcgaXIoZSk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIG9yKGEpIHsKICAgIGlmICghUyhhKSkgdGhyb3cgbmV3IEVycm9yKCJjYXNlcyBtdXN0IGJlIGFuIGFycmF5Iik7CiAgICBpZiAoMCA9PT0gYS5sZW5ndGgpIHRocm93IG5ldyBFcnJvcigidGhlcmUgbXVzdCBiZSBhdCBsZWFzdCBvbmUgY2FzZSIpOwogICAgdmFyIHUgPSBbXSwKICAgICAgICBuID0ge307CiAgICByZXR1cm4gWShhLCBmdW5jdGlvbiAoZSwgcikgewogICAgICB2YXIgdCA9IHdlKGUpOwogICAgICBpZiAoMSAhPT0gdC5sZW5ndGgpIHRocm93IG5ldyBFcnJvcigib25lIGFuZCBvbmx5IG9uZSBuYW1lIHBlciBjYXNlIik7CiAgICAgIHZhciBvID0gdFswXSwKICAgICAgICAgIGkgPSBlW29dOwogICAgICBpZiAodm9pZCAwICE9PSBuW29dKSB0aHJvdyBuZXcgRXJyb3IoImR1cGxpY2F0ZSBrZXkgZGV0ZWN0ZWQ6IiArIG8pOwogICAgICBpZiAoImNhdGEiID09PSBvKSB0aHJvdyBuZXcgRXJyb3IoImNhbm5vdCBoYXZlIGEgY2FzZSBuYW1lZCBjYXRhIChzb3JyeSkiKTsKICAgICAgaWYgKCFTKGkpKSB0aHJvdyBuZXcgRXJyb3IoImNhc2UgYXJndW1lbnRzIG11c3QgYmUgYW4gYXJyYXkiKTsKICAgICAgdS5wdXNoKG8pLCBuW29dID0gZnVuY3Rpb24gKCkgewogICAgICAgIGZvciAodmFyIG4gPSBbXSwgZSA9IDA7IGUgPCBhcmd1bWVudHMubGVuZ3RoOyBlKyspIHsKICAgICAgICAgIG5bZV0gPSBhcmd1bWVudHNbZV07CiAgICAgICAgfQoKICAgICAgICB2YXIgdCA9IG4ubGVuZ3RoOwogICAgICAgIGlmICh0ICE9PSBpLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKCJXcm9uZyBudW1iZXIgb2YgYXJndW1lbnRzIHRvIGNhc2UgIiArIG8gKyAiLiBFeHBlY3RlZCAiICsgaS5sZW5ndGggKyAiICgiICsgaSArICIpLCBnb3QgIiArIHQpOwogICAgICAgIHJldHVybiB7CiAgICAgICAgICBmb2xkOiBmdW5jdGlvbiBmb2xkKCkgewogICAgICAgICAgICBmb3IgKHZhciBlID0gW10sIHQgPSAwOyB0IDwgYXJndW1lbnRzLmxlbmd0aDsgdCsrKSB7CiAgICAgICAgICAgICAgZVt0XSA9IGFyZ3VtZW50c1t0XTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGUubGVuZ3RoICE9PSBhLmxlbmd0aCkgdGhyb3cgbmV3IEVycm9yKCJXcm9uZyBudW1iZXIgb2YgYXJndW1lbnRzIHRvIGZvbGQuIEV4cGVjdGVkICIgKyBhLmxlbmd0aCArICIsIGdvdCAiICsgZS5sZW5ndGgpOwogICAgICAgICAgICByZXR1cm4gZVtyXS5hcHBseShudWxsLCBuKTsKICAgICAgICAgIH0sCiAgICAgICAgICBtYXRjaDogZnVuY3Rpb24gbWF0Y2goZSkgewogICAgICAgICAgICB2YXIgdCA9IHdlKGUpOwogICAgICAgICAgICBpZiAodS5sZW5ndGggIT09IHQubGVuZ3RoKSB0aHJvdyBuZXcgRXJyb3IoIldyb25nIG51bWJlciBvZiBhcmd1bWVudHMgdG8gbWF0Y2guIEV4cGVjdGVkOiAiICsgdS5qb2luKCIsIikgKyAiXG5BY3R1YWw6ICIgKyB0LmpvaW4oIiwiKSk7CiAgICAgICAgICAgIGlmICghaih1LCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIHJldHVybiBEKHQsIGUpOwogICAgICAgICAgICB9KSkgdGhyb3cgbmV3IEVycm9yKCJOb3QgYWxsIGJyYW5jaGVzIHdlcmUgc3BlY2lmaWVkIHdoZW4gdXNpbmcgbWF0Y2guIFNwZWNpZmllZDogIiArIHQuam9pbigiLCAiKSArICJcblJlcXVpcmVkOiAiICsgdS5qb2luKCIsICIpKTsKICAgICAgICAgICAgcmV0dXJuIGVbb10uYXBwbHkobnVsbCwgbik7CiAgICAgICAgICB9LAogICAgICAgICAgbG9nOiBmdW5jdGlvbiBsb2coZSkgewogICAgICAgICAgICBjb25zb2xlLmxvZyhlLCB7CiAgICAgICAgICAgICAgY29uc3RydWN0b3JzOiB1LAogICAgICAgICAgICAgIGNvbnN0cnVjdG9yOiBvLAogICAgICAgICAgICAgIHBhcmFtczogbgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9OwogICAgfSksIG47CiAgfQoKICB2YXIgaXIgPSB0ci5leHBvcnRzLmJvbHRFeHBvcnQsCiAgICAgIGFyID0gZnVuY3Rpb24gYXIoZSkgewogICAgZnVuY3Rpb24gcihlKSB7CiAgICAgIG8oKSA/IGkoZSkgOiB0LnB1c2goZSk7CiAgICB9CgogICAgdmFyIG4gPSB2ZS5ub25lKCksCiAgICAgICAgdCA9IFtdLAogICAgICAgIG8gPSBmdW5jdGlvbiBvKCkgewogICAgICByZXR1cm4gbi5pc1NvbWUoKTsKICAgIH0sCiAgICAgICAgaSA9IGZ1bmN0aW9uIGkodCkgewogICAgICBuLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHQoZSk7CiAgICAgICAgfSwgMCk7CiAgICAgIH0pOwogICAgfTsKCiAgICByZXR1cm4gZShmdW5jdGlvbiAoZSkgewogICAgICBvKCkgfHwgKG4gPSB2ZS5zb21lKGUpLCBZKHQsIGkpLCB0ID0gW10pOwogICAgfSksIHsKICAgICAgZ2V0OiByLAogICAgICBtYXA6IGZ1bmN0aW9uIG1hcChuKSB7CiAgICAgICAgcmV0dXJuIGFyKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICByKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHQobihlKSk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgaXNSZWFkeTogbwogICAgfTsKICB9LAogICAgICB1ciA9IHsKICAgIG51OiBhciwKICAgIHB1cmU6IGZ1bmN0aW9uIHB1cmUodCkgewogICAgICByZXR1cm4gYXIoZnVuY3Rpb24gKGUpIHsKICAgICAgICBlKHQpOwogICAgICB9KTsKICAgIH0KICB9LAogICAgICBzciA9IGZ1bmN0aW9uIHNyKG4pIHsKICAgIGZ1bmN0aW9uIGUoZSkgewogICAgICBuKCkudGhlbihlLCBucik7CiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgbWFwOiBmdW5jdGlvbiBtYXAoZSkgewogICAgICAgIHJldHVybiBzcihmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gbigpLnRoZW4oZSk7CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGJpbmQ6IGZ1bmN0aW9uIGJpbmQodCkgewogICAgICAgIHJldHVybiBzcihmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gbigpLnRoZW4oZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgcmV0dXJuIHQoZSkudG9Qcm9taXNlKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgYW5vbkJpbmQ6IGZ1bmN0aW9uIGFub25CaW5kKGUpIHsKICAgICAgICByZXR1cm4gc3IoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIG4oKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIGUudG9Qcm9taXNlKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgdG9MYXp5OiBmdW5jdGlvbiB0b0xhenkoKSB7CiAgICAgICAgcmV0dXJuIHVyLm51KGUpOwogICAgICB9LAogICAgICB0b0NhY2hlZDogZnVuY3Rpb24gdG9DYWNoZWQoKSB7CiAgICAgICAgdmFyIGUgPSBudWxsOwogICAgICAgIHJldHVybiBzcihmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gZSA9IG51bGwgPT09IGUgPyBuKCkgOiBlOwogICAgICAgIH0pOwogICAgICB9LAogICAgICB0b1Byb21pc2U6IG4sCiAgICAgIGdldDogZQogICAgfTsKICB9LAogICAgICBjciA9IGZ1bmN0aW9uIGNyKG4pIHsKICAgIHJldHVybiB7CiAgICAgIGlzVmFsdWU6IHcsCiAgICAgIGlzRXJyb3I6IFIsCiAgICAgIGdldE9yOiBKKG4pLAogICAgICBnZXRPclRodW5rOiBKKG4pLAogICAgICBnZXRPckRpZTogSihuKSwKICAgICAgb3I6IGZ1bmN0aW9uIG9yKGUpIHsKICAgICAgICByZXR1cm4gY3Iobik7CiAgICAgIH0sCiAgICAgIG9yVGh1bms6IGZ1bmN0aW9uIG9yVGh1bmsoZSkgewogICAgICAgIHJldHVybiBjcihuKTsKICAgICAgfSwKICAgICAgZm9sZDogZnVuY3Rpb24gZm9sZChlLCB0KSB7CiAgICAgICAgcmV0dXJuIHQobik7CiAgICAgIH0sCiAgICAgIG1hcDogZnVuY3Rpb24gbWFwKGUpIHsKICAgICAgICByZXR1cm4gY3IoZShuKSk7CiAgICAgIH0sCiAgICAgIG1hcEVycm9yOiBmdW5jdGlvbiBtYXBFcnJvcihlKSB7CiAgICAgICAgcmV0dXJuIGNyKG4pOwogICAgICB9LAogICAgICBlYWNoOiBmdW5jdGlvbiBlYWNoKGUpIHsKICAgICAgICBlKG4pOwogICAgICB9LAogICAgICBiaW5kOiBmdW5jdGlvbiBiaW5kKGUpIHsKICAgICAgICByZXR1cm4gZShuKTsKICAgICAgfSwKICAgICAgZXhpc3RzOiBmdW5jdGlvbiBleGlzdHMoZSkgewogICAgICAgIHJldHVybiBlKG4pOwogICAgICB9LAogICAgICBmb3JhbGw6IGZ1bmN0aW9uIGZvcmFsbChlKSB7CiAgICAgICAgcmV0dXJuIGUobik7CiAgICAgIH0sCiAgICAgIHRvT3B0aW9uYWw6IGZ1bmN0aW9uIHRvT3B0aW9uYWwoKSB7CiAgICAgICAgcmV0dXJuIHZlLnNvbWUobik7CiAgICAgIH0KICAgIH07CiAgfSwKICAgICAgbHIgPSBmdW5jdGlvbiBscihuKSB7CiAgICByZXR1cm4gewogICAgICBpc1ZhbHVlOiBSLAogICAgICBpc0Vycm9yOiB3LAogICAgICBnZXRPcjogdSwKICAgICAgZ2V0T3JUaHVuazogZnVuY3Rpb24gZ2V0T3JUaHVuayhlKSB7CiAgICAgICAgcmV0dXJuIGUoKTsKICAgICAgfSwKICAgICAgZ2V0T3JEaWU6IGZ1bmN0aW9uIGdldE9yRGllKCkgewogICAgICAgIHJldHVybiBlID0gU3RyaW5nKG4pLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZSk7CiAgICAgICAgfSgpOwogICAgICAgIHZhciBlOwogICAgICB9LAogICAgICBvcjogdSwKICAgICAgb3JUaHVuazogZnVuY3Rpb24gb3JUaHVuayhlKSB7CiAgICAgICAgcmV0dXJuIGUoKTsKICAgICAgfSwKICAgICAgZm9sZDogZnVuY3Rpb24gZm9sZChlLCB0KSB7CiAgICAgICAgcmV0dXJuIGUobik7CiAgICAgIH0sCiAgICAgIG1hcDogZnVuY3Rpb24gbWFwKGUpIHsKICAgICAgICByZXR1cm4gbHIobik7CiAgICAgIH0sCiAgICAgIG1hcEVycm9yOiBmdW5jdGlvbiBtYXBFcnJvcihlKSB7CiAgICAgICAgcmV0dXJuIGxyKGUobikpOwogICAgICB9LAogICAgICBlYWNoOiB0ZSwKICAgICAgYmluZDogZnVuY3Rpb24gYmluZChlKSB7CiAgICAgICAgcmV0dXJuIGxyKG4pOwogICAgICB9LAogICAgICBleGlzdHM6IFIsCiAgICAgIGZvcmFsbDogdywKICAgICAgdG9PcHRpb25hbDogdmUubm9uZQogICAgfTsKICB9LAogICAgICBmciA9IHsKICAgIHZhbHVlOiBjciwKICAgIGVycm9yOiBsciwKICAgIGZyb21PcHRpb246IGZ1bmN0aW9uIGZyb21PcHRpb24oZSwgdCkgewogICAgICByZXR1cm4gZS5mb2xkKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gbHIodCk7CiAgICAgIH0sIGNyKTsKICAgIH0KICB9OwoKICBmdW5jdGlvbiBkcihlKSB7CiAgICByZXR1cm4gZS5mb2xkKHUsIHUpOwogIH0KCiAgZnVuY3Rpb24gbXIoZSwgdCwgbiwgciwgbykgewogICAgcmV0dXJuIGUobiwgcikgPyB2ZS5zb21lKG4pIDogeShvKSAmJiBvKG4pID8gdmUubm9uZSgpIDogdChuLCByLCBvKTsKICB9CgogIGZ1bmN0aW9uIGdyKGUsIHQsIG4pIHsKICAgIGZvciAodmFyIHIgPSBlLmRvbSwgbyA9IHkobikgPyBuIDogUjsgci5wYXJlbnROb2RlOykgewogICAgICB2YXIgciA9IHIucGFyZW50Tm9kZSwKICAgICAgICAgIGkgPSBOdC5mcm9tRG9tKHIpOwogICAgICBpZiAodChpKSkgcmV0dXJuIHZlLnNvbWUoaSk7CiAgICAgIGlmIChvKGkpKSBicmVhazsKICAgIH0KCiAgICByZXR1cm4gdmUubm9uZSgpOwogIH0KCiAgZnVuY3Rpb24gcHIoZSwgdCwgbikgewogICAgcmV0dXJuIG1yKGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHJldHVybiB0KGUpOwogICAgfSwgZ3IsIGUsIHQsIG4pOwogIH0KCiAgZnVuY3Rpb24gaHIoZSwgdCwgbikgewogICAgcmV0dXJuIGdyKGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiB6ZShlLCB0KTsKICAgIH0sIG4pOwogIH0KCiAgZnVuY3Rpb24gdnIoZSwgdCkgewogICAgcmV0dXJuIG4gPSB0LCBIZShyID0gdm9pZCAwID09PSBlID8gZG9jdW1lbnQgOiBlLmRvbSkgPyB2ZS5ub25lKCkgOiB2ZS5mcm9tKHIucXVlcnlTZWxlY3RvcihuKSkubWFwKE50LmZyb21Eb20pOwogICAgdmFyIG4sIHI7CiAgfQoKICBmdW5jdGlvbiBicihlLCB0LCBuKSB7CiAgICByZXR1cm4gbXIoemUsIGhyLCBlLCB0LCBuKTsKICB9CgogIGZ1bmN0aW9uIHlyKGUsIHQpIHsKICAgIHJldHVybiAibnVtYmVyIiAhPSB0eXBlb2YgdCAmJiAodCA9IDApLCBzZXRUaW1lb3V0KGUsIHQpOwogIH0KCiAgZnVuY3Rpb24gQ3IoZSwgdCkgewogICAgcmV0dXJuICJudW1iZXIiICE9IHR5cGVvZiB0ICYmICh0ID0gMSksIHNldEludGVydmFsKGUsIHQpOwogIH0KCiAgZnVuY3Rpb24geHIobiwgcikgewogICAgZnVuY3Rpb24gZSgpIHsKICAgICAgZm9yICh2YXIgZSA9IFtdLCB0ID0gMDsgdCA8IGFyZ3VtZW50cy5sZW5ndGg7IHQrKykgewogICAgICAgIGVbdF0gPSBhcmd1bWVudHNbdF07CiAgICAgIH0KCiAgICAgIGNsZWFyVGltZW91dChvKSwgbyA9IHlyKGZ1bmN0aW9uICgpIHsKICAgICAgICBuLmFwcGx5KHRoaXMsIGUpOwogICAgICB9LCByKTsKICAgIH0KCiAgICB2YXIgbzsKICAgIHJldHVybiBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGNsZWFyVGltZW91dChvKTsKICAgIH0sIGU7CiAgfQoKICBmdW5jdGlvbiB3cihtLCBnKSB7CiAgICBmdW5jdGlvbiBuKGUsIHQsIG4pIHsKICAgICAgdmFyIHIsCiAgICAgICAgICBvID0gRXQuX2FkZENhY2hlU3VmZml4KGUpLAogICAgICAgICAgaSA9IHVlKGgsIG8pLmdldE9yVGh1bmsoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICBpZDogIm1jZS11IiArIHArKywKICAgICAgICAgIHBhc3NlZDogW10sCiAgICAgICAgICBmYWlsZWQ6IFtdLAogICAgICAgICAgY291bnQ6IDAKICAgICAgICB9OwogICAgICB9KTsKCiAgICAgIGZ1bmN0aW9uIGEoZSwgdCkgewogICAgICAgIGZvciAodmFyIG4gPSBlLmxlbmd0aDsgbi0tOykgewogICAgICAgICAgZVtuXSgpOwogICAgICAgIH0KCiAgICAgICAgaS5zdGF0dXMgPSB0LCBpLnBhc3NlZCA9IFtdLCBpLmZhaWxlZCA9IFtdLCByICYmIChyLm9ubG9hZCA9IG51bGwsIHIub25lcnJvciA9IG51bGwsIHIgPSBudWxsKTsKICAgICAgfQoKICAgICAgZnVuY3Rpb24gdSgpIHsKICAgICAgICByZXR1cm4gYShpLnBhc3NlZCwgMiksIDA7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHMoKSB7CiAgICAgICAgcmV0dXJuIGEoaS5mYWlsZWQsIDMpOwogICAgICB9CgogICAgICAoaFtvXSA9IGkpLmNvdW50Kys7CgogICAgICB2YXIgYywKICAgICAgICAgIGwsCiAgICAgICAgICBmLAogICAgICAgICAgZCA9IGZ1bmN0aW9uIGQoKSB7CiAgICAgICAgdmFyIGUgPSBkOwogICAgICAgICFmdW5jdGlvbiAoKSB7CiAgICAgICAgICBmb3IgKHZhciBlID0gbS5zdHlsZVNoZWV0cywgdCA9IGUubGVuZ3RoOyB0LS07KSB7CiAgICAgICAgICAgIHZhciBuID0gZVt0XS5vd25lck5vZGU7CiAgICAgICAgICAgIGlmIChuICYmIG4uaWQgPT09IHIuaWQpIHJldHVybiB1KCksIDE7CiAgICAgICAgICB9CiAgICAgICAgfSgpICYmIChEYXRlLm5vdygpIC0gbCA8IHkgPyBfci5zZXRUaW1lb3V0KGUpIDogcygpKTsKICAgICAgfTsKCiAgICAgIHQgJiYgaS5wYXNzZWQucHVzaCh0KSwgbiAmJiBpLmZhaWxlZC5wdXNoKG4pLCAxICE9PSBpLnN0YXR1cyAmJiAoMiAhPT0gaS5zdGF0dXMgPyAzICE9PSBpLnN0YXR1cyA/IChpLnN0YXR1cyA9IDEsIGhuKGMgPSBOdC5mcm9tVGFnKCJsaW5rIiwgYi5kb20pLCB7CiAgICAgICAgcmVsOiAic3R5bGVzaGVldCIsCiAgICAgICAgdHlwZTogInRleHQvY3NzIiwKICAgICAgICBpZDogaS5pZAogICAgICB9KSwgbCA9IERhdGUubm93KCksIGcuY29udGVudENzc0NvcnMgJiYgcG4oYywgImNyb3NzT3JpZ2luIiwgImFub255bW91cyIpLCBnLnJlZmVycmVyUG9saWN5ICYmIHBuKGMsICJyZWZlcnJlcnBvbGljeSIsIGcucmVmZXJyZXJQb2xpY3kpLCAociA9IGMuZG9tKS5vbmxvYWQgPSBkLCByLm9uZXJyb3IgPSBzLCBmID0gYywgUG4oanQodiksIGYpLCBwbihjLCAiaHJlZiIsIG8pKSA6IHMoKSA6IHUoKSk7CiAgICB9CgogICAgZnVuY3Rpb24gbyh0KSB7CiAgICAgIHJldHVybiBycihmdW5jdGlvbiAoZSkgewogICAgICAgIG4odCwgaShlLCBKKGZyLnZhbHVlKHQpKSksIGkoZSwgSihmci5lcnJvcih0KSkpKTsKICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gdChlKSB7CiAgICAgIHZhciBuID0gRXQuX2FkZENhY2hlU3VmZml4KGUpOwoKICAgICAgdWUoaCwgbikuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciB0OwogICAgICAgIDAgPT0gLS1lLmNvdW50ICYmIChkZWxldGUgaFtuXSwgdCA9IGUuaWQsIHZyKGp0KHYpLCAiIyIgKyB0KS5lYWNoKExuKSk7CiAgICAgIH0pOwogICAgfQoKICAgIHZvaWQgMCA9PT0gZyAmJiAoZyA9IHt9KTsKICAgIHZhciBwID0gMCwKICAgICAgICBoID0ge30sCiAgICAgICAgdiA9IE50LmZyb21Eb20obSksCiAgICAgICAgYiA9IER0KHYpLAogICAgICAgIHkgPSBnLm1heExvYWRUaW1lIHx8IDVlMzsKICAgIHJldHVybiB7CiAgICAgIGxvYWQ6IG4sCiAgICAgIGxvYWRBbGw6IGZ1bmN0aW9uIGxvYWRBbGwoZSwgbiwgcikgewogICAgICAgIHZhciBhLAogICAgICAgICAgICB0ID0gVChlLCBvKTsKICAgICAgICBhID0gdCwgcnIoZnVuY3Rpb24gKHIpIHsKICAgICAgICAgIHZhciBvID0gW10sCiAgICAgICAgICAgICAgaSA9IDA7CiAgICAgICAgICAwID09PSBhLmxlbmd0aCA/IHIoW10pIDogWShhLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgICAgICB2YXIgbjsKICAgICAgICAgICAgZS5nZXQoKG4gPSB0LCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIG9bbl0gPSBlLCArK2kgPj0gYS5sZW5ndGggJiYgcihvKTsKICAgICAgICAgICAgfSkpOwogICAgICAgICAgfSk7CiAgICAgICAgfSkuZ2V0KGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgdCA9IEIoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgcmV0dXJuIGUuaXNWYWx1ZSgpOwogICAgICAgICAgfSk7CiAgICAgICAgICAwIDwgdC5mYWlsLmxlbmd0aCA/IHIodC5mYWlsLm1hcChkcikpIDogbih0LnBhc3MubWFwKGRyKSk7CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHVubG9hZDogdCwKICAgICAgdW5sb2FkQWxsOiBmdW5jdGlvbiB1bmxvYWRBbGwoZSkgewogICAgICAgIFkoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHQoZSk7CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIF9zZXRSZWZlcnJlclBvbGljeTogZnVuY3Rpb24gX3NldFJlZmVycmVyUG9saWN5KGUpIHsKICAgICAgICBnLnJlZmVycmVyUG9saWN5ID0gZTsKICAgICAgfQogICAgfTsKICB9CgogIG9yKFt7CiAgICBib3RoRXJyb3JzOiBbImVycm9yMSIsICJlcnJvcjIiXQogIH0sIHsKICAgIGZpcnN0RXJyb3I6IFsiZXJyb3IxIiwgInZhbHVlMiJdCiAgfSwgewogICAgc2Vjb25kRXJyb3I6IFsidmFsdWUxIiwgImVycm9yMiJdCiAgfSwgewogICAgYm90aFZhbHVlczogWyJ2YWx1ZTEiLCAidmFsdWUyIl0KICB9XSk7CgogIHZhciBTciwKICAgICAgRXIsCiAgICAgIE5yID0gZnVuY3Rpb24gTnIoZSwgdCkgewogICAgcmV0dXJuIE0oZS5kb20uY2hpbGROb2RlcywgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHQoTnQuZnJvbURvbShlKSk7CiAgICB9KS5tYXAoTnQuZnJvbURvbSk7CiAgfSwKICAgICAga3IgPSB3aW5kb3cuUHJvbWlzZSB8fCBpciwKICAgICAgX3IgPSB7CiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWU6IGZ1bmN0aW9uIHJlcXVlc3RBbmltYXRpb25GcmFtZShlLCB0KSB7CiAgICAgIFNyID8gU3IudGhlbihlKSA6IFNyID0gbmV3IGtyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgKGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgICBmb3IgKHZhciBuID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSwgciA9IFsibXMiLCAibW96IiwgIndlYmtpdCJdLCBvID0gMDsgbyA8IHIubGVuZ3RoICYmICFuOyBvKyspIHsKICAgICAgICAgICAgbiA9IHdpbmRvd1tyW29dICsgIlJlcXVlc3RBbmltYXRpb25GcmFtZSJdOwogICAgICAgICAgfQoKICAgICAgICAgIChuID0gbiB8fCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChlLCAwKTsKICAgICAgICAgIH0pKGUsIHQpOwogICAgICAgIH0pKGUsIHQgPSB0IHx8IGRvY3VtZW50LmJvZHkpOwogICAgICB9KS50aGVuKGUpOwogICAgfSwKICAgIHNldFRpbWVvdXQ6IHlyLAogICAgc2V0SW50ZXJ2YWw6IENyLAogICAgc2V0RWRpdG9yVGltZW91dDogZnVuY3Rpb24gc2V0RWRpdG9yVGltZW91dChlLCB0LCBuKSB7CiAgICAgIHJldHVybiB5cihmdW5jdGlvbiAoKSB7CiAgICAgICAgZS5yZW1vdmVkIHx8IHQoKTsKICAgICAgfSwgbik7CiAgICB9LAogICAgc2V0RWRpdG9ySW50ZXJ2YWw6IGZ1bmN0aW9uIHNldEVkaXRvckludGVydmFsKGUsIHQsIG4pIHsKICAgICAgdmFyIHIgPSBDcihmdW5jdGlvbiAoKSB7CiAgICAgICAgZS5yZW1vdmVkID8gY2xlYXJJbnRlcnZhbChyKSA6IHQoKTsKICAgICAgfSwgbik7CiAgICAgIHJldHVybiByOwogICAgfSwKICAgIGRlYm91bmNlOiB4ciwKICAgIHRocm90dGxlOiB4ciwKICAgIGNsZWFySW50ZXJ2YWw6IGZ1bmN0aW9uIChfY2xlYXJJbnRlcnZhbCkgewogICAgICBmdW5jdGlvbiBjbGVhckludGVydmFsKF94MikgewogICAgICAgIHJldHVybiBfY2xlYXJJbnRlcnZhbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICBjbGVhckludGVydmFsLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBfY2xlYXJJbnRlcnZhbC50b1N0cmluZygpOwogICAgICB9OwoKICAgICAgcmV0dXJuIGNsZWFySW50ZXJ2YWw7CiAgICB9KGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBjbGVhckludGVydmFsKGUpOwogICAgfSksCiAgICBjbGVhclRpbWVvdXQ6IGZ1bmN0aW9uIChfY2xlYXJUaW1lb3V0KSB7CiAgICAgIGZ1bmN0aW9uIGNsZWFyVGltZW91dChfeDMpIHsKICAgICAgICByZXR1cm4gX2NsZWFyVGltZW91dC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICBjbGVhclRpbWVvdXQudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF9jbGVhclRpbWVvdXQudG9TdHJpbmcoKTsKICAgICAgfTsKCiAgICAgIHJldHVybiBjbGVhclRpbWVvdXQ7CiAgICB9KGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBjbGVhclRpbWVvdXQoZSk7CiAgICB9KQogIH0sCiAgICAgIEFyID0gKEVyID0gbmV3IFdlYWtNYXAoKSwgewogICAgZm9yRWxlbWVudDogZnVuY3Rpb24gZm9yRWxlbWVudChlLCB0KSB7CiAgICAgIHZhciBuID0gQm4oZSkuZG9tOwogICAgICByZXR1cm4gdmUuZnJvbShFci5nZXQobikpLmdldE9yVGh1bmsoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBlID0gd3IobiwgdCk7CiAgICAgICAgcmV0dXJuIEVyLnNldChuLCBlKSwgZTsKICAgICAgfSk7CiAgICB9CiAgfSksCiAgICAgIFJyID0gKERyLnByb3RvdHlwZS5jdXJyZW50ID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMubm9kZTsKICB9LCBEci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gdGhpcy5ub2RlID0gdGhpcy5maW5kU2libGluZyh0aGlzLm5vZGUsICJmaXJzdENoaWxkIiwgIm5leHRTaWJsaW5nIiwgZSksIHRoaXMubm9kZTsKICB9LCBEci5wcm90b3R5cGUucHJldiA9IGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gdGhpcy5ub2RlID0gdGhpcy5maW5kU2libGluZyh0aGlzLm5vZGUsICJsYXN0Q2hpbGQiLCAicHJldmlvdXNTaWJsaW5nIiwgZSksIHRoaXMubm9kZTsKICB9LCBEci5wcm90b3R5cGUucHJldjIgPSBmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuIHRoaXMubm9kZSA9IHRoaXMuZmluZFByZXZpb3VzTm9kZSh0aGlzLm5vZGUsICJsYXN0Q2hpbGQiLCAicHJldmlvdXNTaWJsaW5nIiwgZSksIHRoaXMubm9kZTsKICB9LCBEci5wcm90b3R5cGUuZmluZFNpYmxpbmcgPSBmdW5jdGlvbiAoZSwgdCwgbiwgcikgewogICAgdmFyIG8sIGk7CgogICAgaWYgKGUpIHsKICAgICAgaWYgKCFyICYmIGVbdF0pIHJldHVybiBlW3RdOwoKICAgICAgaWYgKGUgIT09IHRoaXMucm9vdE5vZGUpIHsKICAgICAgICBpZiAobyA9IGVbbl0pIHJldHVybiBvOwoKICAgICAgICBmb3IgKGkgPSBlLnBhcmVudE5vZGU7IGkgJiYgaSAhPT0gdGhpcy5yb290Tm9kZTsgaSA9IGkucGFyZW50Tm9kZSkgewogICAgICAgICAgaWYgKG8gPSBpW25dKSByZXR1cm4gbzsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LCBEci5wcm90b3R5cGUuZmluZFByZXZpb3VzTm9kZSA9IGZ1bmN0aW9uIChlLCB0LCBuLCByKSB7CiAgICB2YXIgbywgaSwgYTsKCiAgICBpZiAoZSAmJiAobyA9IGVbbl0sICF0aGlzLnJvb3ROb2RlIHx8IG8gIT09IHRoaXMucm9vdE5vZGUpKSB7CiAgICAgIGlmIChvKSB7CiAgICAgICAgaWYgKCFyKSBmb3IgKGEgPSBvW3RdOyBhOyBhID0gYVt0XSkgewogICAgICAgICAgaWYgKCFhW3RdKSByZXR1cm4gYTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG87CiAgICAgIH0KCiAgICAgIHJldHVybiAoaSA9IGUucGFyZW50Tm9kZSkgJiYgaSAhPT0gdGhpcy5yb290Tm9kZSA/IGkgOiB2b2lkIDA7CiAgICB9CiAgfSwgRHIpOwoKICBmdW5jdGlvbiBEcihlLCB0KSB7CiAgICB0aGlzLm5vZGUgPSBlLCB0aGlzLnJvb3ROb2RlID0gdCwgdGhpcy5jdXJyZW50ID0gdGhpcy5jdXJyZW50LmJpbmQodGhpcyksIHRoaXMubmV4dCA9IHRoaXMubmV4dC5iaW5kKHRoaXMpLCB0aGlzLnByZXYgPSB0aGlzLnByZXYuYmluZCh0aGlzKSwgdGhpcy5wcmV2MiA9IHRoaXMucHJldjIuYmluZCh0aGlzKTsKICB9CgogIGZ1bmN0aW9uIFRyKHQpIHsKICAgIHZhciBuOwogICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBuID0gbiB8fCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIGZvciAodmFyIG4gPSB7fSwgciA9IDAsIG8gPSBlLmxlbmd0aDsgciA8IG87IHIrKykgewogICAgICAgICAgdmFyIGkgPSBlW3JdOwogICAgICAgICAgbltTdHJpbmcoaSldID0gdChpLCByKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBuOwogICAgICB9KHQsIHcpLCBOZShuLCBrdChlKSk7CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gT3IoZSkgewogICAgcmV0dXJuIGtuKGUpICYmICFsbyhlKTsKICB9CgogIGZ1bmN0aW9uIEJyKGUpIHsKICAgIHJldHVybiBrbihlKSAmJiAiYnIiID09PSBrdChlKTsKICB9CgogIGZ1bmN0aW9uIFByKGUpIHsKICAgIHJldHVybiBFbyhlKSAmJiAoZSA9IGUucGFyZW50Tm9kZSksIFNvKGUpICYmIGUuaGFzQXR0cmlidXRlKCJkYXRhLW1jZS1jYXJldCIpOwogIH0KCiAgZnVuY3Rpb24gTHIoZSkgewogICAgcmV0dXJuIEVvKGUpICYmIHhvKGUuZGF0YSk7CiAgfQoKICBmdW5jdGlvbiBJcihlKSB7CiAgICByZXR1cm4gUHIoZSkgfHwgTHIoZSk7CiAgfQoKICBmdW5jdGlvbiBNcihlKSB7CiAgICByZXR1cm4gZS5maXJzdENoaWxkICE9PSBlLmxhc3RDaGlsZCB8fCAhV24oZS5maXJzdENoaWxkKTsKICB9CgogIGZ1bmN0aW9uIEZyKGUpIHsKICAgIHZhciB0ID0gZS5jb250YWluZXIoKTsKICAgIHJldHVybiAhIWpuKHQpICYmICh0LmRhdGEuY2hhckF0KGUub2Zmc2V0KCkpID09PSBDbyB8fCBlLmlzQXRTdGFydCgpICYmIExyKHQucHJldmlvdXNTaWJsaW5nKSk7CiAgfQoKICBmdW5jdGlvbiBVcihlKSB7CiAgICB2YXIgdCA9IGUuY29udGFpbmVyKCk7CiAgICByZXR1cm4gISFqbih0KSAmJiAodC5kYXRhLmNoYXJBdChlLm9mZnNldCgpIC0gMSkgPT09IENvIHx8IGUuaXNBdEVuZCgpICYmIExyKHQubmV4dFNpYmxpbmcpKTsKICB9CgogIGZ1bmN0aW9uIHpyKGUpIHsKICAgIHJldHVybiBlICYmIGUuaGFzQXR0cmlidXRlKCJkYXRhLW1jZS1jYXJldCIpID8gKHNuKG4gPSAodCA9IGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJyIikpW3QubGVuZ3RoIC0gMV0pICYmIG4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChuKSwgZS5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtbWNlLWNhcmV0IiksIGUucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIpLCBlLnJlbW92ZUF0dHJpYnV0ZSgic3R5bGUiKSwgZS5yZW1vdmVBdHRyaWJ1dGUoIl9tb3pfYWJzcG9zIiksIGUpIDogbnVsbDsKICAgIHZhciB0LCBuOwogIH0KCiAgZnVuY3Rpb24gSHIoZSkgewogICAgcmV0dXJuIFByKGUuc3RhcnRDb250YWluZXIpOwogIH0KCiAgZnVuY3Rpb24ganIoZSkgewogICAgcmV0dXJuICFQbyhlKSAmJiAoRG8oZSkgPyAhVG8oZS5wYXJlbnROb2RlKSA6IE9vKGUpIHx8IFJvKGUpIHx8IEJvKGUpIHx8IExvKGUpKTsKICB9CgogIGZ1bmN0aW9uIFZyKGUsIHQpIHsKICAgIHJldHVybiBqcihlKSAmJiBmdW5jdGlvbiAoZSwgdCkgewogICAgICBmb3IgKGUgPSBlLnBhcmVudE5vZGU7IGUgJiYgZSAhPT0gdDsgZSA9IGUucGFyZW50Tm9kZSkgewogICAgICAgIGlmIChMbyhlKSkgcmV0dXJuICExOwogICAgICAgIGlmIChfbyhlKSkgcmV0dXJuICEwOwogICAgICB9CgogICAgICByZXR1cm4gITA7CiAgICB9KGUsIHQpOwogIH0KCiAgZnVuY3Rpb24gcXIoZSkgewogICAgcmV0dXJuIElvLnRlc3QoZSk7CiAgfQoKICBmdW5jdGlvbiAkcihlLCB0KSB7CiAgICByZXR1cm4ganIoZSkgJiYgITEgPT09IChhID0gdCwgam4oaSA9IGUpICYmIHFyKGkuZGF0YSkgJiYgITEgPT09IChuID0gaSwgciA9IE50LmZyb21Eb20oYSksIGhyKE50LmZyb21Eb20obiksICJwcmUsY29kZSIsIEEoamUsIHIpKS5pc1NvbWUoKSkpIHx8IHpuKG8gPSBlKSAmJiAiQSIgPT09IG8ubm9kZU5hbWUgJiYgIW8uaGFzQXR0cmlidXRlKCJocmVmIikgJiYgKG8uaGFzQXR0cmlidXRlKCJuYW1lIikgfHwgby5oYXNBdHRyaWJ1dGUoImlkIikpIHx8IE1vKGUpOwogICAgdmFyIG4sIHIsIG8sIGksIGE7CiAgfQoKICBmdW5jdGlvbiBXcihlLCB0KSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgdmFyIG4gPSAwOwogICAgICBpZiAoJHIoZSwgZSkpIHJldHVybiAhMTsKICAgICAgdmFyIHIgPSBlLmZpcnN0Q2hpbGQ7CiAgICAgIGlmICghcikgcmV0dXJuICEwOwogICAgICB2YXIgbyA9IG5ldyBScihyLCBlKTsKCiAgICAgIGRvIHsKICAgICAgICBpZiAodCkgewogICAgICAgICAgaWYgKFVvKHIpKSB7CiAgICAgICAgICAgIHIgPSBvLm5leHQoITApOwogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoRm8ocikpIHsKICAgICAgICAgICAgciA9IG8ubmV4dCgpOwogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChXbihyKSkgbisrLCByID0gby5uZXh0KCk7ZWxzZSB7CiAgICAgICAgICBpZiAoJHIociwgZSkpIHJldHVybiAhMTsKICAgICAgICAgIHIgPSBvLm5leHQoKTsKICAgICAgICB9CiAgICAgIH0gd2hpbGUgKHIpOwoKICAgICAgcmV0dXJuIG4gPD0gMTsKICAgIH0oZS5kb20sIHQgPSB2b2lkIDAgPT09IHQgfHwgdCk7CiAgfQoKICBmdW5jdGlvbiBLcihlLCB0KSB7CiAgICByZXR1cm4gVihlKSAmJiAoJHIoZSwgdCkgfHwgT3IoTnQuZnJvbURvbShlKSkpOwogIH0KCiAgZnVuY3Rpb24gWHIoZSkgewogICAgcmV0dXJuICJzcGFuIiA9PT0gZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICYmICJib29rbWFyayIgPT09IGUuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS10eXBlIik7CiAgfQoKICBmdW5jdGlvbiBZcihlLCB0KSB7CiAgICB2YXIgbiwKICAgICAgICByLAogICAgICAgIG8sCiAgICAgICAgaSA9IHt9OwoKICAgIGlmIChlKSB7CiAgICAgIGZvciAoZSA9IGUuc3BsaXQoIiwiKSwgdCA9IHQgfHwgMTAsIG4gPSAwOyBuIDwgZS5sZW5ndGg7IG4gKz0gMikgewogICAgICAgIHIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGVbbl0sIHQpKSwgS29bcl0gfHwgKG8gPSAiJiIgKyBlW24gKyAxXSArICI7IiwgaVtyXSA9IG8sIGlbb10gPSByKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBHcihlLCB0KSB7CiAgICByZXR1cm4gZS5yZXBsYWNlKHQgPyBqbyA6IFZvLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gS29bZV0gfHwgZTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gSnIoZSwgdCkgewogICAgcmV0dXJuIGUucmVwbGFjZSh0ID8gam8gOiBWbywgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIDEgPCBlLmxlbmd0aCA/ICImIyIgKyAoMTAyNCAqIChlLmNoYXJDb2RlQXQoMCkgLSA1NTI5NikgKyAoZS5jaGFyQ29kZUF0KDEpIC0gNTYzMjApICsgNjU1MzYpICsgIjsiIDogS29bZV0gfHwgIiYjIiArIGUuY2hhckNvZGVBdCgwKSArICI7IjsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gUXIoZSwgdCwgbikgewogICAgcmV0dXJuIG4gPSBuIHx8IFlvLCBlLnJlcGxhY2UodCA/IGpvIDogVm8sIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBLb1tlXSB8fCBuW2VdIHx8IGU7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIFpyKGUsIHQpIHsKICAgIHJldHVybiAoZSA9IEV0LnRyaW0oZSkpID8gZS5zcGxpdCh0IHx8ICIgIikgOiBbXTsKICB9CgogIGZ1bmN0aW9uIGVvKGUsIG4pIHsKICAgIHZhciByOwogICAgcmV0dXJuIGUgJiYgKHIgPSB7fSwgZWkoZSA9ICJzdHJpbmciID09IHR5cGVvZiBlID8gewogICAgICAiKiI6IGUKICAgIH0gOiBlLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICByW3RdID0gclt0LnRvVXBwZXJDYXNlKCldID0gKCJtYXAiID09PSBuID8gWm8gOiBuaSkoZSwgL1ssIF0vKTsKICAgIH0pKSwgcjsKICB9CgogIGZ1bmN0aW9uIHRvKGkpIHsKICAgIGZ1bmN0aW9uIGUoZSwgdCwgbikgewogICAgICB2YXIgciA9IGlbZV07CiAgICAgIHJldHVybiByID8gciA9IFpvKHIsIC9bLCBdLywgWm8oci50b1VwcGVyQ2FzZSgpLCAvWywgXS8pKSA6IChyID0gSm9bZV0pIHx8IChyID0gWm8odCwgIiAiLCBabyh0LnRvVXBwZXJDYXNlKCksICIgIikpLCByID0gdGkociwgbiksIEpvW2VdID0gciksIHI7CiAgICB9CgogICAgdmFyIHQsCiAgICAgICAgcywKICAgICAgICBuLAogICAgICAgIHIsCiAgICAgICAgbywKICAgICAgICBhLAogICAgICAgIHUsCiAgICAgICAgYywKICAgICAgICBTID0ge30sCiAgICAgICAgbCA9IHt9LAogICAgICAgIEUgPSBbXSwKICAgICAgICBmID0ge30sCiAgICAgICAgZCA9IHt9LAogICAgICAgIG0gPSAodCA9IChpID0gaSB8fCB7fSkuc2NoZW1hLCBjID0ge30sIEpvW3RdIHx8IChzID0gImlkIGFjY2Vzc2tleSBjbGFzcyBkaXIgbGFuZyBzdHlsZSB0YWJpbmRleCB0aXRsZSByb2xlIiwgbiA9ICJhZGRyZXNzIGJsb2NrcXVvdGUgZGl2IGRsIGZpZWxkc2V0IGZvcm0gaDEgaDIgaDMgaDQgaDUgaDYgaHIgbWVudSBvbCBwIHByZSB0YWJsZSB1bCIsIHIgPSAiYSBhYmJyIGIgYmRvIGJyIGJ1dHRvbiBjaXRlIGNvZGUgZGVsIGRmbiBlbSBlbWJlZCBpIGlmcmFtZSBpbWcgaW5wdXQgaW5zIGtiZCBsYWJlbCBtYXAgbm9zY3JpcHQgb2JqZWN0IHEgcyBzYW1wIHNjcmlwdCBzZWxlY3Qgc21hbGwgc3BhbiBzdHJvbmcgc3ViIHN1cCB0ZXh0YXJlYSB1IHZhciAjdGV4dCAjY29tbWVudCIsICJodG1sNCIgIT09IHQgJiYgKHMgKz0gIiBjb250ZW50ZWRpdGFibGUgY29udGV4dG1lbnUgZHJhZ2dhYmxlIGRyb3B6b25lIGhpZGRlbiBzcGVsbGNoZWNrIHRyYW5zbGF0ZSIsIG4gKz0gIiBhcnRpY2xlIGFzaWRlIGRldGFpbHMgZGlhbG9nIGZpZ3VyZSBtYWluIGhlYWRlciBmb290ZXIgaGdyb3VwIHNlY3Rpb24gbmF2IiwgciArPSAiIGF1ZGlvIGNhbnZhcyBjb21tYW5kIGRhdGFsaXN0IG1hcmsgbWV0ZXIgb3V0cHV0IHBpY3R1cmUgcHJvZ3Jlc3MgdGltZSB3YnIgdmlkZW8gcnVieSBiZGkga2V5Z2VuIiksICJodG1sNS1zdHJpY3QiICE9PSB0ICYmIChzICs9ICIgeG1sOmxhbmciLCByID0gW3IsIHUgPSAiYWNyb255bSBhcHBsZXQgYmFzZWZvbnQgYmlnIGZvbnQgc3RyaWtlIHR0Il0uam9pbigiICIpLCBlaShacih1KSwgZnVuY3Rpb24gKGUpIHsKICAgICAgZyhlLCAiIiwgcik7CiAgICB9KSwgbiA9IFtuLCBhID0gImNlbnRlciBkaXIgaXNpbmRleCBub2ZyYW1lcyJdLmpvaW4oIiAiKSwgbyA9IFtuLCByXS5qb2luKCIgIiksIGVpKFpyKGEpLCBmdW5jdGlvbiAoZSkgewogICAgICBnKGUsICIiLCBvKTsKICAgIH0pKSwgbyA9IG8gfHwgW24sIHJdLmpvaW4oIiAiKSwgZygiaHRtbCIsICJtYW5pZmVzdCIsICJoZWFkIGJvZHkiKSwgZygiaGVhZCIsICIiLCAiYmFzZSBjb21tYW5kIGxpbmsgbWV0YSBub3NjcmlwdCBzY3JpcHQgc3R5bGUgdGl0bGUiKSwgZygidGl0bGUgaHIgbm9zY3JpcHQgYnIiKSwgZygiYmFzZSIsICJocmVmIHRhcmdldCIpLCBnKCJsaW5rIiwgImhyZWYgcmVsIG1lZGlhIGhyZWZsYW5nIHR5cGUgc2l6ZXMgaHJlZmxhbmciKSwgZygibWV0YSIsICJuYW1lIGh0dHAtZXF1aXYgY29udGVudCBjaGFyc2V0IiksIGcoInN0eWxlIiwgIm1lZGlhIHR5cGUgc2NvcGVkIiksIGcoInNjcmlwdCIsICJzcmMgYXN5bmMgZGVmZXIgdHlwZSBjaGFyc2V0IiksIGcoImJvZHkiLCAib25hZnRlcnByaW50IG9uYmVmb3JlcHJpbnQgb25iZWZvcmV1bmxvYWQgb25ibHVyIG9uZXJyb3Igb25mb2N1cyBvbmhhc2hjaGFuZ2Ugb25sb2FkIG9ubWVzc2FnZSBvbm9mZmxpbmUgb25vbmxpbmUgb25wYWdlaGlkZSBvbnBhZ2VzaG93IG9ucG9wc3RhdGUgb25yZXNpemUgb25zY3JvbGwgb25zdG9yYWdlIG9udW5sb2FkIiwgbyksIGcoImFkZHJlc3MgZHQgZGQgZGl2IGNhcHRpb24iLCAiIiwgbyksIGcoImgxIGgyIGgzIGg0IGg1IGg2IHByZSBwIGFiYnIgY29kZSB2YXIgc2FtcCBrYmQgc3ViIHN1cCBpIGIgdSBiZG8gc3BhbiBsZWdlbmQgZW0gc3Ryb25nIHNtYWxsIHMgY2l0ZSBkZm4iLCAiIiwgciksIGcoImJsb2NrcXVvdGUiLCAiY2l0ZSIsIG8pLCBnKCJvbCIsICJyZXZlcnNlZCBzdGFydCB0eXBlIiwgImxpIiksIGcoInVsIiwgIiIsICJsaSIpLCBnKCJsaSIsICJ2YWx1ZSIsIG8pLCBnKCJkbCIsICIiLCAiZHQgZGQiKSwgZygiYSIsICJocmVmIHRhcmdldCByZWwgbWVkaWEgaHJlZmxhbmcgdHlwZSIsIHIpLCBnKCJxIiwgImNpdGUiLCByKSwgZygiaW5zIGRlbCIsICJjaXRlIGRhdGV0aW1lIiwgbyksIGcoImltZyIsICJzcmMgc2l6ZXMgc3Jjc2V0IGFsdCB1c2VtYXAgaXNtYXAgd2lkdGggaGVpZ2h0IiksIGcoImlmcmFtZSIsICJzcmMgbmFtZSB3aWR0aCBoZWlnaHQiLCBvKSwgZygiZW1iZWQiLCAic3JjIHR5cGUgd2lkdGggaGVpZ2h0IiksIGcoIm9iamVjdCIsICJkYXRhIHR5cGUgdHlwZW11c3RtYXRjaCBuYW1lIHVzZW1hcCBmb3JtIHdpZHRoIGhlaWdodCIsIFtvLCAicGFyYW0iXS5qb2luKCIgIikpLCBnKCJwYXJhbSIsICJuYW1lIHZhbHVlIiksIGcoIm1hcCIsICJuYW1lIiwgW28sICJhcmVhIl0uam9pbigiICIpKSwgZygiYXJlYSIsICJhbHQgY29vcmRzIHNoYXBlIGhyZWYgdGFyZ2V0IHJlbCBtZWRpYSBocmVmbGFuZyB0eXBlIiksIGcoInRhYmxlIiwgImJvcmRlciIsICJjYXB0aW9uIGNvbGdyb3VwIHRoZWFkIHRmb290IHRib2R5IHRyIiArICgiaHRtbDQiID09PSB0ID8gIiBjb2wiIDogIiIpKSwgZygiY29sZ3JvdXAiLCAic3BhbiIsICJjb2wiKSwgZygiY29sIiwgInNwYW4iKSwgZygidGJvZHkgdGhlYWQgdGZvb3QiLCAiIiwgInRyIiksIGcoInRyIiwgIiIsICJ0ZCB0aCIpLCBnKCJ0ZCIsICJjb2xzcGFuIHJvd3NwYW4gaGVhZGVycyIsIG8pLCBnKCJ0aCIsICJjb2xzcGFuIHJvd3NwYW4gaGVhZGVycyBzY29wZSBhYmJyIiwgbyksIGcoImZvcm0iLCAiYWNjZXB0LWNoYXJzZXQgYWN0aW9uIGF1dG9jb21wbGV0ZSBlbmN0eXBlIG1ldGhvZCBuYW1lIG5vdmFsaWRhdGUgdGFyZ2V0IiwgbyksIGcoImZpZWxkc2V0IiwgImRpc2FibGVkIGZvcm0gbmFtZSIsIFtvLCAibGVnZW5kIl0uam9pbigiICIpKSwgZygibGFiZWwiLCAiZm9ybSBmb3IiLCByKSwgZygiaW5wdXQiLCAiYWNjZXB0IGFsdCBhdXRvY29tcGxldGUgY2hlY2tlZCBkaXJuYW1lIGRpc2FibGVkIGZvcm0gZm9ybWFjdGlvbiBmb3JtZW5jdHlwZSBmb3JtbWV0aG9kIGZvcm1ub3ZhbGlkYXRlIGZvcm10YXJnZXQgaGVpZ2h0IGxpc3QgbWF4IG1heGxlbmd0aCBtaW4gbXVsdGlwbGUgbmFtZSBwYXR0ZXJuIHJlYWRvbmx5IHJlcXVpcmVkIHNpemUgc3JjIHN0ZXAgdHlwZSB2YWx1ZSB3aWR0aCIpLCBnKCJidXR0b24iLCAiZGlzYWJsZWQgZm9ybSBmb3JtYWN0aW9uIGZvcm1lbmN0eXBlIGZvcm1tZXRob2QgZm9ybW5vdmFsaWRhdGUgZm9ybXRhcmdldCBuYW1lIHR5cGUgdmFsdWUiLCAiaHRtbDQiID09PSB0ID8gbyA6IHIpLCBnKCJzZWxlY3QiLCAiZGlzYWJsZWQgZm9ybSBtdWx0aXBsZSBuYW1lIHJlcXVpcmVkIHNpemUiLCAib3B0aW9uIG9wdGdyb3VwIiksIGcoIm9wdGdyb3VwIiwgImRpc2FibGVkIGxhYmVsIiwgIm9wdGlvbiIpLCBnKCJvcHRpb24iLCAiZGlzYWJsZWQgbGFiZWwgc2VsZWN0ZWQgdmFsdWUiKSwgZygidGV4dGFyZWEiLCAiY29scyBkaXJuYW1lIGRpc2FibGVkIGZvcm0gbWF4bGVuZ3RoIG5hbWUgcmVhZG9ubHkgcmVxdWlyZWQgcm93cyB3cmFwIiksIGcoIm1lbnUiLCAidHlwZSBsYWJlbCIsIFtvLCAibGkiXS5qb2luKCIgIikpLCBnKCJub3NjcmlwdCIsICIiLCBvKSwgImh0bWw0IiAhPT0gdCAmJiAoZygid2JyIiksIGcoInJ1YnkiLCAiIiwgW3IsICJydCBycCJdLmpvaW4oIiAiKSksIGcoImZpZ2NhcHRpb24iLCAiIiwgbyksIGcoIm1hcmsgcnQgcnAgc3VtbWFyeSBiZGkiLCAiIiwgciksIGcoImNhbnZhcyIsICJ3aWR0aCBoZWlnaHQiLCBvKSwgZygidmlkZW8iLCAic3JjIGNyb3Nzb3JpZ2luIHBvc3RlciBwcmVsb2FkIGF1dG9wbGF5IG1lZGlhZ3JvdXAgbG9vcCBtdXRlZCBjb250cm9scyB3aWR0aCBoZWlnaHQgYnVmZmVyZWQiLCBbbywgInRyYWNrIHNvdXJjZSJdLmpvaW4oIiAiKSksIGcoImF1ZGlvIiwgInNyYyBjcm9zc29yaWdpbiBwcmVsb2FkIGF1dG9wbGF5IG1lZGlhZ3JvdXAgbG9vcCBtdXRlZCBjb250cm9scyBidWZmZXJlZCB2b2x1bWUiLCBbbywgInRyYWNrIHNvdXJjZSJdLmpvaW4oIiAiKSksIGcoInBpY3R1cmUiLCAiIiwgImltZyBzb3VyY2UiKSwgZygic291cmNlIiwgInNyYyBzcmNzZXQgdHlwZSBtZWRpYSBzaXplcyIpLCBnKCJ0cmFjayIsICJraW5kIHNyYyBzcmNsYW5nIGxhYmVsIGRlZmF1bHQiKSwgZygiZGF0YWxpc3QiLCAiIiwgW3IsICJvcHRpb24iXS5qb2luKCIgIikpLCBnKCJhcnRpY2xlIHNlY3Rpb24gbmF2IGFzaWRlIG1haW4gaGVhZGVyIGZvb3RlciIsICIiLCBvKSwgZygiaGdyb3VwIiwgIiIsICJoMSBoMiBoMyBoNCBoNSBoNiIpLCBnKCJmaWd1cmUiLCAiIiwgW28sICJmaWdjYXB0aW9uIl0uam9pbigiICIpKSwgZygidGltZSIsICJkYXRldGltZSIsIHIpLCBnKCJkaWFsb2ciLCAib3BlbiIsIG8pLCBnKCJjb21tYW5kIiwgInR5cGUgbGFiZWwgaWNvbiBkaXNhYmxlZCBjaGVja2VkIHJhZGlvZ3JvdXAgY29tbWFuZCIpLCBnKCJvdXRwdXQiLCAiZm9yIGZvcm0gbmFtZSIsIHIpLCBnKCJwcm9ncmVzcyIsICJ2YWx1ZSBtYXgiLCByKSwgZygibWV0ZXIiLCAidmFsdWUgbWluIG1heCBsb3cgaGlnaCBvcHRpbXVtIiwgciksIGcoImRldGFpbHMiLCAib3BlbiIsIFtvLCAic3VtbWFyeSJdLmpvaW4oIiAiKSksIGcoImtleWdlbiIsICJhdXRvZm9jdXMgY2hhbGxlbmdlIGRpc2FibGVkIGZvcm0ga2V5dHlwZSBuYW1lIikpLCAiaHRtbDUtc3RyaWN0IiAhPT0gdCAmJiAocCgic2NyaXB0IiwgImxhbmd1YWdlIHhtbDpzcGFjZSIpLCBwKCJzdHlsZSIsICJ4bWw6c3BhY2UiKSwgcCgib2JqZWN0IiwgImRlY2xhcmUgY2xhc3NpZCBjb2RlIGNvZGViYXNlIGNvZGV0eXBlIGFyY2hpdmUgc3RhbmRieSBhbGlnbiBib3JkZXIgaHNwYWNlIHZzcGFjZSIpLCBwKCJlbWJlZCIsICJhbGlnbiBuYW1lIGhzcGFjZSB2c3BhY2UiKSwgcCgicGFyYW0iLCAidmFsdWV0eXBlIHR5cGUiKSwgcCgiYSIsICJjaGFyc2V0IG5hbWUgcmV2IHNoYXBlIGNvb3JkcyIpLCBwKCJiciIsICJjbGVhciIpLCBwKCJhcHBsZXQiLCAiY29kZWJhc2UgYXJjaGl2ZSBjb2RlIG9iamVjdCBhbHQgbmFtZSB3aWR0aCBoZWlnaHQgYWxpZ24gaHNwYWNlIHZzcGFjZSIpLCBwKCJpbWciLCAibmFtZSBsb25nZGVzYyBhbGlnbiBib3JkZXIgaHNwYWNlIHZzcGFjZSIpLCBwKCJpZnJhbWUiLCAibG9uZ2Rlc2MgZnJhbWVib3JkZXIgbWFyZ2lud2lkdGggbWFyZ2luaGVpZ2h0IHNjcm9sbGluZyBhbGlnbiIpLCBwKCJmb250IGJhc2Vmb250IiwgInNpemUgY29sb3IgZmFjZSIpLCBwKCJpbnB1dCIsICJ1c2VtYXAgYWxpZ24iKSwgcCgic2VsZWN0IiksIHAoInRleHRhcmVhIiksIHAoImgxIGgyIGgzIGg0IGg1IGg2IGRpdiBwIGxlZ2VuZCBjYXB0aW9uIiwgImFsaWduIiksIHAoInVsIiwgInR5cGUgY29tcGFjdCIpLCBwKCJsaSIsICJ0eXBlIiksIHAoIm9sIGRsIG1lbnUgZGlyIiwgImNvbXBhY3QiKSwgcCgicHJlIiwgIndpZHRoIHhtbDpzcGFjZSIpLCBwKCJociIsICJhbGlnbiBub3NoYWRlIHNpemUgd2lkdGgiKSwgcCgiaXNpbmRleCIsICJwcm9tcHQiKSwgcCgidGFibGUiLCAic3VtbWFyeSB3aWR0aCBmcmFtZSBydWxlcyBjZWxsc3BhY2luZyBjZWxscGFkZGluZyBhbGlnbiBiZ2NvbG9yIiksIHAoImNvbCIsICJ3aWR0aCBhbGlnbiBjaGFyIGNoYXJvZmYgdmFsaWduIiksIHAoImNvbGdyb3VwIiwgIndpZHRoIGFsaWduIGNoYXIgY2hhcm9mZiB2YWxpZ24iKSwgcCgidGhlYWQiLCAiYWxpZ24gY2hhciBjaGFyb2ZmIHZhbGlnbiIpLCBwKCJ0ciIsICJhbGlnbiBjaGFyIGNoYXJvZmYgdmFsaWduIGJnY29sb3IiKSwgcCgidGgiLCAiYXhpcyBhbGlnbiBjaGFyIGNoYXJvZmYgdmFsaWduIG5vd3JhcCBiZ2NvbG9yIHdpZHRoIGhlaWdodCIpLCBwKCJmb3JtIiwgImFjY2VwdCIpLCBwKCJ0ZCIsICJhYmJyIGF4aXMgc2NvcGUgYWxpZ24gY2hhciBjaGFyb2ZmIHZhbGlnbiBub3dyYXAgYmdjb2xvciB3aWR0aCBoZWlnaHQiKSwgcCgidGZvb3QiLCAiYWxpZ24gY2hhciBjaGFyb2ZmIHZhbGlnbiIpLCBwKCJ0Ym9keSIsICJhbGlnbiBjaGFyIGNoYXJvZmYgdmFsaWduIiksIHAoImFyZWEiLCAibm9ocmVmIiksIHAoImJvZHkiLCAiYmFja2dyb3VuZCBiZ2NvbG9yIHRleHQgbGluayB2bGluayBhbGluayIpKSwgImh0bWw0IiAhPT0gdCAmJiAocCgiaW5wdXQgYnV0dG9uIHNlbGVjdCB0ZXh0YXJlYSIsICJhdXRvZm9jdXMiKSwgcCgiaW5wdXQgdGV4dGFyZWEiLCAicGxhY2Vob2xkZXIiKSwgcCgiYSIsICJkb3dubG9hZCIpLCBwKCJsaW5rIHNjcmlwdCBpbWciLCAiY3Jvc3NvcmlnaW4iKSwgcCgiaW1nIiwgImxvYWRpbmciKSwgcCgiaWZyYW1lIiwgInNhbmRib3ggc2VhbWxlc3MgYWxsb3dmdWxsc2NyZWVuIGxvYWRpbmciKSksIGVpKFpyKCJhIGZvcm0gbWV0ZXIgcHJvZ3Jlc3MgZGZuIiksIGZ1bmN0aW9uIChlKSB7CiAgICAgIGNbZV0gJiYgZGVsZXRlIGNbZV0uY2hpbGRyZW5bZV07CiAgICB9KSwgZGVsZXRlIGMuY2FwdGlvbi5jaGlsZHJlbi50YWJsZSwgZGVsZXRlIGMuc2NyaXB0LCBKb1t0XSA9IGMpKTsKCiAgICBmdW5jdGlvbiBnKGUsIHQsIG4pIHsKICAgICAgZnVuY3Rpb24gcihlLCB0KSB7CiAgICAgICAgZm9yICh2YXIgbiA9IHt9LCByID0gMCwgbyA9IGUubGVuZ3RoOyByIDwgbzsgcisrKSB7CiAgICAgICAgICBuW2Vbcl1dID0gdCB8fCB7fTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBuOwogICAgICB9CgogICAgICB2YXIgbywgaTsKICAgICAgdCA9IHQgfHwgIiIsICJzdHJpbmciID09IHR5cGVvZiAobiA9IG4gfHwgW10pICYmIChuID0gWnIobikpOwoKICAgICAgZm9yICh2YXIgYSA9IFpyKGUpLCB1ID0gYS5sZW5ndGg7IHUtLTspIHsKICAgICAgICBpID0gewogICAgICAgICAgYXR0cmlidXRlczogcihvID0gWnIoW3MsIHRdLmpvaW4oIiAiKSkpLAogICAgICAgICAgYXR0cmlidXRlc09yZGVyOiBvLAogICAgICAgICAgY2hpbGRyZW46IHIobiwgUW8pCiAgICAgICAgfSwgY1thW3VdXSA9IGk7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBwKGUsIHQpIHsKICAgICAgZm9yICh2YXIgbiwgciwgbywgaSA9IFpyKGUpLCBhID0gaS5sZW5ndGgsIHUgPSBacih0KTsgYS0tOykgewogICAgICAgIGZvciAobiA9IGNbaVthXV0sIHIgPSAwLCBvID0gdS5sZW5ndGg7IHIgPCBvOyByKyspIHsKICAgICAgICAgIG4uYXR0cmlidXRlc1t1W3JdXSA9IHt9LCBuLmF0dHJpYnV0ZXNPcmRlci5wdXNoKHVbcl0pOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgICExID09PSBpLnZlcmlmeV9odG1sICYmIChpLnZhbGlkX2VsZW1lbnRzID0gIipbKl0iKTsKCiAgICB2YXIgaCA9IGVvKGkudmFsaWRfc3R5bGVzKSwKICAgICAgICB2ID0gZW8oaS5pbnZhbGlkX3N0eWxlcywgIm1hcCIpLAogICAgICAgIGIgPSBlbyhpLnZhbGlkX2NsYXNzZXMsICJtYXAiKSwKICAgICAgICB5ID0gZSgid2hpdGVzcGFjZV9lbGVtZW50cyIsICJwcmUgc2NyaXB0IG5vc2NyaXB0IHN0eWxlIHRleHRhcmVhIHZpZGVvIGF1ZGlvIGlmcmFtZSBvYmplY3QgY29kZSIpLAogICAgICAgIEMgPSBlKCJzZWxmX2Nsb3NpbmdfZWxlbWVudHMiLCAiY29sZ3JvdXAgZGQgZHQgbGkgb3B0aW9uIHAgdGQgdGZvb3QgdGggdGhlYWQgdHIiKSwKICAgICAgICB4ID0gZSgic2hvcnRfZW5kZWRfZWxlbWVudHMiLCAiYXJlYSBiYXNlIGJhc2Vmb250IGJyIGNvbCBmcmFtZSBociBpbWcgaW5wdXQgaXNpbmRleCBsaW5rIG1ldGEgcGFyYW0gZW1iZWQgc291cmNlIHdiciB0cmFjayIpLAogICAgICAgIHcgPSBlKCJib29sZWFuX2F0dHJpYnV0ZXMiLCAiY2hlY2tlZCBjb21wYWN0IGRlY2xhcmUgZGVmZXIgZGlzYWJsZWQgaXNtYXAgbXVsdGlwbGUgbm9ocmVmIG5vcmVzaXplIG5vc2hhZGUgbm93cmFwIHJlYWRvbmx5IHNlbGVjdGVkIGF1dG9wbGF5IGxvb3AgY29udHJvbHMiKSwKICAgICAgICBOID0gInRkIHRoIGlmcmFtZSB2aWRlbyBhdWRpbyBvYmplY3Qgc2NyaXB0IGNvZGUiLAogICAgICAgIGsgPSBlKCJub25fZW1wdHlfZWxlbWVudHMiLCBOICsgIiBwcmUiLCB4KSwKICAgICAgICBfID0gZSgibW92ZV9jYXJldF9iZWZvcmVfb25fZW50ZXJfZWxlbWVudHMiLCBOICsgIiB0YWJsZSIsIHgpLAogICAgICAgIEEgPSBlKCJ0ZXh0X2Jsb2NrX2VsZW1lbnRzIiwgImgxIGgyIGgzIGg0IGg1IGg2IHAgZGl2IGFkZHJlc3MgcHJlIGZvcm0gYmxvY2txdW90ZSBjZW50ZXIgZGlyIGZpZWxkc2V0IGhlYWRlciBmb290ZXIgYXJ0aWNsZSBzZWN0aW9uIGhncm91cCBhc2lkZSBtYWluIG5hdiBmaWd1cmUiKSwKICAgICAgICBSID0gZSgiYmxvY2tfZWxlbWVudHMiLCAiaHIgdGFibGUgdGJvZHkgdGhlYWQgdGZvb3QgdGggdHIgdGQgbGkgb2wgdWwgY2FwdGlvbiBkbCBkdCBkZCBub3NjcmlwdCBtZW51IGlzaW5kZXggb3B0aW9uIGRhdGFsaXN0IHNlbGVjdCBvcHRncm91cCBmaWdjYXB0aW9uIGRldGFpbHMgc3VtbWFyeSIsIEEpLAogICAgICAgIEQgPSBlKCJ0ZXh0X2lubGluZV9lbGVtZW50cyIsICJzcGFuIHN0cm9uZyBiIGVtIGkgZm9udCBzdHJpa2UgdSB2YXIgY2l0ZSBkZm4gY29kZSBtYXJrIHEgc3VwIHN1YiBzYW1wIik7CgogICAgZnVuY3Rpb24gVChlKSB7CiAgICAgIHJldHVybiBuZXcgUmVnRXhwKCJeIiArIGUucmVwbGFjZSgvKFs/KypdKS9nLCAiLiQxIikgKyAiJCIpOwogICAgfQoKICAgIGZ1bmN0aW9uIE8oZSkgewogICAgICB2YXIgdCwKICAgICAgICAgIG4sCiAgICAgICAgICByLAogICAgICAgICAgbywKICAgICAgICAgIGksCiAgICAgICAgICBhLAogICAgICAgICAgdSwKICAgICAgICAgIHMsCiAgICAgICAgICBjLAogICAgICAgICAgbCwKICAgICAgICAgIGYsCiAgICAgICAgICBkLAogICAgICAgICAgbSwKICAgICAgICAgIGcsCiAgICAgICAgICBwLAogICAgICAgICAgaCwKICAgICAgICAgIHYsCiAgICAgICAgICBiLAogICAgICAgICAgeSA9IC9eKFsjK1wtXSk/KFteXFshXC9dKykoPzpcLyhbXlxbIV0rKSk/KD86KCE/KVxbKFteXF1dKyldKT8kLywKICAgICAgICAgIEMgPSAvXihbIVwtXSk/KFx3K1tcXDpdOlx3K3xbXj06PF0rKT8oPzooWz06PF0pKC4qKSk/JC8sCiAgICAgICAgICB4ID0gL1sqPytdLzsKCiAgICAgIGlmIChlKSB7CiAgICAgICAgdmFyIHcgPSBacihlLCAiLCIpOwoKICAgICAgICBmb3IgKFNbIkAiXSAmJiAoaCA9IFNbIkAiXS5hdHRyaWJ1dGVzLCB2ID0gU1siQCJdLmF0dHJpYnV0ZXNPcmRlciksIHQgPSAwLCBuID0gdy5sZW5ndGg7IHQgPCBuOyB0KyspIHsKICAgICAgICAgIGlmIChpID0geS5leGVjKHdbdF0pKSB7CiAgICAgICAgICAgIGlmIChnID0gaVsxXSwgYyA9IGlbMl0sIHAgPSBpWzNdLCBzID0gaVs1XSwgYSA9IHsKICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiBkID0ge30sCiAgICAgICAgICAgICAgYXR0cmlidXRlc09yZGVyOiBtID0gW10KICAgICAgICAgICAgfSwgIiMiID09PSBnICYmIChhLnBhZGRFbXB0eSA9ICEwKSwgIi0iID09PSBnICYmIChhLnJlbW92ZUVtcHR5ID0gITApLCAiISIgPT09IGlbNF0gJiYgKGEucmVtb3ZlRW1wdHlBdHRycyA9ICEwKSwgaCAmJiAobmUoaCwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgICAgICBkW3RdID0gZTsKICAgICAgICAgICAgfSksIG0ucHVzaC5hcHBseShtLCB2KSksIHMpIGZvciAociA9IDAsIG8gPSAocyA9IFpyKHMsICJ8IikpLmxlbmd0aDsgciA8IG87IHIrKykgewogICAgICAgICAgICAgIChpID0gQy5leGVjKHNbcl0pKSAmJiAodSA9IHt9LCBmID0gaVsxXSwgbCA9IGlbMl0ucmVwbGFjZSgvW1xcOl06L2csICI6IiksIGcgPSBpWzNdLCBiID0gaVs0XSwgIiEiID09PSBmICYmIChhLmF0dHJpYnV0ZXNSZXF1aXJlZCA9IGEuYXR0cmlidXRlc1JlcXVpcmVkIHx8IFtdLCBhLmF0dHJpYnV0ZXNSZXF1aXJlZC5wdXNoKGwpLCB1LnJlcXVpcmVkID0gITApLCAiLSIgIT09IGYgPyAoZyAmJiAoIj0iID09PSBnICYmIChhLmF0dHJpYnV0ZXNEZWZhdWx0ID0gYS5hdHRyaWJ1dGVzRGVmYXVsdCB8fCBbXSwgYS5hdHRyaWJ1dGVzRGVmYXVsdC5wdXNoKHsKICAgICAgICAgICAgICAgIG5hbWU6IGwsCiAgICAgICAgICAgICAgICB2YWx1ZTogYgogICAgICAgICAgICAgIH0pLCB1LmRlZmF1bHRWYWx1ZSA9IGIpLCAiOiIgPT09IGcgJiYgKGEuYXR0cmlidXRlc0ZvcmNlZCA9IGEuYXR0cmlidXRlc0ZvcmNlZCB8fCBbXSwgYS5hdHRyaWJ1dGVzRm9yY2VkLnB1c2goewogICAgICAgICAgICAgICAgbmFtZTogbCwKICAgICAgICAgICAgICAgIHZhbHVlOiBiCiAgICAgICAgICAgICAgfSksIHUuZm9yY2VkVmFsdWUgPSBiKSwgIjwiID09PSBnICYmICh1LnZhbGlkVmFsdWVzID0gWm8oYiwgIj8iKSkpLCB4LnRlc3QobCkgPyAoYS5hdHRyaWJ1dGVQYXR0ZXJucyA9IGEuYXR0cmlidXRlUGF0dGVybnMgfHwgW10sIHUucGF0dGVybiA9IFQobCksIGEuYXR0cmlidXRlUGF0dGVybnMucHVzaCh1KSkgOiAoZFtsXSB8fCBtLnB1c2gobCksIGRbbF0gPSB1KSkgOiAoZGVsZXRlIGRbbF0sIG0uc3BsaWNlKHJpKG0sIGwpLCAxKSkpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGggfHwgIkAiICE9PSBjIHx8IChoID0gZCwgdiA9IG0pLCBwICYmIChhLm91dHB1dE5hbWUgPSBjLCBTW3BdID0gYSksIHgudGVzdChjKSA/IChhLnBhdHRlcm4gPSBUKGMpLCBFLnB1c2goYSkpIDogU1tjXSA9IGE7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gQihlKSB7CiAgICAgIFMgPSB7fSwgRSA9IFtdLCBPKGUpLCBlaShtLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIGxbdF0gPSBlLmNoaWxkcmVuOwogICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiBQKGUpIHsKICAgICAgdmFyIGEgPSAvXih+KT8oLispJC87CiAgICAgIGUgJiYgKEpvLnRleHRfYmxvY2tfZWxlbWVudHMgPSBKby5ibG9ja19lbGVtZW50cyA9IG51bGwsIGVpKFpyKGUsICIsIiksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHQsCiAgICAgICAgICAgIG4gPSBhLmV4ZWMoZSksCiAgICAgICAgICAgIHIgPSAifiIgPT09IG5bMV0sCiAgICAgICAgICAgIG8gPSByID8gInNwYW4iIDogImRpdiIsCiAgICAgICAgICAgIGkgPSBuWzJdOwogICAgICAgIGxbaV0gPSBsW29dLCBmW2ldID0gbywgciB8fCAoUltpLnRvVXBwZXJDYXNlKCldID0ge30sIFJbaV0gPSB7fSksIFNbaV0gfHwgKHQgPSBTW29dLCBkZWxldGUgKHQgPSB0aSh7fSwgdCkpLnJlbW92ZUVtcHR5QXR0cnMsIGRlbGV0ZSB0LnJlbW92ZUVtcHR5LCBTW2ldID0gdCksIGVpKGwsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgICBlW29dICYmIChsW3RdID0gZSA9IHRpKHt9LCBsW3RdKSwgZVtpXSA9IGVbb10pOwogICAgICAgIH0pOwogICAgICB9KSk7CiAgICB9CgogICAgZnVuY3Rpb24gTChlKSB7CiAgICAgIHZhciBvID0gL14oWytcLV0/KShbQS1aYS16MC05X1wtLlx1MDBiN1x1MDBjMC1cdTAwZDZcdTAwZDgtXHUwMGY2XHUwMGY4LVx1MDM3ZFx1MDM3Zi1cdTFmZmZcdTIwMGMtXHUyMDBkXHUyMDNmLVx1MjA0MFx1MjA3MC1cdTIxOGZcdTJjMDAtXHUyZmVmXHUzMDAxLVx1ZDdmZlx1ZjkwMC1cdWZkY2ZcdWZkZjAtXHVmZmZkXSspXFsoW15cXV0rKV0kLzsKICAgICAgSm9baS5zY2hlbWFdID0gbnVsbCwgZSAmJiBlaShacihlLCAiLCIpLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciB0LAogICAgICAgICAgICBuLAogICAgICAgICAgICByID0gby5leGVjKGUpOwogICAgICAgIHIgJiYgKG4gPSByWzFdLCB0ID0gbiA/IGxbclsyXV0gOiBsW3JbMl1dID0gewogICAgICAgICAgIiNjb21tZW50Ijoge30KICAgICAgICB9LCB0ID0gbFtyWzJdXSwgZWkoWnIoclszXSwgInwiKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICItIiA9PT0gbiA/IGRlbGV0ZSB0W2VdIDogdFtlXSA9IHt9OwogICAgICAgIH0pKTsKICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gSShlKSB7CiAgICAgIHZhciB0LAogICAgICAgICAgbiA9IFNbZV07CiAgICAgIGlmIChuKSByZXR1cm4gbjsKCiAgICAgIGZvciAodCA9IEUubGVuZ3RoOyB0LS07KSB7CiAgICAgICAgaWYgKChuID0gRVt0XSkucGF0dGVybi50ZXN0KGUpKSByZXR1cm4gbjsKICAgICAgfQogICAgfQoKICAgIGVpKChpLnNwZWNpYWwgfHwgInNjcmlwdCBub3NjcmlwdCBpZnJhbWUgbm9mcmFtZXMgbm9lbWJlZCB0aXRsZSBzdHlsZSB0ZXh0YXJlYSB4bXAiKS5zcGxpdCgiICIpLCBmdW5jdGlvbiAoZSkgewogICAgICBkW2VdID0gbmV3IFJlZ0V4cCgiPC8iICsgZSArICJbXj5dKj4iLCAiZ2kiKTsKICAgIH0pLCBpLnZhbGlkX2VsZW1lbnRzID8gQihpLnZhbGlkX2VsZW1lbnRzKSA6IChlaShtLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICBTW3RdID0gewogICAgICAgIGF0dHJpYnV0ZXM6IGUuYXR0cmlidXRlcywKICAgICAgICBhdHRyaWJ1dGVzT3JkZXI6IGUuYXR0cmlidXRlc09yZGVyCiAgICAgIH0sIGxbdF0gPSBlLmNoaWxkcmVuOwogICAgfSksICJodG1sNSIgIT09IGkuc2NoZW1hICYmIGVpKFpyKCJzdHJvbmcvYiBlbS9pIiksIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gWnIoZSwgIi8iKTsKICAgICAgU1t0WzFdXS5vdXRwdXROYW1lID0gdFswXTsKICAgIH0pLCBlaShacigib2wgdWwgc3ViIHN1cCBibG9ja3F1b3RlIHNwYW4gZm9udCBhIHRhYmxlIHRib2R5IHN0cm9uZyBlbSBiIGkiKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgU1tlXSAmJiAoU1tlXS5yZW1vdmVFbXB0eSA9ICEwKTsKICAgIH0pLCBlaShacigicCBoMSBoMiBoMyBoNCBoNSBoNiB0aCB0ZCBwcmUgZGl2IGFkZHJlc3MgY2FwdGlvbiBsaSIpLCBmdW5jdGlvbiAoZSkgewogICAgICBTW2VdLnBhZGRFbXB0eSA9ICEwOwogICAgfSksIGVpKFpyKCJzcGFuIiksIGZ1bmN0aW9uIChlKSB7CiAgICAgIFNbZV0ucmVtb3ZlRW1wdHlBdHRycyA9ICEwOwogICAgfSkpLCBQKGkuY3VzdG9tX2VsZW1lbnRzKSwgTChpLnZhbGlkX2NoaWxkcmVuKSwgTyhpLmV4dGVuZGVkX3ZhbGlkX2VsZW1lbnRzKSwgTCgiK29sW3VsfG9sXSwrdWxbdWx8b2xdIiksIGVpKHsKICAgICAgZGQ6ICJkbCIsCiAgICAgIGR0OiAiZGwiLAogICAgICBsaTogInVsIG9sIiwKICAgICAgdGQ6ICJ0ciIsCiAgICAgIHRoOiAidHIiLAogICAgICB0cjogInRib2R5IHRoZWFkIHRmb290IiwKICAgICAgdGJvZHk6ICJ0YWJsZSIsCiAgICAgIHRoZWFkOiAidGFibGUiLAogICAgICB0Zm9vdDogInRhYmxlIiwKICAgICAgbGVnZW5kOiAiZmllbGRzZXQiLAogICAgICBhcmVhOiAibWFwIiwKICAgICAgcGFyYW06ICJ2aWRlbyBhdWRpbyBvYmplY3QiCiAgICB9LCBmdW5jdGlvbiAoZSwgdCkgewogICAgICBTW3RdICYmIChTW3RdLnBhcmVudHNSZXF1aXJlZCA9IFpyKGUpKTsKICAgIH0pLCBpLmludmFsaWRfZWxlbWVudHMgJiYgZWkobmkoaS5pbnZhbGlkX2VsZW1lbnRzKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgU1tlXSAmJiBkZWxldGUgU1tlXTsKICAgIH0pLCBJKCJzcGFuIikgfHwgTygic3BhblshZGF0YS1tY2UtdHlwZXwqXSIpOwogICAgdmFyIE0gPSBKKGgpLAogICAgICAgIEYgPSBKKHYpLAogICAgICAgIFUgPSBKKGIpLAogICAgICAgIHogPSBKKHcpLAogICAgICAgIEggPSBKKFIpLAogICAgICAgIGogPSBKKEEpLAogICAgICAgIFYgPSBKKEQpLAogICAgICAgIHEgPSBKKHgpLAogICAgICAgICQgPSBKKEMpLAogICAgICAgIFcgPSBKKGspLAogICAgICAgIEsgPSBKKF8pLAogICAgICAgIFggPSBKKHkpLAogICAgICAgIFkgPSBKKGQpLAogICAgICAgIEcgPSBKKGYpOwogICAgcmV0dXJuIHsKICAgICAgY2hpbGRyZW46IGwsCiAgICAgIGVsZW1lbnRzOiBTLAogICAgICBnZXRWYWxpZFN0eWxlczogTSwKICAgICAgZ2V0VmFsaWRDbGFzc2VzOiBVLAogICAgICBnZXRCbG9ja0VsZW1lbnRzOiBILAogICAgICBnZXRJbnZhbGlkU3R5bGVzOiBGLAogICAgICBnZXRTaG9ydEVuZGVkRWxlbWVudHM6IHEsCiAgICAgIGdldFRleHRCbG9ja0VsZW1lbnRzOiBqLAogICAgICBnZXRUZXh0SW5saW5lRWxlbWVudHM6IFYsCiAgICAgIGdldEJvb2xBdHRyczogeiwKICAgICAgZ2V0RWxlbWVudFJ1bGU6IEksCiAgICAgIGdldFNlbGZDbG9zaW5nRWxlbWVudHM6ICQsCiAgICAgIGdldE5vbkVtcHR5RWxlbWVudHM6IFcsCiAgICAgIGdldE1vdmVDYXJldEJlZm9yZU9uRW50ZXJFbGVtZW50czogSywKICAgICAgZ2V0V2hpdGVTcGFjZUVsZW1lbnRzOiBYLAogICAgICBnZXRTcGVjaWFsRWxlbWVudHM6IFksCiAgICAgIGlzVmFsaWRDaGlsZDogZnVuY3Rpb24gaXNWYWxpZENoaWxkKGUsIHQpIHsKICAgICAgICB2YXIgbiA9IGxbZS50b0xvd2VyQ2FzZSgpXTsKICAgICAgICByZXR1cm4gISghbiB8fCAhblt0LnRvTG93ZXJDYXNlKCldKTsKICAgICAgfSwKICAgICAgaXNWYWxpZDogZnVuY3Rpb24gaXNWYWxpZChlLCB0KSB7CiAgICAgICAgdmFyIG4sCiAgICAgICAgICAgIHIsCiAgICAgICAgICAgIG8gPSBJKGUpOwoKICAgICAgICBpZiAobykgewogICAgICAgICAgaWYgKCF0KSByZXR1cm4gITA7CiAgICAgICAgICBpZiAoby5hdHRyaWJ1dGVzW3RdKSByZXR1cm4gITA7CiAgICAgICAgICBpZiAobiA9IG8uYXR0cmlidXRlUGF0dGVybnMpIGZvciAociA9IG4ubGVuZ3RoOyByLS07KSB7CiAgICAgICAgICAgIGlmIChuW3JdLnBhdHRlcm4udGVzdChlKSkgcmV0dXJuICEwOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuICExOwogICAgICB9LAogICAgICBnZXRDdXN0b21FbGVtZW50czogRywKICAgICAgYWRkVmFsaWRFbGVtZW50czogTywKICAgICAgc2V0VmFsaWRFbGVtZW50czogQiwKICAgICAgYWRkQ3VzdG9tRWxlbWVudHM6IFAsCiAgICAgIGFkZFZhbGlkQ2hpbGRyZW46IEwKICAgIH07CiAgfQoKICBmdW5jdGlvbiBubyhlLCB0LCBuLCByKSB7CiAgICBmdW5jdGlvbiBvKGUpIHsKICAgICAgcmV0dXJuIDEgPCAoZSA9IHBhcnNlSW50KGUsIDEwKS50b1N0cmluZygxNikpLmxlbmd0aCA/IGUgOiAiMCIgKyBlOwogICAgfQoKICAgIHJldHVybiAiIyIgKyBvKHQpICsgbyhuKSArIG8ocik7CiAgfQoKICBmdW5jdGlvbiBybyhiLCBlKSB7CiAgICB2YXIgdSwKICAgICAgICBvLAogICAgICAgIHkgPSB0aGlzLAogICAgICAgIEMgPSAvcmdiXHMqXChccyooWzAtOV0rKVxzKixccyooWzAtOV0rKVxzKixccyooWzAtOV0rKVxzKlwpL2dpLAogICAgICAgIHggPSAvKD86dXJsKD86KD86XChccypcIihbXlwiXSspXCJccypcKSl8KD86XChccypcJyhbXlwnXSspXCdccypcKSl8KD86XChccyooW14pXHNdKylccypcKSkpKXwoPzpcJyhbXlwnXSspXCcpfCg/OlwiKFteXCJdKylcIikvZ2ksCiAgICAgICAgdyA9IC9ccyooW146XSspOlxzKihbXjtdKyk7Py9nLAogICAgICAgIFMgPSAvXHMrJC8sCiAgICAgICAgRSA9IHt9LAogICAgICAgIE4gPSBibzsKICAgIGIgPSBiIHx8IHt9LCBlICYmICh1ID0gZS5nZXRWYWxpZFN0eWxlcygpLCBvID0gZS5nZXRJbnZhbGlkU3R5bGVzKCkpOwoKICAgIGZvciAodmFyIHQgPSAoIlxcXCIgXFwnIFxcOyBcXDogOyA6ICIgKyBOKS5zcGxpdCgiICIpLCBrID0gMDsgayA8IHQubGVuZ3RoOyBrKyspIHsKICAgICAgRVt0W2tdXSA9IE4gKyBrLCBFW04gKyBrXSA9IHRba107CiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgdG9IZXg6IGZ1bmN0aW9uIHRvSGV4KGUpIHsKICAgICAgICByZXR1cm4gZS5yZXBsYWNlKEMsIG5vKTsKICAgICAgfSwKICAgICAgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlKGUpIHsKICAgICAgICBmdW5jdGlvbiB0KGUsIHQsIG4pIHsKICAgICAgICAgIHZhciByID0gcFtlICsgIi10b3AiICsgdF07CgogICAgICAgICAgaWYgKHIpIHsKICAgICAgICAgICAgdmFyIG8gPSBwW2UgKyAiLXJpZ2h0IiArIHRdOwoKICAgICAgICAgICAgaWYgKG8pIHsKICAgICAgICAgICAgICB2YXIgaSA9IHBbZSArICItYm90dG9tIiArIHRdOwoKICAgICAgICAgICAgICBpZiAoaSkgewogICAgICAgICAgICAgICAgdmFyIGEgPSBwW2UgKyAiLWxlZnQiICsgdF07CgogICAgICAgICAgICAgICAgaWYgKGEpIHsKICAgICAgICAgICAgICAgICAgdmFyIHUgPSBbciwgbywgaSwgYV07CgogICAgICAgICAgICAgICAgICBmb3IgKGsgPSB1Lmxlbmd0aCAtIDE7IGstLSAmJiB1W2tdID09PSB1W2sgKyAxXTspIHsKICAgICAgICAgICAgICAgICAgICA7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIC0xIDwgayAmJiBuIHx8IChwW2UgKyB0XSA9IC0xID09PSBrID8gdVswXSA6IHUuam9pbigiICIpLCBkZWxldGUgcFtlICsgIi10b3AiICsgdF0sIGRlbGV0ZSBwW2UgKyAiLXJpZ2h0IiArIHRdLCBkZWxldGUgcFtlICsgIi1ib3R0b20iICsgdF0sIGRlbGV0ZSBwW2UgKyAiLWxlZnQiICsgdF0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gbihlKSB7CiAgICAgICAgICB2YXIgdCwKICAgICAgICAgICAgICBuID0gcFtlXTsKCiAgICAgICAgICBpZiAobikgewogICAgICAgICAgICBmb3IgKHQgPSAobiA9IG4uc3BsaXQoIiAiKSkubGVuZ3RoOyB0LS07KSB7CiAgICAgICAgICAgICAgaWYgKG5bdF0gIT09IG5bMF0pIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIHBbZV0gPSBuWzBdLCAxOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gcihlKSB7CiAgICAgICAgICByZXR1cm4gZiA9ICEwLCBFW2VdOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gdShlLCB0KSB7CiAgICAgICAgICByZXR1cm4gZiAmJiAoZSA9IGUucmVwbGFjZSgvXHVGRUZGWzAtOV0vZywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgcmV0dXJuIEVbZV07CiAgICAgICAgICB9KSksIHQgPyBlIDogZS5yZXBsYWNlKC9cXChbXCdcIjs6XSkvZywgIiQxIik7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBvKGUpIHsKICAgICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKHBhcnNlSW50KGUuc2xpY2UoMSksIDE2KSk7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBpKGUpIHsKICAgICAgICAgIHJldHVybiBlLnJlcGxhY2UoL1xcWzAtOWEtZl0rL2dpLCBvKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGEoZSwgdCwgbiwgciwgbywgaSkgewogICAgICAgICAgaWYgKG8gPSBvIHx8IGkpIHJldHVybiAiJyIgKyAobyA9IHUobykpLnJlcGxhY2UoL1wnL2csICJcXCciKSArICInIjsKCiAgICAgICAgICBpZiAodCA9IHUodCB8fCBuIHx8IHIpLCAhYi5hbGxvd19zY3JpcHRfdXJscykgewogICAgICAgICAgICB2YXIgYSA9IHQucmVwbGFjZSgvW1xzXHJcbl0rL2csICIiKTsKICAgICAgICAgICAgaWYgKC8oamF2YXx2YilzY3JpcHQ6L2kudGVzdChhKSkgcmV0dXJuICIiOwogICAgICAgICAgICBpZiAoIWIuYWxsb3dfc3ZnX2RhdGFfdXJscyAmJiAvXmRhdGE6aW1hZ2VcL3N2Zy9pLnRlc3QoYSkpIHJldHVybiAiIjsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gInVybCgnIiArICh0ID0gaCA/IGguY2FsbCh2LCB0LCAic3R5bGUiKSA6IHQpLnJlcGxhY2UoL1wnL2csICJcXCciKSArICInKSI7CiAgICAgICAgfQoKICAgICAgICB2YXIgcywKICAgICAgICAgICAgYywKICAgICAgICAgICAgbCwKICAgICAgICAgICAgZiwKICAgICAgICAgICAgZCwKICAgICAgICAgICAgbSwKICAgICAgICAgICAgZywKICAgICAgICAgICAgcCA9IHt9LAogICAgICAgICAgICBoID0gYi51cmxfY29udmVydGVyLAogICAgICAgICAgICB2ID0gYi51cmxfY29udmVydGVyX3Njb3BlIHx8IHk7CgogICAgICAgIGlmIChlKSB7CiAgICAgICAgICBmb3IgKGUgPSAoZSA9IGUucmVwbGFjZSgvW1x1MDAwMC1cdTAwMUZdL2csICIiKSkucmVwbGFjZSgvXFxbXCJcJzs6XHVGRUZGXS9nLCByKS5yZXBsYWNlKC9cIlteXCJdK1wifFwnW15cJ10rXCcvZywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgcmV0dXJuIGUucmVwbGFjZSgvWzs6XS9nLCByKTsKICAgICAgICAgIH0pOyBzID0gdy5leGVjKGUpOykgewogICAgICAgICAgICB3Lmxhc3RJbmRleCA9IHMuaW5kZXggKyBzWzBdLmxlbmd0aCwgYyA9IHNbMV0ucmVwbGFjZShTLCAiIikudG9Mb3dlckNhc2UoKSwgbCA9IHNbMl0ucmVwbGFjZShTLCAiIiksIGMgJiYgbCAmJiAoYyA9IGkoYyksIGwgPSBpKGwpLCAtMSA9PT0gYy5pbmRleE9mKE4pICYmIC0xID09PSBjLmluZGV4T2YoJyInKSAmJiAoYi5hbGxvd19zY3JpcHRfdXJscyB8fCAiYmVoYXZpb3IiICE9PSBjICYmICEvZXhwcmVzc2lvblxzKlwofFwvXCp8XCpcLy8udGVzdChsKSkgJiYgKCJmb250LXdlaWdodCIgPT09IGMgJiYgIjcwMCIgPT09IGwgPyBsID0gImJvbGQiIDogImNvbG9yIiAhPT0gYyAmJiAiYmFja2dyb3VuZC1jb2xvciIgIT09IGMgfHwgKGwgPSBsLnRvTG93ZXJDYXNlKCkpLCBsID0gKGwgPSBsLnJlcGxhY2UoQywgbm8pKS5yZXBsYWNlKHgsIGEpLCBwW2NdID0gZiA/IHUobCwgITApIDogbCkpOwogICAgICAgICAgfQoKICAgICAgICAgIHQoImJvcmRlciIsICIiLCAhMCksIHQoImJvcmRlciIsICItd2lkdGgiKSwgdCgiYm9yZGVyIiwgIi1jb2xvciIpLCB0KCJib3JkZXIiLCAiLXN0eWxlIiksIHQoInBhZGRpbmciLCAiIiksIHQoIm1hcmdpbiIsICIiKSwgbSA9ICJib3JkZXItc3R5bGUiLCBnID0gImJvcmRlci1jb2xvciIsIG4oZCA9ICJib3JkZXItd2lkdGgiKSAmJiBuKG0pICYmIG4oZykgJiYgKHAuYm9yZGVyID0gcFtkXSArICIgIiArIHBbbV0gKyAiICIgKyBwW2ddLCBkZWxldGUgcFtkXSwgZGVsZXRlIHBbbV0sIGRlbGV0ZSBwW2ddKSwgIm1lZGl1bSBub25lIiA9PT0gcC5ib3JkZXIgJiYgZGVsZXRlIHAuYm9yZGVyLCAibm9uZSIgPT09IHBbImJvcmRlci1pbWFnZSJdICYmIGRlbGV0ZSBwWyJib3JkZXItaW1hZ2UiXTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBwOwogICAgICB9LAogICAgICBzZXJpYWxpemU6IGZ1bmN0aW9uIHNlcmlhbGl6ZShpLCByKSB7CiAgICAgICAgZnVuY3Rpb24gZShlKSB7CiAgICAgICAgICB2YXIgdCwKICAgICAgICAgICAgICBuID0gdVtlXTsKICAgICAgICAgIGlmIChuKSBmb3IgKHZhciByID0gMCwgbyA9IG4ubGVuZ3RoOyByIDwgbzsgcisrKSB7CiAgICAgICAgICAgIGUgPSBuW3JdLCAodCA9IGlbZV0pICYmIChhICs9ICgwIDwgYS5sZW5ndGggPyAiICIgOiAiIikgKyBlICsgIjogIiArIHQgKyAiOyIpOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgdmFyIGEgPSAiIjsKICAgICAgICByZXR1cm4gciAmJiB1ID8gKGUoIioiKSwgZShyKSkgOiBuZShpLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgICAgdmFyIG47CiAgICAgICAgICAhZSB8fCBvICYmICgobiA9IG9bIioiXSkgJiYgblt0XSB8fCAobiA9IG9bcl0pICYmIG5bdF0pIHx8IChhICs9ICgwIDwgYS5sZW5ndGggPyAiICIgOiAiIikgKyB0ICsgIjogIiArIGUgKyAiOyIpOwogICAgICAgIH0pLCBhOwogICAgICB9CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gb28oZSkgewogICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBFdmVudCB8fCB5KGUuaW5pdEV2ZW50KTsKICB9CgogIGZ1bmN0aW9uIGlvKGUsIHQsIG4sIHIpIHsKICAgIHZhciBvLAogICAgICAgIGksCiAgICAgICAgYSA9IGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0LAogICAgICAgICAgbiA9IG51bGwgIT0gciA/IHIgOiB7fTsKCiAgICAgIGZvciAodCBpbiBlKSB7CiAgICAgICAgTmUob2ksIHQpIHx8IChuW3RdID0gZVt0XSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBWKG4uY29tcG9zZWRQYXRoKSAmJiAobi5jb21wb3NlZFBhdGggPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIGUuY29tcG9zZWRQYXRoKCk7CiAgICAgIH0pLCBuOwogICAgfSh0KTsKCiAgICByZXR1cm4gYS50eXBlID0gZSwgSyhhLnRhcmdldCkgJiYgKGEudGFyZ2V0ID0gbnVsbCAhPT0gKG8gPSBhLnNyY0VsZW1lbnQpICYmIHZvaWQgMCAhPT0gbyA/IG8gOiBuKSwgKEsoKGkgPSB0KS5wcmV2ZW50RGVmYXVsdCkgfHwgb28oaSkpICYmIChhLnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkgewogICAgICBhLmRlZmF1bHRQcmV2ZW50ZWQgPSAhMCwgYS5pc0RlZmF1bHRQcmV2ZW50ZWQgPSB3LCB5KHQucHJldmVudERlZmF1bHQpID8gdC5wcmV2ZW50RGVmYXVsdCgpIDogb28odCkgJiYgKHQucmV0dXJuVmFsdWUgPSAhMSk7CiAgICB9LCBhLnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgYS5jYW5jZWxCdWJibGUgPSAhMCwgYS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCA9IHcsIHkodC5zdG9wUHJvcGFnYXRpb24pID8gdC5zdG9wUHJvcGFnYXRpb24oKSA6IG9vKHQpICYmICh0LmNhbmNlbEJ1YmJsZSA9ICEwKTsKICAgIH0sIGEuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uID0gZnVuY3Rpb24gKCkgewogICAgICBhLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gdywgYS5zdG9wUHJvcGFnYXRpb24oKTsKICAgIH0sIGEuaXNEZWZhdWx0UHJldmVudGVkICE9PSB3ICYmIGEuaXNEZWZhdWx0UHJldmVudGVkICE9PSBSICYmIChhLmlzRGVmYXVsdFByZXZlbnRlZCA9ICEwID09PSBhLmRlZmF1bHRQcmV2ZW50ZWQgPyB3IDogUiwgYS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCA9ICEwID09PSBhLmNhbmNlbEJ1YmJsZSA/IHcgOiBSLCBhLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gUikpLCBhOwogIH0KCiAgZnVuY3Rpb24gYW8oZSwgdCwgbiwgcikgewogICAgZS5hZGRFdmVudExpc3RlbmVyID8gZS5hZGRFdmVudExpc3RlbmVyKHQsIG4sIHIgfHwgITEpIDogZS5hdHRhY2hFdmVudCAmJiBlLmF0dGFjaEV2ZW50KCJvbiIgKyB0LCBuKTsKICB9CgogIGZ1bmN0aW9uIHVvKGUsIHQsIG4sIHIpIHsKICAgIGUucmVtb3ZlRXZlbnRMaXN0ZW5lciA/IGUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LCBuLCByIHx8ICExKSA6IGUuZGV0YWNoRXZlbnQgJiYgZS5kZXRhY2hFdmVudCgib24iICsgdCwgbik7CiAgfQoKICBmdW5jdGlvbiBzbyhlLCB0KSB7CiAgICB2YXIgbiwKICAgICAgICByLAogICAgICAgIG8sCiAgICAgICAgaSwKICAgICAgICBhID0gaW8oZS50eXBlLCBlLCBkb2N1bWVudCwgdCk7CiAgICByZXR1cm4gVihpID0gZSkgJiYgaWkudGVzdChpLnR5cGUpICYmIGIoZS5wYWdlWCkgJiYgIWIoZS5jbGllbnRYKSAmJiAociA9IChuID0gYS50YXJnZXQub3duZXJEb2N1bWVudCB8fCBkb2N1bWVudCkuZG9jdW1lbnRFbGVtZW50LCBvID0gbi5ib2R5LCBhLnBhZ2VYID0gZS5jbGllbnRYICsgKHIgJiYgci5zY3JvbGxMZWZ0IHx8IG8gJiYgby5zY3JvbGxMZWZ0IHx8IDApIC0gKHIgJiYgci5jbGllbnRMZWZ0IHx8IG8gJiYgby5jbGllbnRMZWZ0IHx8IDApLCBhLnBhZ2VZID0gZS5jbGllbnRZICsgKHIgJiYgci5zY3JvbGxUb3AgfHwgbyAmJiBvLnNjcm9sbFRvcCB8fCAwKSAtIChyICYmIHIuY2xpZW50VG9wIHx8IG8gJiYgby5jbGllbnRUb3AgfHwgMCkpLCBiKGEubWV0YUtleSkgJiYgKGEubWV0YUtleSA9ICExKSwgYTsKICB9CgogIHZhciBjbyA9IFRyKFsiaDEiLCAiaDIiLCAiaDMiLCAiaDQiLCAiaDUiLCAiaDYiXSksCiAgICAgIGxvID0gVHIoWyJhcnRpY2xlIiwgImFzaWRlIiwgImRldGFpbHMiLCAiZGl2IiwgImR0IiwgImZpZ2NhcHRpb24iLCAiZm9vdGVyIiwgImZvcm0iLCAiZmllbGRzZXQiLCAiaGVhZGVyIiwgImhncm91cCIsICJodG1sIiwgIm1haW4iLCAibmF2IiwgInNlY3Rpb24iLCAic3VtbWFyeSIsICJib2R5IiwgInAiLCAiZGwiLCAibXVsdGljb2wiLCAiZGQiLCAiZmlndXJlIiwgImFkZHJlc3MiLCAiY2VudGVyIiwgImJsb2NrcXVvdGUiLCAiaDEiLCAiaDIiLCAiaDMiLCAiaDQiLCAiaDUiLCAiaDYiLCAibGlzdGluZyIsICJ4bXAiLCAicHJlIiwgInBsYWludGV4dCIsICJtZW51IiwgImRpciIsICJ1bCIsICJvbCIsICJsaSIsICJociIsICJ0YWJsZSIsICJ0Ym9keSIsICJ0aGVhZCIsICJ0Zm9vdCIsICJ0aCIsICJ0ciIsICJ0ZCIsICJjYXB0aW9uIl0pLAogICAgICBmbyA9IFRyKFsiaDEiLCAiaDIiLCAiaDMiLCAiaDQiLCAiaDUiLCAiaDYiLCAicCIsICJkaXYiLCAiYWRkcmVzcyIsICJwcmUiLCAiZm9ybSIsICJibG9ja3F1b3RlIiwgImNlbnRlciIsICJkaXIiLCAiZmllbGRzZXQiLCAiaGVhZGVyIiwgImZvb3RlciIsICJhcnRpY2xlIiwgInNlY3Rpb24iLCAiaGdyb3VwIiwgImFzaWRlIiwgIm5hdiIsICJmaWd1cmUiXSksCiAgICAgIG1vID0gVHIoWyJ1bCIsICJvbCIsICJkbCJdKSwKICAgICAgZ28gPSBUcihbImxpIiwgImRkIiwgImR0Il0pLAogICAgICBwbyA9IFRyKFsidGhlYWQiLCAidGJvZHkiLCAidGZvb3QiXSksCiAgICAgIGhvID0gVHIoWyJ0ZCIsICJ0aCJdKSwKICAgICAgdm8gPSBUcihbInByZSIsICJzY3JpcHQiLCAidGV4dGFyZWEiLCAic3R5bGUiXSksCiAgICAgIGJvID0gIlx1RkVGRiIsCiAgICAgIHlvID0gIlx4YTAiLAogICAgICBDbyA9IGJvLAogICAgICB4byA9IGZ1bmN0aW9uIHhvKGUpIHsKICAgIHJldHVybiBlID09PSBibzsKICB9LAogICAgICB3byA9IGZ1bmN0aW9uIHdvKGUpIHsKICAgIHJldHVybiBlLnJlcGxhY2UoL1x1RkVGRi9nLCAiIik7CiAgfSwKICAgICAgU28gPSB6biwKICAgICAgRW8gPSBqbiwKICAgICAgTm8gPSBmdW5jdGlvbiBObyhlKSB7CiAgICByZXR1cm4gRW8oZSkgJiYgZS5kYXRhWzBdID09PSBDbzsKICB9LAogICAgICBrbyA9IGZ1bmN0aW9uIGtvKGUpIHsKICAgIHJldHVybiBFbyhlKSAmJiBlLmRhdGFbZS5kYXRhLmxlbmd0aCAtIDFdID09PSBDbzsKICB9LAogICAgICBfbyA9IFhuLAogICAgICBBbyA9IFluLAogICAgICBSbyA9IFduLAogICAgICBEbyA9IGpuLAogICAgICBUbyA9IG9uKFsic2NyaXB0IiwgInN0eWxlIiwgInRleHRhcmVhIl0pLAogICAgICBPbyA9IG9uKFsiaW1nIiwgImlucHV0IiwgInRleHRhcmVhIiwgImhyIiwgImlmcmFtZSIsICJ2aWRlbyIsICJhdWRpbyIsICJvYmplY3QiLCAiZW1iZWQiXSksCiAgICAgIEJvID0gb24oWyJ0YWJsZSJdKSwKICAgICAgUG8gPSBJciwKICAgICAgTG8gPSBmdW5jdGlvbiBMbyhlKSB7CiAgICByZXR1cm4gITEgPT09ICh6bih0ID0gZSkgJiYgInRydWUiID09PSB0LmdldEF0dHJpYnV0ZSgidW5zZWxlY3RhYmxlIikpICYmIEFvKGUpOwogICAgdmFyIHQ7CiAgfSwKICAgICAgSW8gPSAvXlsgXHRcclxuXSokLywKICAgICAgTW8gPSB1bigiZGF0YS1tY2UtYm9va21hcmsiKSwKICAgICAgRm8gPSB1bigiZGF0YS1tY2UtYm9ndXMiKSwKICAgICAgVW8gPSBmdW5jdGlvbiBVbyhlKSB7CiAgICByZXR1cm4gem4oZSkgJiYgImFsbCIgPT09IGUuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIpOwogIH0sCiAgICAgIHpvID0gZnVuY3Rpb24gem8oZSwgdCwgbikgewogICAgdmFyIHIgPSBuIHx8IHQ7CiAgICBpZiAoem4odCkgJiYgWHIodCkpIHJldHVybiB0OwoKICAgIGZvciAodmFyIG8sIGksIGEsIHUsIHMsIGMsIGwsIGYsIGQsIG0sIGcsIHAgPSB0LmNoaWxkTm9kZXMsIGggPSBwLmxlbmd0aCAtIDE7IDAgPD0gaDsgaC0tKSB7CiAgICAgIHpvKGUsIHBbaF0sIHIpOwogICAgfQoKICAgIHJldHVybiAhem4odCkgfHwgMSA9PT0gKG8gPSB0LmNoaWxkTm9kZXMpLmxlbmd0aCAmJiBYcihvWzBdKSAmJiB0LnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG9bMF0sIHQpLCAkbihhID0gdCkgfHwgcW4oYSkgfHwgJHIodCwgcikgfHwgem4oaSA9IHQpICYmIDAgPCBpLmNoaWxkTm9kZXMubGVuZ3RoIHx8IChzID0gciwgam4odSA9IHQpICYmIDAgPCB1LmRhdGEubGVuZ3RoICYmIChmID0gbmV3IFJyKGMgPSB1LCBsID0gcykucHJldighMSksIGQgPSBuZXcgUnIoYywgbCkubmV4dCghMSksIG0gPSBiKGYpIHx8IEtyKGYsIGwpLCBnID0gYihkKSB8fCBLcihkLCBsKSwgbSAmJiBnKSkgfHwgZS5yZW1vdmUodCksIHQ7CiAgfSwKICAgICAgSG8gPSBFdC5tYWtlTWFwLAogICAgICBqbyA9IC9bJjw+XCJcdTAwNjBcdTAwN0UtXHVEN0ZGXHVFMDAwLVx1RkZFRl18W1x1RDgwMC1cdURCRkZdW1x1REMwMC1cdURGRkZdL2csCiAgICAgIFZvID0gL1s8PiZcdTAwN0UtXHVEN0ZGXHVFMDAwLVx1RkZFRl18W1x1RDgwMC1cdURCRkZdW1x1REMwMC1cdURGRkZdL2csCiAgICAgIHFvID0gL1s8PiZcIlwnXS9nLAogICAgICAkbyA9IC8mIyhbYS16MC05XSspOz98JihbYS16MC05XSspOy9naSwKICAgICAgV28gPSB7CiAgICAxMjg6ICJcdTIwQUMiLAogICAgMTMwOiAiXHUyMDFBIiwKICAgIDEzMTogIlx1MDE5MiIsCiAgICAxMzI6ICJcdTIwMUUiLAogICAgMTMzOiAiXHUyMDI2IiwKICAgIDEzNDogIlx1MjAyMCIsCiAgICAxMzU6ICJcdTIwMjEiLAogICAgMTM2OiAiXHUwMkM2IiwKICAgIDEzNzogIlx1MjAzMCIsCiAgICAxMzg6ICJcdTAxNjAiLAogICAgMTM5OiAiXHUyMDM5IiwKICAgIDE0MDogIlx1MDE1MiIsCiAgICAxNDI6ICJcdTAxN0QiLAogICAgMTQ1OiAiXHUyMDE4IiwKICAgIDE0NjogIlx1MjAxOSIsCiAgICAxNDc6ICJcdTIwMUMiLAogICAgMTQ4OiAiXHUyMDFEIiwKICAgIDE0OTogIlx1MjAyMiIsCiAgICAxNTA6ICJcdTIwMTMiLAogICAgMTUxOiAiXHUyMDE0IiwKICAgIDE1MjogIlx1MDJEQyIsCiAgICAxNTM6ICJcdTIxMjIiLAogICAgMTU0OiAiXHUwMTYxIiwKICAgIDE1NTogIlx1MjAzQSIsCiAgICAxNTY6ICJcdTAxNTMiLAogICAgMTU4OiAiXHUwMTdFIiwKICAgIDE1OTogIlx1MDE3OCIKICB9LAogICAgICBLbyA9IHsKICAgICciJzogIiZxdW90OyIsCiAgICAiJyI6ICImIzM5OyIsCiAgICAiPCI6ICImbHQ7IiwKICAgICI+IjogIiZndDsiLAogICAgIiYiOiAiJmFtcDsiLAogICAgImAiOiAiJiM5NjsiCiAgfSwKICAgICAgWG8gPSB7CiAgICAiJmx0OyI6ICI8IiwKICAgICImZ3Q7IjogIj4iLAogICAgIiZhbXA7IjogIiYiLAogICAgIiZxdW90OyI6ICciJywKICAgICImYXBvczsiOiAiJyIKICB9LAogICAgICBZbyA9IFlyKCI1MCxuYnNwLDUxLGlleGNsLDUyLGNlbnQsNTMscG91bmQsNTQsY3VycmVuLDU1LHllbiw1NixicnZiYXIsNTcsc2VjdCw1OCx1bWwsNTksY29weSw1YSxvcmRmLDViLGxhcXVvLDVjLG5vdCw1ZCxzaHksNWUscmVnLDVmLG1hY3IsNWcsZGVnLDVoLHBsdXNtbiw1aSxzdXAyLDVqLHN1cDMsNWssYWN1dGUsNWwsbWljcm8sNW0scGFyYSw1bixtaWRkb3QsNW8sY2VkaWwsNXAsc3VwMSw1cSxvcmRtLDVyLHJhcXVvLDVzLGZyYWMxNCw1dCxmcmFjMTIsNXUsZnJhYzM0LDV2LGlxdWVzdCw2MCxBZ3JhdmUsNjEsQWFjdXRlLDYyLEFjaXJjLDYzLEF0aWxkZSw2NCxBdW1sLDY1LEFyaW5nLDY2LEFFbGlnLDY3LENjZWRpbCw2OCxFZ3JhdmUsNjksRWFjdXRlLDZhLEVjaXJjLDZiLEV1bWwsNmMsSWdyYXZlLDZkLElhY3V0ZSw2ZSxJY2lyYyw2ZixJdW1sLDZnLEVUSCw2aCxOdGlsZGUsNmksT2dyYXZlLDZqLE9hY3V0ZSw2ayxPY2lyYyw2bCxPdGlsZGUsNm0sT3VtbCw2bix0aW1lcyw2byxPc2xhc2gsNnAsVWdyYXZlLDZxLFVhY3V0ZSw2cixVY2lyYyw2cyxVdW1sLDZ0LFlhY3V0ZSw2dSxUSE9STiw2dixzemxpZyw3MCxhZ3JhdmUsNzEsYWFjdXRlLDcyLGFjaXJjLDczLGF0aWxkZSw3NCxhdW1sLDc1LGFyaW5nLDc2LGFlbGlnLDc3LGNjZWRpbCw3OCxlZ3JhdmUsNzksZWFjdXRlLDdhLGVjaXJjLDdiLGV1bWwsN2MsaWdyYXZlLDdkLGlhY3V0ZSw3ZSxpY2lyYyw3ZixpdW1sLDdnLGV0aCw3aCxudGlsZGUsN2ksb2dyYXZlLDdqLG9hY3V0ZSw3ayxvY2lyYyw3bCxvdGlsZGUsN20sb3VtbCw3bixkaXZpZGUsN28sb3NsYXNoLDdwLHVncmF2ZSw3cSx1YWN1dGUsN3IsdWNpcmMsN3MsdXVtbCw3dCx5YWN1dGUsN3UsdGhvcm4sN3YseXVtbCxjaSxmbm9mLHNoLEFscGhhLHNpLEJldGEsc2osR2FtbWEsc2ssRGVsdGEsc2wsRXBzaWxvbixzbSxaZXRhLHNuLEV0YSxzbyxUaGV0YSxzcCxJb3RhLHNxLEthcHBhLHNyLExhbWJkYSxzcyxNdSxzdCxOdSxzdSxYaSxzdixPbWljcm9uLHQwLFBpLHQxLFJobyx0MyxTaWdtYSx0NCxUYXUsdDUsVXBzaWxvbix0NixQaGksdDcsQ2hpLHQ4LFBzaSx0OSxPbWVnYSx0aCxhbHBoYSx0aSxiZXRhLHRqLGdhbW1hLHRrLGRlbHRhLHRsLGVwc2lsb24sdG0semV0YSx0bixldGEsdG8sdGhldGEsdHAsaW90YSx0cSxrYXBwYSx0cixsYW1iZGEsdHMsbXUsdHQsbnUsdHUseGksdHYsb21pY3Jvbix1MCxwaSx1MSxyaG8sdTIsc2lnbWFmLHUzLHNpZ21hLHU0LHRhdSx1NSx1cHNpbG9uLHU2LHBoaSx1NyxjaGksdTgscHNpLHU5LG9tZWdhLHVoLHRoZXRhc3ltLHVpLHVwc2loLHVtLHBpdiw4MTIsYnVsbCw4MTYsaGVsbGlwLDgxaSxwcmltZSw4MWosUHJpbWUsODF1LG9saW5lLDgyNCxmcmFzbCw4OG8sd2VpZXJwLDg4aCxpbWFnZSw4OHMscmVhbCw4OTIsdHJhZGUsODlsLGFsZWZzeW0sOGNnLGxhcnIsOGNoLHVhcnIsOGNpLHJhcnIsOGNqLGRhcnIsOGNrLGhhcnIsOGRsLGNyYXJyLDhlZyxsQXJyLDhlaCx1QXJyLDhlaSxyQXJyLDhlaixkQXJyLDhlayxoQXJyLDhnMCxmb3JhbGwsOGcyLHBhcnQsOGczLGV4aXN0LDhnNSxlbXB0eSw4ZzcsbmFibGEsOGc4LGlzaW4sOGc5LG5vdGluLDhnYixuaSw4Z2YscHJvZCw4Z2gsc3VtLDhnaSxtaW51cyw4Z24sbG93YXN0LDhncSxyYWRpYyw4Z3QscHJvcCw4Z3UsaW5maW4sOGgwLGFuZyw4aDcsYW5kLDhoOCxvciw4aDksY2FwLDhoYSxjdXAsOGhiLGludCw4aGssdGhlcmU0LDhocyxzaW0sOGk1LGNvbmcsOGk4LGFzeW1wLDhqMCxuZSw4ajEsZXF1aXYsOGo0LGxlLDhqNSxnZSw4azIsc3ViLDhrMyxzdXAsOGs0LG5zdWIsOGs2LHN1YmUsOGs3LHN1cGUsOGtsLG9wbHVzLDhrbixvdGltZXMsOGw1LHBlcnAsOG01LHNkb3QsOG84LGxjZWlsLDhvOSxyY2VpbCw4b2EsbGZsb29yLDhvYixyZmxvb3IsOHA5LGxhbmcsOHBhLHJhbmcsOWVhLGxveiw5ajAsc3BhZGVzLDlqMyxjbHVicyw5ajUsaGVhcnRzLDlqNixkaWFtcyxhaSxPRWxpZyxhaixvZWxpZyxiMCxTY2Fyb24sYjEsc2Nhcm9uLGJvLFl1bWwsbTYsY2lyYyxtcyx0aWxkZSw4MDIsZW5zcCw4MDMsZW1zcCw4MDksdGhpbnNwLDgwYyx6d25qLDgwZCx6d2osODBlLGxybSw4MGYscmxtLDgwaixuZGFzaCw4MGssbWRhc2gsODBvLGxzcXVvLDgwcCxyc3F1byw4MHEsc2JxdW8sODBzLGxkcXVvLDgwdCxyZHF1byw4MHUsYmRxdW8sODEwLGRhZ2dlciw4MTEsRGFnZ2VyLDgxZyxwZXJtaWwsODFwLGxzYXF1byw4MXEscnNhcXVvLDg1YyxldXJvIiwgMzIpLAogICAgICBHbyA9IHsKICAgIGVuY29kZVJhdzogR3IsCiAgICBlbmNvZGVBbGxSYXc6IGZ1bmN0aW9uIGVuY29kZUFsbFJhdyhlKSB7CiAgICAgIHJldHVybiAoIiIgKyBlKS5yZXBsYWNlKHFvLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBLb1tlXSB8fCBlOwogICAgICB9KTsKICAgIH0sCiAgICBlbmNvZGVOdW1lcmljOiBKciwKICAgIGVuY29kZU5hbWVkOiBRciwKICAgIGdldEVuY29kZUZ1bmM6IGZ1bmN0aW9uIGdldEVuY29kZUZ1bmMoZSwgdCkgewogICAgICB2YXIgbiA9IFlyKHQpIHx8IFlvLAogICAgICAgICAgciA9IEhvKGUucmVwbGFjZSgvXCsvZywgIiwiKSk7CiAgICAgIHJldHVybiByLm5hbWVkICYmIHIubnVtZXJpYyA/IGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgcmV0dXJuIGUucmVwbGFjZSh0ID8gam8gOiBWbywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiB2b2lkIDAgIT09IEtvW2VdID8gS29bZV0gOiB2b2lkIDAgIT09IG5bZV0gPyBuW2VdIDogMSA8IGUubGVuZ3RoID8gIiYjIiArICgxMDI0ICogKGUuY2hhckNvZGVBdCgwKSAtIDU1Mjk2KSArIChlLmNoYXJDb2RlQXQoMSkgLSA1NjMyMCkgKyA2NTUzNikgKyAiOyIgOiAiJiMiICsgZS5jaGFyQ29kZUF0KDApICsgIjsiOwogICAgICAgIH0pOwogICAgICB9IDogci5uYW1lZCA/IHQgPyBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIHJldHVybiBRcihlLCB0LCBuKTsKICAgICAgfSA6IFFyIDogci5udW1lcmljID8gSnIgOiBHcjsKICAgIH0sCiAgICBkZWNvZGU6IGZ1bmN0aW9uIGRlY29kZShlKSB7CiAgICAgIHJldHVybiBlLnJlcGxhY2UoJG8sIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgcmV0dXJuIHQgPyA2NTUzNSA8ICh0ID0gIngiID09PSB0LmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpID8gcGFyc2VJbnQodC5zdWJzdHIoMSksIDE2KSA6IHBhcnNlSW50KHQsIDEwKSkgPyAodCAtPSA2NTUzNiwgU3RyaW5nLmZyb21DaGFyQ29kZSg1NTI5NiArICh0ID4+IDEwKSwgNTYzMjAgKyAoMTAyMyAmIHQpKSkgOiBXb1t0XSB8fCBTdHJpbmcuZnJvbUNoYXJDb2RlKHQpIDogWG9bZV0gfHwgWW9bZV0gfHwgKG4gPSBlLCAociA9IE50LmZyb21UYWcoImRpdiIpLmRvbSkuaW5uZXJIVE1MID0gbiwgci50ZXh0Q29udGVudCB8fCByLmlubmVyVGV4dCB8fCBuKTsKICAgICAgICB2YXIgbiwgcjsKICAgICAgfSk7CiAgICB9CiAgfSwKICAgICAgSm8gPSB7fSwKICAgICAgUW8gPSB7fSwKICAgICAgWm8gPSBFdC5tYWtlTWFwLAogICAgICBlaSA9IEV0LmVhY2gsCiAgICAgIHRpID0gRXQuZXh0ZW5kLAogICAgICBuaSA9IEV0LmV4cGxvZGUsCiAgICAgIHJpID0gRXQuaW5BcnJheSwKICAgICAgb2kgPSB7CiAgICBrZXlMb2NhdGlvbjogITAsCiAgICBsYXllclg6ICEwLAogICAgbGF5ZXJZOiAhMCwKICAgIHJldHVyblZhbHVlOiAhMCwKICAgIHdlYmtpdE1vdmVtZW50WDogITAsCiAgICB3ZWJraXRNb3ZlbWVudFk6ICEwLAogICAga2V5SWRlbnRpZmllcjogITAsCiAgICBtb3pQcmVzc3VyZTogITAKICB9LAogICAgICBpaSA9IC9eKD86bW91c2V8Y29udGV4dG1lbnUpfGNsaWNrLywKICAgICAgYWkgPSAodWkucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiAoZSwgdCwgbiwgcikgewogICAgZnVuY3Rpb24gbyhlKSB7CiAgICAgIGYuZXhlY3V0ZUhhbmRsZXJzKHNvKGUgfHwgZC5ldmVudCksIGkpOwogICAgfQoKICAgIHZhciBpLAogICAgICAgIGEsCiAgICAgICAgdSwKICAgICAgICBzLAogICAgICAgIGMsCiAgICAgICAgbCwKICAgICAgICBmID0gdGhpcywKICAgICAgICBkID0gd2luZG93OwoKICAgIGlmIChlICYmIDMgIT09IGUubm9kZVR5cGUgJiYgOCAhPT0gZS5ub2RlVHlwZSkgewogICAgICBlW2YuZXhwYW5kb10gPyBpID0gZVtmLmV4cGFuZG9dIDogKGkgPSBmLmNvdW50KyssIGVbZi5leHBhbmRvXSA9IGksIGYuZXZlbnRzW2ldID0ge30pLCByID0gciB8fCBlOwoKICAgICAgZm9yICh2YXIgbSA9IHQuc3BsaXQoIiAiKSwgZyA9IG0ubGVuZ3RoOyBnLS07KSB7CiAgICAgICAgYyA9IG8sIHMgPSBsID0gITEsICJET01Db250ZW50TG9hZGVkIiA9PT0gKHUgPSBtW2ddKSAmJiAodSA9ICJyZWFkeSIpLCBmLmRvbUxvYWRlZCAmJiAicmVhZHkiID09PSB1ICYmICJjb21wbGV0ZSIgPT09IGUucmVhZHlTdGF0ZSA/IG4uY2FsbChyLCBzbyh7CiAgICAgICAgICB0eXBlOiB1CiAgICAgICAgfSkpIDogKGYuaGFzTW91c2VFbnRlckxlYXZlIHx8IChzID0gZi5tb3VzZUVudGVyTGVhdmVbdV0pICYmIChjID0gZnVuY3Rpb24gYyhlKSB7CiAgICAgICAgICB2YXIgdCA9IGUuY3VycmVudFRhcmdldCwKICAgICAgICAgICAgICBuID0gZS5yZWxhdGVkVGFyZ2V0OwogICAgICAgICAgaWYgKG4gJiYgdC5jb250YWlucykgbiA9IHQuY29udGFpbnMobik7ZWxzZSBmb3IgKDsgbiAmJiBuICE9PSB0OykgewogICAgICAgICAgICBuID0gbi5wYXJlbnROb2RlOwogICAgICAgICAgfQogICAgICAgICAgbiB8fCAoKGUgPSBzbyhlIHx8IGQuZXZlbnQpKS50eXBlID0gIm1vdXNlb3V0IiA9PT0gZS50eXBlID8gIm1vdXNlbGVhdmUiIDogIm1vdXNlZW50ZXIiLCBlLnRhcmdldCA9IHQsIGYuZXhlY3V0ZUhhbmRsZXJzKGUsIGkpKTsKICAgICAgICB9KSwgZi5oYXNGb2N1c0luIHx8ICJmb2N1c2luIiAhPT0gdSAmJiAiZm9jdXNvdXQiICE9PSB1IHx8IChsID0gITAsIHMgPSAiZm9jdXNpbiIgPT09IHUgPyAiZm9jdXMiIDogImJsdXIiLCBjID0gZnVuY3Rpb24gYyhlKSB7CiAgICAgICAgICAoZSA9IHNvKGUgfHwgZC5ldmVudCkpLnR5cGUgPSAiZm9jdXMiID09PSBlLnR5cGUgPyAiZm9jdXNpbiIgOiAiZm9jdXNvdXQiLCBmLmV4ZWN1dGVIYW5kbGVycyhlLCBpKTsKICAgICAgICB9KSwgKGEgPSBmLmV2ZW50c1tpXVt1XSkgPyAicmVhZHkiID09PSB1ICYmIGYuZG9tTG9hZGVkID8gbihzbyh7CiAgICAgICAgICB0eXBlOiB1CiAgICAgICAgfSkpIDogYS5wdXNoKHsKICAgICAgICAgIGZ1bmM6IG4sCiAgICAgICAgICBzY29wZTogcgogICAgICAgIH0pIDogKGYuZXZlbnRzW2ldW3VdID0gYSA9IFt7CiAgICAgICAgICBmdW5jOiBuLAogICAgICAgICAgc2NvcGU6IHIKICAgICAgICB9XSwgYS5mYWtlTmFtZSA9IHMsIGEuY2FwdHVyZSA9IGwsIGEubmF0aXZlSGFuZGxlciA9IGMsICJyZWFkeSIgPT09IHUgPyBmdW5jdGlvbiAoZSwgdCwgbikgewogICAgICAgICAgdmFyIF9yMiwKICAgICAgICAgICAgICBvID0gZS5kb2N1bWVudCwKICAgICAgICAgICAgICBpID0gewogICAgICAgICAgICB0eXBlOiAicmVhZHkiCiAgICAgICAgICB9OwoKICAgICAgICAgIG4uZG9tTG9hZGVkID8gdChpKSA6IChfcjIgPSBmdW5jdGlvbiByKCkgewogICAgICAgICAgICB1byhlLCAiRE9NQ29udGVudExvYWRlZCIsIF9yMiksIHVvKGUsICJsb2FkIiwgX3IyKSwgbi5kb21Mb2FkZWQgfHwgKG4uZG9tTG9hZGVkID0gITAsIHQoaSkpLCBlID0gbnVsbDsKICAgICAgICAgIH0sICJjb21wbGV0ZSIgPT09IG8ucmVhZHlTdGF0ZSB8fCAiaW50ZXJhY3RpdmUiID09PSBvLnJlYWR5U3RhdGUgJiYgby5ib2R5ID8gX3IyKCkgOiBhbyhlLCAiRE9NQ29udGVudExvYWRlZCIsIF9yMiksIG4uZG9tTG9hZGVkIHx8IGFvKGUsICJsb2FkIiwgX3IyKSk7CiAgICAgICAgfShlLCBjLCBmKSA6IGFvKGUsIHMgfHwgdSwgYywgbCkpKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGUgPSBhID0gbnVsbCwgbjsKICAgIH0KICB9LCB1aS5wcm90b3R5cGUudW5iaW5kID0gZnVuY3Rpb24gKG4sIGUsIHQpIHsKICAgIHZhciByLCBvLCBpOwogICAgaWYgKCFuIHx8IDMgPT09IG4ubm9kZVR5cGUgfHwgOCA9PT0gbi5ub2RlVHlwZSkgcmV0dXJuIHRoaXM7CiAgICB2YXIgYSA9IG5bdGhpcy5leHBhbmRvXTsKCiAgICBpZiAoYSkgewogICAgICBpZiAoaSA9IHRoaXMuZXZlbnRzW2FdLCBlKSB7CiAgICAgICAgZm9yICh2YXIgdSwgcywgYywgbCwgZiA9IGUuc3BsaXQoIiAiKSwgZCA9IGYubGVuZ3RoOyBkLS07KSB7CiAgICAgICAgICBpZiAobCA9IGlbbyA9IGZbZF1dKSB7CiAgICAgICAgICAgIGlmICh0KSBmb3IgKHIgPSBsLmxlbmd0aDsgci0tOykgewogICAgICAgICAgICAgIGxbcl0uZnVuYyA9PT0gdCAmJiAodSA9IGwubmF0aXZlSGFuZGxlciwgcyA9IGwuZmFrZU5hbWUsIGMgPSBsLmNhcHR1cmUsIChsID0gbC5zbGljZSgwLCByKS5jb25jYXQobC5zbGljZShyICsgMSkpKS5uYXRpdmVIYW5kbGVyID0gdSwgbC5mYWtlTmFtZSA9IHMsIGwuY2FwdHVyZSA9IGMsIGlbb10gPSBsKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0ICYmIDAgIT09IGwubGVuZ3RoIHx8IChkZWxldGUgaVtvXSwgdW8obiwgbC5mYWtlTmFtZSB8fCBvLCBsLm5hdGl2ZUhhbmRsZXIsIGwuY2FwdHVyZSkpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSBlbHNlIG5lKGksIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgdW8obiwgZS5mYWtlTmFtZSB8fCB0LCBlLm5hdGl2ZUhhbmRsZXIsIGUuY2FwdHVyZSk7CiAgICAgIH0pLCBpID0ge307CgogICAgICBmb3IgKG8gaW4gaSkgewogICAgICAgIGlmIChOZShpLCBvKSkgcmV0dXJuIHRoaXM7CiAgICAgIH0KCiAgICAgIGRlbGV0ZSB0aGlzLmV2ZW50c1thXTsKCiAgICAgIHRyeSB7CiAgICAgICAgZGVsZXRlIG5bdGhpcy5leHBhbmRvXTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIG5bdGhpcy5leHBhbmRvXSA9IG51bGw7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9LCB1aS5wcm90b3R5cGUuZmlyZSA9IGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICB2YXIgcjsKICAgIGlmICghZSB8fCAzID09PSBlLm5vZGVUeXBlIHx8IDggPT09IGUubm9kZVR5cGUpIHJldHVybiB0aGlzOwoKICAgIGZvciAodmFyIG8gPSBzbyh7CiAgICAgIHR5cGU6IHQsCiAgICAgIHRhcmdldDogZQogICAgfSwgbik7IChyID0gZVt0aGlzLmV4cGFuZG9dKSAmJiB0aGlzLmV4ZWN1dGVIYW5kbGVycyhvLCByKSwgKGUgPSBlLnBhcmVudE5vZGUgfHwgZS5vd25lckRvY3VtZW50IHx8IGUuZGVmYXVsdFZpZXcgfHwgZS5wYXJlbnRXaW5kb3cpICYmICFvLmlzUHJvcGFnYXRpb25TdG9wcGVkKCk7KSB7CiAgICAgIDsKICAgIH0KCiAgICByZXR1cm4gdGhpczsKICB9LCB1aS5wcm90b3R5cGUuY2xlYW4gPSBmdW5jdGlvbiAoZSkgewogICAgdmFyIHQsIG47CiAgICBpZiAoIWUgfHwgMyA9PT0gZS5ub2RlVHlwZSB8fCA4ID09PSBlLm5vZGVUeXBlKSByZXR1cm4gdGhpczsKICAgIGlmIChlW3RoaXMuZXhwYW5kb10gJiYgdGhpcy51bmJpbmQoZSksIChlID0gZS5nZXRFbGVtZW50c0J5VGFnTmFtZSA/IGUgOiBlLmRvY3VtZW50KSAmJiBlLmdldEVsZW1lbnRzQnlUYWdOYW1lKSBmb3IgKHRoaXMudW5iaW5kKGUpLCB0ID0gKG4gPSBlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikpLmxlbmd0aDsgdC0tOykgewogICAgICAoZSA9IG5bdF0pW3RoaXMuZXhwYW5kb10gJiYgdGhpcy51bmJpbmQoZSk7CiAgICB9CiAgICByZXR1cm4gdGhpczsKICB9LCB1aS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuZXZlbnRzID0ge307CiAgfSwgdWkucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gZSAmJiAoZS5wcmV2ZW50RGVmYXVsdCgpLCBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpKSwgITE7CiAgfSwgdWkucHJvdG90eXBlLmV4ZWN1dGVIYW5kbGVycyA9IGZ1bmN0aW9uIChlLCB0KSB7CiAgICB2YXIgbiA9IHRoaXMuZXZlbnRzW3RdLAogICAgICAgIHIgPSBuICYmIG5bZS50eXBlXTsKICAgIGlmIChyKSBmb3IgKHZhciBvID0gMCwgaSA9IHIubGVuZ3RoOyBvIDwgaTsgbysrKSB7CiAgICAgIHZhciBhID0gcltvXTsKICAgICAgaWYgKGEgJiYgITEgPT09IGEuZnVuYy5jYWxsKGEuc2NvcGUsIGUpICYmIGUucHJldmVudERlZmF1bHQoKSwgZS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKSByZXR1cm47CiAgICB9CiAgfSwgdWkuRXZlbnQgPSBuZXcgdWkoKSwgdWkpOwoKICBmdW5jdGlvbiB1aSgpIHsKICAgIHRoaXMuZG9tTG9hZGVkID0gITEsIHRoaXMuZXZlbnRzID0ge30sIHRoaXMuY291bnQgPSAxLCB0aGlzLmV4cGFuZG8gPSAibWNlLWRhdGEtIiArICgrbmV3IERhdGUoKSkudG9TdHJpbmcoMzIpLCB0aGlzLmhhc01vdXNlRW50ZXJMZWF2ZSA9ICJvbm1vdXNlZW50ZXIiIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCwgdGhpcy5oYXNGb2N1c0luID0gIm9uZm9jdXNpbiIgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB0aGlzLmNvdW50ID0gMTsKICB9CgogIGZ1bmN0aW9uIHNpKGUsIHQsIG4pIHsKICAgIHZhciByID0gIjB4IiArIHQgLSA2NTUzNjsKICAgIHJldHVybiByICE9IHIgfHwgbiA/IHQgOiByIDwgMCA/IFN0cmluZy5mcm9tQ2hhckNvZGUoNjU1MzYgKyByKSA6IFN0cmluZy5mcm9tQ2hhckNvZGUociA+PiAxMCB8IDU1Mjk2LCAxMDIzICYgciB8IDU2MzIwKTsKICB9CgogIHZhciBjaSwKICAgICAgbGksCiAgICAgIGZpLAogICAgICBkaSwKICAgICAgbWksCiAgICAgIGdpLAogICAgICBwaSwKICAgICAgaGksCiAgICAgIHZpLAogICAgICBiaSwKICAgICAgeWksCiAgICAgIENpLAogICAgICB4aSwKICAgICAgd2ksCiAgICAgIFNpLAogICAgICBFaSwKICAgICAgTmksCiAgICAgIGtpID0gInNpenpsZSIgKyAtbmV3IERhdGUoKSwKICAgICAgX2kgPSB3aW5kb3cuZG9jdW1lbnQsCiAgICAgIEFpID0gMCwKICAgICAgUmkgPSAwLAogICAgICBEaSA9IHVhKCksCiAgICAgIFRpID0gdWEoKSwKICAgICAgT2kgPSB1YSgpLAogICAgICBCaSA9IGZ1bmN0aW9uIEJpKGUsIHQpIHsKICAgIHJldHVybiBlID09PSB0ICYmIChiaSA9ICEwKSwgMDsKICB9LAogICAgICBQaSA9ICJ1bmRlZmluZWQiLAogICAgICBMaSA9IHt9Lmhhc093blByb3BlcnR5LAogICAgICBJaSA9IFtdLAogICAgICBNaSA9IElpLnBvcCwKICAgICAgRmkgPSBJaS5wdXNoLAogICAgICBVaSA9IElpLnB1c2gsCiAgICAgIHppID0gSWkuc2xpY2UsCiAgICAgIEhpID0gSWkuaW5kZXhPZiB8fCBmdW5jdGlvbiAoZSkgewogICAgZm9yICh2YXIgdCA9IDAsIG4gPSB0aGlzLmxlbmd0aDsgdCA8IG47IHQrKykgewogICAgICBpZiAodGhpc1t0XSA9PT0gZSkgcmV0dXJuIHQ7CiAgICB9CgogICAgcmV0dXJuIC0xOwogIH0sCiAgICAgIGppID0gIltcXHgyMFxcdFxcclxcblxcZl0iLAogICAgICBWaSA9ICIoPzpcXFxcLnxbXFx3LV18W15cXHgwMC1cXHhhMF0pKyIsCiAgICAgIHFpID0gIlxcWyIgKyBqaSArICIqKCIgKyBWaSArICIpKD86IiArIGppICsgIiooWypeJHwhfl0/PSkiICsgamkgKyAiKig/OicoKD86XFxcXC58W15cXFxcJ10pKiknfFwiKCg/OlxcXFwufFteXFxcXFwiXSkqKVwifCgiICsgVmkgKyAiKSl8KSIgKyBqaSArICIqXFxdIiwKICAgICAgJGkgPSAiOigiICsgVmkgKyAiKSg/OlxcKCgoJygoPzpcXFxcLnxbXlxcXFwnXSkqKSd8XCIoKD86XFxcXC58W15cXFxcXCJdKSopXCIpfCgoPzpcXFxcLnxbXlxcXFwoKVtcXF1dfCIgKyBxaSArICIpKil8LiopXFwpfCkiLAogICAgICBXaSA9IG5ldyBSZWdFeHAoIl4iICsgamkgKyAiK3woKD86XnxbXlxcXFxdKSg/OlxcXFwuKSopIiArIGppICsgIiskIiwgImciKSwKICAgICAgS2kgPSBuZXcgUmVnRXhwKCJeIiArIGppICsgIiosIiArIGppICsgIioiKSwKICAgICAgWGkgPSBuZXcgUmVnRXhwKCJeIiArIGppICsgIiooWz4rfl18IiArIGppICsgIikiICsgamkgKyAiKiIpLAogICAgICBZaSA9IG5ldyBSZWdFeHAoIj0iICsgamkgKyAiKihbXlxcXSdcIl0qPykiICsgamkgKyAiKlxcXSIsICJnIiksCiAgICAgIEdpID0gbmV3IFJlZ0V4cCgkaSksCiAgICAgIEppID0gbmV3IFJlZ0V4cCgiXiIgKyBWaSArICIkIiksCiAgICAgIFFpID0gewogICAgSUQ6IG5ldyBSZWdFeHAoIl4jKCIgKyBWaSArICIpIiksCiAgICBDTEFTUzogbmV3IFJlZ0V4cCgiXlxcLigiICsgVmkgKyAiKSIpLAogICAgVEFHOiBuZXcgUmVnRXhwKCJeKCIgKyBWaSArICJ8WypdKSIpLAogICAgQVRUUjogbmV3IFJlZ0V4cCgiXiIgKyBxaSksCiAgICBQU0VVRE86IG5ldyBSZWdFeHAoIl4iICsgJGkpLAogICAgQ0hJTEQ6IG5ldyBSZWdFeHAoIl46KG9ubHl8Zmlyc3R8bGFzdHxudGh8bnRoLWxhc3QpLShjaGlsZHxvZi10eXBlKSg/OlxcKCIgKyBqaSArICIqKGV2ZW58b2RkfCgoWystXXwpKFxcZCopbnwpIiArIGppICsgIiooPzooWystXXwpIiArIGppICsgIiooXFxkKyl8KSkiICsgamkgKyAiKlxcKXwpIiwgImkiKSwKICAgIGJvb2w6IG5ldyBSZWdFeHAoIl4oPzpjaGVja2VkfHNlbGVjdGVkfGFzeW5jfGF1dG9mb2N1c3xhdXRvcGxheXxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58aXNtYXB8bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZCkkIiwgImkiKSwKICAgIG5lZWRzQ29udGV4dDogbmV3IFJlZ0V4cCgiXiIgKyBqaSArICIqWz4rfl18OihldmVufG9kZHxlcXxndHxsdHxudGh8Zmlyc3R8bGFzdCkoPzpcXCgiICsgamkgKyAiKigoPzotXFxkKT9cXGQqKSIgKyBqaSArICIqXFwpfCkoPz1bXi1dfCQpIiwgImkiKQogIH0sCiAgICAgIFppID0gL14oPzppbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uKSQvaSwKICAgICAgZWEgPSAvXmhcZCQvaSwKICAgICAgdGEgPSAvXltee10rXHtccypcW25hdGl2ZSBcdy8sCiAgICAgIG5hID0gL14oPzojKFtcdy1dKyl8KFx3Kyl8XC4oW1x3LV0rKSkkLywKICAgICAgcmEgPSAvWyt+XS8sCiAgICAgIG9hID0gLyd8XFwvZywKICAgICAgaWEgPSBuZXcgUmVnRXhwKCJcXFxcKFtcXGRhLWZdezEsNn0iICsgamkgKyAiP3woIiArIGppICsgIil8LikiLCAiaWciKTsKCiAgdHJ5IHsKICAgIFVpLmFwcGx5KElpID0gemkuY2FsbChfaS5jaGlsZE5vZGVzKSwgX2kuY2hpbGROb2RlcyksIElpW19pLmNoaWxkTm9kZXMubGVuZ3RoXS5ub2RlVHlwZTsKICB9IGNhdGNoIChlKSB7CiAgICBVaSA9IHsKICAgICAgYXBwbHk6IElpLmxlbmd0aCA/IGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgRmkuYXBwbHkoZSwgemkuY2FsbCh0KSk7CiAgICAgIH0gOiBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIGZvciAodmFyIG4gPSBlLmxlbmd0aCwgciA9IDA7IGVbbisrXSA9IHRbcisrXTspIHsKICAgICAgICAgIDsKICAgICAgICB9CgogICAgICAgIGUubGVuZ3RoID0gbiAtIDE7CiAgICAgIH0KICAgIH07CiAgfQoKICB2YXIgYWEgPSBmdW5jdGlvbiBhYShlLCB0LCBuLCByKSB7CiAgICB2YXIgbywgaSwgYSwgdSwgcywgYywgbCwgZiwgZCwgbTsKICAgIGlmICgodCA/IHQub3duZXJEb2N1bWVudCB8fCB0IDogX2kpICE9PSBDaSAmJiB5aSh0KSwgbiA9IG4gfHwgW10sICFlIHx8ICJzdHJpbmciICE9IHR5cGVvZiBlKSByZXR1cm4gbjsKICAgIGlmICgxICE9PSAodSA9ICh0ID0gdCB8fCBDaSkubm9kZVR5cGUpICYmIDkgIT09IHUpIHJldHVybiBbXTsKCiAgICBpZiAod2kgJiYgIXIpIHsKICAgICAgaWYgKG8gPSBuYS5leGVjKGUpKSBpZiAoYSA9IG9bMV0pIHsKICAgICAgICBpZiAoOSA9PT0gdSkgewogICAgICAgICAgaWYgKCEoaSA9IHQuZ2V0RWxlbWVudEJ5SWQoYSkpIHx8ICFpLnBhcmVudE5vZGUpIHJldHVybiBuOwogICAgICAgICAgaWYgKGkuaWQgPT09IGEpIHJldHVybiBuLnB1c2goaSksIG47CiAgICAgICAgfSBlbHNlIGlmICh0Lm93bmVyRG9jdW1lbnQgJiYgKGkgPSB0Lm93bmVyRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSkpICYmIE5pKHQsIGkpICYmIGkuaWQgPT09IGEpIHJldHVybiBuLnB1c2goaSksIG47CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKG9bMl0pIHJldHVybiBVaS5hcHBseShuLCB0LmdldEVsZW1lbnRzQnlUYWdOYW1lKGUpKSwgbjsKICAgICAgICBpZiAoKGEgPSBvWzNdKSAmJiBjaS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKSByZXR1cm4gVWkuYXBwbHkobiwgdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGEpKSwgbjsKICAgICAgfQoKICAgICAgaWYgKGNpLnFzYSAmJiAoIVNpIHx8ICFTaS50ZXN0KGUpKSkgewogICAgICAgIGlmIChmID0gbCA9IGtpLCBkID0gdCwgbSA9IDkgPT09IHUgJiYgZSwgMSA9PT0gdSAmJiAib2JqZWN0IiAhPT0gdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSB7CiAgICAgICAgICBmb3IgKGMgPSBtaShlKSwgKGwgPSB0LmdldEF0dHJpYnV0ZSgiaWQiKSkgPyBmID0gbC5yZXBsYWNlKG9hLCAiXFwkJiIpIDogdC5zZXRBdHRyaWJ1dGUoImlkIiwgZiksIGYgPSAiW2lkPSciICsgZiArICInXSAiLCBzID0gYy5sZW5ndGg7IHMtLTspIHsKICAgICAgICAgICAgY1tzXSA9IGYgKyBtYShjW3NdKTsKICAgICAgICAgIH0KCiAgICAgICAgICBkID0gcmEudGVzdChlKSAmJiBmYSh0LnBhcmVudE5vZGUpIHx8IHQsIG0gPSBjLmpvaW4oIiwiKTsKICAgICAgICB9CgogICAgICAgIGlmIChtKSB0cnkgewogICAgICAgICAgcmV0dXJuIFVpLmFwcGx5KG4sIGQucXVlcnlTZWxlY3RvckFsbChtKSksIG47CiAgICAgICAgfSBjYXRjaCAoZSkge30gZmluYWxseSB7CiAgICAgICAgICBsIHx8IHQucmVtb3ZlQXR0cmlidXRlKCJpZCIpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHJldHVybiBwaShlLnJlcGxhY2UoV2ksICIkMSIpLCB0LCBuLCByKTsKICB9OwoKICBmdW5jdGlvbiB1YSgpIHsKICAgIHZhciBuID0gW107CgogICAgZnVuY3Rpb24gcihlLCB0KSB7CiAgICAgIHJldHVybiBuLnB1c2goZSArICIgIikgPiBsaS5jYWNoZUxlbmd0aCAmJiBkZWxldGUgcltuLnNoaWZ0KCldLCByW2UgKyAiICJdID0gdDsKICAgIH0KCiAgICByZXR1cm4gcjsKICB9CgogIGZ1bmN0aW9uIHNhKGUpIHsKICAgIHJldHVybiBlW2tpXSA9ICEwLCBlOwogIH0KCiAgZnVuY3Rpb24gY2EoZSwgdCkgewogICAgdmFyIG4gPSB0ICYmIGUsCiAgICAgICAgciA9IG4gJiYgMSA9PT0gZS5ub2RlVHlwZSAmJiAxID09PSB0Lm5vZGVUeXBlICYmICh+dC5zb3VyY2VJbmRleCB8fCAxIDw8IDMxKSAtICh+ZS5zb3VyY2VJbmRleCB8fCAxIDw8IDMxKTsKICAgIGlmIChyKSByZXR1cm4gcjsKICAgIGlmIChuKSBmb3IgKDsgbiA9IG4ubmV4dFNpYmxpbmc7KSB7CiAgICAgIGlmIChuID09PSB0KSByZXR1cm4gLTE7CiAgICB9CiAgICByZXR1cm4gZSA/IDEgOiAtMTsKICB9CgogIGZ1bmN0aW9uIGxhKGEpIHsKICAgIHJldHVybiBzYShmdW5jdGlvbiAoaSkgewogICAgICByZXR1cm4gaSA9ICtpLCBzYShmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIGZvciAodmFyIG4sIHIgPSBhKFtdLCBlLmxlbmd0aCwgaSksIG8gPSByLmxlbmd0aDsgby0tOykgewogICAgICAgICAgZVtuID0gcltvXV0gJiYgKGVbbl0gPSAhKHRbbl0gPSBlW25dKSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gZmEoZSkgewogICAgcmV0dXJuIGUgJiYgX3R5cGVvZihlLmdldEVsZW1lbnRzQnlUYWdOYW1lKSAhPSBQaSAmJiBlOwogIH0KCiAgZnVuY3Rpb24gZGEoKSB7fQoKICBmdW5jdGlvbiBtYShlKSB7CiAgICBmb3IgKHZhciB0ID0gMCwgbiA9IGUubGVuZ3RoLCByID0gIiI7IHQgPCBuOyB0KyspIHsKICAgICAgciArPSBlW3RdLnZhbHVlOwogICAgfQoKICAgIHJldHVybiByOwogIH0KCiAgZnVuY3Rpb24gZ2EoYSwgZSwgdCkgewogICAgdmFyIHUgPSBlLmRpciwKICAgICAgICBzID0gdCAmJiAicGFyZW50Tm9kZSIgPT09IHUsCiAgICAgICAgYyA9IFJpKys7CiAgICByZXR1cm4gZS5maXJzdCA/IGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICAgIGZvciAoOyBlID0gZVt1XTspIHsKICAgICAgICBpZiAoMSA9PT0gZS5ub2RlVHlwZSB8fCBzKSByZXR1cm4gYShlLCB0LCBuKTsKICAgICAgfQogICAgfSA6IGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICAgIHZhciByLAogICAgICAgICAgbywKICAgICAgICAgIGkgPSBbQWksIGNdOwoKICAgICAgaWYgKG4pIHsKICAgICAgICBmb3IgKDsgZSA9IGVbdV07KSB7CiAgICAgICAgICBpZiAoKDEgPT09IGUubm9kZVR5cGUgfHwgcykgJiYgYShlLCB0LCBuKSkgcmV0dXJuICEwOwogICAgICAgIH0KICAgICAgfSBlbHNlIGZvciAoOyBlID0gZVt1XTspIHsKICAgICAgICBpZiAoMSA9PT0gZS5ub2RlVHlwZSB8fCBzKSB7CiAgICAgICAgICBpZiAoKHIgPSAobyA9IGVba2ldIHx8IChlW2tpXSA9IHt9KSlbdV0pICYmIHJbMF0gPT09IEFpICYmIHJbMV0gPT09IGMpIHJldHVybiBpWzJdID0gclsyXTsKICAgICAgICAgIGlmICgob1t1XSA9IGkpWzJdID0gYShlLCB0LCBuKSkgcmV0dXJuICEwOwogICAgICAgIH0KICAgICAgfQogICAgfTsKICB9CgogIGZ1bmN0aW9uIHBhKG8pIHsKICAgIHJldHVybiAxIDwgby5sZW5ndGggPyBmdW5jdGlvbiAoZSwgdCwgbikgewogICAgICBmb3IgKHZhciByID0gby5sZW5ndGg7IHItLTspIHsKICAgICAgICBpZiAoIW9bcl0oZSwgdCwgbikpIHJldHVybiAhMTsKICAgICAgfQoKICAgICAgcmV0dXJuICEwOwogICAgfSA6IG9bMF07CiAgfQoKICBmdW5jdGlvbiBoYShlLCB0LCBuLCByLCBvKSB7CiAgICBmb3IgKHZhciBpLCBhID0gW10sIHUgPSAwLCBzID0gZS5sZW5ndGgsIGMgPSBudWxsICE9IHQ7IHUgPCBzOyB1KyspIHsKICAgICAgKGkgPSBlW3VdKSAmJiAobiAmJiAhbihpLCByLCBvKSB8fCAoYS5wdXNoKGkpLCBjICYmIHQucHVzaCh1KSkpOwogICAgfQoKICAgIHJldHVybiBhOwogIH0KCiAgZnVuY3Rpb24gdmEoZSkgewogICAgcmV0dXJuIHZvaWQgMCAhPT0gZTsKICB9CgogIGZ1bmN0aW9uIGJhKGUpIHsKICAgIHJldHVybiAic3RyaW5nIiA9PSB0eXBlb2YgZTsKICB9CgogIGZ1bmN0aW9uIHlhKGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIgPSAodCA9IHQgfHwga2EpLmNyZWF0ZUVsZW1lbnQoImRpdiIpLAogICAgICAgIG8gPSB0LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTsKCiAgICBmb3IgKHIuaW5uZXJIVE1MID0gZTsgbiA9IHIuZmlyc3RDaGlsZDspIHsKICAgICAgby5hcHBlbmRDaGlsZChuKTsKICAgIH0KCiAgICByZXR1cm4gbzsKICB9CgogIGZ1bmN0aW9uIENhKGUsIHQpIHsKICAgIHJldHVybiBlICYmIHQgJiYgLTEgIT09ICgiICIgKyBlLmNsYXNzTmFtZSArICIgIikuaW5kZXhPZigiICIgKyB0ICsgIiAiKTsKICB9CgogIGZ1bmN0aW9uIHhhKGUsIHQsIG4pIHsKICAgIHZhciByLCBvOwogICAgcmV0dXJuIHQgPSBXYSh0KVswXSwgZS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgbiAmJiByID09PSB0aGlzLnBhcmVudE5vZGUgfHwgKHIgPSB0aGlzLnBhcmVudE5vZGUsIG8gPSB0LmNsb25lTm9kZSghMSksIHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobywgdGhpcykpLCBvLmFwcGVuZENoaWxkKHRoaXMpOwogICAgfSksIGU7CiAgfQoKICBmdW5jdGlvbiB3YShlLCB0KSB7CiAgICByZXR1cm4gbmV3IFdhLmZuLmluaXQoZSwgdCk7CiAgfQoKICBmdW5jdGlvbiBTYShlKSB7CiAgICByZXR1cm4gbnVsbCA9PSBlID8gIiIgOiAoIiIgKyBlKS5yZXBsYWNlKFVhLCAiIik7CiAgfQoKICBmdW5jdGlvbiBFYShlLCB0KSB7CiAgICB2YXIgbiwgciwgbywgaTsKICAgIGlmIChlKSBpZiAodm9pZCAwID09PSAobiA9IGUubGVuZ3RoKSkgewogICAgICBmb3IgKHIgaW4gZSkgewogICAgICAgIGlmIChlLmhhc093blByb3BlcnR5KHIpICYmIChpID0gZVtyXSwgITEgPT09IHQuY2FsbChpLCByLCBpKSkpIGJyZWFrOwogICAgICB9CiAgICB9IGVsc2UgZm9yIChvID0gMDsgbyA8IG4gJiYgKGkgPSBlW29dLCAhMSAhPT0gdC5jYWxsKGksIG8sIGkpKTsgbysrKSB7CiAgICAgIDsKICAgIH0KICAgIHJldHVybiBlOwogIH0KCiAgZnVuY3Rpb24gTmEoZSwgbikgewogICAgdmFyIHIgPSBbXTsKICAgIHJldHVybiBFYShlLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICBuKHQsIGUpICYmIHIucHVzaCh0KTsKICAgIH0pLCByOwogIH0KCiAgY2kgPSBhYS5zdXBwb3J0ID0ge30sIGRpID0gYWEuaXNYTUwgPSBmdW5jdGlvbiAoZSkgewogICAgdmFyIHQgPSBlICYmIChlLm93bmVyRG9jdW1lbnQgfHwgZSkuZG9jdW1lbnRFbGVtZW50OwogICAgcmV0dXJuICEhdCAmJiAiSFRNTCIgIT09IHQubm9kZU5hbWU7CiAgfSwgeWkgPSBhYS5zZXREb2N1bWVudCA9IGZ1bmN0aW9uIChlKSB7CiAgICB2YXIgdCwKICAgICAgICBzID0gZSA/IGUub3duZXJEb2N1bWVudCB8fCBlIDogX2ksCiAgICAgICAgbiA9IHMuZGVmYXVsdFZpZXc7CiAgICByZXR1cm4gcyAhPT0gQ2kgJiYgOSA9PT0gcy5ub2RlVHlwZSAmJiBzLmRvY3VtZW50RWxlbWVudCA/ICh4aSA9IChDaSA9IHMpLmRvY3VtZW50RWxlbWVudCwgd2kgPSAhZGkocyksIG4gJiYgbiAhPT0gZnVuY3Rpb24gKGUpIHsKICAgICAgdHJ5IHsKICAgICAgICByZXR1cm4gZS50b3A7CiAgICAgIH0gY2F0Y2ggKGUpIHt9CgogICAgICByZXR1cm4gbnVsbDsKICAgIH0obikgJiYgKG4uYWRkRXZlbnRMaXN0ZW5lciA/IG4uYWRkRXZlbnRMaXN0ZW5lcigidW5sb2FkIiwgZnVuY3Rpb24gKCkgewogICAgICB5aSgpOwogICAgfSwgITEpIDogbi5hdHRhY2hFdmVudCAmJiBuLmF0dGFjaEV2ZW50KCJvbnVubG9hZCIsIGZ1bmN0aW9uICgpIHsKICAgICAgeWkoKTsKICAgIH0pKSwgY2kuYXR0cmlidXRlcyA9ICEwLCBjaS5nZXRFbGVtZW50c0J5VGFnTmFtZSA9ICEwLCBjaS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lID0gdGEudGVzdChzLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpLCBjaS5nZXRCeUlkID0gITAsIGxpLmZpbmQuSUQgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgICBpZiAoX3R5cGVvZih0LmdldEVsZW1lbnRCeUlkKSAhPSBQaSAmJiB3aSkgewogICAgICAgIHZhciBuID0gdC5nZXRFbGVtZW50QnlJZChlKTsKICAgICAgICByZXR1cm4gbiAmJiBuLnBhcmVudE5vZGUgPyBbbl0gOiBbXTsKICAgICAgfQogICAgfSwgbGkuZmlsdGVyLklEID0gZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQgPSBlLnJlcGxhY2UoaWEsIHNpKTsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUuZ2V0QXR0cmlidXRlKCJpZCIpID09PSB0OwogICAgICB9OwogICAgfSwgbGkuZmluZC5UQUcgPSBjaS5nZXRFbGVtZW50c0J5VGFnTmFtZSA/IGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIGlmIChfdHlwZW9mKHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUpICE9IFBpKSByZXR1cm4gdC5nZXRFbGVtZW50c0J5VGFnTmFtZShlKTsKICAgIH0gOiBmdW5jdGlvbiAoZSwgdCkgewogICAgICB2YXIgbiwKICAgICAgICAgIHIgPSBbXSwKICAgICAgICAgIG8gPSAwLAogICAgICAgICAgaSA9IHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSk7CiAgICAgIGlmICgiKiIgIT09IGUpIHJldHVybiBpOwoKICAgICAgZm9yICg7IG4gPSBpW28rK107KSB7CiAgICAgICAgMSA9PT0gbi5ub2RlVHlwZSAmJiByLnB1c2gobik7CiAgICAgIH0KCiAgICAgIHJldHVybiByOwogICAgfSwgbGkuZmluZC5DTEFTUyA9IGNpLmdldEVsZW1lbnRzQnlDbGFzc05hbWUgJiYgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgaWYgKHdpKSByZXR1cm4gdC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGUpOwogICAgfSwgRWkgPSBbXSwgU2kgPSBbXSwgY2kuZGlzY29ubmVjdGVkTWF0Y2ggPSAhMCwgU2kgPSBTaS5sZW5ndGggJiYgbmV3IFJlZ0V4cChTaS5qb2luKCJ8IikpLCBFaSA9IEVpLmxlbmd0aCAmJiBuZXcgUmVnRXhwKEVpLmpvaW4oInwiKSksIHQgPSB0YS50ZXN0KHhpLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKSwgTmkgPSB0IHx8IHRhLnRlc3QoeGkuY29udGFpbnMpID8gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgdmFyIG4gPSA5ID09PSBlLm5vZGVUeXBlID8gZS5kb2N1bWVudEVsZW1lbnQgOiBlLAogICAgICAgICAgciA9IHQgJiYgdC5wYXJlbnROb2RlOwogICAgICByZXR1cm4gZSA9PT0gciB8fCAhKCFyIHx8IDEgIT09IHIubm9kZVR5cGUgfHwgIShuLmNvbnRhaW5zID8gbi5jb250YWlucyhyKSA6IGUuY29tcGFyZURvY3VtZW50UG9zaXRpb24gJiYgMTYgJiBlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKHIpKSk7CiAgICB9IDogZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgaWYgKHQpIGZvciAoOyB0ID0gdC5wYXJlbnROb2RlOykgewogICAgICAgIGlmICh0ID09PSBlKSByZXR1cm4gITA7CiAgICAgIH0KICAgICAgcmV0dXJuICExOwogICAgfSwgQmkgPSB0ID8gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgcmV0dXJuIGUgPT09IHQgPyAoYmkgPSAhMCwgMCkgOiAobiA9ICFlLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uIC0gIXQuY29tcGFyZURvY3VtZW50UG9zaXRpb24pIHx8ICgxICYgKG4gPSAoZS5vd25lckRvY3VtZW50IHx8IGUpID09PSAodC5vd25lckRvY3VtZW50IHx8IHQpID8gZS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbih0KSA6IDEpIHx8ICFjaS5zb3J0RGV0YWNoZWQgJiYgdC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihlKSA9PT0gbiA/IGUgPT09IHMgfHwgZS5vd25lckRvY3VtZW50ID09PSBfaSAmJiBOaShfaSwgZSkgPyAtMSA6IHQgPT09IHMgfHwgdC5vd25lckRvY3VtZW50ID09PSBfaSAmJiBOaShfaSwgdCkgPyAxIDogdmkgPyBIaS5jYWxsKHZpLCBlKSAtIEhpLmNhbGwodmksIHQpIDogMCA6IDQgJiBuID8gLTEgOiAxKTsKICAgICAgdmFyIG47CiAgICB9IDogZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgaWYgKGUgPT09IHQpIHJldHVybiBiaSA9ICEwLCAwOwogICAgICB2YXIgbiwKICAgICAgICAgIHIgPSAwLAogICAgICAgICAgbyA9IGUucGFyZW50Tm9kZSwKICAgICAgICAgIGkgPSB0LnBhcmVudE5vZGUsCiAgICAgICAgICBhID0gW2VdLAogICAgICAgICAgdSA9IFt0XTsKICAgICAgaWYgKCFvIHx8ICFpKSByZXR1cm4gZSA9PT0gcyA/IC0xIDogdCA9PT0gcyA/IDEgOiBvID8gLTEgOiBpID8gMSA6IHZpID8gSGkuY2FsbCh2aSwgZSkgLSBIaS5jYWxsKHZpLCB0KSA6IDA7CiAgICAgIGlmIChvID09PSBpKSByZXR1cm4gY2EoZSwgdCk7CgogICAgICBmb3IgKG4gPSBlOyBuID0gbi5wYXJlbnROb2RlOykgewogICAgICAgIGEudW5zaGlmdChuKTsKICAgICAgfQoKICAgICAgZm9yIChuID0gdDsgbiA9IG4ucGFyZW50Tm9kZTspIHsKICAgICAgICB1LnVuc2hpZnQobik7CiAgICAgIH0KCiAgICAgIGZvciAoOyBhW3JdID09PSB1W3JdOykgewogICAgICAgIHIrKzsKICAgICAgfQoKICAgICAgcmV0dXJuIHIgPyBjYShhW3JdLCB1W3JdKSA6IGFbcl0gPT09IF9pID8gLTEgOiB1W3JdID09PSBfaSA/IDEgOiAwOwogICAgfSwgcykgOiBDaTsKICB9LCBhYS5tYXRjaGVzID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgIHJldHVybiBhYShlLCBudWxsLCBudWxsLCB0KTsKICB9LCBhYS5tYXRjaGVzU2VsZWN0b3IgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgaWYgKChlLm93bmVyRG9jdW1lbnQgfHwgZSkgIT09IENpICYmIHlpKGUpLCB0ID0gdC5yZXBsYWNlKFlpLCAiPSckMSddIiksIGNpLm1hdGNoZXNTZWxlY3RvciAmJiB3aSAmJiAoIUVpIHx8ICFFaS50ZXN0KHQpKSAmJiAoIVNpIHx8ICFTaS50ZXN0KHQpKSkgdHJ5IHsKICAgICAgdmFyIG4gPSAodm9pZCAwKS5jYWxsKGUsIHQpOwogICAgICBpZiAobiB8fCBjaS5kaXNjb25uZWN0ZWRNYXRjaCB8fCBlLmRvY3VtZW50ICYmIDExICE9PSBlLmRvY3VtZW50Lm5vZGVUeXBlKSByZXR1cm4gbjsKICAgIH0gY2F0Y2ggKGUpIHt9CiAgICByZXR1cm4gMCA8IGFhKHQsIENpLCBudWxsLCBbZV0pLmxlbmd0aDsKICB9LCBhYS5jb250YWlucyA9IGZ1bmN0aW9uIChlLCB0KSB7CiAgICByZXR1cm4gKGUub3duZXJEb2N1bWVudCB8fCBlKSAhPT0gQ2kgJiYgeWkoZSksIE5pKGUsIHQpOwogIH0sIGFhLmF0dHIgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgKGUub3duZXJEb2N1bWVudCB8fCBlKSAhPT0gQ2kgJiYgeWkoZSk7CiAgICB2YXIgbiA9IGxpLmF0dHJIYW5kbGVbdC50b0xvd2VyQ2FzZSgpXSwKICAgICAgICByID0gbiAmJiBMaS5jYWxsKGxpLmF0dHJIYW5kbGUsIHQudG9Mb3dlckNhc2UoKSkgPyBuKGUsIHQsICF3aSkgOiB2b2lkIDA7CiAgICByZXR1cm4gdm9pZCAwICE9PSByID8gciA6IGNpLmF0dHJpYnV0ZXMgfHwgIXdpID8gZS5nZXRBdHRyaWJ1dGUodCkgOiAociA9IGUuZ2V0QXR0cmlidXRlTm9kZSh0KSkgJiYgci5zcGVjaWZpZWQgPyByLnZhbHVlIDogbnVsbDsKICB9LCBhYS5lcnJvciA9IGZ1bmN0aW9uIChlKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoIlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIgKyBlKTsKICB9LCBhYS51bmlxdWVTb3J0ID0gZnVuY3Rpb24gKGUpIHsKICAgIHZhciB0LAogICAgICAgIG4gPSBbXSwKICAgICAgICByID0gMCwKICAgICAgICBvID0gMDsKCiAgICBpZiAoYmkgPSAhY2kuZGV0ZWN0RHVwbGljYXRlcywgdmkgPSAhY2kuc29ydFN0YWJsZSAmJiBlLnNsaWNlKDApLCBlLnNvcnQoQmkpLCBiaSkgewogICAgICBmb3IgKDsgdCA9IGVbbysrXTspIHsKICAgICAgICB0ID09PSBlW29dICYmIChyID0gbi5wdXNoKG8pKTsKICAgICAgfQoKICAgICAgZm9yICg7IHItLTspIHsKICAgICAgICBlLnNwbGljZShuW3JdLCAxKTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiB2aSA9IG51bGwsIGU7CiAgfSwgZmkgPSBhYS5nZXRUZXh0ID0gZnVuY3Rpb24gKGUpIHsKICAgIHZhciB0LAogICAgICAgIG4gPSAiIiwKICAgICAgICByID0gMCwKICAgICAgICBvID0gZS5ub2RlVHlwZTsKCiAgICBpZiAobykgewogICAgICBpZiAoMSA9PT0gbyB8fCA5ID09PSBvIHx8IDExID09PSBvKSB7CiAgICAgICAgaWYgKCJzdHJpbmciID09IHR5cGVvZiBlLnRleHRDb250ZW50KSByZXR1cm4gZS50ZXh0Q29udGVudDsKCiAgICAgICAgZm9yIChlID0gZS5maXJzdENoaWxkOyBlOyBlID0gZS5uZXh0U2libGluZykgewogICAgICAgICAgbiArPSBmaShlKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoMyA9PT0gbyB8fCA0ID09PSBvKSByZXR1cm4gZS5ub2RlVmFsdWU7CiAgICB9IGVsc2UgZm9yICg7IHQgPSBlW3IrK107KSB7CiAgICAgIG4gKz0gZmkodCk7CiAgICB9CgogICAgcmV0dXJuIG47CiAgfSwgKGxpID0gYWEuc2VsZWN0b3JzID0gewogICAgY2FjaGVMZW5ndGg6IDUwLAogICAgY3JlYXRlUHNldWRvOiBzYSwKICAgIG1hdGNoOiBRaSwKICAgIGF0dHJIYW5kbGU6IHt9LAogICAgZmluZDoge30sCiAgICByZWxhdGl2ZTogewogICAgICAiPiI6IHsKICAgICAgICBkaXI6ICJwYXJlbnROb2RlIiwKICAgICAgICBmaXJzdDogITAKICAgICAgfSwKICAgICAgIiAiOiB7CiAgICAgICAgZGlyOiAicGFyZW50Tm9kZSIKICAgICAgfSwKICAgICAgIisiOiB7CiAgICAgICAgZGlyOiAicHJldmlvdXNTaWJsaW5nIiwKICAgICAgICBmaXJzdDogITAKICAgICAgfSwKICAgICAgIn4iOiB7CiAgICAgICAgZGlyOiAicHJldmlvdXNTaWJsaW5nIgogICAgICB9CiAgICB9LAogICAgcHJlRmlsdGVyOiB7CiAgICAgIEFUVFI6IGZ1bmN0aW9uIEFUVFIoZSkgewogICAgICAgIHJldHVybiBlWzFdID0gZVsxXS5yZXBsYWNlKGlhLCBzaSksIGVbM10gPSAoZVszXSB8fCBlWzRdIHx8IGVbNV0gfHwgIiIpLnJlcGxhY2UoaWEsIHNpKSwgIn49IiA9PT0gZVsyXSAmJiAoZVszXSA9ICIgIiArIGVbM10gKyAiICIpLCBlLnNsaWNlKDAsIDQpOwogICAgICB9LAogICAgICBDSElMRDogZnVuY3Rpb24gQ0hJTEQoZSkgewogICAgICAgIHJldHVybiBlWzFdID0gZVsxXS50b0xvd2VyQ2FzZSgpLCAibnRoIiA9PT0gZVsxXS5zbGljZSgwLCAzKSA/IChlWzNdIHx8IGFhLmVycm9yKGVbMF0pLCBlWzRdID0gKyhlWzRdID8gZVs1XSArIChlWzZdIHx8IDEpIDogMiAqICgiZXZlbiIgPT09IGVbM10gfHwgIm9kZCIgPT09IGVbM10pKSwgZVs1XSA9ICsoZVs3XSArIGVbOF0gfHwgIm9kZCIgPT09IGVbM10pKSA6IGVbM10gJiYgYWEuZXJyb3IoZVswXSksIGU7CiAgICAgIH0sCiAgICAgIFBTRVVETzogZnVuY3Rpb24gUFNFVURPKGUpIHsKICAgICAgICB2YXIgdCwKICAgICAgICAgICAgbiA9ICFlWzZdICYmIGVbMl07CiAgICAgICAgcmV0dXJuIFFpLkNISUxELnRlc3QoZVswXSkgPyBudWxsIDogKGVbM10gPyBlWzJdID0gZVs0XSB8fCBlWzVdIHx8ICIiIDogbiAmJiBHaS50ZXN0KG4pICYmICh0ID0gbWkobiwgITApKSAmJiAodCA9IG4uaW5kZXhPZigiKSIsIG4ubGVuZ3RoIC0gdCkgLSBuLmxlbmd0aCkgJiYgKGVbMF0gPSBlWzBdLnNsaWNlKDAsIHQpLCBlWzJdID0gbi5zbGljZSgwLCB0KSksIGUuc2xpY2UoMCwgMykpOwogICAgICB9CiAgICB9LAogICAgZmlsdGVyOiB7CiAgICAgIFRBRzogZnVuY3Rpb24gVEFHKGUpIHsKICAgICAgICB2YXIgdCA9IGUucmVwbGFjZShpYSwgc2kpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgcmV0dXJuICIqIiA9PT0gZSA/IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiAhMDsKICAgICAgICB9IDogZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBlLm5vZGVOYW1lICYmIGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gdDsKICAgICAgICB9OwogICAgICB9LAogICAgICBDTEFTUzogZnVuY3Rpb24gQ0xBU1MoZSkgewogICAgICAgIHZhciB0ID0gRGlbZSArICIgIl07CiAgICAgICAgcmV0dXJuIHQgfHwgKHQgPSBuZXcgUmVnRXhwKCIoXnwiICsgamkgKyAiKSIgKyBlICsgIigiICsgamkgKyAifCQpIikpICYmIERpKGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gdC50ZXN0KCJzdHJpbmciID09IHR5cGVvZiBlLmNsYXNzTmFtZSAmJiBlLmNsYXNzTmFtZSB8fCBfdHlwZW9mKGUuZ2V0QXR0cmlidXRlKSAhPSBQaSAmJiBlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKSB8fCAiIik7CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIEFUVFI6IGZ1bmN0aW9uIEFUVFIobiwgciwgbykgewogICAgICAgIHJldHVybiBmdW5jdGlvbiAoZSkgewogICAgICAgICAgdmFyIHQgPSBhYS5hdHRyKGUsIG4pOwogICAgICAgICAgcmV0dXJuIG51bGwgPT0gdCA/ICIhPSIgPT09IHIgOiAhciB8fCAodCArPSAiIiwgIj0iID09PSByID8gdCA9PT0gbyA6ICIhPSIgPT09IHIgPyB0ICE9PSBvIDogIl49IiA9PT0gciA/IG8gJiYgMCA9PT0gdC5pbmRleE9mKG8pIDogIio9IiA9PT0gciA/IG8gJiYgLTEgPCB0LmluZGV4T2YobykgOiAiJD0iID09PSByID8gbyAmJiB0LnNsaWNlKC1vLmxlbmd0aCkgPT09IG8gOiAifj0iID09PSByID8gLTEgPCAoIiAiICsgdCArICIgIikuaW5kZXhPZihvKSA6ICJ8PSIgPT09IHIgJiYgKHQgPT09IG8gfHwgdC5zbGljZSgwLCBvLmxlbmd0aCArIDEpID09PSBvICsgIi0iKSk7CiAgICAgICAgfTsKICAgICAgfSwKICAgICAgQ0hJTEQ6IGZ1bmN0aW9uIENISUxEKG0sIGUsIHQsIGcsIHApIHsKICAgICAgICB2YXIgaCA9ICJudGgiICE9PSBtLnNsaWNlKDAsIDMpLAogICAgICAgICAgICB2ID0gImxhc3QiICE9PSBtLnNsaWNlKC00KSwKICAgICAgICAgICAgYiA9ICJvZi10eXBlIiA9PT0gZTsKICAgICAgICByZXR1cm4gMSA9PT0gZyAmJiAwID09PSBwID8gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiAhIWUucGFyZW50Tm9kZTsKICAgICAgICB9IDogZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgICAgIHZhciByLAogICAgICAgICAgICAgIG8sCiAgICAgICAgICAgICAgaSwKICAgICAgICAgICAgICBhLAogICAgICAgICAgICAgIHUsCiAgICAgICAgICAgICAgcywKICAgICAgICAgICAgICBjID0gaCAhPSB2ID8gIm5leHRTaWJsaW5nIiA6ICJwcmV2aW91c1NpYmxpbmciLAogICAgICAgICAgICAgIGwgPSBlLnBhcmVudE5vZGUsCiAgICAgICAgICAgICAgZiA9IGIgJiYgZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLAogICAgICAgICAgICAgIGQgPSAhbiAmJiAhYjsKCiAgICAgICAgICBpZiAobCkgewogICAgICAgICAgICBpZiAoaCkgewogICAgICAgICAgICAgIGZvciAoOyBjOykgewogICAgICAgICAgICAgICAgZm9yIChpID0gZTsgaSA9IGlbY107KSB7CiAgICAgICAgICAgICAgICAgIGlmIChiID8gaS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBmIDogMSA9PT0gaS5ub2RlVHlwZSkgcmV0dXJuICExOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHMgPSBjID0gIm9ubHkiID09PSBtICYmICFzICYmICJuZXh0U2libGluZyI7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gITA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChzID0gW3YgPyBsLmZpcnN0Q2hpbGQgOiBsLmxhc3RDaGlsZF0sIHYgJiYgZCkgewogICAgICAgICAgICAgIGZvciAodSA9IChyID0gKG8gPSBsW2tpXSB8fCAobFtraV0gPSB7fSkpW21dIHx8IFtdKVswXSA9PT0gQWkgJiYgclsxXSwgYSA9IHJbMF0gPT09IEFpICYmIHJbMl0sIGkgPSB1ICYmIGwuY2hpbGROb2Rlc1t1XTsgaSA9ICsrdSAmJiBpICYmIGlbY10gfHwgKGEgPSB1ID0gMCkgfHwgcy5wb3AoKTspIHsKICAgICAgICAgICAgICAgIGlmICgxID09PSBpLm5vZGVUeXBlICYmICsrYSAmJiBpID09PSBlKSB7CiAgICAgICAgICAgICAgICAgIG9bbV0gPSBbQWksIHUsIGFdOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gZWxzZSBpZiAoZCAmJiAociA9IChlW2tpXSB8fCAoZVtraV0gPSB7fSkpW21dKSAmJiByWzBdID09PSBBaSkgYSA9IHJbMV07ZWxzZSBmb3IgKDsgKGkgPSArK3UgJiYgaSAmJiBpW2NdIHx8IChhID0gdSA9IDApIHx8IHMucG9wKCkpICYmICgoYiA/IGkubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gZiA6IDEgIT09IGkubm9kZVR5cGUpIHx8ICErK2EgfHwgKGQgJiYgKChpW2tpXSB8fCAoaVtraV0gPSB7fSkpW21dID0gW0FpLCBhXSksIGkgIT09IGUpKTspIHsKICAgICAgICAgICAgICA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHJldHVybiAoYSAtPSBwKSA9PT0gZyB8fCBhICUgZyA9PSAwICYmIDAgPD0gYSAvIGc7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfSwKICAgICAgUFNFVURPOiBmdW5jdGlvbiBQU0VVRE8oZSwgaSkgewogICAgICAgIHZhciB0LAogICAgICAgICAgICBhID0gbGkucHNldWRvc1tlXSB8fCBsaS5zZXRGaWx0ZXJzW2UudG9Mb3dlckNhc2UoKV0gfHwgYWEuZXJyb3IoInVuc3VwcG9ydGVkIHBzZXVkbzogIiArIGUpOwogICAgICAgIHJldHVybiBhW2tpXSA/IGEoaSkgOiAxIDwgYS5sZW5ndGggPyAodCA9IFtlLCBlLCAiIiwgaV0sIGxpLnNldEZpbHRlcnMuaGFzT3duUHJvcGVydHkoZS50b0xvd2VyQ2FzZSgpKSA/IHNhKGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgICBmb3IgKHZhciBuLCByID0gYShlLCBpKSwgbyA9IHIubGVuZ3RoOyBvLS07KSB7CiAgICAgICAgICAgIGVbbiA9IEhpLmNhbGwoZSwgcltvXSldID0gISh0W25dID0gcltvXSk7CiAgICAgICAgICB9CiAgICAgICAgfSkgOiBmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIGEoZSwgMCwgdCk7CiAgICAgICAgfSkgOiBhOwogICAgICB9CiAgICB9LAogICAgcHNldWRvczogewogICAgICBub3Q6IHNhKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHIgPSBbXSwKICAgICAgICAgICAgbyA9IFtdLAogICAgICAgICAgICB1ID0gZ2koZS5yZXBsYWNlKFdpLCAiJDEiKSk7CiAgICAgICAgcmV0dXJuIHVba2ldID8gc2EoZnVuY3Rpb24gKGUsIHQsIG4sIHIpIHsKICAgICAgICAgIGZvciAodmFyIG8sIGkgPSB1KGUsIG51bGwsIHIsIFtdKSwgYSA9IGUubGVuZ3RoOyBhLS07KSB7CiAgICAgICAgICAgIChvID0gaVthXSkgJiYgKGVbYV0gPSAhKHRbYV0gPSBvKSk7CiAgICAgICAgICB9CiAgICAgICAgfSkgOiBmdW5jdGlvbiAoZSwgdCwgbikgewogICAgICAgICAgcmV0dXJuIHJbMF0gPSBlLCB1KHIsIG51bGwsIG4sIG8pLCByWzBdID0gbnVsbCwgIW8ucG9wKCk7CiAgICAgICAgfTsKICAgICAgfSksCiAgICAgIGhhczogc2EoZnVuY3Rpb24gKHQpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiAwIDwgYWEodCwgZSkubGVuZ3RoOwogICAgICAgIH07CiAgICAgIH0pLAogICAgICBjb250YWluczogc2EoZnVuY3Rpb24gKHQpIHsKICAgICAgICByZXR1cm4gdCA9IHQucmVwbGFjZShpYSwgc2kpLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIC0xIDwgKGUudGV4dENvbnRlbnQgfHwgZS5pbm5lclRleHQgfHwgZmkoZSkpLmluZGV4T2YodCk7CiAgICAgICAgfTsKICAgICAgfSksCiAgICAgIGxhbmc6IHNhKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgcmV0dXJuIEppLnRlc3QobiB8fCAiIikgfHwgYWEuZXJyb3IoInVuc3VwcG9ydGVkIGxhbmc6ICIgKyBuKSwgbiA9IG4ucmVwbGFjZShpYSwgc2kpLnRvTG93ZXJDYXNlKCksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgdDsKCiAgICAgICAgICBkbyB7CiAgICAgICAgICAgIGlmICh0ID0gd2kgPyBlLmxhbmcgOiBlLmdldEF0dHJpYnV0ZSgieG1sOmxhbmciKSB8fCBlLmdldEF0dHJpYnV0ZSgibGFuZyIpKSByZXR1cm4gKHQgPSB0LnRvTG93ZXJDYXNlKCkpID09PSBuIHx8IDAgPT09IHQuaW5kZXhPZihuICsgIi0iKTsKICAgICAgICAgIH0gd2hpbGUgKChlID0gZS5wYXJlbnROb2RlKSAmJiAxID09PSBlLm5vZGVUeXBlKTsKCiAgICAgICAgICByZXR1cm4gITE7CiAgICAgICAgfTsKICAgICAgfSksCiAgICAgIHRhcmdldDogZnVuY3Rpb24gdGFyZ2V0KGUpIHsKICAgICAgICB2YXIgdCA9IHdpbmRvdy5sb2NhdGlvbiAmJiB3aW5kb3cubG9jYXRpb24uaGFzaDsKICAgICAgICByZXR1cm4gdCAmJiB0LnNsaWNlKDEpID09PSBlLmlkOwogICAgICB9LAogICAgICByb290OiBmdW5jdGlvbiByb290KGUpIHsKICAgICAgICByZXR1cm4gZSA9PT0geGk7CiAgICAgIH0sCiAgICAgIGZvY3VzOiBmdW5jdGlvbiBmb2N1cyhlKSB7CiAgICAgICAgcmV0dXJuIGUgPT09IENpLmFjdGl2ZUVsZW1lbnQgJiYgKCFDaS5oYXNGb2N1cyB8fCBDaS5oYXNGb2N1cygpKSAmJiAhIShlLnR5cGUgfHwgZS5ocmVmIHx8IH5lLnRhYkluZGV4KTsKICAgICAgfSwKICAgICAgZW5hYmxlZDogZnVuY3Rpb24gZW5hYmxlZChlKSB7CiAgICAgICAgcmV0dXJuICExID09PSBlLmRpc2FibGVkOwogICAgICB9LAogICAgICBkaXNhYmxlZDogZnVuY3Rpb24gZGlzYWJsZWQoZSkgewogICAgICAgIHJldHVybiAhMCA9PT0gZS5kaXNhYmxlZDsKICAgICAgfSwKICAgICAgY2hlY2tlZDogZnVuY3Rpb24gY2hlY2tlZChlKSB7CiAgICAgICAgdmFyIHQgPSBlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgcmV0dXJuICJpbnB1dCIgPT09IHQgJiYgISFlLmNoZWNrZWQgfHwgIm9wdGlvbiIgPT09IHQgJiYgISFlLnNlbGVjdGVkOwogICAgICB9LAogICAgICBzZWxlY3RlZDogZnVuY3Rpb24gc2VsZWN0ZWQoZSkgewogICAgICAgIHJldHVybiBlLnBhcmVudE5vZGUgJiYgZS5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgsICEwID09PSBlLnNlbGVjdGVkOwogICAgICB9LAogICAgICBlbXB0eTogZnVuY3Rpb24gZW1wdHkoZSkgewogICAgICAgIGZvciAoZSA9IGUuZmlyc3RDaGlsZDsgZTsgZSA9IGUubmV4dFNpYmxpbmcpIHsKICAgICAgICAgIGlmIChlLm5vZGVUeXBlIDwgNikgcmV0dXJuICExOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuICEwOwogICAgICB9LAogICAgICBwYXJlbnQ6IGZ1bmN0aW9uIHBhcmVudChlKSB7CiAgICAgICAgcmV0dXJuICFsaS5wc2V1ZG9zLmVtcHR5KGUpOwogICAgICB9LAogICAgICBoZWFkZXI6IGZ1bmN0aW9uIGhlYWRlcihlKSB7CiAgICAgICAgcmV0dXJuIGVhLnRlc3QoZS5ub2RlTmFtZSk7CiAgICAgIH0sCiAgICAgIGlucHV0OiBmdW5jdGlvbiBpbnB1dChlKSB7CiAgICAgICAgcmV0dXJuIFppLnRlc3QoZS5ub2RlTmFtZSk7CiAgICAgIH0sCiAgICAgIGJ1dHRvbjogZnVuY3Rpb24gYnV0dG9uKGUpIHsKICAgICAgICB2YXIgdCA9IGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKICAgICAgICByZXR1cm4gImlucHV0IiA9PT0gdCAmJiAiYnV0dG9uIiA9PT0gZS50eXBlIHx8ICJidXR0b24iID09PSB0OwogICAgICB9LAogICAgICB0ZXh0OiBmdW5jdGlvbiB0ZXh0KGUpIHsKICAgICAgICB2YXIgdDsKICAgICAgICByZXR1cm4gImlucHV0IiA9PT0gZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICYmICJ0ZXh0IiA9PT0gZS50eXBlICYmIChudWxsID09ICh0ID0gZS5nZXRBdHRyaWJ1dGUoInR5cGUiKSkgfHwgInRleHQiID09PSB0LnRvTG93ZXJDYXNlKCkpOwogICAgICB9LAogICAgICBmaXJzdDogbGEoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBbMF07CiAgICAgIH0pLAogICAgICBsYXN0OiBsYShmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIHJldHVybiBbdCAtIDFdOwogICAgICB9KSwKICAgICAgZXE6IGxhKGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICAgICAgcmV0dXJuIFtuIDwgMCA/IG4gKyB0IDogbl07CiAgICAgIH0pLAogICAgICBldmVuOiBsYShmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgdDsgbiArPSAyKSB7CiAgICAgICAgICBlLnB1c2gobik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZTsKICAgICAgfSksCiAgICAgIG9kZDogbGEoZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICBmb3IgKHZhciBuID0gMTsgbiA8IHQ7IG4gKz0gMikgewogICAgICAgICAgZS5wdXNoKG4pOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGU7CiAgICAgIH0pLAogICAgICBsdDogbGEoZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgICBmb3IgKHZhciByID0gbiA8IDAgPyBuICsgdCA6IG47IDAgPD0gLS1yOykgewogICAgICAgICAgZS5wdXNoKHIpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGU7CiAgICAgIH0pLAogICAgICBndDogbGEoZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgICBmb3IgKHZhciByID0gbiA8IDAgPyBuICsgdCA6IG47ICsrciA8IHQ7KSB7CiAgICAgICAgICBlLnB1c2gocik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZTsKICAgICAgfSkKICAgIH0KICB9KS5wc2V1ZG9zLm50aCA9IGxpLnBzZXVkb3MuZXEsIFkoWyJyYWRpbyIsICJjaGVja2JveCIsICJmaWxlIiwgInBhc3N3b3JkIiwgImltYWdlIl0sIGZ1bmN0aW9uIChlKSB7CiAgICB2YXIgdDsKICAgIGxpLnBzZXVkb3NbZV0gPSAodCA9IGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiAiaW5wdXQiID09PSBlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgJiYgZS50eXBlID09PSB0OwogICAgfSk7CiAgfSksIFkoWyJzdWJtaXQiLCAicmVzZXQiXSwgZnVuY3Rpb24gKGUpIHsKICAgIHZhciBuOwogICAgbGkucHNldWRvc1tlXSA9IChuID0gZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQgPSBlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgIHJldHVybiAoImlucHV0IiA9PT0gdCB8fCAiYnV0dG9uIiA9PT0gdCkgJiYgZS50eXBlID09PSBuOwogICAgfSk7CiAgfSksIGRhLnByb3RvdHlwZSA9IGxpLmZpbHRlcnMgPSBsaS5wc2V1ZG9zLCBsaS5zZXRGaWx0ZXJzID0gbmV3IGRhKCksIG1pID0gYWEudG9rZW5pemUgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgdmFyIG4sCiAgICAgICAgciwKICAgICAgICBvLAogICAgICAgIGksCiAgICAgICAgYSwKICAgICAgICB1LAogICAgICAgIHMsCiAgICAgICAgYyA9IFRpW2UgKyAiICJdOwogICAgaWYgKGMpIHJldHVybiB0ID8gMCA6IGMuc2xpY2UoMCk7CgogICAgZm9yIChhID0gZSwgdSA9IFtdLCBzID0gbGkucHJlRmlsdGVyOyBhOykgewogICAgICBmb3IgKGkgaW4gbiAmJiAhKHIgPSBLaS5leGVjKGEpKSB8fCAociAmJiAoYSA9IGEuc2xpY2UoclswXS5sZW5ndGgpIHx8IGEpLCB1LnB1c2gobyA9IFtdKSksIG4gPSAhMSwgKHIgPSBYaS5leGVjKGEpKSAmJiAobiA9IHIuc2hpZnQoKSwgby5wdXNoKHsKICAgICAgICB2YWx1ZTogbiwKICAgICAgICB0eXBlOiByWzBdLnJlcGxhY2UoV2ksICIgIikKICAgICAgfSksIGEgPSBhLnNsaWNlKG4ubGVuZ3RoKSksIGxpLmZpbHRlcikgewogICAgICAgIGxpLmZpbHRlci5oYXNPd25Qcm9wZXJ0eShpKSAmJiAoIShyID0gUWlbaV0uZXhlYyhhKSkgfHwgc1tpXSAmJiAhKHIgPSBzW2ldKHIpKSB8fCAobiA9IHIuc2hpZnQoKSwgby5wdXNoKHsKICAgICAgICAgIHZhbHVlOiBuLAogICAgICAgICAgdHlwZTogaSwKICAgICAgICAgIG1hdGNoZXM6IHIKICAgICAgICB9KSwgYSA9IGEuc2xpY2Uobi5sZW5ndGgpKSk7CiAgICAgIH0KCiAgICAgIGlmICghbikgYnJlYWs7CiAgICB9CgogICAgcmV0dXJuIHQgPyBhLmxlbmd0aCA6IGEgPyBhYS5lcnJvcihlKSA6IFRpKGUsIHUpLnNsaWNlKDApOwogIH0sIGdpID0gYWEuY29tcGlsZSA9IGZ1bmN0aW9uIChlLCB0KSB7CiAgICB2YXIgbiwKICAgICAgICBoLAogICAgICAgIHYsCiAgICAgICAgYiwKICAgICAgICB5LAogICAgICAgIHIgPSBbXSwKICAgICAgICBvID0gW10sCiAgICAgICAgaSA9IE9pW2UgKyAiICJdOwoKICAgIGlmICghaSkgewogICAgICBmb3IgKG4gPSAodCA9IHQgfHwgbWkoZSkpLmxlbmd0aDsgbi0tOykgewogICAgICAgICgoaSA9IGZ1bmN0aW9uIGUodCkgewogICAgICAgICAgZm9yICh2YXIgbywgbiwgciwgaSA9IHQubGVuZ3RoLCBhID0gbGkucmVsYXRpdmVbdFswXS50eXBlXSwgdSA9IGEgfHwgbGkucmVsYXRpdmVbIiAiXSwgcyA9IGEgPyAxIDogMCwgYyA9IGdhKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJldHVybiBlID09PSBvOwogICAgICAgICAgfSwgdSwgITApLCBsID0gZ2EoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgcmV0dXJuIC0xIDwgSGkuY2FsbChvLCBlKTsKICAgICAgICAgIH0sIHUsICEwKSwgZiA9IFtmdW5jdGlvbiAoZSwgdCwgbikgewogICAgICAgICAgICB2YXIgciA9ICFhICYmIChuIHx8IHQgIT09IGhpKSB8fCAoKG8gPSB0KS5ub2RlVHlwZSA/IGMgOiBsKShlLCB0LCBuKTsKICAgICAgICAgICAgcmV0dXJuIG8gPSBudWxsLCByOwogICAgICAgICAgfV07IHMgPCBpOyBzKyspIHsKICAgICAgICAgICAgaWYgKG4gPSBsaS5yZWxhdGl2ZVt0W3NdLnR5cGVdKSBmID0gW2dhKHBhKGYpLCBuKV07ZWxzZSB7CiAgICAgICAgICAgICAgaWYgKChuID0gbGkuZmlsdGVyW3Rbc10udHlwZV0uYXBwbHkobnVsbCwgdFtzXS5tYXRjaGVzKSlba2ldKSB7CiAgICAgICAgICAgICAgICBmb3IgKHIgPSArK3M7IHIgPCBpICYmICFsaS5yZWxhdGl2ZVt0W3JdLnR5cGVdOyByKyspIHsKICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBlKG0sIGcsIHAsIGgsIHYsIHQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGggJiYgIWhba2ldICYmIChoID0gZShoKSksIHYgJiYgIXZba2ldICYmICh2ID0gZSh2LCB0KSksIHNhKGZ1bmN0aW9uIChlLCB0LCBuLCByKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIG8sCiAgICAgICAgICAgICAgICAgICAgICAgIGksCiAgICAgICAgICAgICAgICAgICAgICAgIGEsCiAgICAgICAgICAgICAgICAgICAgICAgIHUgPSBbXSwKICAgICAgICAgICAgICAgICAgICAgICAgcyA9IFtdLAogICAgICAgICAgICAgICAgICAgICAgICBjID0gdC5sZW5ndGgsCiAgICAgICAgICAgICAgICAgICAgICAgIGwgPSBlIHx8IGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciByID0gMCwgbyA9IHQubGVuZ3RoOyByIDwgbzsgcisrKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFhKGUsIHRbcl0sIG4pOwogICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuOwogICAgICAgICAgICAgICAgICAgIH0oZyB8fCAiKiIsIG4ubm9kZVR5cGUgPyBbbl0gOiBuLCBbXSksCiAgICAgICAgICAgICAgICAgICAgICAgIGYgPSAhbSB8fCAhZSAmJiBnID8gbCA6IGhhKGwsIHUsIG0sIG4sIHIpLAogICAgICAgICAgICAgICAgICAgICAgICBkID0gcCA/IHYgfHwgKGUgPyBtIDogYyB8fCBoKSA/IFtdIDogdCA6IGY7CgogICAgICAgICAgICAgICAgICAgIGlmIChwICYmIHAoZiwgZCwgbiwgciksIGgpIGZvciAobyA9IGhhKGQsIHMpLCBoKG8sIFtdLCBuLCByKSwgaSA9IG8ubGVuZ3RoOyBpLS07KSB7CiAgICAgICAgICAgICAgICAgICAgICAoYSA9IG9baV0pICYmIChkW3NbaV1dID0gIShmW3NbaV1dID0gYSkpOwogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgaWYgKGUpIHsKICAgICAgICAgICAgICAgICAgICAgIGlmICh2IHx8IG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHYpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKG8gPSBbXSwgaSA9IGQubGVuZ3RoOyBpLS07KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoYSA9IGRbaV0pICYmIG8ucHVzaChmW2ldID0gYSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICB2KG51bGwsIGQgPSBbXSwgbywgcik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IGQubGVuZ3RoOyBpLS07KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgKGEgPSBkW2ldKSAmJiAtMSA8IChvID0gdiA/IEhpLmNhbGwoZSwgYSkgOiB1W2ldKSAmJiAoZVtvXSA9ICEodFtvXSA9IGEpKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBkID0gaGEoZCA9PT0gdCA/IGQuc3BsaWNlKGMsIGQubGVuZ3RoKSA6IGQpLCB2ID8gdihudWxsLCB0LCBkLCByKSA6IFVpLmFwcGx5KHQsIGQpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0oMSA8IHMgJiYgcGEoZiksIDEgPCBzICYmIG1hKHQuc2xpY2UoMCwgcyAtIDEpLmNvbmNhdCh7CiAgICAgICAgICAgICAgICAgIHZhbHVlOiAiICIgPT09IHRbcyAtIDJdLnR5cGUgPyAiKiIgOiAiIgogICAgICAgICAgICAgICAgfSkpLnJlcGxhY2UoV2ksICIkMSIpLCBuLCBzIDwgciAmJiBlKHQuc2xpY2UocywgcikpLCByIDwgaSAmJiBlKHQgPSB0LnNsaWNlKHIpKSwgciA8IGkgJiYgbWEodCkpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgZi5wdXNoKG4pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIHBhKGYpOwogICAgICAgIH0odFtuXSkpW2tpXSA/IHIgOiBvKS5wdXNoKGkpOwogICAgICB9CgogICAgICAoaSA9IE9pKGUsIChoID0gbywgYiA9IDAgPCAodiA9IHIpLmxlbmd0aCwgeSA9IDAgPCBoLmxlbmd0aCwgYiA/IHNhKGEpIDogYSkpKS5zZWxlY3RvciA9IGU7CiAgICB9CgogICAgZnVuY3Rpb24gYShlLCB0LCBuLCByLCBvKSB7CiAgICAgIHZhciBpLAogICAgICAgICAgYSwKICAgICAgICAgIHUsCiAgICAgICAgICBzID0gMCwKICAgICAgICAgIGMgPSAiMCIsCiAgICAgICAgICBsID0gZSAmJiBbXSwKICAgICAgICAgIGYgPSBbXSwKICAgICAgICAgIGQgPSBoaSwKICAgICAgICAgIG0gPSBlIHx8IHkgJiYgbGkuZmluZC5UQUcoIioiLCBvKSwKICAgICAgICAgIGcgPSBBaSArPSBudWxsID09IGQgPyAxIDogTWF0aC5yYW5kb20oKSB8fCAuMSwKICAgICAgICAgIHAgPSBtLmxlbmd0aDsKCiAgICAgIGZvciAobyAmJiAoaGkgPSB0ICE9PSBDaSAmJiB0KTsgYyAhPT0gcCAmJiBudWxsICE9IChpID0gbVtjXSk7IGMrKykgewogICAgICAgIGlmICh5ICYmIGkpIHsKICAgICAgICAgIGZvciAoYSA9IDA7IHUgPSBoW2ErK107KSB7CiAgICAgICAgICAgIGlmICh1KGksIHQsIG4pKSB7CiAgICAgICAgICAgICAgci5wdXNoKGkpOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgbyAmJiAoQWkgPSBnKTsKICAgICAgICB9CgogICAgICAgIGIgJiYgKChpID0gIXUgJiYgaSkgJiYgcy0tLCBlICYmIGwucHVzaChpKSk7CiAgICAgIH0KCiAgICAgIGlmIChzICs9IGMsIGIgJiYgYyAhPT0gcykgewogICAgICAgIGZvciAoYSA9IDA7IHUgPSB2W2ErK107KSB7CiAgICAgICAgICB1KGwsIGYsIHQsIG4pOwogICAgICAgIH0KCiAgICAgICAgaWYgKGUpIHsKICAgICAgICAgIGlmICgwIDwgcykgZm9yICg7IGMtLTspIHsKICAgICAgICAgICAgbFtjXSB8fCBmW2NdIHx8IChmW2NdID0gTWkuY2FsbChyKSk7CiAgICAgICAgICB9CiAgICAgICAgICBmID0gaGEoZik7CiAgICAgICAgfQoKICAgICAgICBVaS5hcHBseShyLCBmKSwgbyAmJiAhZSAmJiAwIDwgZi5sZW5ndGggJiYgMSA8IHMgKyB2Lmxlbmd0aCAmJiBhYS51bmlxdWVTb3J0KHIpOwogICAgICB9CgogICAgICByZXR1cm4gbyAmJiAoQWkgPSBnLCBoaSA9IGQpLCBsOwogICAgfQoKICAgIHJldHVybiBpOwogIH0sIHBpID0gYWEuc2VsZWN0ID0gZnVuY3Rpb24gKGUsIHQsIG4sIHIpIHsKICAgIHZhciBvLAogICAgICAgIGksCiAgICAgICAgYSwKICAgICAgICB1LAogICAgICAgIHMsCiAgICAgICAgYyA9ICJmdW5jdGlvbiIgPT0gdHlwZW9mIGUgJiYgZSwKICAgICAgICBsID0gIXIgJiYgbWkoZSA9IGMuc2VsZWN0b3IgfHwgZSk7CgogICAgaWYgKG4gPSBuIHx8IFtdLCAxID09PSBsLmxlbmd0aCkgewogICAgICBpZiAoMiA8IChpID0gbFswXSA9IGxbMF0uc2xpY2UoMCkpLmxlbmd0aCAmJiAiSUQiID09PSAoYSA9IGlbMF0pLnR5cGUgJiYgY2kuZ2V0QnlJZCAmJiA5ID09PSB0Lm5vZGVUeXBlICYmIHdpICYmIGxpLnJlbGF0aXZlW2lbMV0udHlwZV0pIHsKICAgICAgICBpZiAoISh0ID0gKGxpLmZpbmQuSUQoYS5tYXRjaGVzWzBdLnJlcGxhY2UoaWEsIHNpKSwgdCkgfHwgW10pWzBdKSkgcmV0dXJuIG47CiAgICAgICAgYyAmJiAodCA9IHQucGFyZW50Tm9kZSksIGUgPSBlLnNsaWNlKGkuc2hpZnQoKS52YWx1ZS5sZW5ndGgpOwogICAgICB9CgogICAgICBmb3IgKG8gPSBRaS5uZWVkc0NvbnRleHQudGVzdChlKSA/IDAgOiBpLmxlbmd0aDsgby0tICYmIChhID0gaVtvXSwgIWxpLnJlbGF0aXZlW3UgPSBhLnR5cGVdKTspIHsKICAgICAgICBpZiAoKHMgPSBsaS5maW5kW3VdKSAmJiAociA9IHMoYS5tYXRjaGVzWzBdLnJlcGxhY2UoaWEsIHNpKSwgcmEudGVzdChpWzBdLnR5cGUpICYmIGZhKHQucGFyZW50Tm9kZSkgfHwgdCkpKSB7CiAgICAgICAgICBpZiAoaS5zcGxpY2UobywgMSksICEoZSA9IHIubGVuZ3RoICYmIG1hKGkpKSkgcmV0dXJuIFVpLmFwcGx5KG4sIHIpLCBuOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgcmV0dXJuIChjIHx8IGdpKGUsIGwpKShyLCB0LCAhd2ksIG4sIHJhLnRlc3QoZSkgJiYgZmEodC5wYXJlbnROb2RlKSB8fCB0KSwgbjsKICB9LCBjaS5zb3J0U3RhYmxlID0ga2kuc3BsaXQoIiIpLnNvcnQoQmkpLmpvaW4oIiIpID09PSBraSwgY2kuZGV0ZWN0RHVwbGljYXRlcyA9ICEhYmksIHlpKCksIGNpLnNvcnREZXRhY2hlZCA9ICEwOwoKICB2YXIga2EgPSBkb2N1bWVudCwKICAgICAgX2EgPSBBcnJheS5wcm90b3R5cGUucHVzaCwKICAgICAgQWEgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UsCiAgICAgIFJhID0gL14oPzpbXiM8XSooPFtcd1xXXSs+KVtePl0qJHwjKFtcd1wtXSopJCkvLAogICAgICBEYSA9IGFpLkV2ZW50LAogICAgICBUYSA9IEV0Lm1ha2VNYXAoImNoaWxkcmVuLGNvbnRlbnRzLG5leHQscHJldiIpLAogICAgICBPYSA9IGZ1bmN0aW9uIE9hKGUsIHQsIG4sIHIpIHsKICAgIHZhciBvOwogICAgaWYgKGJhKHQpKSB0ID0geWEodCwgemEoZVswXSkpO2Vsc2UgaWYgKHQubGVuZ3RoICYmICF0Lm5vZGVUeXBlKSB7CiAgICAgIGlmICh0ID0gV2EubWFrZUFycmF5KHQpLCByKSBmb3IgKG8gPSB0Lmxlbmd0aCAtIDE7IDAgPD0gbzsgby0tKSB7CiAgICAgICAgT2EoZSwgdFtvXSwgbiwgcik7CiAgICAgIH0gZWxzZSBmb3IgKG8gPSAwOyBvIDwgdC5sZW5ndGg7IG8rKykgewogICAgICAgIE9hKGUsIHRbb10sIG4sIHIpOwogICAgICB9CiAgICAgIHJldHVybiBlOwogICAgfQogICAgaWYgKHQubm9kZVR5cGUpIGZvciAobyA9IGUubGVuZ3RoOyBvLS07KSB7CiAgICAgIG4uY2FsbChlW29dLCB0KTsKICAgIH0KICAgIHJldHVybiBlOwogIH0sCiAgICAgIEJhID0gRXQubWFrZU1hcCgiZmlsbE9wYWNpdHkgZm9udFdlaWdodCBsaW5lSGVpZ2h0IG9wYWNpdHkgb3JwaGFucyB3aWRvd3MgekluZGV4IHpvb20iLCAiICIpLAogICAgICBQYSA9IEV0Lm1ha2VNYXAoImNoZWNrZWQgY29tcGFjdCBkZWNsYXJlIGRlZmVyIGRpc2FibGVkIGlzbWFwIG11bHRpcGxlIG5vaHJlZiBub3NoYWRlIG5vd3JhcCByZWFkb25seSBzZWxlY3RlZCIsICIgIiksCiAgICAgIExhID0gewogICAgZm9yOiAiaHRtbEZvciIsCiAgICBjbGFzczogImNsYXNzTmFtZSIsCiAgICByZWFkb25seTogInJlYWRPbmx5IgogIH0sCiAgICAgIElhID0gewogICAgZmxvYXQ6ICJjc3NGbG9hdCIKICB9LAogICAgICBNYSA9IHt9LAogICAgICBGYSA9IHt9LAogICAgICBVYSA9IC9eXHMqfFxzKiQvZywKICAgICAgemEgPSBmdW5jdGlvbiB6YShlKSB7CiAgICByZXR1cm4gZSA/IDkgPT09IGUubm9kZVR5cGUgPyBlIDogZS5vd25lckRvY3VtZW50IDoga2E7CiAgfTsKCiAgZnVuY3Rpb24gSGEoZSwgdCwgbikgewogICAgdmFyIHIgPSBbXSwKICAgICAgICBvID0gZVt0XTsKCiAgICBmb3IgKCJzdHJpbmciICE9IHR5cGVvZiBuICYmIG4gaW5zdGFuY2VvZiBXYSAmJiAobiA9IG5bMF0pOyBvICYmIDkgIT09IG8ubm9kZVR5cGU7KSB7CiAgICAgIGlmICh2b2lkIDAgIT09IG4pIHsKICAgICAgICBpZiAobyA9PT0gbikgYnJlYWs7CiAgICAgICAgaWYgKCJzdHJpbmciID09IHR5cGVvZiBuICYmIFdhKG8pLmlzKG4pKSBicmVhazsKICAgICAgfQoKICAgICAgMSA9PT0gby5ub2RlVHlwZSAmJiByLnB1c2gobyksIG8gPSBvW3RdOwogICAgfQoKICAgIHJldHVybiByOwogIH0KCiAgZnVuY3Rpb24gamEoZSwgdCwgbiwgcikgewogICAgdmFyIG8gPSBbXTsKCiAgICBmb3IgKHIgaW5zdGFuY2VvZiBXYSAmJiAociA9IHJbMF0pOyBlOyBlID0gZVt0XSkgewogICAgICBpZiAoIW4gfHwgZS5ub2RlVHlwZSA9PT0gbikgewogICAgICAgIGlmICh2b2lkIDAgIT09IHIpIHsKICAgICAgICAgIGlmIChlID09PSByKSBicmVhazsKICAgICAgICAgIGlmICgic3RyaW5nIiA9PSB0eXBlb2YgciAmJiBXYShlKS5pcyhyKSkgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICBvLnB1c2goZSk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbzsKICB9CgogIGZ1bmN0aW9uIFZhKGUsIHQsIG4pIHsKICAgIGZvciAoZSA9IGVbdF07IGU7IGUgPSBlW3RdKSB7CiAgICAgIGlmIChlLm5vZGVUeXBlID09PSBuKSByZXR1cm4gZTsKICAgIH0KCiAgICByZXR1cm4gbnVsbDsKICB9CgogIGZ1bmN0aW9uIHFhKGUsIHQpIHsKICAgIHZhciBuID0gdC5hdHRyKCJzdHlsZSIpLAogICAgICAgIHIgPSBlLnNlcmlhbGl6ZShlLnBhcnNlKG4pLCB0WzBdLm5vZGVOYW1lKSB8fCBudWxsOwogICAgdC5hdHRyKCJkYXRhLW1jZS1zdHlsZSIsIHIpOwogIH0KCiAgZnVuY3Rpb24gJGEoZSwgdCkgewogICAgdmFyIG4sCiAgICAgICAgciwKICAgICAgICBvID0gMDsKICAgIGlmIChlKSBmb3IgKG4gPSBlLm5vZGVUeXBlLCBlID0gZS5wcmV2aW91c1NpYmxpbmc7IGU7IGUgPSBlLnByZXZpb3VzU2libGluZykgewogICAgICByID0gZS5ub2RlVHlwZSwgKCF0IHx8IDMgIT09IHIgfHwgciAhPT0gbiAmJiBlLm5vZGVWYWx1ZS5sZW5ndGgpICYmIChvKyssIG4gPSByKTsKICAgIH0KICAgIHJldHVybiBvOwogIH0KCiAgd2EuZm4gPSB3YS5wcm90b3R5cGUgPSB7CiAgICBjb25zdHJ1Y3Rvcjogd2EsCiAgICBzZWxlY3RvcjogIiIsCiAgICBjb250ZXh0OiBudWxsLAogICAgbGVuZ3RoOiAwLAogICAgaW5pdDogZnVuY3Rpb24gaW5pdChlLCB0KSB7CiAgICAgIHZhciBuLAogICAgICAgICAgciwKICAgICAgICAgIG8gPSB0aGlzOwogICAgICBpZiAoIWUpIHJldHVybiBvOwogICAgICBpZiAoZS5ub2RlVHlwZSkgcmV0dXJuIG8uY29udGV4dCA9IG9bMF0gPSBlLCBvLmxlbmd0aCA9IDEsIG87CiAgICAgIGlmICh0ICYmIHQubm9kZVR5cGUpIG8uY29udGV4dCA9IHQ7ZWxzZSB7CiAgICAgICAgaWYgKHQpIHJldHVybiBXYShlKS5hdHRyKHQpOwogICAgICAgIG8uY29udGV4dCA9IHQgPSBkb2N1bWVudDsKICAgICAgfQoKICAgICAgaWYgKGJhKGUpKSB7CiAgICAgICAgaWYgKCEobiA9ICI8IiA9PT0gKG8uc2VsZWN0b3IgPSBlKS5jaGFyQXQoMCkgJiYgIj4iID09PSBlLmNoYXJBdChlLmxlbmd0aCAtIDEpICYmIDMgPD0gZS5sZW5ndGggPyBbbnVsbCwgZSwgbnVsbF0gOiBSYS5leGVjKGUpKSkgcmV0dXJuIFdhKHQpLmZpbmQoZSk7CiAgICAgICAgaWYgKG5bMV0pIGZvciAociA9IHlhKGUsIHphKHQpKS5maXJzdENoaWxkOyByOykgewogICAgICAgICAgX2EuY2FsbChvLCByKSwgciA9IHIubmV4dFNpYmxpbmc7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmICghKHIgPSB6YSh0KS5nZXRFbGVtZW50QnlJZChuWzJdKSkpIHJldHVybiBvOwogICAgICAgICAgaWYgKHIuaWQgIT09IG5bMl0pIHJldHVybiBvLmZpbmQoZSk7CiAgICAgICAgICBvLmxlbmd0aCA9IDEsIG9bMF0gPSByOwogICAgICAgIH0KICAgICAgfSBlbHNlIHRoaXMuYWRkKGUsICExKTsKCiAgICAgIHJldHVybiBvOwogICAgfSwKICAgIHRvQXJyYXk6IGZ1bmN0aW9uIHRvQXJyYXkoKSB7CiAgICAgIHJldHVybiBFdC50b0FycmF5KHRoaXMpOwogICAgfSwKICAgIGFkZDogZnVuY3Rpb24gYWRkKGUsIHQpIHsKICAgICAgdmFyIG4sIHI7CiAgICAgIGlmIChiYShlKSkgcmV0dXJuIHRoaXMuYWRkKFdhKGUpKTsKICAgICAgaWYgKCExICE9PSB0KSBmb3IgKG4gPSBXYS51bmlxdWUodGhpcy50b0FycmF5KCkuY29uY2F0KFdhLm1ha2VBcnJheShlKSkpLCB0aGlzLmxlbmd0aCA9IG4ubGVuZ3RoLCByID0gMDsgciA8IG4ubGVuZ3RoOyByKyspIHsKICAgICAgICB0aGlzW3JdID0gbltyXTsKICAgICAgfSBlbHNlIF9hLmFwcGx5KHRoaXMsIFdhLm1ha2VBcnJheShlKSk7CiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIGF0dHI6IGZ1bmN0aW9uIGF0dHIodCwgbikgewogICAgICB2YXIgZSwKICAgICAgICAgIHIgPSB0aGlzOwogICAgICBpZiAoIm9iamVjdCIgPT0gX3R5cGVvZih0KSkgRWEodCwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICByLmF0dHIoZSwgdCk7CiAgICAgIH0pO2Vsc2UgewogICAgICAgIGlmICghdmEobikpIHsKICAgICAgICAgIGlmIChyWzBdICYmIDEgPT09IHJbMF0ubm9kZVR5cGUpIHsKICAgICAgICAgICAgaWYgKChlID0gTWFbdF0pICYmIGUuZ2V0KSByZXR1cm4gZS5nZXQoclswXSwgdCk7CiAgICAgICAgICAgIGlmIChQYVt0XSkgcmV0dXJuIHIucHJvcCh0KSA/IHQgOiB2b2lkIDA7CiAgICAgICAgICAgIG51bGwgPT09IChuID0gclswXS5nZXRBdHRyaWJ1dGUodCwgMikpICYmIChuID0gdm9pZCAwKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gbjsKICAgICAgICB9CgogICAgICAgIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgZTsKICAgICAgICAgIDEgPT09IHRoaXMubm9kZVR5cGUgJiYgKChlID0gTWFbdF0pICYmIGUuc2V0ID8gZS5zZXQodGhpcywgbikgOiBudWxsID09PSBuID8gdGhpcy5yZW1vdmVBdHRyaWJ1dGUodCwgMikgOiB0aGlzLnNldEF0dHJpYnV0ZSh0LCBuLCAyKSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHI7CiAgICB9LAogICAgcmVtb3ZlQXR0cjogZnVuY3Rpb24gcmVtb3ZlQXR0cihlKSB7CiAgICAgIHJldHVybiB0aGlzLmF0dHIoZSwgbnVsbCk7CiAgICB9LAogICAgcHJvcDogZnVuY3Rpb24gcHJvcChlLCB0KSB7CiAgICAgIHZhciBuID0gdGhpczsKICAgICAgaWYgKCJvYmplY3QiID09IF90eXBlb2YoZSA9IExhW2VdIHx8IGUpKSBFYShlLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIG4ucHJvcChlLCB0KTsKICAgICAgfSk7ZWxzZSB7CiAgICAgICAgaWYgKCF2YSh0KSkgcmV0dXJuIG5bMF0gJiYgblswXS5ub2RlVHlwZSAmJiBlIGluIG5bMF0gPyBuWzBdW2VdIDogdDsKICAgICAgICB0aGlzLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgICAgMSA9PT0gdGhpcy5ub2RlVHlwZSAmJiAodGhpc1tlXSA9IHQpOwogICAgICAgIH0pOwogICAgICB9CiAgICAgIHJldHVybiBuOwogICAgfSwKICAgIGNzczogZnVuY3Rpb24gY3NzKHQsIG4pIHsKICAgICAgZnVuY3Rpb24gZShlKSB7CiAgICAgICAgcmV0dXJuIGUucmVwbGFjZSgvLShcRCkvZywgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgIHJldHVybiB0LnRvVXBwZXJDYXNlKCk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHIoZSkgewogICAgICAgIHJldHVybiBlLnJlcGxhY2UoL1tBLVpdL2csIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gIi0iICsgZTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdmFyIG8sCiAgICAgICAgICBpLAogICAgICAgICAgYSA9IHRoaXM7CiAgICAgIGlmICgib2JqZWN0IiA9PSBfdHlwZW9mKHQpKSBFYSh0LCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIGEuY3NzKGUsIHQpOwogICAgICB9KTtlbHNlIGlmICh2YShuKSkgdCA9IGUodCksICJudW1iZXIiICE9IHR5cGVvZiBuIHx8IEJhW3RdIHx8IChuID0gbi50b1N0cmluZygpICsgInB4IiksIGEuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIGUgPSB0aGlzLnN0eWxlOwogICAgICAgIGlmICgoaSA9IEZhW3RdKSAmJiBpLnNldCkgaS5zZXQodGhpcywgbik7ZWxzZSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICB0aGlzLnN0eWxlW0lhW3RdIHx8IHRdID0gbjsKICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9CgogICAgICAgICAgbnVsbCAhPT0gbiAmJiAiIiAhPT0gbiB8fCAoZS5yZW1vdmVQcm9wZXJ0eSA/IGUucmVtb3ZlUHJvcGVydHkocih0KSkgOiBlLnJlbW92ZUF0dHJpYnV0ZSh0KSk7CiAgICAgICAgfQogICAgICB9KTtlbHNlIHsKICAgICAgICBpZiAobyA9IGFbMF0sIChpID0gRmFbdF0pICYmIGkuZ2V0KSByZXR1cm4gaS5nZXQobyk7CiAgICAgICAgaWYgKCFvLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpIHJldHVybiBvLmN1cnJlbnRTdHlsZSA/IG8uY3VycmVudFN0eWxlW2UodCldIDogIiI7CgogICAgICAgIHRyeSB7CiAgICAgICAgICByZXR1cm4gby5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUobywgbnVsbCkuZ2V0UHJvcGVydHlWYWx1ZShyKHQpKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBhOwogICAgfSwKICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkgewogICAgICBmb3IgKHZhciBlLCB0ID0gdGhpcy5sZW5ndGg7IHQtLTspIHsKICAgICAgICBlID0gdGhpc1t0XSwgRGEuY2xlYW4oZSksIGUucGFyZW50Tm9kZSAmJiBlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzOwogICAgfSwKICAgIGVtcHR5OiBmdW5jdGlvbiBlbXB0eSgpIHsKICAgICAgZm9yICh2YXIgZSwgdCA9IHRoaXMubGVuZ3RoOyB0LS07KSB7CiAgICAgICAgZm9yIChlID0gdGhpc1t0XTsgZS5maXJzdENoaWxkOykgewogICAgICAgICAgZS5yZW1vdmVDaGlsZChlLmZpcnN0Q2hpbGQpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAogICAgaHRtbDogZnVuY3Rpb24gaHRtbCh0KSB7CiAgICAgIHZhciBuOwoKICAgICAgaWYgKHZhKHQpKSB7CiAgICAgICAgbiA9IHRoaXMubGVuZ3RoOwoKICAgICAgICB0cnkgewogICAgICAgICAgZm9yICg7IG4tLTspIHsKICAgICAgICAgICAgdGhpc1tuXS5pbm5lckhUTUwgPSB0OwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIFdhKHRoaXNbbl0pLmVtcHR5KCkuYXBwZW5kKHQpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzWzBdID8gdGhpc1swXS5pbm5lckhUTUwgOiAiIjsKICAgIH0sCiAgICB0ZXh0OiBmdW5jdGlvbiB0ZXh0KGUpIHsKICAgICAgdmFyIHQ7CgogICAgICBpZiAodmEoZSkpIHsKICAgICAgICBmb3IgKHQgPSB0aGlzLmxlbmd0aDsgdC0tOykgewogICAgICAgICAgImlubmVyVGV4dCIgaW4gdGhpc1t0XSA/IHRoaXNbdF0uaW5uZXJUZXh0ID0gZSA6IHRoaXNbMF0udGV4dENvbnRlbnQgPSBlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzWzBdID8gdGhpc1swXS5pbm5lclRleHQgfHwgdGhpc1swXS50ZXh0Q29udGVudCA6ICIiOwogICAgfSwKICAgIGFwcGVuZDogZnVuY3Rpb24gYXBwZW5kKCkgewogICAgICByZXR1cm4gT2EodGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiAoZSkgewogICAgICAgICgxID09PSB0aGlzLm5vZGVUeXBlIHx8IHRoaXMuaG9zdCAmJiAxID09PSB0aGlzLmhvc3Qubm9kZVR5cGUpICYmIHRoaXMuYXBwZW5kQ2hpbGQoZSk7CiAgICAgIH0pOwogICAgfSwKICAgIHByZXBlbmQ6IGZ1bmN0aW9uIHByZXBlbmQoKSB7CiAgICAgIHJldHVybiBPYSh0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgKDEgPT09IHRoaXMubm9kZVR5cGUgfHwgdGhpcy5ob3N0ICYmIDEgPT09IHRoaXMuaG9zdC5ub2RlVHlwZSkgJiYgdGhpcy5pbnNlcnRCZWZvcmUoZSwgdGhpcy5maXJzdENoaWxkKTsKICAgICAgfSwgITApOwogICAgfSwKICAgIGJlZm9yZTogZnVuY3Rpb24gYmVmb3JlKCkgewogICAgICByZXR1cm4gdGhpc1swXSAmJiB0aGlzWzBdLnBhcmVudE5vZGUgPyBPYSh0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLCB0aGlzKTsKICAgICAgfSkgOiB0aGlzOwogICAgfSwKICAgIGFmdGVyOiBmdW5jdGlvbiBhZnRlcigpIHsKICAgICAgcmV0dXJuIHRoaXNbMF0gJiYgdGhpc1swXS5wYXJlbnROb2RlID8gT2EodGhpcywgYXJndW1lbnRzLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSwgdGhpcy5uZXh0U2libGluZyk7CiAgICAgIH0sICEwKSA6IHRoaXM7CiAgICB9LAogICAgYXBwZW5kVG86IGZ1bmN0aW9uIGFwcGVuZFRvKGUpIHsKICAgICAgcmV0dXJuIFdhKGUpLmFwcGVuZCh0aGlzKSwgdGhpczsKICAgIH0sCiAgICBwcmVwZW5kVG86IGZ1bmN0aW9uIHByZXBlbmRUbyhlKSB7CiAgICAgIHJldHVybiBXYShlKS5wcmVwZW5kKHRoaXMpLCB0aGlzOwogICAgfSwKICAgIHJlcGxhY2VXaXRoOiBmdW5jdGlvbiByZXBsYWNlV2l0aChlKSB7CiAgICAgIHJldHVybiB0aGlzLmJlZm9yZShlKS5yZW1vdmUoKTsKICAgIH0sCiAgICB3cmFwOiBmdW5jdGlvbiB3cmFwKGUpIHsKICAgICAgcmV0dXJuIHhhKHRoaXMsIGUpOwogICAgfSwKICAgIHdyYXBBbGw6IGZ1bmN0aW9uIHdyYXBBbGwoZSkgewogICAgICByZXR1cm4geGEodGhpcywgZSwgITApOwogICAgfSwKICAgIHdyYXBJbm5lcjogZnVuY3Rpb24gd3JhcElubmVyKGUpIHsKICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgV2EodGhpcykuY29udGVudHMoKS53cmFwQWxsKGUpOwogICAgICB9KSwgdGhpczsKICAgIH0sCiAgICB1bndyYXA6IGZ1bmN0aW9uIHVud3JhcCgpIHsKICAgICAgcmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgV2EodGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKTsKICAgICAgfSk7CiAgICB9LAogICAgY2xvbmU6IGZ1bmN0aW9uIGNsb25lKCkgewogICAgICB2YXIgZSA9IFtdOwogICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBlLnB1c2godGhpcy5jbG9uZU5vZGUoITApKTsKICAgICAgfSksIFdhKGUpOwogICAgfSwKICAgIGFkZENsYXNzOiBmdW5jdGlvbiBhZGRDbGFzcyhlKSB7CiAgICAgIHJldHVybiB0aGlzLnRvZ2dsZUNsYXNzKGUsICEwKTsKICAgIH0sCiAgICByZW1vdmVDbGFzczogZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZSkgewogICAgICByZXR1cm4gdGhpcy50b2dnbGVDbGFzcyhlLCAhMSk7CiAgICB9LAogICAgdG9nZ2xlQ2xhc3M6IGZ1bmN0aW9uIHRvZ2dsZUNsYXNzKG8sIGkpIHsKICAgICAgdmFyIGUgPSB0aGlzOwogICAgICByZXR1cm4gInN0cmluZyIgIT0gdHlwZW9mIG8gfHwgKC0xICE9PSBvLmluZGV4T2YoIiAiKSA/IEVhKG8uc3BsaXQoIiAiKSwgZnVuY3Rpb24gKCkgewogICAgICAgIGUudG9nZ2xlQ2xhc3ModGhpcywgaSk7CiAgICAgIH0pIDogZS5lYWNoKGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgdmFyIG4sCiAgICAgICAgICAgIHIgPSBDYSh0LCBvKTsKICAgICAgICByICE9PSBpICYmIChuID0gdC5jbGFzc05hbWUsIHIgPyB0LmNsYXNzTmFtZSA9IFNhKCgiICIgKyBuICsgIiAiKS5yZXBsYWNlKCIgIiArIG8gKyAiICIsICIgIikpIDogdC5jbGFzc05hbWUgKz0gbiA/ICIgIiArIG8gOiBvKTsKICAgICAgfSkpLCBlOwogICAgfSwKICAgIGhhc0NsYXNzOiBmdW5jdGlvbiBoYXNDbGFzcyhlKSB7CiAgICAgIHJldHVybiBDYSh0aGlzWzBdLCBlKTsKICAgIH0sCiAgICBlYWNoOiBmdW5jdGlvbiBlYWNoKGUpIHsKICAgICAgcmV0dXJuIEVhKHRoaXMsIGUpOwogICAgfSwKICAgIG9uOiBmdW5jdGlvbiBvbihlLCB0KSB7CiAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgIERhLmJpbmQodGhpcywgZSwgdCk7CiAgICAgIH0pOwogICAgfSwKICAgIG9mZjogZnVuY3Rpb24gb2ZmKGUsIHQpIHsKICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgRGEudW5iaW5kKHRoaXMsIGUsIHQpOwogICAgICB9KTsKICAgIH0sCiAgICB0cmlnZ2VyOiBmdW5jdGlvbiB0cmlnZ2VyKGUpIHsKICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgIm9iamVjdCIgPT0gX3R5cGVvZihlKSA/IERhLmZpcmUodGhpcywgZS50eXBlLCBlKSA6IERhLmZpcmUodGhpcywgZSk7CiAgICAgIH0pOwogICAgfSwKICAgIHNob3c6IGZ1bmN0aW9uIHNob3coKSB7CiAgICAgIHJldHVybiB0aGlzLmNzcygiZGlzcGxheSIsICIiKTsKICAgIH0sCiAgICBoaWRlOiBmdW5jdGlvbiBoaWRlKCkgewogICAgICByZXR1cm4gdGhpcy5jc3MoImRpc3BsYXkiLCAibm9uZSIpOwogICAgfSwKICAgIHNsaWNlOiBmdW5jdGlvbiBzbGljZSgpIHsKICAgICAgcmV0dXJuIFdhKEFhLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpOwogICAgfSwKICAgIGVxOiBmdW5jdGlvbiBlcShlKSB7CiAgICAgIHJldHVybiAtMSA9PT0gZSA/IHRoaXMuc2xpY2UoZSkgOiB0aGlzLnNsaWNlKGUsICtlICsgMSk7CiAgICB9LAogICAgZmlyc3Q6IGZ1bmN0aW9uIGZpcnN0KCkgewogICAgICByZXR1cm4gdGhpcy5lcSgwKTsKICAgIH0sCiAgICBsYXN0OiBmdW5jdGlvbiBsYXN0KCkgewogICAgICByZXR1cm4gdGhpcy5lcSgtMSk7CiAgICB9LAogICAgZmluZDogZnVuY3Rpb24gZmluZChlKSB7CiAgICAgIGZvciAodmFyIHQgPSBbXSwgbiA9IDAsIHIgPSB0aGlzLmxlbmd0aDsgbiA8IHI7IG4rKykgewogICAgICAgIFdhLmZpbmQoZSwgdGhpc1tuXSwgdCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBXYSh0KTsKICAgIH0sCiAgICBmaWx0ZXI6IGZ1bmN0aW9uIGZpbHRlcihuKSB7CiAgICAgIHJldHVybiBXYSgiZnVuY3Rpb24iID09IHR5cGVvZiBuID8gTmEodGhpcy50b0FycmF5KCksIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgcmV0dXJuIG4odCwgZSk7CiAgICAgIH0pIDogV2EuZmlsdGVyKG4sIHRoaXMudG9BcnJheSgpKSk7CiAgICB9LAogICAgY2xvc2VzdDogZnVuY3Rpb24gY2xvc2VzdChuKSB7CiAgICAgIHZhciByID0gW107CiAgICAgIHJldHVybiBuIGluc3RhbmNlb2YgV2EgJiYgKG4gPSBuWzBdKSwgdGhpcy5lYWNoKGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgZm9yICg7IHQ7KSB7CiAgICAgICAgICBpZiAoInN0cmluZyIgPT0gdHlwZW9mIG4gJiYgV2EodCkuaXMobikpIHsKICAgICAgICAgICAgci5wdXNoKHQpOwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAodCA9PT0gbikgewogICAgICAgICAgICByLnB1c2godCk7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQoKICAgICAgICAgIHQgPSB0LnBhcmVudE5vZGU7CiAgICAgICAgfQogICAgICB9KSwgV2Eocik7CiAgICB9LAogICAgb2Zmc2V0OiBmdW5jdGlvbiBvZmZzZXQoZSkgewogICAgICB2YXIgdCwKICAgICAgICAgIG4sCiAgICAgICAgICByLAogICAgICAgICAgbywKICAgICAgICAgIGkgPSAwLAogICAgICAgICAgYSA9IDA7CiAgICAgIHJldHVybiBlID8gdGhpcy5jc3MoZSkgOiAoKHQgPSB0aGlzWzBdKSAmJiAociA9IChuID0gdC5vd25lckRvY3VtZW50KS5kb2N1bWVudEVsZW1lbnQsIHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0ICYmIChpID0gKG8gPSB0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKS5sZWZ0ICsgKHIuc2Nyb2xsTGVmdCB8fCBuLmJvZHkuc2Nyb2xsTGVmdCkgLSByLmNsaWVudExlZnQsIGEgPSBvLnRvcCArIChyLnNjcm9sbFRvcCB8fCBuLmJvZHkuc2Nyb2xsVG9wKSAtIHIuY2xpZW50VG9wKSksIHsKICAgICAgICBsZWZ0OiBpLAogICAgICAgIHRvcDogYQogICAgICB9KTsKICAgIH0sCiAgICBwdXNoOiBfYSwKICAgIHNvcnQ6IEFycmF5LnByb3RvdHlwZS5zb3J0LAogICAgc3BsaWNlOiBBcnJheS5wcm90b3R5cGUuc3BsaWNlCiAgfSwgRXQuZXh0ZW5kKHdhLCB7CiAgICBleHRlbmQ6IEV0LmV4dGVuZCwKICAgIG1ha2VBcnJheTogZnVuY3Rpb24gbWFrZUFycmF5KGUpIHsKICAgICAgcmV0dXJuIGUgJiYgZSA9PT0gZS53aW5kb3cgfHwgZS5ub2RlVHlwZSA/IFtlXSA6IEV0LnRvQXJyYXkoZSk7CiAgICB9LAogICAgaW5BcnJheTogZnVuY3Rpb24gaW5BcnJheShlLCB0KSB7CiAgICAgIHZhciBuOwogICAgICBpZiAodC5pbmRleE9mKSByZXR1cm4gdC5pbmRleE9mKGUpOwoKICAgICAgZm9yIChuID0gdC5sZW5ndGg7IG4tLTspIHsKICAgICAgICBpZiAodFtuXSA9PT0gZSkgcmV0dXJuIG47CiAgICAgIH0KCiAgICAgIHJldHVybiAtMTsKICAgIH0sCiAgICBpc0FycmF5OiBFdC5pc0FycmF5LAogICAgZWFjaDogRWEsCiAgICB0cmltOiBTYSwKICAgIGdyZXA6IE5hLAogICAgZmluZDogYWEsCiAgICBleHByOiBhYS5zZWxlY3RvcnMsCiAgICB1bmlxdWU6IGFhLnVuaXF1ZVNvcnQsCiAgICB0ZXh0OiBhYS5nZXRUZXh0LAogICAgY29udGFpbnM6IGFhLmNvbnRhaW5zLAogICAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXIoZSwgdCwgbikgewogICAgICB2YXIgciA9IHQubGVuZ3RoOwoKICAgICAgZm9yIChuICYmIChlID0gIjpub3QoIiArIGUgKyAiKSIpOyByLS07KSB7CiAgICAgICAgMSAhPT0gdFtyXS5ub2RlVHlwZSAmJiB0LnNwbGljZShyLCAxKTsKICAgICAgfQoKICAgICAgcmV0dXJuIDEgPT09IHQubGVuZ3RoID8gV2EuZmluZC5tYXRjaGVzU2VsZWN0b3IodFswXSwgZSkgPyBbdFswXV0gOiBbXSA6IFdhLmZpbmQubWF0Y2hlcyhlLCB0KTsKICAgIH0KICB9KSwgRWEoewogICAgcGFyZW50OiBmdW5jdGlvbiBwYXJlbnQoZSkgewogICAgICB2YXIgdCA9IGUucGFyZW50Tm9kZTsKICAgICAgcmV0dXJuIHQgJiYgMTEgIT09IHQubm9kZVR5cGUgPyB0IDogbnVsbDsKICAgIH0sCiAgICBwYXJlbnRzOiBmdW5jdGlvbiBwYXJlbnRzKGUpIHsKICAgICAgcmV0dXJuIEhhKGUsICJwYXJlbnROb2RlIik7CiAgICB9LAogICAgbmV4dDogZnVuY3Rpb24gbmV4dChlKSB7CiAgICAgIHJldHVybiBWYShlLCAibmV4dFNpYmxpbmciLCAxKTsKICAgIH0sCiAgICBwcmV2OiBmdW5jdGlvbiBwcmV2KGUpIHsKICAgICAgcmV0dXJuIFZhKGUsICJwcmV2aW91c1NpYmxpbmciLCAxKTsKICAgIH0sCiAgICBjaGlsZHJlbjogZnVuY3Rpb24gY2hpbGRyZW4oZSkgewogICAgICByZXR1cm4gamEoZS5maXJzdENoaWxkLCAibmV4dFNpYmxpbmciLCAxKTsKICAgIH0sCiAgICBjb250ZW50czogZnVuY3Rpb24gY29udGVudHMoZSkgewogICAgICByZXR1cm4gRXQudG9BcnJheSgoImlmcmFtZSIgPT09IGUubm9kZU5hbWUgPyBlLmNvbnRlbnREb2N1bWVudCB8fCBlLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQgOiBlKS5jaGlsZE5vZGVzKTsKICAgIH0KICB9LCBmdW5jdGlvbiAociwgbykgewogICAgd2EuZm5bcl0gPSBmdW5jdGlvbiAodCkgewogICAgICB2YXIgbiA9IFtdOwogICAgICB0aGlzLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBlID0gby5jYWxsKG4sIHRoaXMsIHQsIG4pOwogICAgICAgIGUgJiYgKFdhLmlzQXJyYXkoZSkgPyBuLnB1c2guYXBwbHkobiwgZSkgOiBuLnB1c2goZSkpOwogICAgICB9KSwgMSA8IHRoaXMubGVuZ3RoICYmIChUYVtyXSB8fCAobiA9IFdhLnVuaXF1ZShuKSksIDAgPT09IHIuaW5kZXhPZigicGFyZW50cyIpICYmIChuID0gbi5yZXZlcnNlKCkpKTsKICAgICAgdmFyIGUgPSBXYShuKTsKICAgICAgcmV0dXJuIHQgPyBlLmZpbHRlcih0KSA6IGU7CiAgICB9OwogIH0pLCBFYSh7CiAgICBwYXJlbnRzVW50aWw6IGZ1bmN0aW9uIHBhcmVudHNVbnRpbChlLCB0KSB7CiAgICAgIHJldHVybiBIYShlLCAicGFyZW50Tm9kZSIsIHQpOwogICAgfSwKICAgIG5leHRVbnRpbDogZnVuY3Rpb24gbmV4dFVudGlsKGUsIHQpIHsKICAgICAgcmV0dXJuIGphKGUsICJuZXh0U2libGluZyIsIDEsIHQpLnNsaWNlKDEpOwogICAgfSwKICAgIHByZXZVbnRpbDogZnVuY3Rpb24gcHJldlVudGlsKGUsIHQpIHsKICAgICAgcmV0dXJuIGphKGUsICJwcmV2aW91c1NpYmxpbmciLCAxLCB0KS5zbGljZSgxKTsKICAgIH0KICB9LCBmdW5jdGlvbiAobywgaSkgewogICAgd2EuZm5bb10gPSBmdW5jdGlvbiAodCwgZSkgewogICAgICB2YXIgbiA9IFtdOwogICAgICB0aGlzLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBlID0gaS5jYWxsKG4sIHRoaXMsIHQsIG4pOwogICAgICAgIGUgJiYgKFdhLmlzQXJyYXkoZSkgPyBuLnB1c2guYXBwbHkobiwgZSkgOiBuLnB1c2goZSkpOwogICAgICB9KSwgMSA8IHRoaXMubGVuZ3RoICYmIChuID0gV2EudW5pcXVlKG4pLCAwICE9PSBvLmluZGV4T2YoInBhcmVudHMiKSAmJiAicHJldlVudGlsIiAhPT0gbyB8fCAobiA9IG4ucmV2ZXJzZSgpKSk7CiAgICAgIHZhciByID0gV2Eobik7CiAgICAgIHJldHVybiBlID8gci5maWx0ZXIoZSkgOiByOwogICAgfTsKICB9KSwgd2EuZm4uaXMgPSBmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuICEhZSAmJiAwIDwgdGhpcy5maWx0ZXIoZSkubGVuZ3RoOwogIH0sIHdhLmZuLmluaXQucHJvdG90eXBlID0gd2EuZm4sIHdhLm92ZXJyaWRlRGVmYXVsdHMgPSBmdW5jdGlvbiAobikgewogICAgdmFyIHIsCiAgICAgICAgbyA9IGZ1bmN0aW9uIG8oZSwgdCkgewogICAgICByZXR1cm4gciA9IHIgfHwgbigpLCAwID09PSBhcmd1bWVudHMubGVuZ3RoICYmIChlID0gci5lbGVtZW50KSwgdCA9IHQgfHwgci5jb250ZXh0LCBuZXcgby5mbi5pbml0KGUsIHQpOwogICAgfTsKCiAgICByZXR1cm4gV2EuZXh0ZW5kKG8sIHRoaXMpLCBvOwogIH0sIHdhLmF0dHJIb29rcyA9IE1hLCB3YS5jc3NIb29rcyA9IEZhOwoKICB2YXIgV2EgPSB3YSwKICAgICAgS2EgPSBFdC5lYWNoLAogICAgICBYYSA9IEV0LmdyZXAsCiAgICAgIFlhID0geHQuaWUsCiAgICAgIEdhID0gL14oW2EtejAtOV0sPykrJC9pLAogICAgICBKYSA9IGZ1bmN0aW9uIEphKGEsIHUpIHsKICAgIGZ1bmN0aW9uIHMoZSkgewogICAgICByZXR1cm4gZSAmJiBhICYmIFgoZSkgPyBhLmdldEVsZW1lbnRCeUlkKGUpIDogZTsKICAgIH0KCiAgICBmdW5jdGlvbiBjKGUpIHsKICAgICAgcmV0dXJuIEgoInN0cmluZyIgPT0gdHlwZW9mIGUgPyBzKGUpIDogZSk7CiAgICB9CgogICAgZnVuY3Rpb24gcihlLCB0LCBuKSB7CiAgICAgIHZhciByLAogICAgICAgICAgbywKICAgICAgICAgIGkgPSBjKGUpOwogICAgICByZXR1cm4gdm9pZCAwID09PSAobyA9IGkubGVuZ3RoID8gKHIgPSBXW3RdKSAmJiByLmdldCA/IHIuZ2V0KGksIHQpIDogaS5hdHRyKHQpIDogbykgPyBuIHx8ICIiIDogbzsKICAgIH0KCiAgICBmdW5jdGlvbiBvKGUpIHsKICAgICAgdmFyIHQgPSBzKGUpOwogICAgICByZXR1cm4gdCA/IHQuYXR0cmlidXRlcyA6IFtdOwogICAgfQoKICAgIGZ1bmN0aW9uIGkoZSwgdCwgbikgewogICAgICAiIiA9PT0gbiAmJiAobiA9IG51bGwpOwogICAgICB2YXIgciwKICAgICAgICAgIG8gPSBjKGUpLAogICAgICAgICAgaSA9IG8uYXR0cih0KTsKICAgICAgby5sZW5ndGggJiYgKChyID0gV1t0XSkgJiYgci5zZXQgPyByLnNldChvLCBuLCB0KSA6IG8uYXR0cih0LCBuKSwgaSAhPT0gbiAmJiB1Lm9uU2V0QXR0cmliICYmIHUub25TZXRBdHRyaWIoewogICAgICAgIGF0dHJFbG06IG8sCiAgICAgICAgYXR0ck5hbWU6IHQsCiAgICAgICAgYXR0clZhbHVlOiBuCiAgICAgIH0pKTsKICAgIH0KCiAgICBmdW5jdGlvbiBsKCkgewogICAgICByZXR1cm4gdS5yb290X2VsZW1lbnQgfHwgYS5ib2R5OwogICAgfQoKICAgIGZ1bmN0aW9uIGYoZSwgdCkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgICB2YXIgciwKICAgICAgICAgICAgbyA9IDAsCiAgICAgICAgICAgIGkgPSAwLAogICAgICAgICAgICBhID0gZS5vd25lckRvY3VtZW50OwoKICAgICAgICBpZiAobiA9IG4gfHwgZSwgdCkgewogICAgICAgICAgaWYgKG4gPT09IGUgJiYgdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QgJiYgInN0YXRpYyIgPT09IHhuKE50LmZyb21Eb20oZSksICJwb3NpdGlvbiIpKSB7CiAgICAgICAgICAgIHZhciB1ID0gdC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICB4OiBvID0gdS5sZWZ0ICsgKGEuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgfHwgZS5zY3JvbGxMZWZ0KSAtIGEuZG9jdW1lbnRFbGVtZW50LmNsaWVudExlZnQsCiAgICAgICAgICAgICAgeTogaSA9IHUudG9wICsgKGEuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBlLnNjcm9sbFRvcCkgLSBhLmRvY3VtZW50RWxlbWVudC5jbGllbnRUb3AKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KCiAgICAgICAgICBmb3IgKHZhciBzID0gdDsgcyAmJiBzICE9PSBuICYmIHMubm9kZVR5cGUgJiYgIU5uKHMsIG4pOykgewogICAgICAgICAgICB2YXIgYyA9IHM7CiAgICAgICAgICAgIG8gKz0gYy5vZmZzZXRMZWZ0IHx8IDAsIGkgKz0gYy5vZmZzZXRUb3AgfHwgMCwgcyA9IGMub2Zmc2V0UGFyZW50OwogICAgICAgICAgfQoKICAgICAgICAgIGZvciAocyA9IHQucGFyZW50Tm9kZTsgcyAmJiBzICE9PSBuICYmIHMubm9kZVR5cGUgJiYgIU5uKHMsIG4pOykgewogICAgICAgICAgICBvIC09IHMuc2Nyb2xsTGVmdCB8fCAwLCBpIC09IHMuc2Nyb2xsVG9wIHx8IDAsIHMgPSBzLnBhcmVudE5vZGU7CiAgICAgICAgICB9CgogICAgICAgICAgaSArPSAociA9IE50LmZyb21Eb20odCksIFpuLmlzRmlyZWZveCgpICYmICJ0YWJsZSIgPT09IGt0KHIpID8gRW4oRG4ocikpLmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICAgICAgICByZXR1cm4gImNhcHRpb24iID09PSBrdChlKTsKICAgICAgICAgIH0pLmJpbmQoZnVuY3Rpb24gKG8pIHsKICAgICAgICAgICAgcmV0dXJuIEVuKEl0KG8pKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICB2YXIgdCA9IGUuZG9tLm9mZnNldFRvcCwKICAgICAgICAgICAgICAgICAgbiA9IG8uZG9tLm9mZnNldFRvcCwKICAgICAgICAgICAgICAgICAgciA9IG8uZG9tLm9mZnNldEhlaWdodDsKICAgICAgICAgICAgICByZXR1cm4gdCA8PSBuID8gLXIgOiAwOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pLmdldE9yKDApIDogMCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gewogICAgICAgICAgeDogbywKICAgICAgICAgIHk6IGkKICAgICAgICB9OwogICAgICB9KGEuYm9keSwgcyhlKSwgdCk7CiAgICB9CgogICAgZnVuY3Rpb24gZChlLCB0LCBuKSB7CiAgICAgIHZhciByID0gYyhlKTsKICAgICAgcmV0dXJuIG4gPyByLmNzcyh0KSA6ICgiZmxvYXQiID09PSAodCA9IHQucmVwbGFjZSgvLShcRCkvZywgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICByZXR1cm4gdC50b1VwcGVyQ2FzZSgpOwogICAgICB9KSkgJiYgKHQgPSB4dC5icm93c2VyLmlzSUUoKSA/ICJzdHlsZUZsb2F0IiA6ICJjc3NGbG9hdCIpLCByWzBdICYmIHJbMF0uc3R5bGUgPyByWzBdLnN0eWxlW3RdIDogdm9pZCAwKTsKICAgIH0KCiAgICBmdW5jdGlvbiBtKGUpIHsKICAgICAgdmFyIHQgPSBkKGUgPSBzKGUpLCAid2lkdGgiKSwKICAgICAgICAgIG4gPSBkKGUsICJoZWlnaHQiKTsKICAgICAgcmV0dXJuIC0xID09PSB0LmluZGV4T2YoInB4IikgJiYgKHQgPSAwKSwgLTEgPT09IG4uaW5kZXhPZigicHgiKSAmJiAobiA9IDApLCB7CiAgICAgICAgdzogcGFyc2VJbnQodCwgMTApIHx8IGUub2Zmc2V0V2lkdGggfHwgZS5jbGllbnRXaWR0aCwKICAgICAgICBoOiBwYXJzZUludChuLCAxMCkgfHwgZS5vZmZzZXRIZWlnaHQgfHwgZS5jbGllbnRIZWlnaHQKICAgICAgfTsKICAgIH0KCiAgICBmdW5jdGlvbiBnKGUsIHQpIHsKICAgICAgaWYgKCFlKSByZXR1cm4gITE7CgogICAgICBpZiAoIUFycmF5LmlzQXJyYXkoZSkpIHsKICAgICAgICBpZiAoIioiID09PSB0KSByZXR1cm4gMSA9PT0gZS5ub2RlVHlwZTsKCiAgICAgICAgaWYgKEdhLnRlc3QodCkpIHsKICAgICAgICAgIGZvciAodmFyIG4gPSB0LnRvTG93ZXJDYXNlKCkuc3BsaXQoLywvKSwgciA9IGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwgbyA9IG4ubGVuZ3RoIC0gMTsgMCA8PSBvOyBvLS0pIHsKICAgICAgICAgICAgaWYgKG5bb10gPT09IHIpIHJldHVybiAhMDsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gITE7CiAgICAgICAgfQoKICAgICAgICBpZiAoZS5ub2RlVHlwZSAmJiAxICE9PSBlLm5vZGVUeXBlKSByZXR1cm4gITE7CiAgICAgIH0KCiAgICAgIHZhciBpID0gQXJyYXkuaXNBcnJheShlKSA/IGUgOiBbZV07CiAgICAgIHJldHVybiAwIDwgYWEodCwgaVswXS5vd25lckRvY3VtZW50IHx8IGlbMF0sIG51bGwsIGkpLmxlbmd0aDsKICAgIH0KCiAgICBmdW5jdGlvbiBwKGUsIHQsIG4sIHIpIHsKICAgICAgdmFyIG8sCiAgICAgICAgICBpID0gW10sCiAgICAgICAgICBhID0gcyhlKTsKCiAgICAgIGZvciAociA9IHZvaWQgMCA9PT0gciwgbiA9IG4gfHwgKCJCT0RZIiAhPT0gbCgpLm5vZGVOYW1lID8gbCgpLnBhcmVudE5vZGUgOiBudWxsKSwgRXQuaXModCwgInN0cmluZyIpICYmICh0ID0gIioiID09PSAobyA9IHQpID8gZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gMSA9PT0gZS5ub2RlVHlwZTsKICAgICAgfSA6IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGcoZSwgbyk7CiAgICAgIH0pOyBhICYmICEoYSA9PT0gbiB8fCBLKGEubm9kZVR5cGUpIHx8IHFuKGEpIHx8ICRuKGEpKTspIHsKICAgICAgICBpZiAoIXQgfHwgImZ1bmN0aW9uIiA9PSB0eXBlb2YgdCAmJiB0KGEpKSB7CiAgICAgICAgICBpZiAoIXIpIHJldHVybiBbYV07CiAgICAgICAgICBpLnB1c2goYSk7CiAgICAgICAgfQoKICAgICAgICBhID0gYS5wYXJlbnROb2RlOwogICAgICB9CgogICAgICByZXR1cm4gciA/IGkgOiBudWxsOwogICAgfQoKICAgIGZ1bmN0aW9uIG4oZSwgdCwgbikgewogICAgICB2YXIgciA9IHQ7CiAgICAgIGlmIChlKSBmb3IgKCJzdHJpbmciID09IHR5cGVvZiB0ICYmIChyID0gZnVuY3Rpb24gcihlKSB7CiAgICAgICAgcmV0dXJuIGcoZSwgdCk7CiAgICAgIH0pLCBlID0gZVtuXTsgZTsgZSA9IGVbbl0pIHsKICAgICAgICBpZiAoImZ1bmN0aW9uIiA9PSB0eXBlb2YgciAmJiByKGUpKSByZXR1cm4gZTsKICAgICAgfQogICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICBmdW5jdGlvbiBoKGUsIG4sIHIpIHsKICAgICAgdmFyIG8sCiAgICAgICAgICB0ID0gInN0cmluZyIgPT0gdHlwZW9mIGUgPyBzKGUpIDogZTsKICAgICAgcmV0dXJuICEhdCAmJiAoRXQuaXNBcnJheSh0KSAmJiAodC5sZW5ndGggfHwgMCA9PT0gdC5sZW5ndGgpID8gKG8gPSBbXSwgS2EodCwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICBlICYmIG8ucHVzaChuLmNhbGwociwgInN0cmluZyIgPT0gdHlwZW9mIGUgPyBzKGUpIDogZSwgdCkpOwogICAgICB9KSwgbykgOiBuLmNhbGwociB8fCB0aGlzLCB0KSk7CiAgICB9CgogICAgZnVuY3Rpb24gdihlLCB0KSB7CiAgICAgIGMoZSkuZWFjaChmdW5jdGlvbiAoZSwgbikgewogICAgICAgIEthKHQsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgICBpKG4sIHQsIGUpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiBiKGUsIG4pIHsKICAgICAgdmFyIHQgPSBjKGUpOwogICAgICBZYSA/IHQuZWFjaChmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIGlmICghMSAhPT0gdC5jYW5IYXZlSFRNTCkgewogICAgICAgICAgZm9yICg7IHQuZmlyc3RDaGlsZDspIHsKICAgICAgICAgICAgdC5yZW1vdmVDaGlsZCh0LmZpcnN0Q2hpbGQpOwogICAgICAgICAgfQoKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIHQuaW5uZXJIVE1MID0gIjxicj4iICsgbiwgdC5yZW1vdmVDaGlsZCh0LmZpcnN0Q2hpbGQpOwogICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICBXYSgiPGRpdj48L2Rpdj4iKS5odG1sKCI8YnI+IiArIG4pLmNvbnRlbnRzKCkuc2xpY2UoMSkuYXBwZW5kVG8odCk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIG47CiAgICAgICAgfQogICAgICB9KSA6IHQuaHRtbChuKTsKICAgIH0KCiAgICBmdW5jdGlvbiB5KGUsIG4sIHIsIG8sIGkpIHsKICAgICAgcmV0dXJuIGgoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgdCA9ICJzdHJpbmciID09IHR5cGVvZiBuID8gYS5jcmVhdGVFbGVtZW50KG4pIDogbjsKICAgICAgICByZXR1cm4gdih0LCByKSwgbyAmJiAoInN0cmluZyIgIT0gdHlwZW9mIG8gJiYgby5ub2RlVHlwZSA/IHQuYXBwZW5kQ2hpbGQobykgOiAic3RyaW5nIiA9PSB0eXBlb2YgbyAmJiBiKHQsIG8pKSwgaSA/IHQgOiBlLmFwcGVuZENoaWxkKHQpOwogICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiBDKGUsIHQsIG4pIHsKICAgICAgcmV0dXJuIHkoYS5jcmVhdGVFbGVtZW50KGUpLCBlLCB0LCBuLCAhMCk7CiAgICB9CgogICAgZnVuY3Rpb24geChlLCB0KSB7CiAgICAgIHZhciBuID0gYyhlKTsKICAgICAgcmV0dXJuICh0ID8gbi5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBmb3IgKHZhciBlOyBlID0gdGhpcy5maXJzdENoaWxkOykgewogICAgICAgICAgMyA9PT0gZS5ub2RlVHlwZSAmJiAwID09PSBlLmRhdGEubGVuZ3RoID8gdGhpcy5yZW1vdmVDaGlsZChlKSA6IHRoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZSwgdGhpcyk7CiAgICAgICAgfQogICAgICB9KSA6IG4pLnJlbW92ZSgpLCAxIDwgbi5sZW5ndGggPyBuLnRvQXJyYXkoKSA6IG5bMF07CiAgICB9CgogICAgZnVuY3Rpb24gdyhlLCB0LCBuKSB7CiAgICAgIGMoZSkudG9nZ2xlQ2xhc3ModCwgbikuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgIiIgPT09IHRoaXMuY2xhc3NOYW1lICYmIFdhKHRoaXMpLmF0dHIoImNsYXNzIiwgbnVsbCk7CiAgICAgIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uIFModCwgZSwgbikgewogICAgICByZXR1cm4gaChlLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBFdC5pcyhlLCAiYXJyYXkiKSAmJiAodCA9IHQuY2xvbmVOb2RlKCEwKSksIG4gJiYgS2EoWGEoZS5jaGlsZE5vZGVzKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHQuYXBwZW5kQ2hpbGQoZSk7CiAgICAgICAgfSksIGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQodCwgZSk7CiAgICAgIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uIEUoZSkgewogICAgICBpZiAoem4oZSkpIHsKICAgICAgICB2YXIgdCA9ICJhIiA9PT0gZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICYmICFyKGUsICJocmVmIikgJiYgcihlLCAiaWQiKTsKICAgICAgICByZXR1cm4gcihlLCAibmFtZSIpIHx8IHIoZSwgImRhdGEtbWNlLWJvb2ttYXJrIikgfHwgdCA/IDEgOiB2b2lkIDA7CiAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiBOKCkgewogICAgICByZXR1cm4gYS5jcmVhdGVSYW5nZSgpOwogICAgfQoKICAgIGZ1bmN0aW9uIGsoZSkgewogICAgICBpZiAoZSAmJiB6bihlKSkgewogICAgICAgIHZhciB0ID0gZS5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWNvbnRlbnRlZGl0YWJsZSIpOwogICAgICAgIHJldHVybiB0ICYmICJpbmhlcml0IiAhPT0gdCA/IHQgOiAiaW5oZXJpdCIgIT09IGUuY29udGVudEVkaXRhYmxlID8gZS5jb250ZW50RWRpdGFibGUgOiBudWxsOwogICAgICB9CgogICAgICByZXR1cm4gbnVsbDsKICAgIH0KCiAgICB2b2lkIDAgPT09IHUgJiYgKHUgPSB7fSk7CgogICAgdmFyIF8sCiAgICAgICAgQSwKICAgICAgICBSLAogICAgICAgIEQsCiAgICAgICAgZSwKICAgICAgICB0LAogICAgICAgIFQgPSB7fSwKICAgICAgICBPID0gd2luZG93LAogICAgICAgIEIgPSB7fSwKICAgICAgICBQID0gMCwKICAgICAgICBMID0gQXIuZm9yRWxlbWVudChOdC5mcm9tRG9tKGEpLCB7CiAgICAgIGNvbnRlbnRDc3NDb3JzOiB1LmNvbnRlbnRDc3NDb3JzLAogICAgICByZWZlcnJlclBvbGljeTogdS5yZWZlcnJlclBvbGljeQogICAgfSksCiAgICAgICAgSSA9IFtdLAogICAgICAgIE0gPSB1LnNjaGVtYSB8fCB0byh7fSksCiAgICAgICAgRiA9IHJvKHsKICAgICAgdXJsX2NvbnZlcnRlcjogdS51cmxfY29udmVydGVyLAogICAgICB1cmxfY29udmVydGVyX3Njb3BlOiB1LnVybF9jb252ZXJ0ZXJfc2NvcGUKICAgIH0sIHUuc2NoZW1hKSwKICAgICAgICBVID0gdS5vd25FdmVudHMgPyBuZXcgYWkoKSA6IGFpLkV2ZW50LAogICAgICAgIHogPSBNLmdldEJsb2NrRWxlbWVudHMoKSwKICAgICAgICBIID0gV2Eub3ZlcnJpZGVEZWZhdWx0cyhmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgY29udGV4dDogYSwKICAgICAgICBlbGVtZW50OiAkLmdldFJvb3QoKQogICAgICB9OwogICAgfSksCiAgICAgICAgaiA9IEdvLmVuY29kZUFsbFJhdywKICAgICAgICBWID0gZnVuY3Rpb24gVihlLCB0LCBuLCByKSB7CiAgICAgIGlmIChFdC5pc0FycmF5KGUpKSB7CiAgICAgICAgZm9yICh2YXIgbyA9IGUubGVuZ3RoLCBpID0gW107IG8tLTspIHsKICAgICAgICAgIGlbb10gPSBWKGVbb10sIHQsIG4sIHIpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGk7CiAgICAgIH0KCiAgICAgIHJldHVybiAhdS5jb2xsZWN0IHx8IGUgIT09IGEgJiYgZSAhPT0gTyB8fCBJLnB1c2goW2UsIHQsIG4sIHJdKSwgVS5iaW5kKGUsIHQsIG4sIHIgfHwgJCk7CiAgICB9LAogICAgICAgIHEgPSBmdW5jdGlvbiBxKGUsIHQsIG4pIHsKICAgICAgaWYgKEV0LmlzQXJyYXkoZSkpIHsKICAgICAgICBmb3IgKHZhciByID0gZS5sZW5ndGgsIG8gPSBbXTsgci0tOykgewogICAgICAgICAgb1tyXSA9IHEoZVtyXSwgdCwgbik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbzsKICAgICAgfQoKICAgICAgaWYgKDAgPCBJLmxlbmd0aCAmJiAoZSA9PT0gYSB8fCBlID09PSBPKSkgZm9yIChyID0gSS5sZW5ndGg7IHItLTspIHsKICAgICAgICB2YXIgaSA9IElbcl07CiAgICAgICAgZSAhPT0gaVswXSB8fCB0ICYmIHQgIT09IGlbMV0gfHwgbiAmJiBuICE9PSBpWzJdIHx8IFUudW5iaW5kKGlbMF0sIGlbMV0sIGlbMl0pOwogICAgICB9CiAgICAgIHJldHVybiBVLnVuYmluZChlLCB0LCBuKTsKICAgIH0sCiAgICAgICAgJCA9IHsKICAgICAgZG9jOiBhLAogICAgICBzZXR0aW5nczogdSwKICAgICAgd2luOiBPLAogICAgICBmaWxlczogQiwKICAgICAgc3RkTW9kZTogITAsCiAgICAgIGJveE1vZGVsOiAhMCwKICAgICAgc3R5bGVTaGVldExvYWRlcjogTCwKICAgICAgYm91bmRFdmVudHM6IEksCiAgICAgIHN0eWxlczogRiwKICAgICAgc2NoZW1hOiBNLAogICAgICBldmVudHM6IFUsCiAgICAgIGlzQmxvY2s6IGZ1bmN0aW9uIGlzQmxvY2soZSkgewogICAgICAgIGlmICgic3RyaW5nIiA9PSB0eXBlb2YgZSkgcmV0dXJuICEheltlXTsKCiAgICAgICAgaWYgKGUpIHsKICAgICAgICAgIHZhciB0ID0gZS5ub2RlVHlwZTsKICAgICAgICAgIGlmICh0KSByZXR1cm4gISgxICE9PSB0IHx8ICF6W2Uubm9kZU5hbWVdKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiAhMTsKICAgICAgfSwKICAgICAgJDogSCwKICAgICAgJCQ6IGMsCiAgICAgIHJvb3Q6IG51bGwsCiAgICAgIGNsb25lOiBmdW5jdGlvbiBjbG9uZSh0LCBlKSB7CiAgICAgICAgaWYgKCFZYSB8fCAxICE9PSB0Lm5vZGVUeXBlIHx8IGUpIHJldHVybiB0LmNsb25lTm9kZShlKTsKICAgICAgICB2YXIgbiA9IGEuY3JlYXRlRWxlbWVudCh0Lm5vZGVOYW1lKTsKICAgICAgICByZXR1cm4gS2Eobyh0KSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGkobiwgZS5ub2RlTmFtZSwgcih0LCBlLm5vZGVOYW1lKSk7CiAgICAgICAgfSksIG47CiAgICAgIH0sCiAgICAgIGdldFJvb3Q6IGwsCiAgICAgIGdldFZpZXdQb3J0OiBmdW5jdGlvbiBnZXRWaWV3UG9ydChlKSB7CiAgICAgICAgdmFyIHQgPSB0bihlKTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgeDogdC54LAogICAgICAgICAgeTogdC55LAogICAgICAgICAgdzogdC53aWR0aCwKICAgICAgICAgIGg6IHQuaGVpZ2h0CiAgICAgICAgfTsKICAgICAgfSwKICAgICAgZ2V0UmVjdDogZnVuY3Rpb24gZ2V0UmVjdChlKSB7CiAgICAgICAgdmFyIHQgPSBmKGUgPSBzKGUpKSwKICAgICAgICAgICAgbiA9IG0oZSk7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHg6IHQueCwKICAgICAgICAgIHk6IHQueSwKICAgICAgICAgIHc6IG4udywKICAgICAgICAgIGg6IG4uaAogICAgICAgIH07CiAgICAgIH0sCiAgICAgIGdldFNpemU6IG0sCiAgICAgIGdldFBhcmVudDogZnVuY3Rpb24gZ2V0UGFyZW50KGUsIHQsIG4pIHsKICAgICAgICB2YXIgciA9IHAoZSwgdCwgbiwgITEpOwogICAgICAgIHJldHVybiByICYmIDAgPCByLmxlbmd0aCA/IHJbMF0gOiBudWxsOwogICAgICB9LAogICAgICBnZXRQYXJlbnRzOiBwLAogICAgICBnZXQ6IHMsCiAgICAgIGdldE5leHQ6IGZ1bmN0aW9uIGdldE5leHQoZSwgdCkgewogICAgICAgIHJldHVybiBuKGUsIHQsICJuZXh0U2libGluZyIpOwogICAgICB9LAogICAgICBnZXRQcmV2OiBmdW5jdGlvbiBnZXRQcmV2KGUsIHQpIHsKICAgICAgICByZXR1cm4gbihlLCB0LCAicHJldmlvdXNTaWJsaW5nIik7CiAgICAgIH0sCiAgICAgIHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0KGUsIHQpIHsKICAgICAgICByZXR1cm4gYWEoZSwgcyh0KSB8fCB1LnJvb3RfZWxlbWVudCB8fCBhLCBbXSk7CiAgICAgIH0sCiAgICAgIGlzOiBnLAogICAgICBhZGQ6IHksCiAgICAgIGNyZWF0ZTogQywKICAgICAgY3JlYXRlSFRNTDogZnVuY3Rpb24gY3JlYXRlSFRNTChlLCB0LCBuKSB7CiAgICAgICAgdmFyIHIsCiAgICAgICAgICAgIG8gPSAiIjsKCiAgICAgICAgZm9yIChyIGluIG8gKz0gIjwiICsgZSwgdCkgewogICAgICAgICAgc2UodCwgcikgJiYgKG8gKz0gIiAiICsgciArICc9IicgKyBqKHRbcl0pICsgJyInKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiB2b2lkIDAgIT09IG4gPyBvICsgIj4iICsgbiArICI8LyIgKyBlICsgIj4iIDogbyArICIgLz4iOwogICAgICB9LAogICAgICBjcmVhdGVGcmFnbWVudDogZnVuY3Rpb24gY3JlYXRlRnJhZ21lbnQoZSkgewogICAgICAgIHZhciB0LAogICAgICAgICAgICBuID0gYS5jcmVhdGVFbGVtZW50KCJkaXYiKSwKICAgICAgICAgICAgciA9IGEuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpOwoKICAgICAgICBmb3IgKHIuYXBwZW5kQ2hpbGQobiksIGUgJiYgKG4uaW5uZXJIVE1MID0gZSk7IHQgPSBuLmZpcnN0Q2hpbGQ7KSB7CiAgICAgICAgICByLmFwcGVuZENoaWxkKHQpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIHIucmVtb3ZlQ2hpbGQobiksIHI7CiAgICAgIH0sCiAgICAgIHJlbW92ZTogeCwKICAgICAgc2V0U3R5bGU6IGZ1bmN0aW9uIHNldFN0eWxlKGUsIHQsIG4pIHsKICAgICAgICB2YXIgciA9IFgodCkgPyBjKGUpLmNzcyh0LCBuKSA6IGMoZSkuY3NzKHQpOwogICAgICAgIHUudXBkYXRlX3N0eWxlcyAmJiBxYShGLCByKTsKICAgICAgfSwKICAgICAgZ2V0U3R5bGU6IGQsCiAgICAgIHNldFN0eWxlczogZnVuY3Rpb24gc2V0U3R5bGVzKGUsIHQpIHsKICAgICAgICB2YXIgbiA9IGMoZSkuY3NzKHQpOwogICAgICAgIHUudXBkYXRlX3N0eWxlcyAmJiBxYShGLCBuKTsKICAgICAgfSwKICAgICAgcmVtb3ZlQWxsQXR0cmliczogZnVuY3Rpb24gcmVtb3ZlQWxsQXR0cmlicyhlKSB7CiAgICAgICAgcmV0dXJuIGgoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGZvciAodmFyIHQgPSBlLmF0dHJpYnV0ZXMsIG4gPSB0Lmxlbmd0aCAtIDE7IDAgPD0gbjsgbi0tKSB7CiAgICAgICAgICAgIGUucmVtb3ZlQXR0cmlidXRlTm9kZSh0Lml0ZW0obikpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBzZXRBdHRyaWI6IGksCiAgICAgIHNldEF0dHJpYnM6IHYsCiAgICAgIGdldEF0dHJpYjogciwKICAgICAgZ2V0UG9zOiBmLAogICAgICBwYXJzZVN0eWxlOiBmdW5jdGlvbiBwYXJzZVN0eWxlKGUpIHsKICAgICAgICByZXR1cm4gRi5wYXJzZShlKTsKICAgICAgfSwKICAgICAgc2VyaWFsaXplU3R5bGU6IGZ1bmN0aW9uIHNlcmlhbGl6ZVN0eWxlKGUsIHQpIHsKICAgICAgICByZXR1cm4gRi5zZXJpYWxpemUoZSwgdCk7CiAgICAgIH0sCiAgICAgIGFkZFN0eWxlOiBmdW5jdGlvbiBhZGRTdHlsZShlKSB7CiAgICAgICAgdmFyIHQsIG47CgogICAgICAgIGlmICgkICE9PSBKYS5ET00gJiYgYSA9PT0gZG9jdW1lbnQpIHsKICAgICAgICAgIGlmIChUW2VdKSByZXR1cm47CiAgICAgICAgICBUW2VdID0gITA7CiAgICAgICAgfQoKICAgICAgICAobiA9IGEuZ2V0RWxlbWVudEJ5SWQoIm1jZURlZmF1bHRTdHlsZXMiKSkgfHwgKChuID0gYS5jcmVhdGVFbGVtZW50KCJzdHlsZSIpKS5pZCA9ICJtY2VEZWZhdWx0U3R5bGVzIiwgbi50eXBlID0gInRleHQvY3NzIiwgKHQgPSBhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0pLmZpcnN0Q2hpbGQgPyB0Lmluc2VydEJlZm9yZShuLCB0LmZpcnN0Q2hpbGQpIDogdC5hcHBlbmRDaGlsZChuKSksIG4uc3R5bGVTaGVldCA/IG4uc3R5bGVTaGVldC5jc3NUZXh0ICs9IGUgOiBuLmFwcGVuZENoaWxkKGEuY3JlYXRlVGV4dE5vZGUoZSkpOwogICAgICB9LAogICAgICBsb2FkQ1NTOiBmdW5jdGlvbiBsb2FkQ1NTKGUpIHsKICAgICAgICBZKChlID0gZSB8fCAiIikuc3BsaXQoIiwiKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIEJbZV0gPSAhMCwgTC5sb2FkKGUsIHRlKTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgYWRkQ2xhc3M6IGZ1bmN0aW9uIGFkZENsYXNzKGUsIHQpIHsKICAgICAgICBjKGUpLmFkZENsYXNzKHQpOwogICAgICB9LAogICAgICByZW1vdmVDbGFzczogZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZSwgdCkgewogICAgICAgIHcoZSwgdCwgITEpOwogICAgICB9LAogICAgICBoYXNDbGFzczogZnVuY3Rpb24gaGFzQ2xhc3MoZSwgdCkgewogICAgICAgIHJldHVybiBjKGUpLmhhc0NsYXNzKHQpOwogICAgICB9LAogICAgICB0b2dnbGVDbGFzczogdywKICAgICAgc2hvdzogZnVuY3Rpb24gc2hvdyhlKSB7CiAgICAgICAgYyhlKS5zaG93KCk7CiAgICAgIH0sCiAgICAgIGhpZGU6IGZ1bmN0aW9uIGhpZGUoZSkgewogICAgICAgIGMoZSkuaGlkZSgpOwogICAgICB9LAogICAgICBpc0hpZGRlbjogZnVuY3Rpb24gaXNIaWRkZW4oZSkgewogICAgICAgIHJldHVybiAibm9uZSIgPT09IGMoZSkuY3NzKCJkaXNwbGF5Iik7CiAgICAgIH0sCiAgICAgIHVuaXF1ZUlkOiBmdW5jdGlvbiB1bmlxdWVJZChlKSB7CiAgICAgICAgcmV0dXJuIChlIHx8ICJtY2VfIikgKyBQKys7CiAgICAgIH0sCiAgICAgIHNldEhUTUw6IGIsCiAgICAgIGdldE91dGVySFRNTDogZnVuY3Rpb24gZ2V0T3V0ZXJIVE1MKGUpIHsKICAgICAgICB2YXIgdCA9ICJzdHJpbmciID09IHR5cGVvZiBlID8gcyhlKSA6IGU7CiAgICAgICAgcmV0dXJuIHpuKHQpID8gdC5vdXRlckhUTUwgOiBXYSgiPGRpdj48L2Rpdj4iKS5hcHBlbmQoV2EodCkuY2xvbmUoKSkuaHRtbCgpOwogICAgICB9LAogICAgICBzZXRPdXRlckhUTUw6IGZ1bmN0aW9uIHNldE91dGVySFRNTChlLCB0KSB7CiAgICAgICAgYyhlKS5lYWNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmICgib3V0ZXJIVE1MIiBpbiB0aGlzKSByZXR1cm4gdm9pZCAodGhpcy5vdXRlckhUTUwgPSB0KTsKICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9CgogICAgICAgICAgeChXYSh0aGlzKS5odG1sKHQpLCAhMCk7CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGRlY29kZTogR28uZGVjb2RlLAogICAgICBlbmNvZGU6IGosCiAgICAgIGluc2VydEFmdGVyOiBmdW5jdGlvbiBpbnNlcnRBZnRlcihlLCB0KSB7CiAgICAgICAgdmFyIHIgPSBzKHQpOwogICAgICAgIHJldHVybiBoKGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgdCA9IHIucGFyZW50Tm9kZSwKICAgICAgICAgICAgICBuID0gci5uZXh0U2libGluZzsKICAgICAgICAgIHJldHVybiBuID8gdC5pbnNlcnRCZWZvcmUoZSwgbikgOiB0LmFwcGVuZENoaWxkKGUpLCBlOwogICAgICAgIH0pOwogICAgICB9LAogICAgICByZXBsYWNlOiBTLAogICAgICByZW5hbWU6IGZ1bmN0aW9uIHJlbmFtZSh0LCBlKSB7CiAgICAgICAgdmFyIG47CiAgICAgICAgcmV0dXJuIHQubm9kZU5hbWUgIT09IGUudG9VcHBlckNhc2UoKSAmJiAobiA9IEMoZSksIEthKG8odCksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBpKG4sIGUubm9kZU5hbWUsIHIodCwgZS5ub2RlTmFtZSkpOwogICAgICAgIH0pLCBTKG4sIHQsICEwKSksIG4gfHwgdDsKICAgICAgfSwKICAgICAgZmluZENvbW1vbkFuY2VzdG9yOiBmdW5jdGlvbiBmaW5kQ29tbW9uQW5jZXN0b3IoZSwgdCkgewogICAgICAgIGZvciAodmFyIG4sIHIgPSBlOyByOykgewogICAgICAgICAgZm9yIChuID0gdDsgbiAmJiByICE9PSBuOykgewogICAgICAgICAgICBuID0gbi5wYXJlbnROb2RlOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChyID09PSBuKSBicmVhazsKICAgICAgICAgIHIgPSByLnBhcmVudE5vZGU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gIXIgJiYgZS5vd25lckRvY3VtZW50ID8gZS5vd25lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA6IHI7CiAgICAgIH0sCiAgICAgIHRvSGV4OiBmdW5jdGlvbiB0b0hleChlKSB7CiAgICAgICAgcmV0dXJuIEYudG9IZXgoRXQudHJpbShlKSk7CiAgICAgIH0sCiAgICAgIHJ1bjogaCwKICAgICAgZ2V0QXR0cmliczogbywKICAgICAgaXNFbXB0eTogZnVuY3Rpb24gaXNFbXB0eShlLCB0KSB7CiAgICAgICAgdmFyIG4sCiAgICAgICAgICAgIHIsCiAgICAgICAgICAgIG8gPSAwOwogICAgICAgIGlmIChFKGUpKSByZXR1cm4gITE7CgogICAgICAgIGlmIChlID0gZS5maXJzdENoaWxkKSB7CiAgICAgICAgICB2YXIgaSA9IG5ldyBScihlLCBlLnBhcmVudE5vZGUpLAogICAgICAgICAgICAgIGEgPSBNID8gTS5nZXRXaGl0ZVNwYWNlRWxlbWVudHMoKSA6IHt9OwogICAgICAgICAgdCA9IHQgfHwgKE0gPyBNLmdldE5vbkVtcHR5RWxlbWVudHMoKSA6IG51bGwpOwoKICAgICAgICAgIGRvIHsKICAgICAgICAgICAgaWYgKG4gPSBlLm5vZGVUeXBlLCB6bihlKSkgewogICAgICAgICAgICAgIHZhciB1ID0gZS5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIik7CgogICAgICAgICAgICAgIGlmICh1KSB7CiAgICAgICAgICAgICAgICBlID0gaS5uZXh0KCJhbGwiID09PSB1KTsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKHIgPSBlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksIHQgJiYgdFtyXSkgewogICAgICAgICAgICAgICAgaWYgKCJiciIgIT09IHIpIHJldHVybiAhMTsKICAgICAgICAgICAgICAgIG8rKywgZSA9IGkubmV4dCgpOwogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBpZiAoRShlKSkgcmV0dXJuICExOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAoOCA9PT0gbikgcmV0dXJuICExOwogICAgICAgICAgICBpZiAoMyA9PT0gbiAmJiAhcXIoZS5ub2RlVmFsdWUpKSByZXR1cm4gITE7CiAgICAgICAgICAgIGlmICgzID09PSBuICYmIGUucGFyZW50Tm9kZSAmJiBhW2UucGFyZW50Tm9kZS5ub2RlTmFtZV0gJiYgcXIoZS5ub2RlVmFsdWUpKSByZXR1cm4gITE7CiAgICAgICAgICAgIGUgPSBpLm5leHQoKTsKICAgICAgICAgIH0gd2hpbGUgKGUpOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG8gPD0gMTsKICAgICAgfSwKICAgICAgY3JlYXRlUm5nOiBOLAogICAgICBub2RlSW5kZXg6ICRhLAogICAgICBzcGxpdDogZnVuY3Rpb24gc3BsaXQoZSwgdCwgbikgewogICAgICAgIHZhciByLAogICAgICAgICAgICBvLAogICAgICAgICAgICBpLAogICAgICAgICAgICBhID0gTigpOwogICAgICAgIGlmIChlICYmIHQpIHJldHVybiBhLnNldFN0YXJ0KGUucGFyZW50Tm9kZSwgJGEoZSkpLCBhLnNldEVuZCh0LnBhcmVudE5vZGUsICRhKHQpKSwgciA9IGEuZXh0cmFjdENvbnRlbnRzKCksIChhID0gTigpKS5zZXRTdGFydCh0LnBhcmVudE5vZGUsICRhKHQpICsgMSksIGEuc2V0RW5kKGUucGFyZW50Tm9kZSwgJGEoZSkgKyAxKSwgbyA9IGEuZXh0cmFjdENvbnRlbnRzKCksIChpID0gZS5wYXJlbnROb2RlKS5pbnNlcnRCZWZvcmUoem8oJCwgciksIGUpLCBuID8gaS5pbnNlcnRCZWZvcmUobiwgZSkgOiBpLmluc2VydEJlZm9yZSh0LCBlKSwgaS5pbnNlcnRCZWZvcmUoem8oJCwgbyksIGUpLCB4KGUpLCBuIHx8IHQ7CiAgICAgIH0sCiAgICAgIGJpbmQ6IFYsCiAgICAgIHVuYmluZDogcSwKICAgICAgZmlyZTogZnVuY3Rpb24gZmlyZShlLCB0LCBuKSB7CiAgICAgICAgcmV0dXJuIFUuZmlyZShlLCB0LCBuKTsKICAgICAgfSwKICAgICAgZ2V0Q29udGVudEVkaXRhYmxlOiBrLAogICAgICBnZXRDb250ZW50RWRpdGFibGVQYXJlbnQ6IGZ1bmN0aW9uIGdldENvbnRlbnRFZGl0YWJsZVBhcmVudChlKSB7CiAgICAgICAgZm9yICh2YXIgdCA9IGwoKSwgbiA9IG51bGw7IGUgJiYgZSAhPT0gdCAmJiBudWxsID09PSAobiA9IGsoZSkpOyBlID0gZS5wYXJlbnROb2RlKSB7CiAgICAgICAgICA7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbjsKICAgICAgfSwKICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHsKICAgICAgICBpZiAoMCA8IEkubGVuZ3RoKSBmb3IgKHZhciBlID0gSS5sZW5ndGg7IGUtLTspIHsKICAgICAgICAgIHZhciB0ID0gSVtlXTsKICAgICAgICAgIFUudW5iaW5kKHRbMF0sIHRbMV0sIHRbMl0pOwogICAgICAgIH0KICAgICAgICBuZShCLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgICAgTC51bmxvYWQodCksIGRlbGV0ZSBCW3RdOwogICAgICAgIH0pLCBhYS5zZXREb2N1bWVudCAmJiBhYS5zZXREb2N1bWVudCgpOwogICAgICB9LAogICAgICBpc0NoaWxkT2Y6IGZ1bmN0aW9uIGlzQ2hpbGRPZihlLCB0KSB7CiAgICAgICAgaWYgKFlhKSB7CiAgICAgICAgICBmb3IgKDsgZTspIHsKICAgICAgICAgICAgaWYgKHQgPT09IGUpIHJldHVybiAhMDsKICAgICAgICAgICAgZSA9IGUucGFyZW50Tm9kZTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gITE7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZSA9PT0gdCB8fCB0LmNvbnRhaW5zKGUpOwogICAgICB9LAogICAgICBkdW1wUm5nOiBmdW5jdGlvbiBkdW1wUm5nKGUpIHsKICAgICAgICByZXR1cm4gInN0YXJ0Q29udGFpbmVyOiAiICsgZS5zdGFydENvbnRhaW5lci5ub2RlTmFtZSArICIsIHN0YXJ0T2Zmc2V0OiAiICsgZS5zdGFydE9mZnNldCArICIsIGVuZENvbnRhaW5lcjogIiArIGUuZW5kQ29udGFpbmVyLm5vZGVOYW1lICsgIiwgZW5kT2Zmc2V0OiAiICsgZS5lbmRPZmZzZXQ7CiAgICAgIH0KICAgIH0sCiAgICAgICAgVyA9IChfID0gRiwgUiA9IEooJCksIGUgPSB7CiAgICAgIHNldDogZnVuY3Rpb24gc2V0KGUsIHQsIG4pIHsKICAgICAgICBBLnVybF9jb252ZXJ0ZXIgJiYgbnVsbCAhPT0gdCAmJiAodCA9IEEudXJsX2NvbnZlcnRlci5jYWxsKEEudXJsX2NvbnZlcnRlcl9zY29wZSB8fCBSKCksIHQsIG4sIGVbMF0pKSwgZS5hdHRyKCJkYXRhLW1jZS0iICsgbiwgdCkuYXR0cihuLCB0KTsKICAgICAgfSwKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoZSwgdCkgewogICAgICAgIHJldHVybiBlLmF0dHIoImRhdGEtbWNlLSIgKyB0KSB8fCBlLmF0dHIodCk7CiAgICAgIH0KICAgIH0sIHQgPSB7CiAgICAgIHN0eWxlOiB7CiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZSwgdCkgewogICAgICAgICAgbnVsbCA9PT0gdCB8fCAib2JqZWN0IiAhPSBfdHlwZW9mKHQpID8gKEQgJiYgZS5hdHRyKCJkYXRhLW1jZS1zdHlsZSIsIHQpLCBudWxsICE9PSB0ICYmICJzdHJpbmciID09IHR5cGVvZiB0ID8gKGUucmVtb3ZlQXR0cigic3R5bGUiKSwgZS5jc3MoXy5wYXJzZSh0KSkpIDogZS5hdHRyKCJzdHlsZSIsIHQpKSA6IGUuY3NzKHQpOwogICAgICAgIH0sCiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoZSkgewogICAgICAgICAgdmFyIHQgPSBlLmF0dHIoImRhdGEtbWNlLXN0eWxlIikgfHwgZS5hdHRyKCJzdHlsZSIpOwogICAgICAgICAgcmV0dXJuIF8uc2VyaWFsaXplKF8ucGFyc2UodCksIGVbMF0ubm9kZU5hbWUpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgKEQgPSAoQSA9IHUpLmtlZXBfdmFsdWVzKSAmJiAodC5ocmVmID0gdC5zcmMgPSBlKSwgdCk7CgogICAgcmV0dXJuICQ7CiAgfTsKCiAgSmEuRE9NID0gSmEoZG9jdW1lbnQpLCBKYS5ub2RlSW5kZXggPSAkYTsKICB2YXIgUWEgPSBKYS5ET00sCiAgICAgIFphID0gRXQuZWFjaCwKICAgICAgZXUgPSBFdC5ncmVwLAogICAgICB0dSA9IChudS5wcm90b3R5cGUuX3NldFJlZmVycmVyUG9saWN5ID0gZnVuY3Rpb24gKGUpIHsKICAgIHRoaXMuc2V0dGluZ3MucmVmZXJyZXJQb2xpY3kgPSBlOwogIH0sIG51LnByb3RvdHlwZS5sb2FkU2NyaXB0ID0gZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgIGZ1bmN0aW9uIHIoKSB7CiAgICAgIG8ucmVtb3ZlKGkpLCBhICYmIChhLm9uZXJyb3IgPSBhLm9ubG9hZCA9IGEgPSBudWxsKTsKICAgIH0KCiAgICB2YXIgbyA9IFFhLAogICAgICAgIGkgPSBvLnVuaXF1ZUlkKCksCiAgICAgICAgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpOwogICAgYS5pZCA9IGksIGEudHlwZSA9ICJ0ZXh0L2phdmFzY3JpcHQiLCBhLnNyYyA9IEV0Ll9hZGRDYWNoZVN1ZmZpeChlKSwgdGhpcy5zZXR0aW5ncy5yZWZlcnJlclBvbGljeSAmJiBvLnNldEF0dHJpYihhLCAicmVmZXJyZXJwb2xpY3kiLCB0aGlzLnNldHRpbmdzLnJlZmVycmVyUG9saWN5KSwgYS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHIoKSwgdCgpOwogICAgfSwgYS5vbmVycm9yID0gZnVuY3Rpb24gKCkgewogICAgICByKCksIHkobikgPyBuKCkgOiAidW5kZWZpbmVkIiAhPSB0eXBlb2YgY29uc29sZSAmJiBjb25zb2xlLmxvZyAmJiBjb25zb2xlLmxvZygiRmFpbGVkIHRvIGxvYWQgc2NyaXB0OiAiICsgZSk7CiAgICB9LCAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXSB8fCBkb2N1bWVudC5ib2R5KS5hcHBlbmRDaGlsZChhKTsKICB9LCBudS5wcm90b3R5cGUuaXNEb25lID0gZnVuY3Rpb24gKGUpIHsKICAgIHJldHVybiAyID09PSB0aGlzLnN0YXRlc1tlXTsKICB9LCBudS5wcm90b3R5cGUubWFya0RvbmUgPSBmdW5jdGlvbiAoZSkgewogICAgdGhpcy5zdGF0ZXNbZV0gPSAyOwogIH0sIG51LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoZSwgdCwgbiwgcikgewogICAgdmFyIG8gPSB0aGlzLnN0YXRlc1tlXTsKICAgIHRoaXMucXVldWUucHVzaChlKSwgdm9pZCAwID09PSBvICYmICh0aGlzLnN0YXRlc1tlXSA9IDApLCB0ICYmICh0aGlzLnNjcmlwdExvYWRlZENhbGxiYWNrc1tlXSB8fCAodGhpcy5zY3JpcHRMb2FkZWRDYWxsYmFja3NbZV0gPSBbXSksIHRoaXMuc2NyaXB0TG9hZGVkQ2FsbGJhY2tzW2VdLnB1c2goewogICAgICBzdWNjZXNzOiB0LAogICAgICBmYWlsdXJlOiByLAogICAgICBzY29wZTogbiB8fCB0aGlzCiAgICB9KSk7CiAgfSwgbnUucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoZSwgdCwgbiwgcikgewogICAgcmV0dXJuIHRoaXMuYWRkKGUsIHQsIG4sIHIpOwogIH0sIG51LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoZSkgewogICAgZGVsZXRlIHRoaXMuc3RhdGVzW2VdLCBkZWxldGUgdGhpcy5zY3JpcHRMb2FkZWRDYWxsYmFja3NbZV07CiAgfSwgbnUucHJvdG90eXBlLmxvYWRRdWV1ZSA9IGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICB0aGlzLmxvYWRTY3JpcHRzKHRoaXMucXVldWUsIGUsIHQsIG4pOwogIH0sIG51LnByb3RvdHlwZS5sb2FkU2NyaXB0cyA9IGZ1bmN0aW9uIChuLCBlLCB0LCByKSB7CiAgICBmdW5jdGlvbiBvKHQsIGUpIHsKICAgICAgWmEoaS5zY3JpcHRMb2FkZWRDYWxsYmFja3NbZV0sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgeShlW3RdKSAmJiBlW3RdLmNhbGwoZS5zY29wZSk7CiAgICAgIH0pLCBpLnNjcmlwdExvYWRlZENhbGxiYWNrc1tlXSA9IHZvaWQgMDsKICAgIH0KCiAgICB2YXIgaSA9IHRoaXMsCiAgICAgICAgYSA9IFtdOwogICAgaS5xdWV1ZUxvYWRlZENhbGxiYWNrcy5wdXNoKHsKICAgICAgc3VjY2VzczogZSwKICAgICAgZmFpbHVyZTogciwKICAgICAgc2NvcGU6IHQgfHwgdGhpcwogICAgfSk7CgogICAgdmFyIHUgPSBmdW5jdGlvbiB1KCkgewogICAgICB2YXIgZSwKICAgICAgICAgIHQgPSBldShuKTsKICAgICAgbi5sZW5ndGggPSAwLCBaYSh0LCBmdW5jdGlvbiAoZSkgewogICAgICAgIDIgIT09IGkuc3RhdGVzW2VdID8gMyAhPT0gaS5zdGF0ZXNbZV0gPyAxICE9PSBpLnN0YXRlc1tlXSAmJiAoaS5zdGF0ZXNbZV0gPSAxLCBpLmxvYWRpbmcrKywgaS5sb2FkU2NyaXB0KGUsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGkuc3RhdGVzW2VdID0gMiwgaS5sb2FkaW5nLS0sIG8oInN1Y2Nlc3MiLCBlKSwgdSgpOwogICAgICAgIH0sIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGkuc3RhdGVzW2VdID0gMywgaS5sb2FkaW5nLS0sIGEucHVzaChlKSwgbygiZmFpbHVyZSIsIGUpLCB1KCk7CiAgICAgICAgfSkpIDogbygiZmFpbHVyZSIsIGUpIDogbygic3VjY2VzcyIsIGUpOwogICAgICB9KSwgaS5sb2FkaW5nIHx8IChlID0gaS5xdWV1ZUxvYWRlZENhbGxiYWNrcy5zbGljZSgwKSwgaS5xdWV1ZUxvYWRlZENhbGxiYWNrcy5sZW5ndGggPSAwLCBaYShlLCBmdW5jdGlvbiAoZSkgewogICAgICAgIDAgPT09IGEubGVuZ3RoID8geShlLnN1Y2Nlc3MpICYmIGUuc3VjY2Vzcy5jYWxsKGUuc2NvcGUpIDogeShlLmZhaWx1cmUpICYmIGUuZmFpbHVyZS5jYWxsKGUuc2NvcGUsIGEpOwogICAgICB9KSk7CiAgICB9OwoKICAgIHUoKTsKICB9LCBudS5TY3JpcHRMb2FkZXIgPSBuZXcgbnUoKSwgbnUpOwoKICBmdW5jdGlvbiBudShlKSB7CiAgICB2b2lkIDAgPT09IGUgJiYgKGUgPSB7fSksIHRoaXMuc3RhdGVzID0ge30sIHRoaXMucXVldWUgPSBbXSwgdGhpcy5zY3JpcHRMb2FkZWRDYWxsYmFja3MgPSB7fSwgdGhpcy5xdWV1ZUxvYWRlZENhbGxiYWNrcyA9IFtdLCB0aGlzLmxvYWRpbmcgPSAwLCB0aGlzLnNldHRpbmdzID0gZTsKICB9CgogIGZ1bmN0aW9uIHJ1KGUpIHsKICAgIHZhciB0ID0gZTsKICAgIHJldHVybiB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkgewogICAgICAgIHJldHVybiB0OwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldChlKSB7CiAgICAgICAgdCA9IGU7CiAgICAgIH0KICAgIH07CiAgfQoKICBmdW5jdGlvbiBvdSgpIHsKICAgIHJldHVybiB1ZShpdSwgYXUuZ2V0KCkpOwogIH0KCiAgdmFyIGl1ID0ge30sCiAgICAgIGF1ID0gcnUoImVuIiksCiAgICAgIHV1ID0gewogICAgZ2V0RGF0YTogZnVuY3Rpb24gZ2V0RGF0YSgpIHsKICAgICAgcmV0dXJuIHJlKGl1LCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBfZTIoe30sIGUpOwogICAgICB9KTsKICAgIH0sCiAgICBzZXRDb2RlOiBmdW5jdGlvbiBzZXRDb2RlKGUpIHsKICAgICAgZSAmJiBhdS5zZXQoZSk7CiAgICB9LAogICAgZ2V0Q29kZTogZnVuY3Rpb24gZ2V0Q29kZSgpIHsKICAgICAgcmV0dXJuIGF1LmdldCgpOwogICAgfSwKICAgIGFkZDogZnVuY3Rpb24gYWRkKGUsIHQpIHsKICAgICAgdmFyIG4gPSBpdVtlXTsKICAgICAgbiB8fCAoaXVbZV0gPSBuID0ge30pLCBuZSh0LCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIG5bdC50b0xvd2VyQ2FzZSgpXSA9IGU7CiAgICAgIH0pOwogICAgfSwKICAgIHRyYW5zbGF0ZTogZnVuY3Rpb24gdHJhbnNsYXRlKGUpIHsKICAgICAgZnVuY3Rpb24gbihlKSB7CiAgICAgICAgcmV0dXJuIHkoZSkgPyBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkgOiB1KGUpID8gIiIgOiAiIiArIGU7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHQoZSkgewogICAgICAgIHZhciB0ID0gbihlKTsKICAgICAgICByZXR1cm4gdWUoYSwgdC50b0xvd2VyQ2FzZSgpKS5tYXAobikuZ2V0T3IodCk7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHIoZSkgewogICAgICAgIHJldHVybiBlLnJlcGxhY2UoL3tjb250ZXh0Olx3K30kLywgIiIpOwogICAgICB9CgogICAgICB2YXIgbywKICAgICAgICAgIGksCiAgICAgICAgICBhID0gb3UoKS5nZXRPcih7fSksCiAgICAgICAgICB1ID0gZnVuY3Rpb24gdShlKSB7CiAgICAgICAgcmV0dXJuICIiID09PSBlIHx8IG51bGwgPT0gZTsKICAgICAgfTsKCiAgICAgIGlmICh1KGUpKSByZXR1cm4gIiI7CiAgICAgIGlmIChoKG8gPSBlKSAmJiBOZShvLCAicmF3IikpIHJldHVybiBuKGUucmF3KTsKCiAgICAgIGlmIChTKGkgPSBlKSAmJiAxIDwgaS5sZW5ndGgpIHsKICAgICAgICB2YXIgcyA9IGUuc2xpY2UoMSk7CiAgICAgICAgcmV0dXJuIHIodChlWzBdKS5yZXBsYWNlKC9ceyhbMC05XSspXH0vZywgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgIHJldHVybiBOZShzLCB0KSA/IG4oc1t0XSkgOiBlOwogICAgICAgIH0pKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHIodChlKSk7CiAgICB9LAogICAgaXNSdGw6IGZ1bmN0aW9uIGlzUnRsKCkgewogICAgICByZXR1cm4gb3UoKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIHVlKGUsICJfZGlyIik7CiAgICAgIH0pLmV4aXN0cyhmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiAicnRsIiA9PT0gZTsKICAgICAgfSk7CiAgICB9LAogICAgaGFzQ29kZTogZnVuY3Rpb24gaGFzQ29kZShlKSB7CiAgICAgIHJldHVybiBOZShpdSwgZSk7CiAgICB9CiAgfSwKICAgICAgc3UgPSBmdW5jdGlvbiBzdSgpIHsKICAgIGZ1bmN0aW9uIHUodCwgbikgewogICAgICBZKFUociwgZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS5uYW1lID09PSB0ICYmIGUuc3RhdGUgPT09IG47CiAgICAgIH0pLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlLmNhbGxiYWNrKCk7CiAgICAgIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uIHMoZSkgewogICAgICB2YXIgdDsKICAgICAgcmV0dXJuIChmW2VdID8gZltlXS5kZXBlbmRlbmNpZXMgOiB0KSB8fCBbXTsKICAgIH0KCiAgICBmdW5jdGlvbiBjKGUsIHQpIHsKICAgICAgcmV0dXJuICJvYmplY3QiID09IF90eXBlb2YodCkgPyB0IDogInN0cmluZyIgPT0gdHlwZW9mIGUgPyB7CiAgICAgICAgcHJlZml4OiAiIiwKICAgICAgICByZXNvdXJjZTogdCwKICAgICAgICBzdWZmaXg6ICIiCiAgICAgIH0gOiB7CiAgICAgICAgcHJlZml4OiBlLnByZWZpeCwKICAgICAgICByZXNvdXJjZTogdCwKICAgICAgICBzdWZmaXg6IGUuc3VmZml4CiAgICAgIH07CiAgICB9CgogICAgZnVuY3Rpb24gZShlLCB0LCBuKSB7CiAgICAgIHZvaWQgMCA9PT0gbiAmJiAobiA9ICJhZGRlZCIpLCBOZShmLCBlKSAmJiAiYWRkZWQiID09PSBuIHx8IE5lKGwsIGUpICYmICJsb2FkZWQiID09PSBuID8gdCgpIDogci5wdXNoKHsKICAgICAgICBuYW1lOiBlLAogICAgICAgIHN0YXRlOiBuLAogICAgICAgIGNhbGxiYWNrOiB0CiAgICAgIH0pOwogICAgfQoKICAgIHZhciBvID0gW10sCiAgICAgICAgbCA9IHt9LAogICAgICAgIGYgPSB7fSwKICAgICAgICByID0gW10sCiAgICAgICAgZCA9IGZ1bmN0aW9uIGQociwgbywgaSwgYSwgZSkgewogICAgICB2YXIgdCwgbjsKICAgICAgbFtyXSB8fCAoMCAhPT0gKHQgPSAic3RyaW5nIiA9PSB0eXBlb2YgbyA/IG8gOiBvLnByZWZpeCArIG8ucmVzb3VyY2UgKyBvLnN1ZmZpeCkuaW5kZXhPZigiLyIpICYmIC0xID09PSB0LmluZGV4T2YoIjovLyIpICYmICh0ID0gc3UuYmFzZVVSTCArICIvIiArIHQpLCBsW3JdID0gdC5zdWJzdHJpbmcoMCwgdC5sYXN0SW5kZXhPZigiLyIpKSwgbiA9IGZ1bmN0aW9uIG4oKSB7CiAgICAgICAgdmFyIG4sIGUsIHQ7CiAgICAgICAgdShyLCAibG9hZGVkIiksIG4gPSBvLCBlID0gaSwgdCA9IGEsIFkocyhyKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciB0ID0gYyhuLCBlKTsKICAgICAgICAgIGQodC5yZXNvdXJjZSwgdCwgdm9pZCAwLCB2b2lkIDApOwogICAgICAgIH0pLCBlICYmICh0ID8gZS5jYWxsKHQpIDogZS5jYWxsKHR1KSk7CiAgICAgIH0sIGZbcl0gPyBuKCkgOiB0dS5TY3JpcHRMb2FkZXIuYWRkKHQsIG4sIGEsIGUpKTsKICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgaXRlbXM6IG8sCiAgICAgIHVybHM6IGwsCiAgICAgIGxvb2t1cDogZiwKICAgICAgX2xpc3RlbmVyczogciwKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoZSkgewogICAgICAgIGlmIChmW2VdKSByZXR1cm4gZltlXS5pbnN0YW5jZTsKICAgICAgfSwKICAgICAgZGVwZW5kZW5jaWVzOiBzLAogICAgICByZXF1aXJlTGFuZ1BhY2s6IGZ1bmN0aW9uIHJlcXVpcmVMYW5nUGFjayh0LCBuKSB7CiAgICAgICAgITEgIT09IHN1Lmxhbmd1YWdlTG9hZCAmJiBlKHQsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHZhciBlID0gdXUuZ2V0Q29kZSgpOwogICAgICAgICAgIWUgfHwgbiAmJiAtMSA9PT0gKCIsIiArIChuIHx8ICIiKSArICIsIikuaW5kZXhPZigiLCIgKyBlICsgIiwiKSB8fCB0dS5TY3JpcHRMb2FkZXIuYWRkKGxbdF0gKyAiL2xhbmdzLyIgKyBlICsgIi5qcyIpOwogICAgICAgIH0sICJsb2FkZWQiKTsKICAgICAgfSwKICAgICAgYWRkOiBmdW5jdGlvbiBhZGQoZSwgdCwgbikgewogICAgICAgIHZhciByID0gdDsKICAgICAgICByZXR1cm4gby5wdXNoKHIpLCBmW2VdID0gewogICAgICAgICAgaW5zdGFuY2U6IHIsCiAgICAgICAgICBkZXBlbmRlbmNpZXM6IG4KICAgICAgICB9LCB1KGUsICJhZGRlZCIpLCByOwogICAgICB9LAogICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShlKSB7CiAgICAgICAgZGVsZXRlIGxbZV0sIGRlbGV0ZSBmW2VdOwogICAgICB9LAogICAgICBjcmVhdGVVcmw6IGMsCiAgICAgIGFkZENvbXBvbmVudHM6IGZ1bmN0aW9uIGFkZENvbXBvbmVudHMoZSwgdCkgewogICAgICAgIHZhciBuID0gbFtlXTsKICAgICAgICBZKHQsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB0dS5TY3JpcHRMb2FkZXIuYWRkKG4gKyAiLyIgKyBlKTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgbG9hZDogZCwKICAgICAgd2FpdEZvcjogZQogICAgfTsKICB9OwoKICBmdW5jdGlvbiBjdSgpIHsKICAgIHZhciBlLAogICAgICAgIHQsCiAgICAgICAgbiA9IChlID0gdGUsIHQgPSBydSh2ZS5ub25lKCkpLCB7CiAgICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHsKICAgICAgICByKCksIHQuc2V0KHZlLm5vbmUoKSk7CiAgICAgIH0sCiAgICAgIGlzU2V0OiBmdW5jdGlvbiBpc1NldCgpIHsKICAgICAgICByZXR1cm4gdC5nZXQoKS5pc1NvbWUoKTsKICAgICAgfSwKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHQuZ2V0KCk7CiAgICAgIH0sCiAgICAgIHNldDogZnVuY3Rpb24gc2V0KGUpIHsKICAgICAgICByKCksIHQuc2V0KHZlLnNvbWUoZSkpOwogICAgICB9CiAgICB9KTsKCiAgICBmdW5jdGlvbiByKCkgewogICAgICByZXR1cm4gdC5nZXQoKS5lYWNoKGUpOwogICAgfQoKICAgIHJldHVybiBfZTIoX2UyKHt9LCBuKSwgewogICAgICBvbjogZnVuY3Rpb24gb24oZSkgewogICAgICAgIHJldHVybiBuLmdldCgpLmVhY2goZSk7CiAgICAgIH0KICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gbHUobiwgcikgewogICAgdmFyIG8gPSBudWxsOwogICAgcmV0dXJuIHsKICAgICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgICAgbChvKSB8fCAoY2xlYXJUaW1lb3V0KG8pLCBvID0gbnVsbCk7CiAgICAgIH0sCiAgICAgIHRocm90dGxlOiBmdW5jdGlvbiB0aHJvdHRsZSgpIHsKICAgICAgICBmb3IgKHZhciBlID0gW10sIHQgPSAwOyB0IDwgYXJndW1lbnRzLmxlbmd0aDsgdCsrKSB7CiAgICAgICAgICBlW3RdID0gYXJndW1lbnRzW3RdOwogICAgICAgIH0KCiAgICAgICAgbChvKSAmJiAobyA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgbyA9IG51bGwsIG4uYXBwbHkobnVsbCwgZSk7CiAgICAgICAgfSwgcikpOwogICAgICB9CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gZnUobiwgcikgewogICAgZnVuY3Rpb24gbygpIHsKICAgICAgbChpKSB8fCAoY2xlYXJUaW1lb3V0KGkpLCBpID0gbnVsbCk7CiAgICB9CgogICAgdmFyIGkgPSBudWxsOwogICAgcmV0dXJuIHsKICAgICAgY2FuY2VsOiBvLAogICAgICB0aHJvdHRsZTogZnVuY3Rpb24gdGhyb3R0bGUoKSB7CiAgICAgICAgZm9yICh2YXIgZSA9IFtdLCB0ID0gMDsgdCA8IGFyZ3VtZW50cy5sZW5ndGg7IHQrKykgewogICAgICAgICAgZVt0XSA9IGFyZ3VtZW50c1t0XTsKICAgICAgICB9CgogICAgICAgIG8oKSwgaSA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgaSA9IG51bGwsIG4uYXBwbHkobnVsbCwgZSk7CiAgICAgICAgfSwgcik7CiAgICAgIH0KICAgIH07CiAgfQoKICBmdW5jdGlvbiBkdShlLCB0KSB7CiAgICB2YXIgbiA9IHZuKGUsIHQpOwogICAgcmV0dXJuIHZvaWQgMCA9PT0gbiB8fCAiIiA9PT0gbiA/IFtdIDogbi5zcGxpdCgiICIpOwogIH0KCiAgZnVuY3Rpb24gbXUoZSkgewogICAgcmV0dXJuIHZvaWQgMCAhPT0gZS5kb20uY2xhc3NMaXN0OwogIH0KCiAgZnVuY3Rpb24gZ3UoZSwgdCkgewogICAgdmFyIG4sIHIsIG87CiAgICBtdShlKSA/IGUuZG9tLmNsYXNzTGlzdC5hZGQodCkgOiAociA9IHQsIG8gPSBkdShuID0gZSwgImNsYXNzIikuY29uY2F0KFtyXSksIHBuKG4sICJjbGFzcyIsIG8uam9pbigiICIpKSk7CiAgfQoKICBmdW5jdGlvbiBwdShlLCB0KSB7CiAgICByZXR1cm4gbXUoZSkgJiYgZS5kb20uY2xhc3NMaXN0LmNvbnRhaW5zKHQpOwogIH0KCiAgZnVuY3Rpb24gaHUoZSwgdCkgewogICAgcmV0dXJuIEhlKG4gPSB2b2lkIDAgPT09IGUgPyBkb2N1bWVudCA6IGUuZG9tKSA/IFtdIDogVChuLnF1ZXJ5U2VsZWN0b3JBbGwodCksIE50LmZyb21Eb20pOwogICAgdmFyIG47CiAgfQoKICBmdW5jdGlvbiB2dShyLCBlKSB7CiAgICBmdW5jdGlvbiB0KGUsIHQpIHsKICAgICAgcmV0dXJuIChuID0gZS5kb20pICYmIG4uaGFzQXR0cmlidXRlICYmIG4uaGFzQXR0cmlidXRlKHQpID8gdmUuc29tZSh2bihlLCB0KSkgOiB2ZS5ub25lKCk7CiAgICAgIHZhciBuOwogICAgfQoKICAgIHZhciBuID0gci5zZWxlY3Rpb24uZ2V0Um5nKCksCiAgICAgICAgbyA9IE50LmZyb21Eb20obi5zdGFydENvbnRhaW5lciksCiAgICAgICAgaSA9IE50LmZyb21Eb20oci5nZXRCb2R5KCkpLAogICAgICAgIGEgPSBlLmZvbGQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gIi4iICsganUoKTsKICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiAiWyIgKyBWdSgpICsgJz0iJyArIGUgKyAnIl0nOwogICAgfSk7CiAgICByZXR1cm4gYnIoTXQobywgbi5zdGFydE9mZnNldCkuZ2V0T3IobyksIGEsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBqZShlLCBpKTsKICAgIH0pLmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHQoZSwgIiIgKyBxdSgpKS5iaW5kKGZ1bmN0aW9uIChuKSB7CiAgICAgICAgcmV0dXJuIHQoZSwgIiIgKyBWdSgpKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciB0ID0gJHUociwgbik7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICB1aWQ6IG4sCiAgICAgICAgICAgIG5hbWU6IGUsCiAgICAgICAgICAgIGVsZW1lbnRzOiB0CiAgICAgICAgICB9OwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gYnUodCkgewogICAgZnVuY3Rpb24gbygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBsaXN0ZW5lcnM6IFtdLAogICAgICAgIHByZXZpb3VzOiBjdSgpCiAgICAgIH07CiAgICB9CgogICAgZnVuY3Rpb24gYyhlLCB0KSB7CiAgICAgIG4oZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gdChlKSwgZTsKICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gbihlLCB0KSB7CiAgICAgIHZhciBuID0gaS5nZXQoKSwKICAgICAgICAgIHIgPSB0KHVlKG4sIGUpLmdldE9yVGh1bmsobykpOwogICAgICBuW2VdID0gciwgaS5zZXQobik7CiAgICB9CgogICAgdmFyIGkgPSBydSh7fSksCiAgICAgICAgZSA9IGZ1KGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGUgPSBpLmdldCgpOwogICAgICBZKFcod2UoZSkpLCBmdW5jdGlvbiAoZSkgewogICAgICAgIG4oZSwgZnVuY3Rpb24gKHUpIHsKICAgICAgICAgIHZhciBzID0gdS5wcmV2aW91cy5nZXQoKTsKICAgICAgICAgIHJldHVybiB2dSh0LCB2ZS5zb21lKGUpKS5mb2xkKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIHQ7CiAgICAgICAgICAgIHMuaXNTb21lKCkgJiYgKGModCA9IGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgWShlLmxpc3RlbmVycywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBlKCExLCB0KTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSksIHUucHJldmlvdXMuY2xlYXIoKSk7CiAgICAgICAgICB9LCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgdCwKICAgICAgICAgICAgICAgIG4sCiAgICAgICAgICAgICAgICByLAogICAgICAgICAgICAgICAgbyA9IGUudWlkLAogICAgICAgICAgICAgICAgaSA9IGUubmFtZSwKICAgICAgICAgICAgICAgIGEgPSBlLmVsZW1lbnRzOwogICAgICAgICAgICBmbihzLCBvKSB8fCAobiA9IG8sIHIgPSBhLCBjKHQgPSBpLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIFkoZS5saXN0ZW5lcnMsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZSghMCwgdCwgewogICAgICAgICAgICAgICAgICB1aWQ6IG4sCiAgICAgICAgICAgICAgICAgIG5vZGVzOiBUKHIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGUuZG9tOwogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pLCB1LnByZXZpb3VzLnNldChvKSk7CiAgICAgICAgICB9KSwgewogICAgICAgICAgICBwcmV2aW91czogdS5wcmV2aW91cywKICAgICAgICAgICAgbGlzdGVuZXJzOiB1Lmxpc3RlbmVycwogICAgICAgICAgfTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LCAzMCk7CiAgICByZXR1cm4gdC5vbigicmVtb3ZlIiwgZnVuY3Rpb24gKCkgewogICAgICBlLmNhbmNlbCgpOwogICAgfSksIHQub24oIk5vZGVDaGFuZ2UiLCBmdW5jdGlvbiAoKSB7CiAgICAgIGUudGhyb3R0bGUoKTsKICAgIH0pLCB7CiAgICAgIGFkZExpc3RlbmVyOiBmdW5jdGlvbiBhZGRMaXN0ZW5lcihlLCB0KSB7CiAgICAgICAgbihlLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcHJldmlvdXM6IGUucHJldmlvdXMsCiAgICAgICAgICAgIGxpc3RlbmVyczogZS5saXN0ZW5lcnMuY29uY2F0KFt0XSkKICAgICAgICAgIH07CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH07CiAgfQoKICBmdW5jdGlvbiB5dShlKSB7CiAgICB2YXIgdCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAgcmV0dXJuIGUgKyAiXyIgKyBNYXRoLmZsb29yKDFlOSAqIE1hdGgucmFuZG9tKCkpICsgKytXdSArIFN0cmluZyh0KTsKICB9CgogIGZ1bmN0aW9uIEN1KGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIsCiAgICAgICAgbyA9IFJ0KGUpLmRvbSwKICAgICAgICBpID0gTnQuZnJvbURvbShvLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSk7CiAgICBLdChpLCAobiA9IHQsIChyID0gKG8gfHwgZG9jdW1lbnQpLmNyZWF0ZUVsZW1lbnQoImRpdiIpKS5pbm5lckhUTUwgPSBuLCBEbihOdC5mcm9tRG9tKHIpKSkpLCBYdChlKSwgUG4oZSwgaSk7CiAgfQoKICBmdW5jdGlvbiB4dShlLCB0KSB7CiAgICByZXR1cm4gTnQuZnJvbURvbShlLmRvbS5jbG9uZU5vZGUodCkpOwogIH0KCiAgZnVuY3Rpb24gd3UoZSkgewogICAgcmV0dXJuIHh1KGUsICExKTsKICB9CgogIGZ1bmN0aW9uIFN1KGUpIHsKICAgIHJldHVybiB4dShlLCAhMCk7CiAgfQoKICBmdW5jdGlvbiBFdShlLCB0LCBuKSB7CiAgICBmdW5jdGlvbiByKGUpIHsKICAgICAgZm9yICh2YXIgdDsgKHQgPSBvW2VdKCkpICYmICFqbih0KSAmJiAhbih0KTspIHsKICAgICAgICA7CiAgICAgIH0KCiAgICAgIHJldHVybiB2ZS5mcm9tKHQpLmZpbHRlcihqbik7CiAgICB9CgogICAgdm9pZCAwID09PSBuICYmIChuID0gUik7CiAgICB2YXIgbyA9IG5ldyBScihlLCB0KTsKICAgIHJldHVybiB7CiAgICAgIGN1cnJlbnQ6IGZ1bmN0aW9uIGN1cnJlbnQoKSB7CiAgICAgICAgcmV0dXJuIHZlLmZyb20oby5jdXJyZW50KCkpLmZpbHRlcihqbik7CiAgICAgIH0sCiAgICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQoKSB7CiAgICAgICAgcmV0dXJuIHIoIm5leHQiKTsKICAgICAgfSwKICAgICAgcHJldjogZnVuY3Rpb24gcHJldigpIHsKICAgICAgICByZXR1cm4gcigicHJldiIpOwogICAgICB9LAogICAgICBwcmV2MjogZnVuY3Rpb24gcHJldjIoKSB7CiAgICAgICAgcmV0dXJuIHIoInByZXYyIik7CiAgICAgIH0KICAgIH07CiAgfQoKICBmdW5jdGlvbiBOdSh0LCBlKSB7CiAgICB2YXIgaSA9IGUgfHwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHQuaXNCbG9jayhlKSB8fCBXbihlKSB8fCBZbihlKTsKICAgIH0sCiAgICAgICAgYSA9IGZ1bmN0aW9uIGEoZSwgdCwgbiwgcikgewogICAgICBpZiAoam4oZSkpIHsKICAgICAgICB2YXIgbyA9IHIoZSwgdCwgZS5kYXRhKTsKICAgICAgICBpZiAoLTEgIT09IG8pIHJldHVybiB2ZS5zb21lKHsKICAgICAgICAgIGNvbnRhaW5lcjogZSwKICAgICAgICAgIG9mZnNldDogbwogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gbigpLmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gYShlLmNvbnRhaW5lciwgZS5vZmZzZXQsIG4sIHIpOwogICAgICB9KTsKICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgYmFja3dhcmRzOiBmdW5jdGlvbiBiYWNrd2FyZHMoZSwgdCwgbiwgcikgewogICAgICAgIHZhciBvID0gRXUoZSwgciwgaSk7CiAgICAgICAgcmV0dXJuIGEoZSwgdCwgZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIG8ucHJldigpLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgIGNvbnRhaW5lcjogZSwKICAgICAgICAgICAgICBvZmZzZXQ6IGUubGVuZ3RoCiAgICAgICAgICAgIH07CiAgICAgICAgICB9KTsKICAgICAgICB9LCBuKS5nZXRPck51bGwoKTsKICAgICAgfSwKICAgICAgZm9yd2FyZHM6IGZ1bmN0aW9uIGZvcndhcmRzKGUsIHQsIG4sIHIpIHsKICAgICAgICB2YXIgbyA9IEV1KGUsIHIsIGkpOwogICAgICAgIHJldHVybiBhKGUsIHQsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBvLm5leHQoKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICBjb250YWluZXI6IGUsCiAgICAgICAgICAgICAgb2Zmc2V0OiAwCiAgICAgICAgICAgIH07CiAgICAgICAgICB9KTsKICAgICAgICB9LCBuKS5nZXRPck51bGwoKTsKICAgICAgfQogICAgfTsKICB9CgogIGZ1bmN0aW9uIGt1KGUpIHsKICAgIHJldHVybiBlID8gewogICAgICBsZWZ0OiBLdShlLmxlZnQpLAogICAgICB0b3A6IEt1KGUudG9wKSwKICAgICAgYm90dG9tOiBLdShlLmJvdHRvbSksCiAgICAgIHJpZ2h0OiBLdShlLnJpZ2h0KSwKICAgICAgd2lkdGg6IEt1KGUud2lkdGgpLAogICAgICBoZWlnaHQ6IEt1KGUuaGVpZ2h0KQogICAgfSA6IHsKICAgICAgbGVmdDogMCwKICAgICAgdG9wOiAwLAogICAgICBib3R0b206IDAsCiAgICAgIHJpZ2h0OiAwLAogICAgICB3aWR0aDogMCwKICAgICAgaGVpZ2h0OiAwCiAgICB9OwogIH0KCiAgZnVuY3Rpb24gX3UoZSwgdCkgewogICAgcmV0dXJuIGUgPSBrdShlKSwgdCB8fCAoZS5sZWZ0ID0gZS5sZWZ0ICsgZS53aWR0aCksIGUucmlnaHQgPSBlLmxlZnQsIGUud2lkdGggPSAwLCBlOwogIH0KCiAgZnVuY3Rpb24gQXUoZSwgdCwgbikgewogICAgcmV0dXJuIDAgPD0gZSAmJiBlIDw9IE1hdGgubWluKHQuaGVpZ2h0LCBuLmhlaWdodCkgLyAyOwogIH0KCiAgZnVuY3Rpb24gUnUoZSwgdCkgewogICAgdmFyIG4gPSBNYXRoLm1pbih0LmhlaWdodCAvIDIsIGUuaGVpZ2h0IC8gMik7CiAgICByZXR1cm4gZS5ib3R0b20gLSBuIDwgdC50b3AgfHwgIShlLnRvcCA+IHQuYm90dG9tKSAmJiBBdSh0LnRvcCAtIGUuYm90dG9tLCBlLCB0KTsKICB9CgogIGZ1bmN0aW9uIER1KGUsIHQpIHsKICAgIHJldHVybiBlLnRvcCA+IHQuYm90dG9tIHx8ICEoZS5ib3R0b20gPCB0LnRvcCkgJiYgQXUodC5ib3R0b20gLSBlLnRvcCwgZSwgdCk7CiAgfQoKICBmdW5jdGlvbiBUdShlLCB0LCBuKSB7CiAgICByZXR1cm4gdCA+PSBlLmxlZnQgJiYgdCA8PSBlLnJpZ2h0ICYmIG4gPj0gZS50b3AgJiYgbiA8PSBlLmJvdHRvbTsKICB9CgogIGZ1bmN0aW9uIE91KGUpIHsKICAgIHZhciB0ID0gZS5zdGFydENvbnRhaW5lciwKICAgICAgICBuID0gZS5zdGFydE9mZnNldDsKICAgIHJldHVybiB0Lmhhc0NoaWxkTm9kZXMoKSAmJiBlLmVuZE9mZnNldCA9PT0gbiArIDEgPyB0LmNoaWxkTm9kZXNbbl0gOiBudWxsOwogIH0KCiAgZnVuY3Rpb24gQnUoZSwgdCkgewogICAgaWYgKHpuKGUpICYmIGUuaGFzQ2hpbGROb2RlcygpKSB7CiAgICAgIHZhciBuID0gZS5jaGlsZE5vZGVzOwogICAgICByZXR1cm4gblsociA9IG4ubGVuZ3RoIC0gMSwgTWF0aC5taW4oTWF0aC5tYXgodCwgMCksIHIpKV07CiAgICB9CgogICAgcmV0dXJuIGU7CiAgICB2YXIgcjsKICB9CgogIGZ1bmN0aW9uIFB1KGUpIHsKICAgIHJldHVybiAic3RyaW5nIiA9PSB0eXBlb2YgZSAmJiA3NjggPD0gZS5jaGFyQ29kZUF0KDApICYmIFh1LnRlc3QoZSk7CiAgfQoKICBmdW5jdGlvbiBMdShlKSB7CiAgICByZXR1cm4gImNyZWF0ZVJhbmdlIiBpbiBlID8gZS5jcmVhdGVSYW5nZSgpIDogSmEuRE9NLmNyZWF0ZVJuZygpOwogIH0KCiAgZnVuY3Rpb24gSXUoZSkgewogICAgcmV0dXJuIGUgJiYgL1tcclxuXHQgXS8udGVzdChlKTsKICB9CgogIGZ1bmN0aW9uIE11KGUpIHsKICAgIHJldHVybiBlLnNldFN0YXJ0ICYmIGUuc2V0RW5kOwogIH0KCiAgZnVuY3Rpb24gRnUoZSkgewogICAgdmFyIHQgPSBlLnN0YXJ0Q29udGFpbmVyLAogICAgICAgIG4gPSBlLnN0YXJ0T2Zmc2V0OwoKICAgIGlmIChJdShlLnRvU3RyaW5nKCkpICYmIGVzKHQucGFyZW50Tm9kZSkgJiYgam4odCkpIHsKICAgICAgdmFyIHIgPSB0LmRhdGE7CiAgICAgIHJldHVybiBJdShyW24gLSAxXSkgfHwgSXUocltuICsgMV0pID8gMSA6IHZvaWQgMDsKICAgIH0KICB9CgogIGZ1bmN0aW9uIFV1KGUpIHsKICAgIHJldHVybiAwID09PSBlLmxlZnQgJiYgMCA9PT0gZS5yaWdodCAmJiAwID09PSBlLnRvcCAmJiAwID09PSBlLmJvdHRvbTsKICB9CgogIGZ1bmN0aW9uIHp1KGUsIHQpIHsKICAgIHZhciBuID0gX3UoZSwgdCk7CgogICAgcmV0dXJuIG4ud2lkdGggPSAxLCBuLnJpZ2h0ID0gbi5sZWZ0ICsgMSwgbjsKICB9CgogIHN1Lmxhbmd1YWdlTG9hZCA9ICEwLCBzdS5iYXNlVVJMID0gIiIsIHN1LlBsdWdpbk1hbmFnZXIgPSBzdSgpLCBzdS5UaGVtZU1hbmFnZXIgPSBzdSgpOwoKICB2YXIgSHUgPSBmdW5jdGlvbiBIdShlLCB0KSB7CiAgICB2YXIgbiA9IFtdOwogICAgcmV0dXJuIFkoRG4oZSksIGZ1bmN0aW9uIChlKSB7CiAgICAgIG4gPSAobiA9IHQoZSkgPyBuLmNvbmNhdChbZV0pIDogbikuY29uY2F0KEh1KGUsIHQpKTsKICAgIH0pLCBuOwogIH0sCiAgICAgIGp1ID0gSigibWNlLWFubm90YXRpb24iKSwKICAgICAgVnUgPSBKKCJkYXRhLW1jZS1hbm5vdGF0aW9uIiksCiAgICAgIHF1ID0gSigiZGF0YS1tY2UtYW5ub3RhdGlvbi11aWQiKSwKICAgICAgJHUgPSBmdW5jdGlvbiAkdShlLCB0KSB7CiAgICByZXR1cm4gaHUoTnQuZnJvbURvbShlLmdldEJvZHkoKSksICJbIiArIHF1KCkgKyAnPSInICsgdCArICciXScpOwogIH0sCiAgICAgIFd1ID0gMCwKICAgICAgS3UgPSBNYXRoLnJvdW5kLAogICAgICBYdSA9IG5ldyBSZWdFeHAoIltcdTAzMDAtXHUwMzZGXHUwNDgzLVx1MDQ4N1x1MDQ4OC1cdTA0ODlcdTA1OTEtXHUwNUJEXHUwNUJGXHUwNUMxLVx1MDVDMlx1MDVDNC1cdTA1QzVcdTA1QzdcdTA2MTAtXHUwNjFBXHUwNjRCLVx1MDY1Rlx1MDY3MFx1MDZENi1cdTA2RENcdTA2REYtXHUwNkU0XHUwNkU3LVx1MDZFOFx1MDZFQS1cdTA2RURcdTA3MTFcdTA3MzAtXHUwNzRBXHUwN0E2LVx1MDdCMFx1MDdFQi1cdTA3RjNcdTA4MTYtXHUwODE5XHUwODFCLVx1MDgyM1x1MDgyNS1cdTA4MjdcdTA4MjktXHUwODJEXHUwODU5LVx1MDg1Qlx1MDhFMy1cdTA5MDJcdTA5M0FcdTA5M0NcdTA5NDEtXHUwOTQ4XHUwOTREXHUwOTUxLVx1MDk1N1x1MDk2Mi1cdTA5NjNcdTA5ODFcdTA5QkNcdTA5QkVcdTA5QzEtXHUwOUM0XHUwOUNEXHUwOUQ3XHUwOUUyLVx1MDlFM1x1MEEwMS1cdTBBMDJcdTBBM0NcdTBBNDEtXHUwQTQyXHUwQTQ3LVx1MEE0OFx1MEE0Qi1cdTBBNERcdTBBNTFcdTBBNzAtXHUwQTcxXHUwQTc1XHUwQTgxLVx1MEE4Mlx1MEFCQ1x1MEFDMS1cdTBBQzVcdTBBQzctXHUwQUM4XHUwQUNEXHUwQUUyLVx1MEFFM1x1MEIwMVx1MEIzQ1x1MEIzRVx1MEIzRlx1MEI0MS1cdTBCNDRcdTBCNERcdTBCNTZcdTBCNTdcdTBCNjItXHUwQjYzXHUwQjgyXHUwQkJFXHUwQkMwXHUwQkNEXHUwQkQ3XHUwQzAwXHUwQzNFLVx1MEM0MFx1MEM0Ni1cdTBDNDhcdTBDNEEtXHUwQzREXHUwQzU1LVx1MEM1Nlx1MEM2Mi1cdTBDNjNcdTBDODFcdTBDQkNcdTBDQkZcdTBDQzJcdTBDQzZcdTBDQ0MtXHUwQ0NEXHUwQ0Q1LVx1MENENlx1MENFMi1cdTBDRTNcdTBEMDFcdTBEM0VcdTBENDEtXHUwRDQ0XHUwRDREXHUwRDU3XHUwRDYyLVx1MEQ2M1x1MERDQVx1MERDRlx1MEREMi1cdTBERDRcdTBERDZcdTBEREZcdTBFMzFcdTBFMzQtXHUwRTNBXHUwRTQ3LVx1MEU0RVx1MEVCMVx1MEVCNC1cdTBFQjlcdTBFQkItXHUwRUJDXHUwRUM4LVx1MEVDRFx1MEYxOC1cdTBGMTlcdTBGMzVcdTBGMzdcdTBGMzlcdTBGNzEtXHUwRjdFXHUwRjgwLVx1MEY4NFx1MEY4Ni1cdTBGODdcdTBGOEQtXHUwRjk3XHUwRjk5LVx1MEZCQ1x1MEZDNlx1MTAyRC1cdTEwMzBcdTEwMzItXHUxMDM3XHUxMDM5LVx1MTAzQVx1MTAzRC1cdTEwM0VcdTEwNTgtXHUxMDU5XHUxMDVFLVx1MTA2MFx1MTA3MS1cdTEwNzRcdTEwODJcdTEwODUtXHUxMDg2XHUxMDhEXHUxMDlEXHUxMzVELVx1MTM1Rlx1MTcxMi1cdTE3MTRcdTE3MzItXHUxNzM0XHUxNzUyLVx1MTc1M1x1MTc3Mi1cdTE3NzNcdTE3QjQtXHUxN0I1XHUxN0I3LVx1MTdCRFx1MTdDNlx1MTdDOS1cdTE3RDNcdTE3RERcdTE4MEItXHUxODBEXHUxOEE5XHUxOTIwLVx1MTkyMlx1MTkyNy1cdTE5MjhcdTE5MzJcdTE5MzktXHUxOTNCXHUxQTE3LVx1MUExOFx1MUExQlx1MUE1Nlx1MUE1OC1cdTFBNUVcdTFBNjBcdTFBNjJcdTFBNjUtXHUxQTZDXHUxQTczLVx1MUE3Q1x1MUE3Rlx1MUFCMC1cdTFBQkRcdTFBQkVcdTFCMDAtXHUxQjAzXHUxQjM0XHUxQjM2LVx1MUIzQVx1MUIzQ1x1MUI0Mlx1MUI2Qi1cdTFCNzNcdTFCODAtXHUxQjgxXHUxQkEyLVx1MUJBNVx1MUJBOC1cdTFCQTlcdTFCQUItXHUxQkFEXHUxQkU2XHUxQkU4LVx1MUJFOVx1MUJFRFx1MUJFRi1cdTFCRjFcdTFDMkMtXHUxQzMzXHUxQzM2LVx1MUMzN1x1MUNEMC1cdTFDRDJcdTFDRDQtXHUxQ0UwXHUxQ0UyLVx1MUNFOFx1MUNFRFx1MUNGNFx1MUNGOC1cdTFDRjlcdTFEQzAtXHUxREY1XHUxREZDLVx1MURGRlx1MjAwQy1cdTIwMERcdTIwRDAtXHUyMERDXHUyMERELVx1MjBFMFx1MjBFMVx1MjBFMi1cdTIwRTRcdTIwRTUtXHUyMEYwXHUyQ0VGLVx1MkNGMVx1MkQ3Rlx1MkRFMC1cdTJERkZcdTMwMkEtXHUzMDJEXHUzMDJFLVx1MzAyRlx1MzA5OS1cdTMwOUFcdUE2NkZcdUE2NzAtXHVBNjcyXHVBNjc0LVx1QTY3RFx1QTY5RS1cdUE2OUZcdUE2RjAtXHVBNkYxXHVBODAyXHVBODA2XHVBODBCXHVBODI1LVx1QTgyNlx1QThDNFx1QThFMC1cdUE4RjFcdUE5MjYtXHVBOTJEXHVBOTQ3LVx1QTk1MVx1QTk4MC1cdUE5ODJcdUE5QjNcdUE5QjYtXHVBOUI5XHVBOUJDXHVBOUU1XHVBQTI5LVx1QUEyRVx1QUEzMS1cdUFBMzJcdUFBMzUtXHVBQTM2XHVBQTQzXHVBQTRDXHVBQTdDXHVBQUIwXHVBQUIyLVx1QUFCNFx1QUFCNy1cdUFBQjhcdUFBQkUtXHVBQUJGXHVBQUMxXHVBQUVDLVx1QUFFRFx1QUFGNlx1QUJFNVx1QUJFOFx1QUJFRFx1RkIxRVx1RkUwMC1cdUZFMEZcdUZFMjAtXHVGRTJGXHVGRjlFLVx1RkY5Rl0iKSwKICAgICAgWXUgPSB6biwKICAgICAgR3UgPSBqciwKICAgICAgSnUgPSBhbigiZGlzcGxheSIsICJibG9jayB0YWJsZSIpLAogICAgICBRdSA9IGFuKCJmbG9hdCIsICJsZWZ0IHJpZ2h0IiksCiAgICAgIFp1ID0gZnVuY3Rpb24gKCkgewogICAgZm9yICh2YXIgbiA9IFtdLCBlID0gMDsgZSA8IGFyZ3VtZW50cy5sZW5ndGg7IGUrKykgewogICAgICBuW2VdID0gYXJndW1lbnRzW2VdOwogICAgfQoKICAgIHJldHVybiBmdW5jdGlvbiAoZSkgewogICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IG4ubGVuZ3RoOyB0KyspIHsKICAgICAgICBpZiAoIW5bdF0oZSkpIHJldHVybiAhMTsKICAgICAgfQoKICAgICAgcmV0dXJuICEwOwogICAgfTsKICB9KFl1LCBHdSwgcyhRdSkpLAogICAgICBlcyA9IHMoYW4oIndoaXRlLXNwYWNlIiwgInByZSBwcmUtbGluZSBwcmUtd3JhcCIpKSwKICAgICAgdHMgPSBqbiwKICAgICAgbnMgPSBXbiwKICAgICAgcnMgPSBKYS5ub2RlSW5kZXgsCiAgICAgIG9zID0gZnVuY3Rpb24gb3MoZSwgdCkgewogICAgaWYgKCEodCA8IDAgJiYgem4oZSkgJiYgZS5oYXNDaGlsZE5vZGVzKCkpKSByZXR1cm4gQnUoZSwgdCk7CiAgfSwKICAgICAgaXMgPSBmdW5jdGlvbiBpcyhlKSB7CiAgICB2YXIgdCA9IGUuZ2V0Q2xpZW50UmVjdHMoKSwKICAgICAgICBuID0gMCA8IHQubGVuZ3RoID8ga3UodFswXSkgOiBrdShlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTsKICAgIHJldHVybiAhTXUoZSkgJiYgbnMoZSkgJiYgVXUobikgPyBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9IGUub3duZXJEb2N1bWVudCwKICAgICAgICAgIG4gPSBMdSh0KSwKICAgICAgICAgIHIgPSB0LmNyZWF0ZVRleHROb2RlKHlvKSwKICAgICAgICAgIG8gPSBlLnBhcmVudE5vZGU7CiAgICAgIG8uaW5zZXJ0QmVmb3JlKHIsIGUpLCBuLnNldFN0YXJ0KHIsIDApLCBuLnNldEVuZChyLCAxKTsKICAgICAgdmFyIGkgPSBrdShuLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTsKICAgICAgcmV0dXJuIG8ucmVtb3ZlQ2hpbGQociksIGk7CiAgICB9KGUpIDogVXUobikgJiYgTXUoZSkgPyBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9IGUuc3RhcnRDb250YWluZXIsCiAgICAgICAgICBuID0gZS5lbmRDb250YWluZXIsCiAgICAgICAgICByID0gZS5zdGFydE9mZnNldCwKICAgICAgICAgIG8gPSBlLmVuZE9mZnNldDsKCiAgICAgIGlmICh0ID09PSBuICYmIGpuKG4pICYmIDAgPT09IHIgJiYgMSA9PT0gbykgewogICAgICAgIHZhciBpID0gZS5jbG9uZVJhbmdlKCk7CiAgICAgICAgcmV0dXJuIGkuc2V0RW5kQWZ0ZXIobiksIGlzKGkpOwogICAgICB9CgogICAgICByZXR1cm4gbnVsbDsKICAgIH0oZSkgOiBuOwogIH0sCiAgICAgIGFzID0gZnVuY3Rpb24gYXModCwgbiwgZSkgewogICAgZnVuY3Rpb24gcigpIHsKICAgICAgcmV0dXJuIGUgPSBlIHx8IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgZnVuY3Rpb24gcihlKSB7CiAgICAgICAgICB2YXIgdDsKICAgICAgICAgIDAgIT09IGUuaGVpZ2h0ICYmICgwIDwgby5sZW5ndGggJiYgKHQgPSBvW28ubGVuZ3RoIC0gMV0sIGUubGVmdCA9PT0gdC5sZWZ0ICYmIGUudG9wID09PSB0LnRvcCAmJiBlLmJvdHRvbSA9PT0gdC5ib3R0b20gJiYgZS5yaWdodCA9PT0gdC5yaWdodCkgfHwgby5wdXNoKGUpKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHQoZSwgdCkgewogICAgICAgICAgdmFyIG4gPSBMdShlLm93bmVyRG9jdW1lbnQpOwoKICAgICAgICAgIGlmICh0IDwgZS5kYXRhLmxlbmd0aCkgewogICAgICAgICAgICBpZiAoUHUoZS5kYXRhW3RdKSkgcmV0dXJuIG87CiAgICAgICAgICAgIGlmIChQdShlLmRhdGFbdCAtIDFdKSAmJiAobi5zZXRTdGFydChlLCB0KSwgbi5zZXRFbmQoZSwgdCArIDEpLCAhRnUobikpKSByZXR1cm4gcih6dShpcyhuKSwgITEpKSwgbzsKICAgICAgICAgIH0KCiAgICAgICAgICAwIDwgdCAmJiAobi5zZXRTdGFydChlLCB0IC0gMSksIG4uc2V0RW5kKGUsIHQpLCBGdShuKSB8fCByKHp1KGlzKG4pLCAhMSkpKSwgdCA8IGUuZGF0YS5sZW5ndGggJiYgKG4uc2V0U3RhcnQoZSwgdCksIG4uc2V0RW5kKGUsIHQgKyAxKSwgRnUobikgfHwgcih6dShpcyhuKSwgITApKSk7CiAgICAgICAgfQoKICAgICAgICB2YXIgbyA9IFtdLAogICAgICAgICAgICBuID0gZS5jb250YWluZXIoKSwKICAgICAgICAgICAgaSA9IGUub2Zmc2V0KCk7CiAgICAgICAgaWYgKHRzKG4pKSByZXR1cm4gdChuLCBpKSwgbzsKICAgICAgICBpZiAoWXUobikpIGlmIChlLmlzQXRFbmQoKSkgewogICAgICAgICAgdmFyIGEgPSBvcyhuLCBpKTsKICAgICAgICAgIHRzKGEpICYmIHQoYSwgYS5kYXRhLmxlbmd0aCksIFp1KGEpICYmICFucyhhKSAmJiByKHp1KGlzKGEpLCAhMSkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAoYSA9IG9zKG4sIGkpLCB0cyhhKSAmJiB0KGEsIDApLCBadShhKSAmJiBlLmlzQXRFbmQoKSkgcmV0dXJuIHIoenUoaXMoYSksICExKSksIG87CiAgICAgICAgICB2YXIgdSA9IG9zKGUuY29udGFpbmVyKCksIGUub2Zmc2V0KCkgLSAxKTsKICAgICAgICAgIFp1KHUpICYmICFucyh1KSAmJiAoIUp1KHUpICYmICFKdShhKSAmJiBadShhKSB8fCByKHp1KGlzKHUpLCAhMSkpKSwgWnUoYSkgJiYgcih6dShpcyhhKSwgITApKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG87CiAgICAgIH0oYXModCwgbikpOwogICAgfQoKICAgIHJldHVybiB7CiAgICAgIGNvbnRhaW5lcjogSih0KSwKICAgICAgb2Zmc2V0OiBKKG4pLAogICAgICB0b1JhbmdlOiBmdW5jdGlvbiB0b1JhbmdlKCkgewogICAgICAgIHZhciBlID0gTHUodC5vd25lckRvY3VtZW50KTsKICAgICAgICByZXR1cm4gZS5zZXRTdGFydCh0LCBuKSwgZS5zZXRFbmQodCwgbiksIGU7CiAgICAgIH0sCiAgICAgIGdldENsaWVudFJlY3RzOiByLAogICAgICBpc1Zpc2libGU6IGZ1bmN0aW9uIGlzVmlzaWJsZSgpIHsKICAgICAgICByZXR1cm4gMCA8IHIoKS5sZW5ndGg7CiAgICAgIH0sCiAgICAgIGlzQXRTdGFydDogZnVuY3Rpb24gaXNBdFN0YXJ0KCkgewogICAgICAgIHJldHVybiB0cyh0KSwgMCA9PT0gbjsKICAgICAgfSwKICAgICAgaXNBdEVuZDogZnVuY3Rpb24gaXNBdEVuZCgpIHsKICAgICAgICByZXR1cm4gdHModCkgPyBuID49IHQuZGF0YS5sZW5ndGggOiBuID49IHQuY2hpbGROb2Rlcy5sZW5ndGg7CiAgICAgIH0sCiAgICAgIGlzRXF1YWw6IGZ1bmN0aW9uIGlzRXF1YWwoZSkgewogICAgICAgIHJldHVybiBlICYmIHQgPT09IGUuY29udGFpbmVyKCkgJiYgbiA9PT0gZS5vZmZzZXQoKTsKICAgICAgfSwKICAgICAgZ2V0Tm9kZTogZnVuY3Rpb24gZ2V0Tm9kZShlKSB7CiAgICAgICAgcmV0dXJuIG9zKHQsIGUgPyBuIC0gMSA6IG4pOwogICAgICB9CiAgICB9OwogIH07CgogIGZ1bmN0aW9uIHVzKGUsIHQpIHsKICAgIGpuKHQpICYmIDAgPT09IHQuZGF0YS5sZW5ndGggJiYgZS5yZW1vdmUodCk7CiAgfQoKICBmdW5jdGlvbiBzcyhlLCB0LCBuKSB7CiAgICB2YXIgciwgbywgaSwgYSwgdSwgcywgYzsKICAgICRuKG4pID8gKGkgPSBlLCBhID0gdCwgcyA9IHZlLmZyb20oKHUgPSBuKS5maXJzdENoaWxkKSwgYyA9IHZlLmZyb20odS5sYXN0Q2hpbGQpLCBhLmluc2VydE5vZGUodSksIHMuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gdXMoaSwgZS5wcmV2aW91c1NpYmxpbmcpOwogICAgfSksIGMuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gdXMoaSwgZS5uZXh0U2libGluZyk7CiAgICB9KSkgOiAociA9IGUsIHQuaW5zZXJ0Tm9kZShvID0gbiksIHVzKHIsIG8ucHJldmlvdXNTaWJsaW5nKSwgdXMociwgby5uZXh0U2libGluZykpOwogIH0KCiAgZnVuY3Rpb24gY3ModCkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiB0ID09PSBlOwogICAgfTsKICB9CgogIGZ1bmN0aW9uIGxzKGUpIHsKICAgIHZhciB0LCByLCBuLCBvOwogICAgcmV0dXJuICh1YyhlKSA/ICJ0ZXh0KCkiIDogZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSArICJbIiArIChyID0gZmMobGModCA9IGUpKSwgbiA9IGdlKHIsIGNzKHQpLCB0KSwgbyA9IG1lKHIgPSByLnNsaWNlKDAsIG4gKyAxKSwgZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgcmV0dXJuIHVjKHQpICYmIHVjKHJbbiAtIDFdKSAmJiBlKyssIGU7CiAgICB9LCAwKSwgZ2UociA9IGZlKHIsIG9uKFt0Lm5vZGVOYW1lXSkpLCBjcyh0KSwgdCkgLSBvKSArICJdIjsKICB9CgogIGZ1bmN0aW9uIGZzKGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIsCiAgICAgICAgbywKICAgICAgICBpID0gW10sCiAgICAgICAgYSA9IHQuY29udGFpbmVyKCksCiAgICAgICAgdSA9IHQub2Zmc2V0KCk7CiAgICByZXR1cm4gdWMoYSkgPyBuID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgZm9yICg7IChlID0gZS5wcmV2aW91c1NpYmxpbmcpICYmIHVjKGUpOykgewogICAgICAgIHQgKz0gZS5kYXRhLmxlbmd0aDsKICAgICAgfQoKICAgICAgcmV0dXJuIHQ7CiAgICB9KGEsIHUpIDogKHUgPj0gKHIgPSBhLmNoaWxkTm9kZXMpLmxlbmd0aCA/IChuID0gImFmdGVyIiwgdSA9IHIubGVuZ3RoIC0gMSkgOiBuID0gImJlZm9yZSIsIGEgPSByW3VdKSwgaS5wdXNoKGxzKGEpKSwgbyA9IGZlKGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHZhciBuID0gW107CgogICAgICBmb3IgKHQgPSB0LnBhcmVudE5vZGU7IHQgIT09IGU7IHQgPSB0LnBhcmVudE5vZGUpIHsKICAgICAgICBuLnB1c2godCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBuOwogICAgfShlLCBhKSwgcyhzbikpLCAoaSA9IGkuY29uY2F0KGxlKG8sIGxzKSkpLnJldmVyc2UoKS5qb2luKCIvIikgKyAiLCIgKyBuOwogIH0KCiAgZnVuY3Rpb24gZHMoZSwgdCkgewogICAgaWYgKCF0KSByZXR1cm4gbnVsbDsKICAgIHZhciBuID0gdC5zcGxpdCgiLCIpLAogICAgICAgIHIgPSBuWzBdLnNwbGl0KCIvIiksCiAgICAgICAgbyA9IDEgPCBuLmxlbmd0aCA/IG5bMV0gOiAiYmVmb3JlIiwKICAgICAgICBpID0gbWUociwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgdmFyIG4sCiAgICAgICAgICByLAogICAgICAgICAgbywKICAgICAgICAgIGksCiAgICAgICAgICBhID0gLyhbXHdcLVwoXCldKylcWyhbMC05XSspXF0vLmV4ZWModCk7CiAgICAgIHJldHVybiBhID8gKCJ0ZXh0KCkiID09PSBhWzFdICYmIChhWzFdID0gIiN0ZXh0IiksIG4gPSBlLCByID0gYVsxXSwgbyA9IHBhcnNlSW50KGFbMl0sIDEwKSwgaSA9IGZlKGkgPSBmYyhuKSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICByZXR1cm4gIXVjKGUpIHx8ICF1YyhpW3QgLSAxXSk7CiAgICAgIH0pLCAoaSA9IGZlKGksIG9uKFtyXSkpKVtvXSkgOiBudWxsOwogICAgfSwgZSk7CiAgICByZXR1cm4gaSA/IHVjKGkpID8gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgZm9yICh2YXIgbiwgciA9IGUsIG8gPSAwOyB1YyhyKTspIHsKICAgICAgICBpZiAobiA9IHIuZGF0YS5sZW5ndGgsIG8gPD0gdCAmJiB0IDw9IG8gKyBuKSB7CiAgICAgICAgICBlID0gciwgdCAtPSBvOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQoKICAgICAgICBpZiAoIXVjKHIubmV4dFNpYmxpbmcpKSB7CiAgICAgICAgICBlID0gciwgdCA9IG47CiAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICAgIG8gKz0gbiwgciA9IHIubmV4dFNpYmxpbmc7CiAgICAgIH0KCiAgICAgIHJldHVybiB1YyhlKSAmJiB0ID4gZS5kYXRhLmxlbmd0aCAmJiAodCA9IGUuZGF0YS5sZW5ndGgpLCBhcyhlLCB0KTsKICAgIH0oaSwgcGFyc2VJbnQobywgMTApKSA6IChvID0gImFmdGVyIiA9PT0gbyA/IGNjKGkpICsgMSA6IGNjKGkpLCBhcyhpLnBhcmVudE5vZGUsIG8pKSA6IG51bGw7CiAgfQoKICBmdW5jdGlvbiBtcyhlLCB0LCBuLCByLCBvKSB7CiAgICB2YXIgaSwKICAgICAgICBhID0gcltvID8gInN0YXJ0Q29udGFpbmVyIiA6ICJlbmRDb250YWluZXIiXSwKICAgICAgICB1ID0gcltvID8gInN0YXJ0T2Zmc2V0IiA6ICJlbmRPZmZzZXQiXSwKICAgICAgICBzID0gW10sCiAgICAgICAgYyA9IDAsCiAgICAgICAgbCA9IGUuZ2V0Um9vdCgpOwoKICAgIGZvciAoam4oYSkgPyBzLnB1c2gobiA/IGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICAgIGZvciAodmFyIHIgPSBlKHQuZGF0YS5zbGljZSgwLCBuKSkubGVuZ3RoLCBvID0gdC5wcmV2aW91c1NpYmxpbmc7IG8gJiYgam4obyk7IG8gPSBvLnByZXZpb3VzU2libGluZykgewogICAgICAgIHIgKz0gZShvLmRhdGEpLmxlbmd0aDsKICAgICAgfQoKICAgICAgcmV0dXJuIHI7CiAgICB9KHQsIGEsIHUpIDogdSkgOiAodSA+PSAoaSA9IGEuY2hpbGROb2RlcykubGVuZ3RoICYmIGkubGVuZ3RoICYmIChjID0gMSwgdSA9IE1hdGgubWF4KDAsIGkubGVuZ3RoIC0gMSkpLCBzLnB1c2goZS5ub2RlSW5kZXgoaVt1XSwgbikgKyBjKSk7IGEgJiYgYSAhPT0gbDsgYSA9IGEucGFyZW50Tm9kZSkgewogICAgICBzLnB1c2goZS5ub2RlSW5kZXgoYSwgbikpOwogICAgfQoKICAgIHJldHVybiBzOwogIH0KCiAgZnVuY3Rpb24gZ3MoZSwgdCwgbikgewogICAgdmFyIHIgPSAwOwogICAgcmV0dXJuIEV0LmVhY2goZS5zZWxlY3QodCksIGZ1bmN0aW9uIChlKSB7CiAgICAgIGlmICgiYWxsIiAhPT0gZS5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIikpIHJldHVybiBlICE9PSBuICYmIHZvaWQgcisrOwogICAgfSksIHI7CiAgfQoKICBmdW5jdGlvbiBwcyhlLCB0KSB7CiAgICB2YXIgbiwKICAgICAgICByID0gdCA/ICJzdGFydCIgOiAiZW5kIiwKICAgICAgICBvID0gZVtyICsgIkNvbnRhaW5lciJdLAogICAgICAgIGkgPSBlW3IgKyAiT2Zmc2V0Il07CiAgICB6bihvKSAmJiAiVFIiID09PSBvLm5vZGVOYW1lICYmIChvID0gKG4gPSBvLmNoaWxkTm9kZXMpW01hdGgubWluKHQgPyBpIDogaSAtIDEsIG4ubGVuZ3RoIC0gMSldKSAmJiAoaSA9IHQgPyAwIDogby5jaGlsZE5vZGVzLmxlbmd0aCwgZVsic2V0IiArICh0ID8gIlN0YXJ0IiA6ICJFbmQiKV0obywgaSkpOwogIH0KCiAgZnVuY3Rpb24gaHMoZSkgewogICAgcmV0dXJuIHBzKGUsICEwKSwgcHMoZSwgITEpLCBlOwogIH0KCiAgZnVuY3Rpb24gdnMoZSwgdCkgewogICAgdmFyIG47CiAgICByZXR1cm4gem4oZSkgJiYgKGUgPSBCdShlLCB0KSwgZGMoZSkpID8gZSA6IElyKGUpID8gKG4gPSAoZSA9IGpuKGUpICYmIFByKGUpID8gZS5wYXJlbnROb2RlIDogZSkucHJldmlvdXNTaWJsaW5nLCBkYyhuKSA/IG4gOiAobiA9IGUubmV4dFNpYmxpbmcsIGRjKG4pID8gbiA6IHZvaWQgMCkpIDogdm9pZCAwOwogIH0KCiAgZnVuY3Rpb24gYnMoZSwgdCwgbikgewogICAgdmFyIHIgPSBuLmdldE5vZGUoKSwKICAgICAgICBvID0gciA/IHIubm9kZU5hbWUgOiBudWxsLAogICAgICAgIGkgPSBuLmdldFJuZygpOwogICAgaWYgKGRjKHIpIHx8ICJJTUciID09PSBvKSByZXR1cm4gewogICAgICBuYW1lOiBvLAogICAgICBpbmRleDogZ3Mobi5kb20sIG8sIHIpCiAgICB9OwogICAgdmFyIGEsCiAgICAgICAgdSwKICAgICAgICBzLAogICAgICAgIGMsCiAgICAgICAgbCwKICAgICAgICBmLAogICAgICAgIGQsCiAgICAgICAgbSA9IHZzKChhID0gaSkuc3RhcnRDb250YWluZXIsIGEuc3RhcnRPZmZzZXQpIHx8IHZzKGEuZW5kQ29udGFpbmVyLCBhLmVuZE9mZnNldCk7CiAgICByZXR1cm4gbSA/IHsKICAgICAgbmFtZTogbyA9IG0udGFnTmFtZSwKICAgICAgaW5kZXg6IGdzKG4uZG9tLCBvLCBtKQogICAgfSA6IChmID0gKHMgPSBuKS5kb20sIChkID0ge30pLnN0YXJ0ID0gbXMoZiwgdSA9IGUsIGMgPSB0LCBsID0gaSwgITApLCBzLmlzQ29sbGFwc2VkKCkgfHwgKGQuZW5kID0gbXMoZiwgdSwgYywgbCwgITEpKSwgSHIobCkgJiYgKGQuaXNGYWtlQ2FyZXQgPSAhMCksIGQpOwogIH0KCiAgZnVuY3Rpb24geXMoZSwgdCwgbikgewogICAgdmFyIHIgPSB7CiAgICAgICJkYXRhLW1jZS10eXBlIjogImJvb2ttYXJrIiwKICAgICAgaWQ6IHQsCiAgICAgIHN0eWxlOiAib3ZlcmZsb3c6aGlkZGVuO2xpbmUtaGVpZ2h0OjBweCIKICAgIH07CiAgICByZXR1cm4gbiA/IGUuY3JlYXRlKCJzcGFuIiwgciwgIiYjeEZFRkY7IikgOiBlLmNyZWF0ZSgic3BhbiIsIHIpOwogIH0KCiAgZnVuY3Rpb24gQ3MoZSwgdCkgewogICAgdmFyIG4gPSBlLmRvbSwKICAgICAgICByID0gZS5nZXRSbmcoKSwKICAgICAgICBvID0gbi51bmlxdWVJZCgpLAogICAgICAgIGkgPSBlLmlzQ29sbGFwc2VkKCksCiAgICAgICAgYSA9IGUuZ2V0Tm9kZSgpLAogICAgICAgIHUgPSBhLm5vZGVOYW1lOwogICAgaWYgKCJJTUciID09PSB1KSByZXR1cm4gewogICAgICBuYW1lOiB1LAogICAgICBpbmRleDogZ3MobiwgdSwgYSkKICAgIH07CiAgICB2YXIgcyA9IGhzKHIuY2xvbmVSYW5nZSgpKTsKICAgIHJldHVybiBpIHx8IChzLmNvbGxhcHNlKCExKSwgc3MobiwgcywgeXMobiwgbyArICJfZW5kIiwgdCkpKSwgKHIgPSBocyhyKSkuY29sbGFwc2UoITApLCBzcyhuLCByLCB5cyhuLCBvICsgIl9zdGFydCIsIHQpKSwgZS5tb3ZlVG9Cb29rbWFyayh7CiAgICAgIGlkOiBvLAogICAgICBrZWVwOiAhMAogICAgfSksIHsKICAgICAgaWQ6IG8KICAgIH07CiAgfQoKICBmdW5jdGlvbiB4cyhlLCB0LCBuKSB7CiAgICB2YXIgciA9IGUuZ2V0UGFyYW0odCwgbik7CiAgICByZXR1cm4gLTEgPT09IHIuaW5kZXhPZigiPSIpID8gciA6IHVlKGUuZ2V0UGFyYW0odCwgIiIsICJoYXNoIiksIGUuaWQpLmdldE9yKG4pOwogIH0KCiAgZnVuY3Rpb24gd3MoZSkgewogICAgcmV0dXJuIGUuZ2V0UGFyYW0oImNvbnRlbnRfc2VjdXJpdHlfcG9saWN5IiwgIiIpOwogIH0KCiAgZnVuY3Rpb24gU3MoZSkgewogICAgaWYgKGUuZ2V0UGFyYW0oImZvcmNlX3BfbmV3bGluZXMiLCAhMSkpIHJldHVybiAicCI7CiAgICB2YXIgdCA9IGUuZ2V0UGFyYW0oImZvcmNlZF9yb290X2Jsb2NrIiwgInAiKTsKICAgIHJldHVybiAhMSA9PT0gdCA/ICIiIDogITAgPT09IHQgPyAicCIgOiB0OwogIH0KCiAgZnVuY3Rpb24gRXMoZSkgewogICAgcmV0dXJuIGUuZ2V0UGFyYW0oImZvcmNlZF9yb290X2Jsb2NrX2F0dHJzIiwge30pOwogIH0KCiAgZnVuY3Rpb24gTnMoZSkgewogICAgcmV0dXJuIGUuZ2V0UGFyYW0oImF1dG9tYXRpY191cGxvYWRzIiwgITAsICJib29sZWFuIik7CiAgfQoKICBmdW5jdGlvbiBrcyhlKSB7CiAgICByZXR1cm4gZS5nZXRQYXJhbSgiaWNvbnMiLCAiIiwgInN0cmluZyIpOwogIH0KCiAgZnVuY3Rpb24gX3MoZSkgewogICAgcmV0dXJuIGUuZ2V0UGFyYW0oInJlZmVycmVyX3BvbGljeSIsICIiLCAic3RyaW5nIik7CiAgfQoKICBmdW5jdGlvbiBBcyhlKSB7CiAgICByZXR1cm4gZS5nZXRQYXJhbSgibGFuZ3VhZ2UiLCAiZW4iLCAic3RyaW5nIik7CiAgfQoKICBmdW5jdGlvbiBScyhlKSB7CiAgICByZXR1cm4gZS5nZXRQYXJhbSgiaW5kZW50X3VzZV9tYXJnaW4iLCAhMSk7CiAgfQoKICBmdW5jdGlvbiBEcyhlKSB7CiAgICB2YXIgdCA9IGUuZ2V0UGFyYW0oImZvbnRfY3NzIiwgW10pOwogICAgcmV0dXJuIFModCkgPyB0IDogVCh0LnNwbGl0KCIsIiksIEplKTsKICB9CgogIGZ1bmN0aW9uIFRzKGUpIHsKICAgIHZhciB0ID0gZS5nZXRQYXJhbSgib2JqZWN0X3Jlc2l6aW5nIik7CiAgICByZXR1cm4gITEgIT09IHQgJiYgIXh0LmlPUyAmJiAoWCh0KSA/IHQgOiAidGFibGUsaW1nLGZpZ3VyZS5pbWFnZSxkaXYsdmlkZW8saWZyYW1lIik7CiAgfQoKICBmdW5jdGlvbiBPcyhlKSB7CiAgICByZXR1cm4gZS5nZXRQYXJhbSgiZXZlbnRfcm9vdCIpOwogIH0KCiAgZnVuY3Rpb24gQnMoZSkgewogICAgcmV0dXJuIGUuZ2V0UGFyYW0oInRoZW1lIik7CiAgfQoKICBmdW5jdGlvbiBQcyhlKSB7CiAgICByZXR1cm4gITEgIT09IGUuZ2V0UGFyYW0oImlubGluZV9ib3VuZGFyaWVzIik7CiAgfQoKICBmdW5jdGlvbiBMcyhlKSB7CiAgICByZXR1cm4gZS5nZXRQYXJhbSgicGx1Z2lucyIsICIiLCAic3RyaW5nIik7CiAgfQoKICBmdW5jdGlvbiBJcyhlKSB7CiAgICB2YXIgdCA9IGUucGFyZW50Tm9kZTsKICAgIHQgJiYgdC5yZW1vdmVDaGlsZChlKTsKICB9CgogIGZ1bmN0aW9uIE1zKGUpIHsKICAgIHZhciB0ID0gd28oZSk7CiAgICByZXR1cm4gewogICAgICBjb3VudDogZS5sZW5ndGggLSB0Lmxlbmd0aCwKICAgICAgdGV4dDogdAogICAgfTsKICB9CgogIGZ1bmN0aW9uIEZzKGUpIHsKICAgIGZvciAodmFyIHQ7IC0xICE9PSAodCA9IGUuZGF0YS5sYXN0SW5kZXhPZihDbykpOykgewogICAgICBlLmRlbGV0ZURhdGEodCwgMSk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBVcyhlLCB0KSB7CiAgICByZXR1cm4gdmMoZSksIHQ7CiAgfQoKICBmdW5jdGlvbiB6cyhlLCB0KSB7CiAgICB2YXIgbiwKICAgICAgICByID0gdC5jb250YWluZXIoKSwKICAgICAgICBvID0gKC0xID09PSAobiA9IF8oeGUoci5jaGlsZE5vZGVzKSwgZSkpID8gdmUubm9uZSgpIDogdmUuc29tZShuKSkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBlIDwgdC5vZmZzZXQoKSA/IGFzKHIsIHQub2Zmc2V0KCkgLSAxKSA6IHQ7CiAgICB9KS5nZXRPcih0KTsKICAgIHJldHVybiB2YyhlKSwgbzsKICB9CgogIGZ1bmN0aW9uIEhzKGUsIHQpIHsKICAgIHJldHVybiBhcy5pc1RleHRQb3NpdGlvbih0KSA/IChyID0gdCwgaGMobiA9IGUpICYmIHIuY29udGFpbmVyKCkgPT09IG4gPyAoYSA9IE1zKChvID0gbikuZGF0YS5zdWJzdHIoMCwgKGkgPSByKS5vZmZzZXQoKSkpLCB1ID0gTXMoby5kYXRhLnN1YnN0cihpLm9mZnNldCgpKSksIDAgPCAoYS50ZXh0ICsgdS50ZXh0KS5sZW5ndGggPyAoRnMobyksIGFzKG8sIGkub2Zmc2V0KCkgLSBhLmNvdW50KSkgOiBpKSA6IFVzKG4sIHIpKSA6IChzID0gZSwgKChjID0gdCkuY29udGFpbmVyKCkgPT09IHMucGFyZW50Tm9kZSA/IHpzIDogVXMpKHMsIGMpKTsKICAgIHZhciBuLCByLCBvLCBpLCBhLCB1LCBzLCBjOwogIH0KCiAgZnVuY3Rpb24ganMoZSwgdCwgbikgewogICAgdmFyIHIsCiAgICAgICAgbywKICAgICAgICBpLAogICAgICAgIGEgPSBfdSh0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBuKSwKICAgICAgICB1ID0gIkJPRFkiID09PSBlLnRhZ05hbWUgPyAociA9IGUub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIG8gPSBlLnNjcm9sbExlZnQgfHwgci5zY3JvbGxMZWZ0LCBlLnNjcm9sbFRvcCB8fCByLnNjcm9sbFRvcCkgOiAoaSA9IGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIG8gPSBlLnNjcm9sbExlZnQgLSBpLmxlZnQsIGUuc2Nyb2xsVG9wIC0gaS50b3ApOwoKICAgIGEubGVmdCArPSBvLCBhLnJpZ2h0ICs9IG8sIGEudG9wICs9IHUsIGEuYm90dG9tICs9IHUsIGEud2lkdGggPSAxOwogICAgdmFyIHMgPSB0Lm9mZnNldFdpZHRoIC0gdC5jbGllbnRXaWR0aDsKICAgIHJldHVybiAwIDwgcyAmJiAobiAmJiAocyAqPSAtMSksIGEubGVmdCArPSBzLCBhLnJpZ2h0ICs9IHMpLCBhOwogIH0KCiAgZnVuY3Rpb24gVnMoZSwgaSwgYSwgdSkgewogICAgZnVuY3Rpb24gcygpIHsKICAgICAgIWZ1bmN0aW9uICgpIHsKICAgICAgICBmb3IgKHZhciBlID0gaHUoTnQuZnJvbURvbShpKSwgIipbY29udGVudEVkaXRhYmxlPWZhbHNlXSx2aWRlbyxhdWRpbyxlbWJlZCxvYmplY3QiKSwgdCA9IDA7IHQgPCBlLmxlbmd0aDsgdCsrKSB7CiAgICAgICAgICB2YXIgbiwKICAgICAgICAgICAgICByID0gZVt0XS5kb20sCiAgICAgICAgICAgICAgbyA9IHIucHJldmlvdXNTaWJsaW5nOwogICAgICAgICAga28obykgJiYgKDEgPT09IChuID0gby5kYXRhKS5sZW5ndGggPyBvLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobykgOiBvLmRlbGV0ZURhdGEobi5sZW5ndGggLSAxLCAxKSksIG8gPSByLm5leHRTaWJsaW5nLCBObyhvKSAmJiAoMSA9PT0gKG4gPSBvLmRhdGEpLmxlbmd0aCA/IG8ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChvKSA6IG8uZGVsZXRlRGF0YSgwLCAxKSk7CiAgICAgICAgfQogICAgICB9KCksIGwgJiYgKHZjKGwpLCBsID0gbnVsbCksIGYub24oZnVuY3Rpb24gKGUpIHsKICAgICAgICBXYShlLmNhcmV0KS5yZW1vdmUoKSwgZi5jbGVhcigpOwogICAgICB9KSwgYyAmJiAoX3IuY2xlYXJJbnRlcnZhbChjKSwgYyA9IHZvaWQgMCk7CiAgICB9CgogICAgdmFyIGMsCiAgICAgICAgbCwKICAgICAgICBmID0gY3UoKSwKICAgICAgICB0ID0gU3MoZSksCiAgICAgICAgZCA9IDAgPCB0Lmxlbmd0aCA/IHQgOiAicCI7CiAgICByZXR1cm4gewogICAgICBzaG93OiBmdW5jdGlvbiBzaG93KGUsIHQpIHsKICAgICAgICB2YXIgbjsKICAgICAgICBpZiAocygpLCB4Yyh0KSkgcmV0dXJuIG51bGw7CiAgICAgICAgaWYgKCFhKHQpKSByZXR1cm4gbCA9IGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgICB2YXIgbiA9IGUub3duZXJEb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShDbyksCiAgICAgICAgICAgICAgciA9IGUucGFyZW50Tm9kZTsKCiAgICAgICAgICBpZiAodCkgewogICAgICAgICAgICBpZiAobyA9IGUucHJldmlvdXNTaWJsaW5nLCBFbyhvKSkgewogICAgICAgICAgICAgIGlmIChJcihvKSkgcmV0dXJuIG87CiAgICAgICAgICAgICAgaWYgKGtvKG8pKSByZXR1cm4gby5zcGxpdFRleHQoby5kYXRhLmxlbmd0aCAtIDEpOwogICAgICAgICAgICB9CgogICAgICAgICAgICByLmluc2VydEJlZm9yZShuLCBlKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciBvID0gZS5uZXh0U2libGluZzsKCiAgICAgICAgICAgIGlmIChFbyhvKSkgewogICAgICAgICAgICAgIGlmIChJcihvKSkgcmV0dXJuIG87CiAgICAgICAgICAgICAgaWYgKE5vKG8pKSByZXR1cm4gby5zcGxpdFRleHQoMSksIG87CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGUubmV4dFNpYmxpbmcgPyByLmluc2VydEJlZm9yZShuLCBlLm5leHRTaWJsaW5nKSA6IHIuYXBwZW5kQ2hpbGQobik7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIG47CiAgICAgICAgfSh0LCBlKSwgbiA9IHQub3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpLCB3YyhsLm5leHRTaWJsaW5nKSA/IChuLnNldFN0YXJ0KGwsIDApLCBuLnNldEVuZChsLCAwKSkgOiAobi5zZXRTdGFydChsLCAxKSwgbi5zZXRFbmQobCwgMSkpLCBuOwoKICAgICAgICBsID0gZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgICAgIHZhciByLAogICAgICAgICAgICAgIG8gPSB0Lm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudChlKTsKICAgICAgICAgIG8uc2V0QXR0cmlidXRlKCJkYXRhLW1jZS1jYXJldCIsIG4gPyAiYmVmb3JlIiA6ICJhZnRlciIpLCBvLnNldEF0dHJpYnV0ZSgiZGF0YS1tY2UtYm9ndXMiLCAiYWxsIiksIG8uYXBwZW5kQ2hpbGQoKChyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnIiKSkuc2V0QXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIsICIxIiksIHIpKTsKICAgICAgICAgIHZhciBpID0gdC5wYXJlbnROb2RlOwogICAgICAgICAgcmV0dXJuIG4gPyBpLmluc2VydEJlZm9yZShvLCB0KSA6IHQubmV4dFNpYmxpbmcgPyBpLmluc2VydEJlZm9yZShvLCB0Lm5leHRTaWJsaW5nKSA6IGkuYXBwZW5kQ2hpbGQobyksIG87CiAgICAgICAgfShkLCB0LCBlKTsKCiAgICAgICAgdmFyIHIgPSBqcyhpLCB0LCBlKTsKICAgICAgICBXYShsKS5jc3MoInRvcCIsIHIudG9wKTsKICAgICAgICB2YXIgbyA9IFdhKCc8ZGl2IGNsYXNzPSJtY2UtdmlzdWFsLWNhcmV0IiBkYXRhLW1jZS1ib2d1cz0iYWxsIj48L2Rpdj4nKS5jc3MoX2UyKHt9LCByKSkuYXBwZW5kVG8oaSlbMF07CiAgICAgICAgcmV0dXJuIGYuc2V0KHsKICAgICAgICAgIGNhcmV0OiBvLAogICAgICAgICAgZWxlbWVudDogdCwKICAgICAgICAgIGJlZm9yZTogZQogICAgICAgIH0pLCBlICYmIFdhKG8pLmFkZENsYXNzKCJtY2UtdmlzdWFsLWNhcmV0LWJlZm9yZSIpLCBjID0gX3Iuc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgICAgdSgpID8gV2EoImRpdi5tY2UtdmlzdWFsLWNhcmV0IiwgaSkudG9nZ2xlQ2xhc3MoIm1jZS12aXN1YWwtY2FyZXQtaGlkZGVuIikgOiBXYSgiZGl2Lm1jZS12aXN1YWwtY2FyZXQiLCBpKS5hZGRDbGFzcygibWNlLXZpc3VhbC1jYXJldC1oaWRkZW4iKTsKICAgICAgICB9LCA1MDApLCAobiA9IHQub3duZXJEb2N1bWVudC5jcmVhdGVSYW5nZSgpKS5zZXRTdGFydChsLCAwKSwgbi5zZXRFbmQobCwgMCksIG47CiAgICAgIH0sCiAgICAgIGhpZGU6IHMsCiAgICAgIGdldENzczogZnVuY3Rpb24gZ2V0Q3NzKCkgewogICAgICAgIHJldHVybiAiLm1jZS12aXN1YWwtY2FyZXQge3Bvc2l0aW9uOiBhYnNvbHV0ZTtiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztiYWNrZ3JvdW5kLWNvbG9yOiBjdXJyZW50Y29sb3I7fS5tY2UtdmlzdWFsLWNhcmV0LWhpZGRlbiB7ZGlzcGxheTogbm9uZTt9KltkYXRhLW1jZS1jYXJldF0ge3Bvc2l0aW9uOiBhYnNvbHV0ZTtsZWZ0OiAtMTAwMHB4O3JpZ2h0OiBhdXRvO3RvcDogMDttYXJnaW46IDA7cGFkZGluZzogMDt9IjsKICAgICAgfSwKICAgICAgcmVwb3NpdGlvbjogZnVuY3Rpb24gcmVwb3NpdGlvbigpIHsKICAgICAgICBmLm9uKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgdCA9IGpzKGksIGUuZWxlbWVudCwgZS5iZWZvcmUpOwogICAgICAgICAgV2EoZS5jYXJldCkuY3NzKF9lMih7fSwgdCkpOwogICAgICAgIH0pOwogICAgICB9LAogICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkgewogICAgICAgIHJldHVybiBfci5jbGVhckludGVydmFsKGMpOwogICAgICB9CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gcXMoKSB7CiAgICByZXR1cm4gYmMuaXNJRSgpIHx8IGJjLmlzRWRnZSgpIHx8IGJjLmlzRmlyZWZveCgpOwogIH0KCiAgZnVuY3Rpb24gJHMoZSkgewogICAgcmV0dXJuIHdjKGUpIHx8IGNuKGUpICYmIHFzKCk7CiAgfQoKICBmdW5jdGlvbiBXcyhlLCB0KSB7CiAgICBmb3IgKHZhciBuOyBuID0gZSh0KTspIHsKICAgICAgaWYgKCFfYyhuKSkgcmV0dXJuIG47CiAgICB9CgogICAgcmV0dXJuIG51bGw7CiAgfQoKICBmdW5jdGlvbiBLcyhlLCB0LCBuLCByLCBvKSB7CiAgICB2YXIgaSA9IG5ldyBScihlLCByKSwKICAgICAgICBhID0gU2MoZSkgfHwgX2MoZSk7CgogICAgaWYgKHQgPCAwKSB7CiAgICAgIGlmIChhICYmIG4oZSA9IFdzKGkucHJldi5iaW5kKGkpLCAhMCkpKSByZXR1cm4gZTsKCiAgICAgIGZvciAoOyBlID0gV3MoaS5wcmV2LmJpbmQoaSksIG8pOykgewogICAgICAgIGlmIChuKGUpKSByZXR1cm4gZTsKICAgICAgfQogICAgfQoKICAgIGlmICgwIDwgdCkgewogICAgICBpZiAoYSAmJiBuKGUgPSBXcyhpLm5leHQuYmluZChpKSwgITApKSkgcmV0dXJuIGU7CgogICAgICBmb3IgKDsgZSA9IFdzKGkubmV4dC5iaW5kKGkpLCBvKTspIHsKICAgICAgICBpZiAobihlKSkgcmV0dXJuIGU7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbnVsbDsKICB9CgogIGZ1bmN0aW9uIFhzKGUsIHQpIHsKICAgIGZvciAoOyBlICYmIGUgIT09IHQ7KSB7CiAgICAgIGlmIChOYyhlKSkgcmV0dXJuIGU7CiAgICAgIGUgPSBlLnBhcmVudE5vZGU7CiAgICB9CgogICAgcmV0dXJuIG51bGw7CiAgfQoKICBmdW5jdGlvbiBZcyhlLCB0LCBuKSB7CiAgICByZXR1cm4gWHMoZS5jb250YWluZXIoKSwgbikgPT09IFhzKHQuY29udGFpbmVyKCksIG4pOwogIH0KCiAgZnVuY3Rpb24gR3MoZSwgdCkgewogICAgaWYgKCF0KSByZXR1cm4gbnVsbDsKICAgIHZhciBuID0gdC5jb250YWluZXIoKSwKICAgICAgICByID0gdC5vZmZzZXQoKTsKICAgIHJldHVybiBBYyhuKSA/IG4uY2hpbGROb2Rlc1tyICsgZV0gOiBudWxsOwogIH0KCiAgZnVuY3Rpb24gSnMoZSwgdCkgewogICAgdmFyIG4gPSB0Lm93bmVyRG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTsKICAgIHJldHVybiBlID8gKG4uc2V0U3RhcnRCZWZvcmUodCksIG4uc2V0RW5kQmVmb3JlKHQpKSA6IChuLnNldFN0YXJ0QWZ0ZXIodCksIG4uc2V0RW5kQWZ0ZXIodCkpLCBuOwogIH0KCiAgZnVuY3Rpb24gUXMoZSwgdCwgbikgewogICAgZm9yICh2YXIgciwgbywgaSA9IGUgPyAicHJldmlvdXNTaWJsaW5nIiA6ICJuZXh0U2libGluZyI7IG4gJiYgbiAhPT0gdDspIHsKICAgICAgdmFyIGEgPSBuW2ldOwoKICAgICAgaWYgKGtjKGEpICYmIChhID0gYVtpXSksIFNjKGEpIHx8IEVjKGEpKSB7CiAgICAgICAgaWYgKG8gPSBuLCBYcyhhLCByID0gdCkgPT09IFhzKG8sIHIpKSByZXR1cm4gYTsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgaWYgKFJjKGEpKSBicmVhazsKICAgICAgbiA9IG4ucGFyZW50Tm9kZTsKICAgIH0KCiAgICByZXR1cm4gbnVsbDsKICB9CgogIGZ1bmN0aW9uIFpzKGUsIHQsIG4pIHsKICAgIHZhciByLAogICAgICAgIG8gPSBBKFFzLCAhMCwgdCksCiAgICAgICAgaSA9IEEoUXMsICExLCB0KSwKICAgICAgICBhID0gbi5zdGFydENvbnRhaW5lciwKICAgICAgICB1ID0gbi5zdGFydE9mZnNldDsKCiAgICBpZiAoUHIoYSkpIHsKICAgICAgdmFyIHMgPSAoYSA9IEFjKGEpID8gYSA6IGEucGFyZW50Tm9kZSkuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1jYXJldCIpOwogICAgICBpZiAoImJlZm9yZSIgPT09IHMgJiYgJHMociA9IGEubmV4dFNpYmxpbmcpKSByZXR1cm4gRGMocik7CiAgICAgIGlmICgiYWZ0ZXIiID09PSBzICYmICRzKHIgPSBhLnByZXZpb3VzU2libGluZykpIHJldHVybiBUYyhyKTsKICAgIH0KCiAgICBpZiAoIW4uY29sbGFwc2VkKSByZXR1cm4gbjsKCiAgICBpZiAoam4oYSkpIHsKICAgICAgaWYgKGtjKGEpKSB7CiAgICAgICAgaWYgKDEgPT09IGUpIHsKICAgICAgICAgIGlmIChyID0gaShhKSkgcmV0dXJuIERjKHIpOwogICAgICAgICAgaWYgKHIgPSBvKGEpKSByZXR1cm4gVGMocik7CiAgICAgICAgfQoKICAgICAgICBpZiAoLTEgPT09IGUpIHsKICAgICAgICAgIGlmIChyID0gbyhhKSkgcmV0dXJuIFRjKHIpOwogICAgICAgICAgaWYgKHIgPSBpKGEpKSByZXR1cm4gRGMocik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbjsKICAgICAgfQoKICAgICAgaWYgKGtvKGEpICYmIHUgPj0gYS5kYXRhLmxlbmd0aCAtIDEpIHJldHVybiAxID09PSBlICYmIChyID0gaShhKSkgPyBEYyhyKSA6IG47CiAgICAgIGlmIChObyhhKSAmJiB1IDw9IDEpIHJldHVybiAtMSA9PT0gZSAmJiAociA9IG8oYSkpID8gVGMocikgOiBuOwogICAgICBpZiAodSA9PT0gYS5kYXRhLmxlbmd0aCkgcmV0dXJuIChyID0gaShhKSkgPyBEYyhyKSA6IG47CiAgICAgIGlmICgwID09PSB1KSByZXR1cm4gKHIgPSBvKGEpKSA/IFRjKHIpIDogbjsKICAgIH0KCiAgICByZXR1cm4gbjsKICB9CgogIGZ1bmN0aW9uIGVjKGUsIHQpIHsKICAgIHJldHVybiB2ZS5mcm9tKEdzKGUgPyAwIDogLTEsIHQpKS5maWx0ZXIoU2MpOwogIH0KCiAgZnVuY3Rpb24gdGMoZSwgdCwgbikgewogICAgdmFyIHIgPSBacyhlLCB0LCBuKTsKICAgIHJldHVybiAtMSA9PT0gZSA/IGFzLmZyb21SYW5nZVN0YXJ0KHIpIDogYXMuZnJvbVJhbmdlRW5kKHIpOwogIH0KCiAgZnVuY3Rpb24gbmMoZSkgewogICAgcmV0dXJuIHZlLmZyb20oZS5nZXROb2RlKCkpLm1hcChOdC5mcm9tRG9tKTsKICB9CgogIGZ1bmN0aW9uIHJjKGUsIHQpIHsKICAgIGZvciAoOyB0ID0gZSh0KTspIHsKICAgICAgaWYgKHQuaXNWaXNpYmxlKCkpIHJldHVybiB0OwogICAgfQoKICAgIHJldHVybiB0OwogIH0KCiAgZnVuY3Rpb24gb2MoZSwgdCkgewogICAgdmFyIG4gPSBZcyhlLCB0KTsKICAgIHJldHVybiAhKG4gfHwgIVduKGUuZ2V0Tm9kZSgpKSkgfHwgbjsKICB9CgogIGFzLmZyb21SYW5nZVN0YXJ0ID0gZnVuY3Rpb24gKGUpIHsKICAgIHJldHVybiBhcyhlLnN0YXJ0Q29udGFpbmVyLCBlLnN0YXJ0T2Zmc2V0KTsKICB9LCBhcy5mcm9tUmFuZ2VFbmQgPSBmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuIGFzKGUuZW5kQ29udGFpbmVyLCBlLmVuZE9mZnNldCk7CiAgfSwgYXMuYWZ0ZXIgPSBmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuIGFzKGUucGFyZW50Tm9kZSwgcnMoZSkgKyAxKTsKICB9LCBhcy5iZWZvcmUgPSBmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuIGFzKGUucGFyZW50Tm9kZSwgcnMoZSkpOwogIH0sIGFzLmlzQWJvdmUgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgcmV0dXJuIGRuKFEodC5nZXRDbGllbnRSZWN0cygpKSwgWihlLmdldENsaWVudFJlY3RzKCkpLCBSdSkuZ2V0T3IoITEpOwogIH0sIGFzLmlzQmVsb3cgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgcmV0dXJuIGRuKFoodC5nZXRDbGllbnRSZWN0cygpKSwgUShlLmdldENsaWVudFJlY3RzKCkpLCBEdSkuZ2V0T3IoITEpOwogIH0sIGFzLmlzQXRTdGFydCA9IGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gISFlICYmIGUuaXNBdFN0YXJ0KCk7CiAgfSwgYXMuaXNBdEVuZCA9IGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gISFlICYmIGUuaXNBdEVuZCgpOwogIH0sIGFzLmlzVGV4dFBvc2l0aW9uID0gZnVuY3Rpb24gKGUpIHsKICAgIHJldHVybiAhIWUgJiYgam4oZS5jb250YWluZXIoKSk7CiAgfSwgYXMuaXNFbGVtZW50UG9zaXRpb24gPSBmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuICExID09PSBhcy5pc1RleHRQb3NpdGlvbihlKTsKICB9OwoKICB2YXIgaWMsCiAgICAgIGFjLAogICAgICB1YyA9IGpuLAogICAgICBzYyA9IHNuLAogICAgICBjYyA9IEphLm5vZGVJbmRleCwKICAgICAgbGMgPSBmdW5jdGlvbiBsYyhlKSB7CiAgICB2YXIgdCA9IGUucGFyZW50Tm9kZTsKICAgIHJldHVybiBzYyh0KSA/IGxjKHQpIDogdDsKICB9LAogICAgICBmYyA9IGZ1bmN0aW9uIGZjKGUpIHsKICAgIHJldHVybiBlID8gbWUoZS5jaGlsZE5vZGVzLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICByZXR1cm4gc2ModCkgJiYgIkJSIiAhPT0gdC5ub2RlTmFtZSA/IGUgPSBlLmNvbmNhdChmYyh0KSkgOiBlLnB1c2godCksIGU7CiAgICB9LCBbXSkgOiBbXTsKICB9LAogICAgICBkYyA9IFluLAogICAgICBtYyA9IEEoYnMsIHUsICEwKSwKICAgICAgZ2MgPSBKYS5ET00sCiAgICAgIHBjID0gem4sCiAgICAgIGhjID0gam4sCiAgICAgIHZjID0gZnVuY3Rpb24gdmMoZSkgewogICAgcGMoZSkgJiYgSXIoZSkgJiYgKE1yKGUpID8gZS5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtbWNlLWNhcmV0IikgOiBJcyhlKSksIGhjKGUpICYmIChGcyhlKSwgMCA9PT0gZS5kYXRhLmxlbmd0aCAmJiBJcyhlKSk7CiAgfSwKICAgICAgYmMgPSBkdCgpLmJyb3dzZXIsCiAgICAgIHljID0gWW4sCiAgICAgIENjID0gSm4sCiAgICAgIHhjID0gR24sCiAgICAgIHdjID0gZnVuY3Rpb24gd2MoZSkgewogICAgcmV0dXJuIHljKGUpIHx8IENjKGUpOwogIH0sCiAgICAgIFNjID0gWW4sCiAgICAgIEVjID0gSm4sCiAgICAgIE5jID0gYW4oImRpc3BsYXkiLCAiYmxvY2sgdGFibGUgdGFibGUtY2VsbCB0YWJsZS1jYXB0aW9uIGxpc3QtaXRlbSIpLAogICAgICBrYyA9IElyLAogICAgICBfYyA9IFByLAogICAgICBBYyA9IHpuLAogICAgICBSYyA9IGpyLAogICAgICBEYyA9IEEoSnMsICEwKSwKICAgICAgVGMgPSBBKEpzLCAhMSk7CgogIGZ1bmN0aW9uIE9jKGUsIHQpIHsKICAgIHJldHVybiBlLmhhc0NoaWxkTm9kZXMoKSAmJiB0IDwgZS5jaGlsZE5vZGVzLmxlbmd0aCA/IGUuY2hpbGROb2Rlc1t0XSA6IG51bGw7CiAgfQoKICBmdW5jdGlvbiBCYyhlLCB0KSB7CiAgICBpZiAoMCA8IGUpIHsKICAgICAgaWYgKEtsKHQucHJldmlvdXNTaWJsaW5nKSAmJiAhcWwodC5wcmV2aW91c1NpYmxpbmcpKSByZXR1cm4gYXMuYmVmb3JlKHQpOwogICAgICBpZiAocWwodCkpIHJldHVybiBhcyh0LCAwKTsKICAgIH0KCiAgICBpZiAoZSA8IDApIHsKICAgICAgaWYgKEtsKHQubmV4dFNpYmxpbmcpICYmICFxbCh0Lm5leHRTaWJsaW5nKSkgcmV0dXJuIGFzLmFmdGVyKHQpOwogICAgICBpZiAocWwodCkpIHJldHVybiBhcyh0LCB0LmRhdGEubGVuZ3RoKTsKICAgIH0KCiAgICByZXR1cm4gZSA8IDAgJiYgIVdsKHQpID8gYXMuYWZ0ZXIodCkgOiBhcy5iZWZvcmUodCk7CiAgfQoKICBmdW5jdGlvbiBQYyh0KSB7CiAgICByZXR1cm4gewogICAgICBuZXh0OiBmdW5jdGlvbiBuZXh0KGUpIHsKICAgICAgICByZXR1cm4gWWwoaWMuRm9yd2FyZHMsIGUsIHQpOwogICAgICB9LAogICAgICBwcmV2OiBmdW5jdGlvbiBwcmV2KGUpIHsKICAgICAgICByZXR1cm4gWWwoaWMuQmFja3dhcmRzLCBlLCB0KTsKICAgICAgfQogICAgfTsKICB9CgogIGZ1bmN0aW9uIExjKGUpIHsKICAgIHJldHVybiBhcy5pc1RleHRQb3NpdGlvbihlKSA/IDAgPT09IGUub2Zmc2V0KCkgOiBqcihlLmdldE5vZGUoKSk7CiAgfQoKICBmdW5jdGlvbiBJYyhlKSB7CiAgICBpZiAoYXMuaXNUZXh0UG9zaXRpb24oZSkpIHsKICAgICAgdmFyIHQgPSBlLmNvbnRhaW5lcigpOwogICAgICByZXR1cm4gZS5vZmZzZXQoKSA9PT0gdC5kYXRhLmxlbmd0aDsKICAgIH0KCiAgICByZXR1cm4ganIoZS5nZXROb2RlKCEwKSk7CiAgfQoKICBmdW5jdGlvbiBNYyhlLCB0KSB7CiAgICByZXR1cm4gIWFzLmlzVGV4dFBvc2l0aW9uKGUpICYmICFhcy5pc1RleHRQb3NpdGlvbih0KSAmJiBlLmdldE5vZGUoKSA9PT0gdC5nZXROb2RlKCEwKTsKICB9CgogIGZ1bmN0aW9uIEZjKG8sIGksIGEpIHsKICAgIHJldHVybiBHbChvLCBpLCBhKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBZcyhhLCBlLCBpKSAmJiAodCA9IGEsIG4gPSBlLCBvID8gIU1jKHQsIG4pICYmIChhcy5pc1RleHRQb3NpdGlvbihyID0gdCkgfHwgIVduKHIuZ2V0Tm9kZSgpKSkgJiYgSWModCkgJiYgTGMobikgOiAhTWMobiwgdCkgJiYgTGModCkgJiYgSWMobikpID8gR2wobywgaSwgZSkgOiB2ZS5zb21lKGUpOwogICAgICB2YXIgdCwgbiwgcjsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gVWMoZSwgdCkgewogICAgdmFyIG4sCiAgICAgICAgciwKICAgICAgICBvLAogICAgICAgIGksCiAgICAgICAgYSwKICAgICAgICB1ID0gZSA/IHQuZmlyc3RDaGlsZCA6IHQubGFzdENoaWxkOwogICAgcmV0dXJuIGpuKHUpID8gdmUuc29tZShhcyh1LCBlID8gMCA6IHUuZGF0YS5sZW5ndGgpKSA6IHUgPyBqcih1KSA/IHZlLnNvbWUoZSA/IGFzLmJlZm9yZSh1KSA6IFduKGEgPSB1KSA/IGFzLmJlZm9yZShhKSA6IGFzLmFmdGVyKGEpKSA6IChyID0gdCwgbyA9IHUsIGkgPSAobiA9IGUpID8gYXMuYmVmb3JlKG8pIDogYXMuYWZ0ZXIobyksIEdsKG4sIHIsIGkpKSA6IHZlLm5vbmUoKTsKICB9CgogIGZ1bmN0aW9uIHpjKGUpIHsKICAgIHJldHVybiB6bihlKSAmJiBlLmlkID09PSBuZjsKICB9CgogIGZ1bmN0aW9uIEhjKGUsIHQpIHsKICAgIGZvciAoOyB0ICYmIHQgIT09IGU7KSB7CiAgICAgIGlmICh0LmlkID09PSBuZikgcmV0dXJuIHQ7CiAgICAgIHQgPSB0LnBhcmVudE5vZGU7CiAgICB9CgogICAgcmV0dXJuIG51bGw7CiAgfQoKICBmdW5jdGlvbiBqYyhlKSB7CiAgICByZXR1cm4gRXQuaXNBcnJheShlLnN0YXJ0KTsKICB9CgogIGZ1bmN0aW9uIFZjKGUsIHQpIHsKICAgIHJldHVybiB6bih0KSAmJiBlLmlzQmxvY2sodCkgJiYgIXQuaW5uZXJIVE1MICYmICF4dC5pZSAmJiAodC5pbm5lckhUTUwgPSAnPGJyIGRhdGEtbWNlLWJvZ3VzPSIxIiAvPicpLCB0OwogIH0KCiAgZnVuY3Rpb24gcWMoZSwgdCwgbikgewogICAgcmV0dXJuICExID09PSB0Lmhhc0NoaWxkTm9kZXMoKSAmJiBIYyhlLCB0KSAmJiAobyA9IG4sIGkgPSAociA9IHQpLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoQ28pLCByLmFwcGVuZENoaWxkKGkpLCBvLnNldFN0YXJ0KGksIDApLCBvLnNldEVuZChpLCAwKSwgMSk7CiAgICB2YXIgciwgbywgaTsKICB9CgogIGZ1bmN0aW9uICRjKGUsIHQsIG4sIHIpIHsKICAgIHZhciBvLAogICAgICAgIGksCiAgICAgICAgYSwKICAgICAgICB1LAogICAgICAgIHMgPSBuW3QgPyAic3RhcnQiIDogImVuZCJdLAogICAgICAgIGMgPSBlLmdldFJvb3QoKTsKCiAgICBpZiAocykgewogICAgICBmb3IgKGEgPSBzWzBdLCBpID0gYywgbyA9IHMubGVuZ3RoIC0gMTsgMSA8PSBvOyBvLS0pIHsKICAgICAgICBpZiAodSA9IGkuY2hpbGROb2RlcywgcWMoYywgaSwgcikpIHJldHVybiAxOwogICAgICAgIGlmIChzW29dID4gdS5sZW5ndGggLSAxKSByZXR1cm4gcWMoYywgaSwgcikgfHwgZnVuY3Rpb24gKHQpIHsKICAgICAgICAgIHJldHVybiB0ZihpKS5mb2xkKFIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJldHVybiB0LnNldFN0YXJ0KGUuY29udGFpbmVyKCksIGUub2Zmc2V0KCkpLCB0LnNldEVuZChlLmNvbnRhaW5lcigpLCBlLm9mZnNldCgpKSwgITA7CiAgICAgICAgICB9KTsKICAgICAgICB9KHIpOwogICAgICAgIGkgPSB1W3Nbb11dOwogICAgICB9CgogICAgICAzID09PSBpLm5vZGVUeXBlICYmIChhID0gTWF0aC5taW4oc1swXSwgaS5ub2RlVmFsdWUubGVuZ3RoKSksIDEgPT09IGkubm9kZVR5cGUgJiYgKGEgPSBNYXRoLm1pbihzWzBdLCBpLmNoaWxkTm9kZXMubGVuZ3RoKSksIHQgPyByLnNldFN0YXJ0KGksIGEpIDogci5zZXRFbmQoaSwgYSk7CiAgICB9CgogICAgcmV0dXJuIDE7CiAgfQoKICBmdW5jdGlvbiBXYyhlKSB7CiAgICByZXR1cm4gam4oZSkgJiYgMCA8IGUuZGF0YS5sZW5ndGg7CiAgfQoKICBmdW5jdGlvbiBLYyhlLCB0LCBuKSB7CiAgICB2YXIgciwKICAgICAgICBvLAogICAgICAgIGksCiAgICAgICAgYSwKICAgICAgICB1LAogICAgICAgIHMsCiAgICAgICAgYyA9IGUuZ2V0KG4uaWQgKyAiXyIgKyB0KSwKICAgICAgICBsID0gbi5rZWVwOwoKICAgIGlmIChjKSB7CiAgICAgIGlmIChyID0gYy5wYXJlbnROb2RlLCBvID0gInN0YXJ0IiA9PT0gdCA/IGwgPyBjLmhhc0NoaWxkTm9kZXMoKSA/IChyID0gYy5maXJzdENoaWxkLCAxKSA6IFdjKGMubmV4dFNpYmxpbmcpID8gKHIgPSBjLm5leHRTaWJsaW5nLCAwKSA6IFdjKGMucHJldmlvdXNTaWJsaW5nKSA/IChyID0gYy5wcmV2aW91c1NpYmxpbmcsIGMucHJldmlvdXNTaWJsaW5nLmRhdGEubGVuZ3RoKSA6IChyID0gYy5wYXJlbnROb2RlLCBlLm5vZGVJbmRleChjKSArIDEpIDogZS5ub2RlSW5kZXgoYykgOiBsID8gYy5oYXNDaGlsZE5vZGVzKCkgPyAociA9IGMuZmlyc3RDaGlsZCwgMSkgOiBXYyhjLnByZXZpb3VzU2libGluZykgPyAociA9IGMucHJldmlvdXNTaWJsaW5nLCBjLnByZXZpb3VzU2libGluZy5kYXRhLmxlbmd0aCkgOiAociA9IGMucGFyZW50Tm9kZSwgZS5ub2RlSW5kZXgoYykpIDogZS5ub2RlSW5kZXgoYyksIHUgPSByLCBzID0gbywgIWwpIHsKICAgICAgICBmb3IgKGEgPSBjLnByZXZpb3VzU2libGluZywgaSA9IGMubmV4dFNpYmxpbmcsIEV0LmVhY2goRXQuZ3JlcChjLmNoaWxkTm9kZXMpLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgam4oZSkgJiYgKGUubm9kZVZhbHVlID0gZS5ub2RlVmFsdWUucmVwbGFjZSgvXHVGRUZGL2csICIiKSk7CiAgICAgICAgfSk7IGMgPSBlLmdldChuLmlkICsgIl8iICsgdCk7KSB7CiAgICAgICAgICBlLnJlbW92ZShjLCAhMCk7CiAgICAgICAgfQoKICAgICAgICBhICYmIGkgJiYgYS5ub2RlVHlwZSA9PT0gaS5ub2RlVHlwZSAmJiBqbihhKSAmJiAheHQub3BlcmEgJiYgKG8gPSBhLm5vZGVWYWx1ZS5sZW5ndGgsIGEuYXBwZW5kRGF0YShpLm5vZGVWYWx1ZSksIGUucmVtb3ZlKGkpLCB1ID0gYSwgcyA9IG8pOwogICAgICB9CgogICAgICByZXR1cm4gdmUuc29tZShhcyh1LCBzKSk7CiAgICB9CgogICAgcmV0dXJuIHZlLm5vbmUoKTsKICB9CgogIGZ1bmN0aW9uIFhjKHQsIGUpIHsKICAgICFmdW5jdGlvbiAoZSwgdCkgewogICAgICB2YXIgbiwKICAgICAgICAgIHIsCiAgICAgICAgICBvLAogICAgICAgICAgaSwKICAgICAgICAgIGEsCiAgICAgICAgICB1LAogICAgICAgICAgcywKICAgICAgICAgIGMsCiAgICAgICAgICBsLAogICAgICAgICAgZiwKICAgICAgICAgIGQsCiAgICAgICAgICBtLAogICAgICAgICAgZyA9IGUuZG9tOwoKICAgICAgaWYgKHQpIHsKICAgICAgICBpZiAoamModCkpIHJldHVybiBkID0gdCwgbSA9IChmID0gZykuY3JlYXRlUm5nKCksICRjKGYsICEwLCBkLCBtKSAmJiAkYyhmLCAhMSwgZCwgbSkgPyB2ZS5zb21lKG0pIDogdmUubm9uZSgpOwogICAgICAgIGlmIChYKHQuc3RhcnQpKSByZXR1cm4gdmUuc29tZSgocyA9IHQsIGMgPSAodSA9IGcpLmNyZWF0ZVJuZygpLCBsID0gZHModS5nZXRSb290KCksIHMuc3RhcnQpLCBjLnNldFN0YXJ0KGwuY29udGFpbmVyKCksIGwub2Zmc2V0KCkpLCBsID0gZHModS5nZXRSb290KCksIHMuZW5kKSwgYy5zZXRFbmQobC5jb250YWluZXIoKSwgbC5vZmZzZXQoKSksIGMpKTsKICAgICAgICBpZiAoTmUodCwgImlkIikpIHJldHVybiBkbihhID0gS2MobyA9IGcsICJzdGFydCIsIGkgPSB0KSwgS2MobywgImVuZCIsIGkpLm9yKGEpLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgICAgdmFyIG4gPSBvLmNyZWF0ZVJuZygpOwogICAgICAgICAgcmV0dXJuIG4uc2V0U3RhcnQoVmMobywgZS5jb250YWluZXIoKSksIGUub2Zmc2V0KCkpLCBuLnNldEVuZChWYyhvLCB0LmNvbnRhaW5lcigpKSwgdC5vZmZzZXQoKSksIG47CiAgICAgICAgfSk7CiAgICAgICAgaWYgKE5lKHQsICJuYW1lIikpIHJldHVybiBuID0gZywgdmUuZnJvbShuLnNlbGVjdCgociA9IHQpLm5hbWUpW3IuaW5kZXhdKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciB0ID0gbi5jcmVhdGVSbmcoKTsKICAgICAgICAgIHJldHVybiB0LnNlbGVjdE5vZGUoZSksIHQ7CiAgICAgICAgfSk7CiAgICAgICAgaWYgKE5lKHQsICJybmciKSkgcmV0dXJuIHZlLnNvbWUodC5ybmcpOwogICAgICB9CgogICAgICByZXR1cm4gdmUubm9uZSgpOwogICAgfSh0LCBlKS5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgIHQuc2V0Um5nKGUpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBZYyhlKSB7CiAgICByZXR1cm4gem4oZSkgJiYgIlNQQU4iID09PSBlLnRhZ05hbWUgJiYgImJvb2ttYXJrIiA9PT0gZS5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLXR5cGUiKTsKICB9CgogIGZ1bmN0aW9uIEdjKGUpIHsKICAgIHJldHVybiAiIiAhPT0gZSAmJiAtMSAhPT0gIiBcZlxuXHJcdFx2Ii5pbmRleE9mKGUpOwogIH0KCiAgZnVuY3Rpb24gSmMoZSkgewogICAgcmV0dXJuICFHYyhlKSAmJiAhb2YoZSk7CiAgfQoKICBmdW5jdGlvbiBRYyhlKSB7CiAgICByZXR1cm4gZS5ub2RlVHlwZTsKICB9CgogIGZ1bmN0aW9uIFpjKGUsIHQsIG4pIHsKICAgIHZhciByLAogICAgICAgIG8gPSBuLnN0YXJ0T2Zmc2V0LAogICAgICAgIGkgPSBuLnN0YXJ0Q29udGFpbmVyOwoKICAgIGlmICgoaSAhPT0gbi5lbmRDb250YWluZXIgfHwgIShyID0gaS5jaGlsZE5vZGVzW29dKSB8fCAhL14oSU1HKSQvLnRlc3Qoci5ub2RlTmFtZSkpICYmIHpuKGkpKSB7CiAgICAgIHZhciBhID0gaS5jaGlsZE5vZGVzLAogICAgICAgICAgdSA9IHZvaWQgMDsKICAgICAgbyA8IGEubGVuZ3RoID8gKGkgPSBhW29dLCB1ID0gbmV3IFJyKGksIGUuZ2V0UGFyZW50KGksIGUuaXNCbG9jaykpKSA6IChpID0gYVthLmxlbmd0aCAtIDFdLCAodSA9IG5ldyBScihpLCBlLmdldFBhcmVudChpLCBlLmlzQmxvY2spKSkubmV4dCghMCkpOwoKICAgICAgZm9yICh2YXIgcyA9IHUuY3VycmVudCgpOyBzOyBzID0gdS5uZXh0KCkpIHsKICAgICAgICBpZiAoam4ocykgJiYgIWFmKHMpKSByZXR1cm4gbi5zZXRTdGFydChzLCAwKSwgdC5zZXRSbmcobiksIDA7CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIGVsKGUsIHQsIG4pIHsKICAgIGlmIChlKSB7CiAgICAgIHZhciByID0gdCA/ICJuZXh0U2libGluZyIgOiAicHJldmlvdXNTaWJsaW5nIjsKCiAgICAgIGZvciAoZSA9IG4gPyBlIDogZVtyXTsgZTsgZSA9IGVbcl0pIHsKICAgICAgICBpZiAoem4oZSkgfHwgIWFmKGUpKSByZXR1cm4gZTsKICAgICAgfQogICAgfQogIH0KCiAgZnVuY3Rpb24gdGwoZSwgdCkgewogICAgcmV0dXJuIFFjKHQpICYmICh0ID0gdC5ub2RlTmFtZSksICEhZS5zY2hlbWEuZ2V0VGV4dEJsb2NrRWxlbWVudHMoKVt0LnRvTG93ZXJDYXNlKCldOwogIH0KCiAgZnVuY3Rpb24gbmwoZSwgdCwgbikgewogICAgcmV0dXJuIGUuc2NoZW1hLmlzVmFsaWRDaGlsZCh0LCBuKTsKICB9CgogIGZ1bmN0aW9uIHJsKGUsIG4pIHsKICAgIHJldHVybiB5KGUpID8gZSA9IGUobikgOiBWKG4pICYmIChlID0gZS5yZXBsYWNlKC8lKFx3KykvZywgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgcmV0dXJuIG5bdF0gfHwgZTsKICAgIH0pKSwgZTsKICB9CgogIGZ1bmN0aW9uIG9sKGUsIHQpIHsKICAgIHJldHVybiBlID0gIiIgKyAoKGUgPSBlIHx8ICIiKS5ub2RlTmFtZSB8fCBlKSwgdCA9ICIiICsgKCh0ID0gdCB8fCAiIikubm9kZU5hbWUgfHwgdCksIGUudG9Mb3dlckNhc2UoKSA9PT0gdC50b0xvd2VyQ2FzZSgpOwogIH0KCiAgZnVuY3Rpb24gaWwoZSwgdCwgbikgewogICAgcmV0dXJuICJjb2xvciIgIT09IG4gJiYgImJhY2tncm91bmRDb2xvciIgIT09IG4gfHwgKHQgPSBlLnRvSGV4KHQpKSwgImZvbnRXZWlnaHQiID09PSBuICYmIDcwMCA9PT0gdCAmJiAodCA9ICJib2xkIiksICIiICsgKCJmb250RmFtaWx5IiA9PT0gbiA/IHQucmVwbGFjZSgvW1wnXCJdL2csICIiKS5yZXBsYWNlKC8sXHMrL2csICIsIikgOiB0KTsKICB9CgogIGZ1bmN0aW9uIGFsKGUsIHQsIG4pIHsKICAgIHJldHVybiBpbChlLCBlLmdldFN0eWxlKHQsIG4pLCBuKTsKICB9CgogIGZ1bmN0aW9uIHVsKHQsIGUpIHsKICAgIHZhciBuOwogICAgcmV0dXJuIHQuZ2V0UGFyZW50KGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiAobiA9IHQuZ2V0U3R5bGUoZSwgInRleHQtZGVjb3JhdGlvbiIpKSAmJiAibm9uZSIgIT09IG47CiAgICB9KSwgbjsKICB9CgogIGZ1bmN0aW9uIHNsKGUsIHQsIG4pIHsKICAgIHJldHVybiBlLmdldFBhcmVudHModCwgbiwgZS5nZXRSb290KCkpOwogIH0KCiAgZnVuY3Rpb24gY2woZSwgdCkgewogICAgcmV0dXJuIEYoZS5mb3JtYXR0ZXIuZ2V0KHQpLCBmdW5jdGlvbiAodCkgewogICAgICBmdW5jdGlvbiBvKGUpIHsKICAgICAgICByZXR1cm4gMSA8IGUubGVuZ3RoICYmICIlIiA9PT0gZS5jaGFyQXQoMCk7CiAgICAgIH0KCiAgICAgIHJldHVybiBGKFsic3R5bGVzIiwgImF0dHJpYnV0ZXMiXSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gdWUodCwgZSkuZXhpc3RzKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgbiwgcjsKICAgICAgICAgIHJldHVybiBGKFMoZSkgPyBlIDogKG4gPSB1LCByID0gW10sIG5lKGUsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgICAgIHIucHVzaChuKGUsIHQpKTsKICAgICAgICAgIH0pLCByKSwgbyk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBsbChlKSB7CiAgICByZXR1cm4gc2UoZSwgImJsb2NrIik7CiAgfQoKICBmdW5jdGlvbiBmbChlKSB7CiAgICByZXR1cm4gc2UoZSwgInNlbGVjdG9yIik7CiAgfQoKICBmdW5jdGlvbiBkbChlKSB7CiAgICByZXR1cm4gc2UoZSwgImlubGluZSIpOwogIH0KCiAgZnVuY3Rpb24gbWwoZSkgewogICAgcmV0dXJuIGZsKGUpICYmICExICE9PSBlLmV4cGFuZCAmJiAhZGwoZSk7CiAgfQoKICBmdW5jdGlvbiBnbChlLCB0KSB7CiAgICBmb3IgKHZhciBuID0gdDsgbjspIHsKICAgICAgaWYgKHpuKG4pICYmIGUuZ2V0Q29udGVudEVkaXRhYmxlKG4pKSByZXR1cm4gImZhbHNlIiA9PT0gZS5nZXRDb250ZW50RWRpdGFibGUobikgPyBuIDogdDsKICAgICAgbiA9IG4ucGFyZW50Tm9kZTsKICAgIH0KCiAgICByZXR1cm4gdDsKICB9CgogIGZ1bmN0aW9uIHBsKGUsIHQsIG4sIHIpIHsKICAgIGZvciAodmFyIG8gPSB0LmRhdGEsIGkgPSBuOyBlID8gMCA8PSBpIDogaSA8IG8ubGVuZ3RoOyBlID8gaS0tIDogaSsrKSB7CiAgICAgIGlmIChyKG8uY2hhckF0KGkpKSkgcmV0dXJuIGUgPyBpICsgMSA6IGk7CiAgICB9CgogICAgcmV0dXJuIC0xOwogIH0KCiAgZnVuY3Rpb24gaGwoZSwgdCwgbikgewogICAgcmV0dXJuIHBsKGUsIHQsIG4sIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBvZihlKSB8fCBHYyhlKTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gdmwoZSwgdCwgbikgewogICAgcmV0dXJuIHBsKGUsIHQsIG4sIEpjKTsKICB9CgogIGZ1bmN0aW9uIGJsKGksIGUsIHQsIG4sIGEsIHIpIHsKICAgIGZ1bmN0aW9uIG8oZSwgdCwgbikgewogICAgICB2YXIgciA9IE51KGkpLAogICAgICAgICAgbyA9IGEgPyByLmJhY2t3YXJkcyA6IHIuZm9yd2FyZHM7CiAgICAgIHJldHVybiB2ZS5mcm9tKG8oZSwgdCwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICByZXR1cm4gdWYoZS5wYXJlbnROb2RlKSA/IC0xIDogbihhLCB1ID0gZSwgdCk7CiAgICAgIH0sIHMpKTsKICAgIH0KCiAgICB2YXIgdSwKICAgICAgICBzID0gaS5nZXRQYXJlbnQodCwgaS5pc0Jsb2NrKSB8fCBlOwogICAgcmV0dXJuIG8odCwgbiwgaGwpLmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHIgPyBvKGUuY29udGFpbmVyLCBlLm9mZnNldCArIChhID8gLTEgOiAwKSwgdmwpIDogdmUuc29tZShlKTsKICAgIH0pLm9yVGh1bmsoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdSA/IHZlLnNvbWUoewogICAgICAgIGNvbnRhaW5lcjogdSwKICAgICAgICBvZmZzZXQ6IGEgPyAwIDogdS5sZW5ndGgKICAgICAgfSkgOiB2ZS5ub25lKCk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIHlsKGUsIHQsIG4sIHIsIG8pIHsKICAgIGpuKHIpICYmIFBlKHIuZGF0YSkgJiYgcltvXSAmJiAociA9IHJbb10pOwoKICAgIGZvciAodmFyIGkgPSBzZihlLCByKSwgYSA9IDA7IGEgPCBpLmxlbmd0aDsgYSsrKSB7CiAgICAgIGZvciAodmFyIHUgPSAwOyB1IDwgdC5sZW5ndGg7IHUrKykgewogICAgICAgIHZhciBzID0gdFt1XTsKICAgICAgICBpZiAoKCFWKHMuY29sbGFwc2VkKSB8fCBzLmNvbGxhcHNlZCA9PT0gbi5jb2xsYXBzZWQpICYmIGZsKHMpICYmIGUuaXMoaVthXSwgcy5zZWxlY3RvcikpIHJldHVybiBpW2FdOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHI7CiAgfQoKICBmdW5jdGlvbiBDbCh0LCBlLCBuLCByKSB7CiAgICB2YXIgbywKICAgICAgICBpID0gbiwKICAgICAgICBhID0gdC5kb20sCiAgICAgICAgdSA9IGEuZ2V0Um9vdCgpLAogICAgICAgIHMgPSBlWzBdOwogICAgaWYgKChpID0gbGwocykgPyBzLndyYXBwZXIgPyBudWxsIDogYS5nZXRQYXJlbnQobiwgcy5ibG9jaywgdSkgOiBpKSB8fCAobyA9IGEuZ2V0UGFyZW50KG4sICJMSSxURCxUSCIpLCBpID0gYS5nZXRQYXJlbnQoam4obikgPyBuLnBhcmVudE5vZGUgOiBuLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gZSAhPT0gdSAmJiBsZih0LCBlKTsKICAgIH0sIG8pKSwgIShpID0gaSAmJiBsbChzKSAmJiBzLndyYXBwZXIgJiYgc2YoYSwgaSwgInVsLG9sIikucmV2ZXJzZSgpWzBdIHx8IGkpKSBmb3IgKGkgPSBuOyBpW3JdICYmICFhLmlzQmxvY2soaVtyXSkgJiYgIW9sKGkgPSBpW3JdLCAiYnIiKTspIHsKICAgICAgOwogICAgfQogICAgcmV0dXJuIGkgfHwgbjsKICB9CgogIGZ1bmN0aW9uIHhsKGUsIHQsIG4sIHIsIG8pIHsKICAgIHZhciBpLAogICAgICAgIGEgPSBuLAogICAgICAgIHUgPSBvID8gInByZXZpb3VzU2libGluZyIgOiAibmV4dFNpYmxpbmciLAogICAgICAgIHMgPSBlLmdldFJvb3QoKTsKICAgIGlmIChqbihuKSAmJiAhY2YobikgJiYgKG8gPyAwIDwgciA6IHIgPCBuLmRhdGEubGVuZ3RoKSkgcmV0dXJuIG47CgogICAgZm9yICg7OykgewogICAgICBpZiAoIXRbMF0uYmxvY2tfZXhwYW5kICYmIGUuaXNCbG9jayhhKSkgcmV0dXJuIGE7CgogICAgICBmb3IgKHZhciBjID0gYVt1XTsgYzsgYyA9IGNbdV0pIHsKICAgICAgICB2YXIgbCA9IGpuKGMpICYmICFmZihlLCBzLCBjLCB1KTsKICAgICAgICBpZiAoIXVmKGMpICYmICghV24oaSA9IGMpIHx8ICFpLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtYm9ndXMiKSB8fCBpLm5leHRTaWJsaW5nKSAmJiAhY2YoYywgbCkpIHJldHVybiBhOwogICAgICB9CgogICAgICBpZiAoYSA9PT0gcyB8fCBhLnBhcmVudE5vZGUgPT09IHMpIHsKICAgICAgICBuID0gYTsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgYSA9IGEucGFyZW50Tm9kZTsKICAgIH0KCiAgICByZXR1cm4gbjsKICB9CgogIGZ1bmN0aW9uIHdsKGUpIHsKICAgIHJldHVybiB1ZihlLnBhcmVudE5vZGUpIHx8IHVmKGUpOwogIH0KCiAgZnVuY3Rpb24gU2woZSwgdCwgbiwgcikgewogICAgdm9pZCAwID09PSByICYmIChyID0gITEpOwogICAgdmFyIG8gPSB0LnN0YXJ0Q29udGFpbmVyLAogICAgICAgIGkgPSB0LnN0YXJ0T2Zmc2V0LAogICAgICAgIGEgPSB0LmVuZENvbnRhaW5lciwKICAgICAgICB1ID0gdC5lbmRPZmZzZXQsCiAgICAgICAgcyA9IGUuZG9tLAogICAgICAgIGMgPSBuWzBdOwogICAgcmV0dXJuIHpuKG8pICYmIG8uaGFzQ2hpbGROb2RlcygpICYmIChvID0gQnUobywgaSksIGpuKG8pICYmIChpID0gMCkpLCB6bihhKSAmJiBhLmhhc0NoaWxkTm9kZXMoKSAmJiAoYSA9IEJ1KGEsIHQuY29sbGFwc2VkID8gdSA6IHUgLSAxKSwgam4oYSkgJiYgKHUgPSBhLm5vZGVWYWx1ZS5sZW5ndGgpKSwgbyA9IGdsKHMsIG8pLCBhID0gZ2wocywgYSksIHdsKG8pICYmIChvID0gdWYobykgPyBvIDogby5wYXJlbnROb2RlLCBvID0gdC5jb2xsYXBzZWQgPyBvLnByZXZpb3VzU2libGluZyB8fCBvIDogby5uZXh0U2libGluZyB8fCBvLCBqbihvKSAmJiAoaSA9IHQuY29sbGFwc2VkID8gby5sZW5ndGggOiAwKSksIHdsKGEpICYmIChhID0gdWYoYSkgPyBhIDogYS5wYXJlbnROb2RlLCBhID0gdC5jb2xsYXBzZWQgPyBhLm5leHRTaWJsaW5nIHx8IGEgOiBhLnByZXZpb3VzU2libGluZyB8fCBhLCBqbihhKSAmJiAodSA9IHQuY29sbGFwc2VkID8gMCA6IGEubGVuZ3RoKSksIHQuY29sbGFwc2VkICYmIChibChzLCBlLmdldEJvZHkoKSwgbywgaSwgITAsIHIpLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQgPSBlLmNvbnRhaW5lciwKICAgICAgICAgIG4gPSBlLm9mZnNldDsKICAgICAgbyA9IHQsIGkgPSBuOwogICAgfSksIGJsKHMsIGUuZ2V0Qm9keSgpLCBhLCB1LCAhMSwgcikuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9IGUuY29udGFpbmVyLAogICAgICAgICAgbiA9IGUub2Zmc2V0OwogICAgICBhID0gdCwgdSA9IG47CiAgICB9KSksIChkbChjKSB8fCBjLmJsb2NrX2V4cGFuZCkgJiYgKGRsKGMpICYmIGpuKG8pICYmIDAgIT09IGkgfHwgKG8gPSB4bChzLCBuLCBvLCBpLCAhMCkpLCBkbChjKSAmJiBqbihhKSAmJiB1ICE9PSBhLm5vZGVWYWx1ZS5sZW5ndGggfHwgKGEgPSB4bChzLCBuLCBhLCB1LCAhMSkpKSwgbWwoYykgJiYgKG8gPSB5bChzLCBuLCB0LCBvLCAicHJldmlvdXNTaWJsaW5nIiksIGEgPSB5bChzLCBuLCB0LCBhLCAibmV4dFNpYmxpbmciKSksIChsbChjKSB8fCBmbChjKSkgJiYgKG8gPSBDbChlLCBuLCBvLCAicHJldmlvdXNTaWJsaW5nIiksIGEgPSBDbChlLCBuLCBhLCAibmV4dFNpYmxpbmciKSwgbGwoYykgJiYgKHMuaXNCbG9jayhvKSB8fCAobyA9IHhsKHMsIG4sIG8sIGksICEwKSksIHMuaXNCbG9jayhhKSB8fCAoYSA9IHhsKHMsIG4sIGEsIHUsICExKSkpKSwgem4obykgJiYgKGkgPSBzLm5vZGVJbmRleChvKSwgbyA9IG8ucGFyZW50Tm9kZSksIHpuKGEpICYmICh1ID0gcy5ub2RlSW5kZXgoYSkgKyAxLCBhID0gYS5wYXJlbnROb2RlKSwgewogICAgICBzdGFydENvbnRhaW5lcjogbywKICAgICAgc3RhcnRPZmZzZXQ6IGksCiAgICAgIGVuZENvbnRhaW5lcjogYSwKICAgICAgZW5kT2Zmc2V0OiB1CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gRWwobiwgZSwgdSkgewogICAgZnVuY3Rpb24gcyhlKSB7CiAgICAgIHZhciB0ID0gZVswXTsKICAgICAgam4odCkgJiYgdCA9PT0gaSAmJiBvID49IHQuZGF0YS5sZW5ndGggJiYgZS5zcGxpY2UoMCwgMSk7CiAgICAgIHZhciBuID0gZVtlLmxlbmd0aCAtIDFdOwogICAgICByZXR1cm4gMCA9PT0gYSAmJiAwIDwgZS5sZW5ndGggJiYgbiA9PT0gbCAmJiBqbihuKSAmJiBlLnNwbGljZShlLmxlbmd0aCAtIDEsIDEpLCBlOwogICAgfQoKICAgIGZ1bmN0aW9uIGMoZSwgdCwgbikgewogICAgICBmb3IgKHZhciByID0gW107IGUgJiYgZSAhPT0gbjsgZSA9IGVbdF0pIHsKICAgICAgICByLnB1c2goZSk7CiAgICAgIH0KCiAgICAgIHJldHVybiByOwogICAgfQoKICAgIGZ1bmN0aW9uIHQoZSwgdCkgewogICAgICByZXR1cm4gbi5nZXRQYXJlbnQoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS5wYXJlbnROb2RlID09PSB0OwogICAgICB9LCB0KTsKICAgIH0KCiAgICBmdW5jdGlvbiByKGUsIHQsIG4pIHsKICAgICAgdmFyIHIgPSBuID8gIm5leHRTaWJsaW5nIiA6ICJwcmV2aW91c1NpYmxpbmciLAogICAgICAgICAgbyA9IGU7CgogICAgICBmb3IgKG8ucGFyZW50Tm9kZTsgbyAmJiBvICE9PSB0OyBvID0gaSkgewogICAgICAgIHZhciBpID0gby5wYXJlbnROb2RlLAogICAgICAgICAgICBhID0gYyhvID09PSBlID8gbyA6IG9bcl0sIHIpOwogICAgICAgIGEubGVuZ3RoICYmIChuIHx8IGEucmV2ZXJzZSgpLCB1KHMoYSkpKTsKICAgICAgfQogICAgfQoKICAgIHZhciBvID0gZS5zdGFydE9mZnNldCwKICAgICAgICBpID0gQnUoZS5zdGFydENvbnRhaW5lciwgbyksCiAgICAgICAgYSA9IGUuZW5kT2Zmc2V0LAogICAgICAgIGwgPSBCdShlLmVuZENvbnRhaW5lciwgYSAtIDEpOwogICAgaWYgKGkgPT09IGwpIHJldHVybiB1KHMoW2ldKSk7CiAgICB2YXIgZiA9IG4uZmluZENvbW1vbkFuY2VzdG9yKGksIGwpOwogICAgaWYgKG4uaXNDaGlsZE9mKGksIGwpKSByZXR1cm4gcihpLCBmLCAhMCk7CiAgICBpZiAobi5pc0NoaWxkT2YobCwgaSkpIHJldHVybiByKGwsIGYpOwogICAgdmFyIGQgPSB0KGksIGYpIHx8IGksCiAgICAgICAgbSA9IHQobCwgZikgfHwgbDsKICAgIHIoaSwgZCwgITApOwogICAgdmFyIGcgPSBjKGQgPT09IGkgPyBkIDogZC5uZXh0U2libGluZywgIm5leHRTaWJsaW5nIiwgbSA9PT0gbCA/IG0ubmV4dFNpYmxpbmcgOiBtKTsKICAgIGcubGVuZ3RoICYmIHUocyhnKSksIHIobCwgbSk7CiAgfQoKICBmdW5jdGlvbiBObChlKSB7CiAgICB2YXIgdCA9IFtdOwogICAgaWYgKGUpIGZvciAodmFyIG4gPSAwOyBuIDwgZS5yYW5nZUNvdW50OyBuKyspIHsKICAgICAgdC5wdXNoKGUuZ2V0UmFuZ2VBdChuKSk7CiAgICB9CiAgICByZXR1cm4gdDsKICB9CgogIGZ1bmN0aW9uIGtsKGUsIHQpIHsKICAgIHZhciBuID0gaHUodCwgInRkW2RhdGEtbWNlLXNlbGVjdGVkXSx0aFtkYXRhLW1jZS1zZWxlY3RlZF0iKTsKICAgIHJldHVybiAwIDwgbi5sZW5ndGggPyBuIDogVShIKGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gT3UoZSk7CiAgICAgIHJldHVybiB0ID8gW050LmZyb21Eb20odCldIDogW107CiAgICB9KSwgaG8pOwogIH0KCiAgZnVuY3Rpb24gX2woZSkgewogICAgcmV0dXJuIGtsKE5sKGUuc2VsZWN0aW9uLmdldFNlbCgpKSwgTnQuZnJvbURvbShlLmdldEJvZHkoKSkpOwogIH0KCiAgZnVuY3Rpb24gQWwoZSwgdCkgewogICAgcmV0dXJuIGhyKGUsICJ0YWJsZSIsIHQpOwogIH0KCiAgZnVuY3Rpb24gUmwobywgZSkgewogICAgcmV0dXJuIGRuKChyID0gZS5zdGFydENvbnRhaW5lciwgaSA9IGUuc3RhcnRPZmZzZXQsIGpuKHIpID8gMCA9PT0gaSA/IHZlLnNvbWUoTnQuZnJvbURvbShyKSkgOiB2ZS5ub25lKCkgOiB2ZS5mcm9tKHIuY2hpbGROb2Rlc1tpXSkubWFwKE50LmZyb21Eb20pKSwgKHQgPSBlLmVuZENvbnRhaW5lciwgbiA9IGUuZW5kT2Zmc2V0LCBqbih0KSA/IG4gPT09IHQuZGF0YS5sZW5ndGggPyB2ZS5zb21lKE50LmZyb21Eb20odCkpIDogdmUubm9uZSgpIDogdmUuZnJvbSh0LmNoaWxkTm9kZXNbbiAtIDFdKS5tYXAoTnQuZnJvbURvbSkpLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICB2YXIgbiA9IE0oZGYobyksIEEoamUsIGUpKSwKICAgICAgICAgIHIgPSBNKG1mKG8pLCBBKGplLCB0KSk7CiAgICAgIHJldHVybiBuLmlzU29tZSgpICYmIHIuaXNTb21lKCk7CiAgICB9KS5nZXRPcighMSk7CiAgICB2YXIgdCwgbiwgciwgaTsKICB9CgogIGZ1bmN0aW9uIERsKGUsIHQsIG4sIHIpIHsKICAgIHZhciBvID0gbiwKICAgICAgICBpID0gbmV3IFJyKG4sIG8pLAogICAgICAgIGEgPSBhZShlLnNjaGVtYS5nZXRNb3ZlQ2FyZXRCZWZvcmVPbkVudGVyRWxlbWVudHMoKSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgcmV0dXJuICFEKFsidGQiLCAidGgiLCAidGFibGUiXSwgdC50b0xvd2VyQ2FzZSgpKTsKICAgIH0pOwoKICAgIGRvIHsKICAgICAgaWYgKGpuKG4pICYmIDAgIT09IEV0LnRyaW0obi5ub2RlVmFsdWUpLmxlbmd0aCkgcmV0dXJuIHIgPyB0LnNldFN0YXJ0KG4sIDApIDogdC5zZXRFbmQobiwgbi5ub2RlVmFsdWUubGVuZ3RoKSwgMDsKICAgICAgaWYgKGFbbi5ub2RlTmFtZV0pIHJldHVybiByID8gdC5zZXRTdGFydEJlZm9yZShuKSA6ICJCUiIgPT09IG4ubm9kZU5hbWUgPyB0LnNldEVuZEJlZm9yZShuKSA6IHQuc2V0RW5kQWZ0ZXIobiksIDA7CiAgICB9IHdoaWxlIChuID0gciA/IGkubmV4dCgpIDogaS5wcmV2KCkpOwoKICAgICJCT0RZIiA9PT0gby5ub2RlTmFtZSAmJiAociA/IHQuc2V0U3RhcnQobywgMCkgOiB0LnNldEVuZChvLCBvLmNoaWxkTm9kZXMubGVuZ3RoKSk7CiAgfQoKICBmdW5jdGlvbiBUbChlKSB7CiAgICB2YXIgdCA9IGUuc2VsZWN0aW9uLmdldFNlbCgpOwogICAgcmV0dXJuIHQgJiYgMCA8IHQucmFuZ2VDb3VudDsKICB9CgogIGZ1bmN0aW9uIE9sKHIsIG8pIHsKICAgIHZhciBlID0gX2wocik7CgogICAgMCA8IGUubGVuZ3RoID8gWShlLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9IGUuZG9tLAogICAgICAgICAgbiA9IHIuZG9tLmNyZWF0ZVJuZygpOwogICAgICBuLnNldFN0YXJ0QmVmb3JlKHQpLCBuLnNldEVuZEFmdGVyKHQpLCBvKG4sICEwKTsKICAgIH0pIDogbyhyLnNlbGVjdGlvbi5nZXRSbmcoKSwgITEpOwogIH0KCiAgZnVuY3Rpb24gQmwoZSwgdCwgbikgewogICAgdmFyIHIgPSBDcyhlLCB0KTsKICAgIG4ociksIGUubW92ZVRvQm9va21hcmsocik7CiAgfQoKICBmdW5jdGlvbiBQbChlKSB7CiAgICByZXR1cm4gZ2YuZ2V0KGUpOwogIH0KCiAgZnVuY3Rpb24gTGwoZSwgdCwgbiwgcikgewogICAgdmFyIG8gPSB0LnVpZCwKICAgICAgICBpID0gdm9pZCAwID09PSBvID8geXUoIm1jZS1hbm5vdGF0aW9uIikgOiBvLAogICAgICAgIGEgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgICB2YXIgbiA9IHt9OwoKICAgICAgZm9yIChvIGluIGUpIHsKICAgICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSwgbykgJiYgdC5pbmRleE9mKG8pIDwgMCAmJiAobltvXSA9IGVbb10pOwogICAgICB9CgogICAgICBpZiAobnVsbCAhPSBlICYmICJmdW5jdGlvbiIgPT0gdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIGZvciAodmFyIHIgPSAwLCBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciA8IG8ubGVuZ3RoOyByKyspIHsKICAgICAgICB0LmluZGV4T2Yob1tyXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLCBvW3JdKSAmJiAobltvW3JdXSA9IGVbb1tyXV0pOwogICAgICB9CiAgICAgIHJldHVybiBuOwogICAgfSh0LCBbInVpZCJdKSwKICAgICAgICB1ID0gTnQuZnJvbVRhZygic3BhbiIsIGUpOwoKICAgIGd1KHUsIGp1KCkpLCBwbih1LCAiIiArIHF1KCksIGkpLCBwbih1LCAiIiArIFZ1KCksIG4pOwogICAgdmFyIHMsCiAgICAgICAgYyA9IHIoaSwgYSksCiAgICAgICAgbCA9IGMuYXR0cmlidXRlcywKICAgICAgICBmID0gYy5jbGFzc2VzLAogICAgICAgIGQgPSB2b2lkIDAgPT09IGYgPyBbXSA6IGY7CiAgICByZXR1cm4gaG4odSwgdm9pZCAwID09PSBsID8ge30gOiBsKSwgcyA9IHUsIFkoZCwgZnVuY3Rpb24gKGUpIHsKICAgICAgZ3UocywgZSk7CiAgICB9KSwgdTsKICB9CgogIGZ1bmN0aW9uIElsKHUsIGUsIHQsIG4sIHIpIHsKICAgIGZ1bmN0aW9uIHMoKSB7CiAgICAgIGQuY2xlYXIoKTsKICAgIH0KCiAgICBmdW5jdGlvbiBjKGUpIHsKICAgICAgWShlLCBvKTsKICAgIH0KCiAgICB2YXIgbCA9IFtdLAogICAgICAgIGYgPSBMbCh1LmdldERvYygpLCByLCB0LCBuKSwKICAgICAgICBkID0gY3UoKSwKICAgICAgICBvID0gZnVuY3Rpb24gbyhlKSB7CiAgICAgIHZhciB0LCBuLCByLCBvLCBpLCBhOwoKICAgICAgc3dpdGNoIChyID0gdSwgaSA9ICJzcGFuIiwgYSA9IGt0KG8gPSBlKSwgT3QobykuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICJza2lwcGluZyI7CiAgICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuICJiciIgPT09IGEgfHwgX24obiA9IG8pICYmIFBsKG4pID09PSBDbyA/ICJ2YWxpZCIgOiBrbih0ID0gbykgJiYgcHUodCwganUoKSkgPyAiZXhpc3RpbmciIDogemMoby5kb20pID8gImNhcmV0IiA6IG5sKHIsIGksIGEpICYmIG5sKHIsIGt0KGUpLCBpKSA/ICJ2YWxpZCIgOiAiaW52YWxpZC1jaGlsZCI7CiAgICAgICAgdmFyIHQsIG47CiAgICAgIH0pKSB7CiAgICAgICAgY2FzZSAiaW52YWxpZC1jaGlsZCI6CiAgICAgICAgICBzKCksIGMoRG4oZSkpLCBzKCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAidmFsaWQiOgogICAgICAgICAgcXQodCA9IGUsIG4gPSBkLmdldCgpLmdldE9yVGh1bmsoZnVuY3Rpb24gKCkgewogICAgICAgICAgICB2YXIgZSA9IHd1KGYpOwogICAgICAgICAgICByZXR1cm4gbC5wdXNoKGUpLCBkLnNldChlKSwgZTsKICAgICAgICAgIH0pKSwgUG4obiwgdCk7CiAgICAgIH0KICAgIH07CgogICAgcmV0dXJuIEVsKHUuZG9tLCBlLCBmdW5jdGlvbiAoZSkgewogICAgICBzKCksIGMoVChlLCBOdC5mcm9tRG9tKSk7CiAgICB9KSwgbDsKICB9CgogIGZ1bmN0aW9uIE1sKG8pIHsKICAgIHZhciBuLAogICAgICAgIGUsCiAgICAgICAgciwKICAgICAgICBpID0gKG4gPSB7fSwgewogICAgICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIoZSwgdCkgewogICAgICAgIG5bZV0gPSB7CiAgICAgICAgICBuYW1lOiBlLAogICAgICAgICAgc2V0dGluZ3M6IHQKICAgICAgICB9OwogICAgICB9LAogICAgICBsb29rdXA6IGZ1bmN0aW9uIGxvb2t1cChlKSB7CiAgICAgICAgcmV0dXJuIHVlKG4sIGUpLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIGUuc2V0dGluZ3M7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwogICAgciA9IGksIChlID0gbykub24oImluaXQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIGUuc2VyaWFsaXplci5hZGROb2RlRmlsdGVyKCJzcGFuIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBZKGUsIGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICB2ZS5mcm9tKHQuYXR0cihWdSgpKSkuYmluZChyLmxvb2t1cCkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAhMSA9PT0gZS5wZXJzaXN0ZW50ICYmIHQudW53cmFwKCk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9KTsKICAgIHZhciBhID0gYnUobyk7CiAgICByZXR1cm4gewogICAgICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIoZSwgdCkgewogICAgICAgIGkucmVnaXN0ZXIoZSwgdCk7CiAgICAgIH0sCiAgICAgIGFubm90YXRlOiBmdW5jdGlvbiBhbm5vdGF0ZSh0LCBuKSB7CiAgICAgICAgaS5sb29rdXAodCkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgdmFyIHUsIHMsIGMsIGw7CiAgICAgICAgICBzID0gdCwgYyA9IGUsIGwgPSBuLCAodSA9IG8pLnVuZG9NYW5hZ2VyLnRyYW5zYWN0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgdmFyIGUsCiAgICAgICAgICAgICAgICB0LAogICAgICAgICAgICAgICAgbiwKICAgICAgICAgICAgICAgIHIsCiAgICAgICAgICAgICAgICBvID0gdS5zZWxlY3Rpb24sCiAgICAgICAgICAgICAgICBpID0gby5nZXRSbmcoKSwKICAgICAgICAgICAgICAgIGEgPSAwIDwgX2wodSkubGVuZ3RoOwoKICAgICAgICAgICAgaS5jb2xsYXBzZWQgJiYgIWEgJiYgKG4gPSBTbChlID0gdSwgdCA9IGksIFt7CiAgICAgICAgICAgICAgaW5saW5lOiAic3BhbiIKICAgICAgICAgICAgfV0pLCB0LnNldFN0YXJ0KG4uc3RhcnRDb250YWluZXIsIG4uc3RhcnRPZmZzZXQpLCB0LnNldEVuZChuLmVuZENvbnRhaW5lciwgbi5lbmRPZmZzZXQpLCBlLnNlbGVjdGlvbi5zZXRSbmcodCkpLCBvLmdldFJuZygpLmNvbGxhcHNlZCAmJiAhYSA/IChDdShyID0gTGwodS5nZXREb2MoKSwgbCwgcywgYy5kZWNvcmF0ZSksIHlvKSwgby5nZXRSbmcoKS5pbnNlcnROb2RlKHIuZG9tKSwgby5zZWxlY3Qoci5kb20pKSA6IEJsKG8sICExLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgT2wodSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIElsKHUsIGUsIHMsIGMuZGVjb3JhdGUsIGwpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pOwogICAgICAgIH0pOwogICAgICB9LAogICAgICBhbm5vdGF0aW9uQ2hhbmdlZDogZnVuY3Rpb24gYW5ub3RhdGlvbkNoYW5nZWQoZSwgdCkgewogICAgICAgIGEuYWRkTGlzdGVuZXIoZSwgdCk7CiAgICAgIH0sCiAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKGUpIHsKICAgICAgICB2dShvLCB2ZS5zb21lKGUpKS5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBZKGUuZWxlbWVudHMsIFl0KTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgZ2V0QWxsOiBmdW5jdGlvbiBnZXRBbGwoZSkgewogICAgICAgIHZhciB0LCBuLCByOwogICAgICAgIHJldHVybiByZSgodCA9IGUsIG4gPSBodShOdC5mcm9tRG9tKG8uZ2V0Qm9keSgpKSwgIlsiICsgVnUoKSArICc9IicgKyB0ICsgJyJdJyksIHIgPSB7fSwgWShuLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgdmFyIHQgPSB2bihlLCBxdSgpKSwKICAgICAgICAgICAgICBuID0gdWUociwgdCkuZ2V0T3IoW10pOwogICAgICAgICAgclt0XSA9IG4uY29uY2F0KFtlXSk7CiAgICAgICAgfSksIHIpLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIFQoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgcmV0dXJuIGUuZG9tOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH07CiAgfQoKICBmdW5jdGlvbiBGbChlKSB7CiAgICByZXR1cm4gewogICAgICBnZXRCb29rbWFyazogQShyZiwgZSksCiAgICAgIG1vdmVUb0Jvb2ttYXJrOiBBKFhjLCBlKQogICAgfTsKICB9CgogIChhYyA9IGljID0gaWMgfHwge30pW2FjLkJhY2t3YXJkcyA9IC0xXSA9ICJCYWNrd2FyZHMiLCBhY1thYy5Gb3J3YXJkcyA9IDFdID0gIkZvcndhcmRzIjsKCiAgZnVuY3Rpb24gVWwoZSkgewogICAgcmV0dXJuIE9vKGUpIHx8ICEhTG8odCA9IGUpICYmICEwICE9PSBMKHhlKHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSksIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHJldHVybiBlIHx8IF9vKHQpOwogICAgfSwgITEpOwogICAgdmFyIHQ7CiAgfQoKICB2YXIgemwsCiAgICAgIEhsLAogICAgICBqbCwKICAgICAgVmwgPSBZbiwKICAgICAgcWwgPSBqbiwKICAgICAgJGwgPSB6biwKICAgICAgV2wgPSBXbiwKICAgICAgS2wgPSBqciwKICAgICAgWGwgPSBWciwKICAgICAgWWwgPSBmdW5jdGlvbiBZbChlLCB0LCBuKSB7CiAgICB2YXIgciwgbywgaTsKICAgIGlmICghJGwobikgfHwgIXQpIHJldHVybiBudWxsOwoKICAgIGlmICh0LmlzRXF1YWwoYXMuYWZ0ZXIobikpICYmIG4ubGFzdENoaWxkKSB7CiAgICAgIGlmIChpID0gYXMuYWZ0ZXIobi5sYXN0Q2hpbGQpLCBlIDwgMCAmJiBLbChuLmxhc3RDaGlsZCkgJiYgJGwobi5sYXN0Q2hpbGQpKSByZXR1cm4gV2wobi5sYXN0Q2hpbGQpID8gYXMuYmVmb3JlKG4ubGFzdENoaWxkKSA6IGk7CiAgICB9IGVsc2UgaSA9IHQ7CgogICAgdmFyIGEsCiAgICAgICAgdSwKICAgICAgICBzLAogICAgICAgIGMgPSBpLmNvbnRhaW5lcigpLAogICAgICAgIGwgPSBpLm9mZnNldCgpOwoKICAgIGlmIChxbChjKSkgewogICAgICBpZiAoZSA8IDAgJiYgMCA8IGwpIHJldHVybiBhcyhjLCAtLWwpOwogICAgICBpZiAoMCA8IGUgJiYgbCA8IGMubGVuZ3RoKSByZXR1cm4gYXMoYywgKytsKTsKICAgICAgciA9IGM7CiAgICB9IGVsc2UgewogICAgICBpZiAoZSA8IDAgJiYgMCA8IGwgJiYgKGYgPSBPYyhjLCBsIC0gMSksIEtsKGYpKSkgcmV0dXJuICFVbChmKSAmJiAobyA9IEtzKGYsIGUsIFhsLCBmKSkgPyBxbChvKSA/IGFzKG8sIG8uZGF0YS5sZW5ndGgpIDogYXMuYWZ0ZXIobykgOiBxbChmKSA/IGFzKGYsIGYuZGF0YS5sZW5ndGgpIDogYXMuYmVmb3JlKGYpOwogICAgICBpZiAoMCA8IGUgJiYgbCA8IGMuY2hpbGROb2Rlcy5sZW5ndGggJiYgKGYgPSBPYyhjLCBsKSwgS2woZikpKSByZXR1cm4gV2woZikgPyAoYSA9IG4sIChzID0gKHUgPSBmKS5uZXh0U2libGluZykgJiYgS2wocykgPyBxbChzKSA/IGFzKHMsIDApIDogYXMuYmVmb3JlKHMpIDogWWwoaWMuRm9yd2FyZHMsIGFzLmFmdGVyKHUpLCBhKSkgOiAhVWwoZikgJiYgKG8gPSBLcyhmLCBlLCBYbCwgZikpID8gcWwobykgPyBhcyhvLCAwKSA6IGFzLmJlZm9yZShvKSA6IHFsKGYpID8gYXMoZiwgMCkgOiBhcy5hZnRlcihmKTsKICAgICAgciA9IGYgfHwgaS5nZXROb2RlKCk7CiAgICB9CgogICAgaWYgKCgwIDwgZSAmJiBpLmlzQXRFbmQoKSB8fCBlIDwgMCAmJiBpLmlzQXRTdGFydCgpKSAmJiAociA9IEtzKHIsIGUsIHcsIG4sICEwKSwgWGwociwgbikpKSByZXR1cm4gQmMoZSwgcik7CiAgICB2YXIgZiA9IEtzKHIsIGUsIFhsLCBuKSwKICAgICAgICBkID0gcGUoVShmdW5jdGlvbiAoZSwgdCkgewogICAgICBmb3IgKHZhciBuID0gW107IGUgJiYgZSAhPT0gdDspIHsKICAgICAgICBuLnB1c2goZSksIGUgPSBlLnBhcmVudE5vZGU7CiAgICAgIH0KCiAgICAgIHJldHVybiBuOwogICAgfShjLCBuKSwgVmwpKTsKICAgIHJldHVybiAhZCB8fCBmICYmIGQuY29udGFpbnMoZikgPyBmID8gQmMoZSwgZikgOiBudWxsIDogMCA8IGUgPyBhcy5hZnRlcihkKSA6IGFzLmJlZm9yZShkKTsKICB9LAogICAgICBHbCA9IGZ1bmN0aW9uIEdsKGUsIHQsIG4pIHsKICAgIHZhciByID0gUGModCk7CiAgICByZXR1cm4gdmUuZnJvbShlID8gci5uZXh0KG4pIDogci5wcmV2KG4pKTsKICB9LAogICAgICBKbCA9IGZ1bmN0aW9uIEpsKHQsIG4sIGUsIHIpIHsKICAgIHJldHVybiBGYyh0LCBuLCBlKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiByKGUpID8gSmwodCwgbiwgZSwgcikgOiB2ZS5zb21lKGUpOwogICAgfSk7CiAgfSwKICAgICAgUWwgPSBBKEdsLCAhMCksCiAgICAgIFpsID0gQShHbCwgITEpLAogICAgICBlZiA9IEEoVWMsICEwKSwKICAgICAgdGYgPSBBKFVjLCAhMSksCiAgICAgIG5mID0gIl9tY2VfY2FyZXQiLAogICAgICByZiA9IGZ1bmN0aW9uIHJmKGUsIHQsIG4pIHsKICAgIHJldHVybiAyID09PSB0ID8gYnMod28sIG4sIGUpIDogMyA9PT0gdCA/IChvID0gKHIgPSBlKS5nZXRSbmcoKSwgewogICAgICBzdGFydDogZnMoci5kb20uZ2V0Um9vdCgpLCBhcy5mcm9tUmFuZ2VTdGFydChvKSksCiAgICAgIGVuZDogZnMoci5kb20uZ2V0Um9vdCgpLCBhcy5mcm9tUmFuZ2VFbmQobykpCiAgICB9KSA6IHQgPyB7CiAgICAgIHJuZzogZS5nZXRSbmcoKQogICAgfSA6IENzKGUsICExKTsKICAgIHZhciByLCBvOwogIH0sCiAgICAgIG9mID0gKHpsID0geW8sIGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gemwgPT09IGU7CiAgfSksCiAgICAgIGFmID0gZnVuY3Rpb24gYWYoZSwgdCkgewogICAgcmV0dXJuIHZvaWQgMCA9PT0gdCAmJiAodCA9ICExKSwgISghVihlKSB8fCAham4oZSkpICYmIHFyKHQgPyBlLmRhdGEucmVwbGFjZSgvIC9nLCAiXHhhMCIpIDogZS5kYXRhKTsKICB9LAogICAgICB1ZiA9IFljLAogICAgICBzZiA9IHNsLAogICAgICBjZiA9IGFmLAogICAgICBsZiA9IHRsLAogICAgICBmZiA9IGZ1bmN0aW9uIGZmKGUsIHQsIG4sIHIpIHsKICAgIHZhciBvID0gbi5wYXJlbnROb2RlOwogICAgcmV0dXJuICFWKG5bcl0pICYmICghKG8gIT09IHQgJiYgIUsobykgJiYgIWUuaXNCbG9jayhvKSkgfHwgZmYoZSwgdCwgbywgcikpOwogIH0sCiAgICAgIGRmID0gZnVuY3Rpb24gZGYodCkgewogICAgcmV0dXJuIEZ0KHQpLmZvbGQoSihbdF0pLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gW3RdLmNvbmNhdChkZihlKSk7CiAgICB9KTsKICB9LAogICAgICBtZiA9IGZ1bmN0aW9uIG1mKHQpIHsKICAgIHJldHVybiBVdCh0KS5mb2xkKEooW3RdKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuICJiciIgPT09IGt0KGUpID8gQnQoZSkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIFt0XS5jb25jYXQobWYoZSkpOwogICAgICB9KS5nZXRPcihbXSkgOiBbdF0uY29uY2F0KG1mKGUpKTsKICAgIH0pOwogIH0sCiAgICAgIGdmID0gKEhsID0gX24sIHsKICAgIGdldDogZnVuY3Rpb24gZ2V0KGUpIHsKICAgICAgaWYgKCFIbChlKSkgdGhyb3cgbmV3IEVycm9yKCJDYW4gb25seSBnZXQgdGV4dCB2YWx1ZSBvZiBhIHRleHQgbm9kZSIpOwogICAgICByZXR1cm4gamwoZSkuZ2V0T3IoIiIpOwogICAgfSwKICAgIGdldE9wdGlvbjogamwgPSBmdW5jdGlvbiBqbChlKSB7CiAgICAgIHJldHVybiBIbChlKSA/IHZlLmZyb20oZS5kb20ubm9kZVZhbHVlKSA6IHZlLm5vbmUoKTsKICAgIH0sCiAgICBzZXQ6IGZ1bmN0aW9uIHNldChlLCB0KSB7CiAgICAgIGlmICghSGwoZSkpIHRocm93IG5ldyBFcnJvcigiQ2FuIG9ubHkgc2V0IHJhdyB0ZXh0IHZhbHVlIG9mIGEgdGV4dCBub2RlIik7CiAgICAgIGUuZG9tLm5vZGVWYWx1ZSA9IHQ7CiAgICB9CiAgfSk7CgogIGZ1bmN0aW9uIHBmKGUsIHQpIHsKICAgIGZvciAoOyB0ICYmIHQgIT09IGU7KSB7CiAgICAgIGlmIChYbih0KSB8fCBZbih0KSkgcmV0dXJuIHQ7CiAgICAgIHQgPSB0LnBhcmVudE5vZGU7CiAgICB9CgogICAgcmV0dXJuIG51bGw7CiAgfQoKICBmdW5jdGlvbiBoZih0LCBuLCBlKSB7CiAgICBpZiAoIWUuY29sbGFwc2VkKSB7CiAgICAgIGlmICh4dC5icm93c2VyLmlzSUUoKSAmJiBlLnN0YXJ0T2Zmc2V0ID09PSBlLmVuZE9mZnNldCAtIDEgJiYgZS5zdGFydENvbnRhaW5lciA9PT0gZS5lbmRDb250YWluZXIpIHsKICAgICAgICB2YXIgciA9IGUuc3RhcnRDb250YWluZXIuY2hpbGROb2Rlc1tlLnN0YXJ0T2Zmc2V0XTsKICAgICAgICBpZiAoem4ocikpIHJldHVybiBGKHIuZ2V0Q2xpZW50UmVjdHMoKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBUdShlLCB0LCBuKTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgcmV0dXJuIEYoZS5nZXRDbGllbnRSZWN0cygpLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBUdShlLCB0LCBuKTsKICAgICAgfSk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiB2ZihlLCB0LCBuKSB7CiAgICByZXR1cm4gZS5maXJlKHQsIG4pOwogIH0KCiAgZnVuY3Rpb24gYmYoZSwgdCwgbiwgcikgewogICAgcmV0dXJuIGUuZmlyZSgiRm9ybWF0QXBwbHkiLCB7CiAgICAgIGZvcm1hdDogdCwKICAgICAgbm9kZTogbiwKICAgICAgdmFyczogcgogICAgfSk7CiAgfQoKICBmdW5jdGlvbiB5ZihlLCB0LCBuLCByKSB7CiAgICByZXR1cm4gZS5maXJlKCJGb3JtYXRSZW1vdmUiLCB7CiAgICAgIGZvcm1hdDogdCwKICAgICAgbm9kZTogbiwKICAgICAgdmFyczogcgogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBDZihyLCBsKSB7CiAgICBmdW5jdGlvbiBjKGUpIHsKICAgICAgcmV0dXJuIGUgJiYgKCJJTUciID09PSBlLm5vZGVOYW1lIHx8IGwuZG9tLmlzKGUsICJmaWd1cmUuaW1hZ2UiKSk7CiAgICB9CgogICAgZnVuY3Rpb24gZihlKSB7CiAgICAgIHJldHVybiBKbihlKSB8fCBULmhhc0NsYXNzKGUsICJtY2UtcHJldmlldy1vYmplY3QiKTsKICAgIH0KCiAgICBmdW5jdGlvbiBuKGUpIHsKICAgICAgdmFyIHQgPSBlLnRhcmdldDsKICAgICAgIWZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgaWYgKCJsb25ncHJlc3MiICE9PSBlLnR5cGUgJiYgMCAhPT0gZS50eXBlLmluZGV4T2YoInRvdWNoIikpIHJldHVybiBjKGUudGFyZ2V0KSAmJiAhaGYoZS5jbGllbnRYLCBlLmNsaWVudFksIHQpOwogICAgICAgIHZhciBuID0gZS50b3VjaGVzWzBdOwogICAgICAgIHJldHVybiBjKGUudGFyZ2V0KSAmJiAhaGYobi5jbGllbnRYLCBuLmNsaWVudFksIHQpOwogICAgICB9KGUsIGwuc2VsZWN0aW9uLmdldFJuZygpKSB8fCBlLmlzRGVmYXVsdFByZXZlbnRlZCgpIHx8IGwuc2VsZWN0aW9uLnNlbGVjdCh0KTsKICAgIH0KCiAgICBmdW5jdGlvbiBkKGUpIHsKICAgICAgcmV0dXJuIFQuaXMoZSwgImZpZ3VyZS5pbWFnZSIpID8gW2UucXVlcnlTZWxlY3RvcigiaW1nIildIDogVC5oYXNDbGFzcyhlLCAibWNlLXByZXZpZXctb2JqZWN0IikgJiYgVihlLmZpcnN0RWxlbWVudENoaWxkKSA/IFtlLCBlLmZpcnN0RWxlbWVudENoaWxkXSA6IFtlXTsKICAgIH0KCiAgICBmdW5jdGlvbiBpKGUpIHsKICAgICAgdmFyIHQgPSBUcyhsKTsKICAgICAgcmV0dXJuICEhdCAmJiAiZmFsc2UiICE9PSBlLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtcmVzaXplIikgJiYgZSAhPT0gbC5nZXRCb2R5KCkgJiYgKFQuaGFzQ2xhc3MoZSwgIm1jZS1wcmV2aWV3LW9iamVjdCIpID8gemUoTnQuZnJvbURvbShlLmZpcnN0RWxlbWVudENoaWxkKSwgdCkgOiB6ZShOdC5mcm9tRG9tKGUpLCB0KSk7CiAgICB9CgogICAgZnVuY3Rpb24gYShlLCB0LCBuKSB7CiAgICAgIFYobikgJiYgWShkKGUpLCBmdW5jdGlvbiAoZSkgewogICAgICAgIGUuc3R5bGVbdF0gfHwgIWwuc2NoZW1hLmlzVmFsaWQoZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLCB0KSA/IFQuc2V0U3R5bGUoZSwgdCwgbikgOiBULnNldEF0dHJpYihlLCB0LCAiIiArIG4pOwogICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiBtKGUsIHQsIG4pIHsKICAgICAgYShlLCAid2lkdGgiLCB0KSwgYShlLCAiaGVpZ2h0Iiwgbik7CiAgICB9CgogICAgZnVuY3Rpb24gZyhlKSB7CiAgICAgIHZhciB0LAogICAgICAgICAgbiwKICAgICAgICAgIHIsCiAgICAgICAgICBvLAogICAgICAgICAgaSwKICAgICAgICAgIGEsCiAgICAgICAgICB1ID0gZS5zY3JlZW5YIC0gQywKICAgICAgICAgIHMgPSBlLnNjcmVlblkgLSB4OwogICAgICBrID0gdSAqIGJbMl0gKyB3LCBfID0gcyAqIGJbM10gKyBTLCBrID0gayA8IDUgPyA1IDogaywgXyA9IF8gPCA1ID8gNSA6IF8sICgoYyhwKSB8fCBmKHApKSAmJiAhMSAhPT0gbC5nZXRQYXJhbSgicmVzaXplX2ltZ19wcm9wb3J0aW9uYWwiLCAhMCwgImJvb2xlYW4iKSA/ICFCZi5tb2RpZmllclByZXNzZWQoZSkgOiBCZi5tb2RpZmllclByZXNzZWQoZSkpICYmIChMKHUpID4gTChzKSA/IChfID0gSShrICogRSksIGsgPSBJKF8gLyBFKSkgOiAoayA9IEkoXyAvIEUpLCBfID0gSShrICogRSkpKSwgbShoLCBrLCBfKSwgdCA9IGIuc3RhcnRQb3MueCArIHUsIG4gPSBiLnN0YXJ0UG9zLnkgKyBzLCBULnNldFN0eWxlcyh2LCB7CiAgICAgICAgbGVmdDogdCA9IDAgPCB0ID8gdCA6IDAsCiAgICAgICAgdG9wOiBuID0gMCA8IG4gPyBuIDogMCwKICAgICAgICBkaXNwbGF5OiAiYmxvY2siCiAgICAgIH0pLCB2LmlubmVySFRNTCA9IGsgKyAiICZ0aW1lczsgIiArIF8sIGJbMl0gPCAwICYmIGguY2xpZW50V2lkdGggPD0gayAmJiBULnNldFN0eWxlKGgsICJsZWZ0Iiwgdm9pZCAwICsgKHcgLSBrKSksIGJbM10gPCAwICYmIGguY2xpZW50SGVpZ2h0IDw9IF8gJiYgVC5zZXRTdHlsZShoLCAidG9wIiwgdm9pZCAwICsgKFMgLSBfKSksICh1ID0gTS5zY3JvbGxXaWR0aCAtIEEpICsgKHMgPSBNLnNjcm9sbEhlaWdodCAtIFIpICE9IDAgJiYgVC5zZXRTdHlsZXModiwgewogICAgICAgIGxlZnQ6IHQgLSB1LAogICAgICAgIHRvcDogbiAtIHMKICAgICAgfSksIE4gfHwgKHIgPSBwLCBvID0gdywgaSA9IFMsIGEgPSAiY29ybmVyLSIgKyBiLm5hbWUsIGwuZmlyZSgiT2JqZWN0UmVzaXplU3RhcnQiLCB7CiAgICAgICAgdGFyZ2V0OiByLAogICAgICAgIHdpZHRoOiBvLAogICAgICAgIGhlaWdodDogaSwKICAgICAgICBvcmlnaW46IGEKICAgICAgfSksIE4gPSAhMCk7CiAgICB9CgogICAgZnVuY3Rpb24gbyhlKSB7CiAgICAgIGZ1bmN0aW9uIHQoZSwgdCkgewogICAgICAgIGlmIChlKSBkbyB7CiAgICAgICAgICBpZiAoZSA9PT0gdCkgcmV0dXJuIDE7CiAgICAgICAgfSB3aGlsZSAoZSA9IGUucGFyZW50Tm9kZSk7CiAgICAgIH0KCiAgICAgIHZhciBuOwogICAgICBOIHx8IGwucmVtb3ZlZCB8fCAoTyhULnNlbGVjdCgiaW1nW2RhdGEtbWNlLXNlbGVjdGVkXSxocltkYXRhLW1jZS1zZWxlY3RlZF0iKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBlLnJlbW92ZUF0dHJpYnV0ZShEKTsKICAgICAgfSksIG4gPSAibW91c2Vkb3duIiA9PT0gZS50eXBlID8gZS50YXJnZXQgOiByLmdldE5vZGUoKSwgdChuID0gVC4kKG4pLmNsb3Nlc3QoInRhYmxlLGltZyxmaWd1cmUuaW1hZ2UsaHIsdmlkZW8sc3Bhbi5tY2UtcHJldmlldy1vYmplY3QiKVswXSwgTSkgJiYgKHMoKSwgdChyLmdldFN0YXJ0KCEwKSwgbikgJiYgdChyLmdldEVuZCghMCksIG4pKSA/IHoobikgOiBIKCkpOwogICAgfQoKICAgIGZ1bmN0aW9uIHUoZSkgewogICAgICByZXR1cm4gUGYocGYobC5nZXRCb2R5KCksIGUpKTsKICAgIH0KCiAgICBmdW5jdGlvbiBzKCkgewogICAgICB0cnkgewogICAgICAgIGwuZ2V0RG9jKCkuZXhlY0NvbW1hbmQoImVuYWJsZU9iamVjdFJlc2l6aW5nIiwgITEsICJmYWxzZSIpOwogICAgICB9IGNhdGNoIChlKSB7fQogICAgfQoKICAgIHZhciBwLAogICAgICAgIGgsCiAgICAgICAgdiwKICAgICAgICBiLAogICAgICAgIHksCiAgICAgICAgQywKICAgICAgICB4LAogICAgICAgIHcsCiAgICAgICAgUywKICAgICAgICBFLAogICAgICAgIE4sCiAgICAgICAgaywKICAgICAgICBfLAogICAgICAgIEEsCiAgICAgICAgUiwKICAgICAgICBEID0gImRhdGEtbWNlLXNlbGVjdGVkIiwKICAgICAgICBUID0gbC5kb20sCiAgICAgICAgTyA9IEV0LmVhY2gsCiAgICAgICAgQiA9IGwuZ2V0RG9jKCksCiAgICAgICAgUCA9IGRvY3VtZW50LAogICAgICAgIEwgPSBNYXRoLmFicywKICAgICAgICBJID0gTWF0aC5yb3VuZCwKICAgICAgICBNID0gbC5nZXRCb2R5KCksCiAgICAgICAgRiA9IHsKICAgICAgbnc6IFswLCAwLCAtMSwgLTFdLAogICAgICBuZTogWzEsIDAsIDEsIC0xXSwKICAgICAgc2U6IFsxLCAxLCAxLCAxXSwKICAgICAgc3c6IFswLCAxLCAtMSwgMV0KICAgIH0sCiAgICAgICAgVSA9IGZ1bmN0aW9uIFUoKSB7CiAgICAgIHZhciBlLAogICAgICAgICAgdCwKICAgICAgICAgIG4sCiAgICAgICAgICByLAogICAgICAgICAgbyA9IE47CiAgICAgIE4gPSAhMSwgbyAmJiAoYShwLCAid2lkdGgiLCBrKSwgYShwLCAiaGVpZ2h0IiwgXykpLCBULnVuYmluZChCLCAibW91c2Vtb3ZlIiwgZyksIFQudW5iaW5kKEIsICJtb3VzZXVwIiwgVSksIFAgIT09IEIgJiYgKFQudW5iaW5kKFAsICJtb3VzZW1vdmUiLCBnKSwgVC51bmJpbmQoUCwgIm1vdXNldXAiLCBVKSksIFQucmVtb3ZlKGgpLCBULnJlbW92ZSh2KSwgVC5yZW1vdmUoeSksIHoocCksIG8gJiYgKGUgPSBwLCB0ID0gaywgbiA9IF8sIHIgPSAiY29ybmVyLSIgKyBiLm5hbWUsIGwuZmlyZSgiT2JqZWN0UmVzaXplZCIsIHsKICAgICAgICB0YXJnZXQ6IGUsCiAgICAgICAgd2lkdGg6IHQsCiAgICAgICAgaGVpZ2h0OiBuLAogICAgICAgIG9yaWdpbjogcgogICAgICB9KSwgVC5zZXRBdHRyaWIocCwgInN0eWxlIiwgVC5nZXRBdHRyaWIocCwgInN0eWxlIikpKSwgbC5ub2RlQ2hhbmdlZCgpOwogICAgfSwKICAgICAgICB6ID0gZnVuY3Rpb24geihlKSB7CiAgICAgIGooKTsKICAgICAgdmFyIHQgPSBULmdldFBvcyhlLCBNKSwKICAgICAgICAgIGEgPSB0LngsCiAgICAgICAgICB1ID0gdC55LAogICAgICAgICAgbiA9IGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksCiAgICAgICAgICBzID0gbi53aWR0aCB8fCBuLnJpZ2h0IC0gbi5sZWZ0LAogICAgICAgICAgYyA9IG4uaGVpZ2h0IHx8IG4uYm90dG9tIC0gbi50b3A7CiAgICAgIHAgIT09IGUgJiYgKEgoKSwgcCA9IGUsIGsgPSBfID0gMCk7CiAgICAgIHZhciByID0gbC5maXJlKCJPYmplY3RTZWxlY3RlZCIsIHsKICAgICAgICB0YXJnZXQ6IGUKICAgICAgfSksCiAgICAgICAgICBvID0gVC5nZXRBdHRyaWIocCwgRCwgIjEiKTsKICAgICAgaShlKSAmJiAhci5pc0RlZmF1bHRQcmV2ZW50ZWQoKSA/IE8oRiwgZnVuY3Rpb24gKG8sIGkpIHsKICAgICAgICB2YXIgZSA9IFQuZ2V0KCJtY2VSZXNpemVIYW5kbGUiICsgaSk7CiAgICAgICAgZSAmJiBULnJlbW92ZShlKSwgZSA9IFQuYWRkKE0sICJkaXYiLCB7CiAgICAgICAgICBpZDogIm1jZVJlc2l6ZUhhbmRsZSIgKyBpLAogICAgICAgICAgImRhdGEtbWNlLWJvZ3VzIjogImFsbCIsCiAgICAgICAgICBjbGFzczogIm1jZS1yZXNpemVoYW5kbGUiLAogICAgICAgICAgdW5zZWxlY3RhYmxlOiAhMCwKICAgICAgICAgIHN0eWxlOiAiY3Vyc29yOiIgKyBpICsgIi1yZXNpemU7IG1hcmdpbjowOyBwYWRkaW5nOjAiCiAgICAgICAgfSksIDExID09PSB4dC5pZSAmJiAoZS5jb250ZW50RWRpdGFibGUgPSAhMSksIFQuYmluZChlLCAibW91c2Vkb3duIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciB0LCBuLCByOwogICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKSwgZS5wcmV2ZW50RGVmYXVsdCgpLCB0ID0gZSwgciA9IGQocClbMF0sIEMgPSB0LnNjcmVlblgsIHggPSB0LnNjcmVlblksIHcgPSByLmNsaWVudFdpZHRoLCBTID0gci5jbGllbnRIZWlnaHQsIEUgPSBTIC8gdywgKGIgPSBvKS5uYW1lID0gaSwgYi5zdGFydFBvcyA9IHsKICAgICAgICAgICAgeDogcyAqIG9bMF0gKyBhLAogICAgICAgICAgICB5OiBjICogb1sxXSArIHUKICAgICAgICAgIH0sIEEgPSBNLnNjcm9sbFdpZHRoLCBSID0gTS5zY3JvbGxIZWlnaHQsIHkgPSBULmFkZChNLCAiZGl2IiwgewogICAgICAgICAgICBjbGFzczogIm1jZS1yZXNpemUtYmFja2Ryb3AiLAogICAgICAgICAgICAiZGF0YS1tY2UtYm9ndXMiOiAiYWxsIgogICAgICAgICAgfSksIFQuc2V0U3R5bGVzKHksIHsKICAgICAgICAgICAgcG9zaXRpb246ICJmaXhlZCIsCiAgICAgICAgICAgIGxlZnQ6ICIwIiwKICAgICAgICAgICAgdG9wOiAiMCIsCiAgICAgICAgICAgIHdpZHRoOiAiMTAwJSIsCiAgICAgICAgICAgIGhlaWdodDogIjEwMCUiCiAgICAgICAgICB9KSwgaCA9IGYobiA9IHApID8gVC5jcmVhdGUoImltZyIsIHsKICAgICAgICAgICAgc3JjOiB4dC50cmFuc3BhcmVudFNyYwogICAgICAgICAgfSkgOiBuLmNsb25lTm9kZSghMCksIFQuYWRkQ2xhc3MoaCwgIm1jZS1jbG9uZWRyZXNpemFibGUiKSwgVC5zZXRBdHRyaWIoaCwgImRhdGEtbWNlLWJvZ3VzIiwgImFsbCIpLCBoLmNvbnRlbnRFZGl0YWJsZSA9ICJmYWxzZSIsIFQuc2V0U3R5bGVzKGgsIHsKICAgICAgICAgICAgbGVmdDogYSwKICAgICAgICAgICAgdG9wOiB1LAogICAgICAgICAgICBtYXJnaW46IDAKICAgICAgICAgIH0pLCBtKGgsIHMsIGMpLCBoLnJlbW92ZUF0dHJpYnV0ZShEKSwgTS5hcHBlbmRDaGlsZChoKSwgVC5iaW5kKEIsICJtb3VzZW1vdmUiLCBnKSwgVC5iaW5kKEIsICJtb3VzZXVwIiwgVSksIFAgIT09IEIgJiYgKFQuYmluZChQLCAibW91c2Vtb3ZlIiwgZyksIFQuYmluZChQLCAibW91c2V1cCIsIFUpKSwgdiA9IFQuYWRkKE0sICJkaXYiLCB7CiAgICAgICAgICAgIGNsYXNzOiAibWNlLXJlc2l6ZS1oZWxwZXIiLAogICAgICAgICAgICAiZGF0YS1tY2UtYm9ndXMiOiAiYWxsIgogICAgICAgICAgfSwgdyArICIgJnRpbWVzOyAiICsgUyk7CiAgICAgICAgfSksIG8uZWxtID0gZSwgVC5zZXRTdHlsZXMoZSwgewogICAgICAgICAgbGVmdDogcyAqIG9bMF0gKyBhIC0gZS5vZmZzZXRXaWR0aCAvIDIsCiAgICAgICAgICB0b3A6IGMgKiBvWzFdICsgdSAtIGUub2Zmc2V0SGVpZ2h0IC8gMgogICAgICAgIH0pOwogICAgICB9KSA6IEgoKSwgVC5nZXRBdHRyaWIocCwgRCkgfHwgcC5zZXRBdHRyaWJ1dGUoRCwgbyk7CiAgICB9LAogICAgICAgIEggPSBmdW5jdGlvbiBIKCkgewogICAgICBqKCksIHAgJiYgcC5yZW1vdmVBdHRyaWJ1dGUoRCksIG5lKEYsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgdmFyIG4gPSBULmdldCgibWNlUmVzaXplSGFuZGxlIiArIHQpOwogICAgICAgIG4gJiYgKFQudW5iaW5kKG4pLCBULnJlbW92ZShuKSk7CiAgICAgIH0pOwogICAgfSwKICAgICAgICBqID0gZnVuY3Rpb24gaigpIHsKICAgICAgbmUoRiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBlLmVsbSAmJiAoVC51bmJpbmQoZS5lbG0pLCBkZWxldGUgZS5lbG0pOwogICAgICB9KTsKICAgIH07CgogICAgcmV0dXJuIGwub24oImluaXQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBlOwogICAgICBzKCksICh4dC5icm93c2VyLmlzSUUoKSB8fCB4dC5icm93c2VyLmlzRWRnZSgpKSAmJiAobC5vbigibW91c2Vkb3duIGNsaWNrIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgdCA9IGUudGFyZ2V0LAogICAgICAgICAgICBuID0gdC5ub2RlTmFtZTsKICAgICAgICBOIHx8ICEvXihUQUJMRXxJTUd8SFIpJC8udGVzdChuKSB8fCB1KHQpIHx8ICgyICE9PSBlLmJ1dHRvbiAmJiBsLnNlbGVjdGlvbi5zZWxlY3QodCwgIlRBQkxFIiA9PT0gbiksICJtb3VzZWRvd24iID09PSBlLnR5cGUgJiYgbC5ub2RlQ2hhbmdlZCgpKTsKICAgICAgfSksIFQuYmluZChNLCAibXNjb250cm9sc2VsZWN0IiwgZSA9IGZ1bmN0aW9uIGUoX2UzKSB7CiAgICAgICAgZnVuY3Rpb24gdChlKSB7CiAgICAgICAgICBfci5zZXRFZGl0b3JUaW1lb3V0KGwsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIGwuc2VsZWN0aW9uLnNlbGVjdChlKTsKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKHUoX2UzLnRhcmdldCkgfHwgSm4oX2UzLnRhcmdldCkpIHJldHVybiBfZTMucHJldmVudERlZmF1bHQoKSwgdm9pZCB0KF9lMy50YXJnZXQpOwogICAgICAgIC9eKFRBQkxFfElNR3xIUikkLy50ZXN0KF9lMy50YXJnZXQubm9kZU5hbWUpICYmIChfZTMucHJldmVudERlZmF1bHQoKSwgIklNRyIgPT09IF9lMy50YXJnZXQudGFnTmFtZSAmJiB0KF9lMy50YXJnZXQpKTsKICAgICAgfSksIGwub24oInJlbW92ZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gVC51bmJpbmQoTSwgIm1zY29udHJvbHNlbGVjdCIsIGUpOwogICAgICB9KSk7CgogICAgICB2YXIgdCA9IF9yLnRocm90dGxlKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgbC5jb21wb3NpbmcgfHwgbyhlKTsKICAgICAgfSk7CgogICAgICBsLm9uKCJub2RlY2hhbmdlIFJlc2l6ZUVkaXRvciBSZXNpemVXaW5kb3cgUmVzaXplQ29udGVudCBkcm9wIEZ1bGxzY3JlZW5TdGF0ZUNoYW5nZWQiLCB0KSwgbC5vbigia2V5dXAgY29tcG9zaXRpb25lbmQiLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHAgJiYgIlRBQkxFIiA9PT0gcC5ub2RlTmFtZSAmJiB0KGUpOwogICAgICB9KSwgbC5vbigiaGlkZSBibHVyIiwgSCksIGwub24oImNvbnRleHRtZW51IGxvbmdwcmVzcyIsIG4sICEwKTsKICAgIH0pLCBsLm9uKCJyZW1vdmUiLCBqKSwgewogICAgICBpc1Jlc2l6YWJsZTogaSwKICAgICAgc2hvd1Jlc2l6ZVJlY3Q6IHosCiAgICAgIGhpZGVSZXNpemVSZWN0OiBILAogICAgICB1cGRhdGVSZXNpemVSZWN0OiBvLAogICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkgewogICAgICAgIHAgPSBoID0geSA9IG51bGw7CiAgICAgIH0KICAgIH07CiAgfQoKICBmdW5jdGlvbiB4ZihlKSB7CiAgICByZXR1cm4gWG4oZSkgfHwgWW4oZSk7CiAgfQoKICBmdW5jdGlvbiB3Zih0LCBuLCByKSB7CiAgICB2YXIgbywKICAgICAgICBlLAogICAgICAgIGksCiAgICAgICAgYSwKICAgICAgICB1LAogICAgICAgIHMgPSByOwogICAgaWYgKHMuY2FyZXRQb3NpdGlvbkZyb21Qb2ludCkgKGUgPSBzLmNhcmV0UG9zaXRpb25Gcm9tUG9pbnQodCwgbikpICYmICgobyA9IHIuY3JlYXRlUmFuZ2UoKSkuc2V0U3RhcnQoZS5vZmZzZXROb2RlLCBlLm9mZnNldCksIG8uY29sbGFwc2UoITApKTtlbHNlIGlmIChzLmNhcmV0UmFuZ2VGcm9tUG9pbnQpIG8gPSBzLmNhcmV0UmFuZ2VGcm9tUG9pbnQodCwgbik7ZWxzZSBpZiAocy5ib2R5LmNyZWF0ZVRleHRSYW5nZSkgewogICAgICBvID0gcy5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpOwoKICAgICAgdHJ5IHsKICAgICAgICBvLm1vdmVUb1BvaW50KHQsIG4pLCBvLmNvbGxhcHNlKCEwKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIG8gPSBmdW5jdGlvbiAoZSwgbiwgdCkgewogICAgICAgICAgdmFyIHIsCiAgICAgICAgICAgICAgbyA9IHQuZWxlbWVudEZyb21Qb2ludChlLCBuKSwKICAgICAgICAgICAgICBpID0gdC5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpOwoKICAgICAgICAgIGlmIChvICYmICJIVE1MIiAhPT0gby50YWdOYW1lIHx8IChvID0gdC5ib2R5KSwgaS5tb3ZlVG9FbGVtZW50VGV4dChvKSwgMCA8IChyID0gKHIgPSBFdC50b0FycmF5KGkuZ2V0Q2xpZW50UmVjdHMoKSkpLnNvcnQoZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgICAgcmV0dXJuIChlID0gTWF0aC5hYnMoTWF0aC5tYXgoZS50b3AgLSBuLCBlLmJvdHRvbSAtIG4pKSkgLSBNYXRoLmFicyhNYXRoLm1heCh0LnRvcCAtIG4sIHQuYm90dG9tIC0gbikpOwogICAgICAgICAgfSkpLmxlbmd0aCkgewogICAgICAgICAgICBuID0gKHJbMF0uYm90dG9tICsgclswXS50b3ApIC8gMjsKCiAgICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgICAgcmV0dXJuIGkubW92ZVRvUG9pbnQoZSwgbiksIGkuY29sbGFwc2UoITApLCBpOwogICAgICAgICAgICB9IGNhdGNoIChlKSB7fQogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0odCwgbiwgcik7CiAgICAgIH0KCiAgICAgIHJldHVybiBpID0gbywgYSA9IHIuYm9keSwgdSA9IGkgJiYgaS5wYXJlbnRFbGVtZW50ID8gaS5wYXJlbnRFbGVtZW50KCkgOiBudWxsLCBZbihmdW5jdGlvbiAoZSwgdCwgbikgewogICAgICAgIGZvciAoOyBlICYmIGUgIT09IHQ7KSB7CiAgICAgICAgICBpZiAobihlKSkgcmV0dXJuIGU7CiAgICAgICAgICBlID0gZS5wYXJlbnROb2RlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgIH0odSwgYSwgeGYpKSA/IG51bGwgOiBpOwogICAgfQogICAgcmV0dXJuIG87CiAgfQoKICBmdW5jdGlvbiBTZihlLCB0KSB7CiAgICByZXR1cm4gZSAmJiB0ICYmIGUuc3RhcnRDb250YWluZXIgPT09IHQuc3RhcnRDb250YWluZXIgJiYgZS5zdGFydE9mZnNldCA9PT0gdC5zdGFydE9mZnNldCAmJiBlLmVuZENvbnRhaW5lciA9PT0gdC5lbmRDb250YWluZXIgJiYgZS5lbmRPZmZzZXQgPT09IHQuZW5kT2Zmc2V0OwogIH0KCiAgZnVuY3Rpb24gRWYoZSwgdCwgbikgewogICAgcmV0dXJuIG51bGwgIT09IGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICAgIGZvciAoOyBlICYmIGUgIT09IHQ7KSB7CiAgICAgICAgaWYgKG4oZSkpIHJldHVybiBlOwogICAgICAgIGUgPSBlLnBhcmVudE5vZGU7CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfShlLCB0LCBuKTsKICB9CgogIGZ1bmN0aW9uIE5mKGUpIHsKICAgIHJldHVybiBlICYmICJUQUJMRSIgPT09IGUubm9kZU5hbWU7CiAgfQoKICBmdW5jdGlvbiBrZihlLCB0LCBuKSB7CiAgICBmb3IgKHZhciByID0gbmV3IFJyKHQsIGUuZ2V0UGFyZW50KHQucGFyZW50Tm9kZSwgZS5pc0Jsb2NrKSB8fCBlLmdldFJvb3QoKSk7IHQgPSByW24gPyAicHJldiIgOiAibmV4dCJdKCk7KSB7CiAgICAgIGlmIChXbih0KSkgcmV0dXJuIDE7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBfZihlLCB0LCBuLCByLCBvKSB7CiAgICB2YXIgaSwKICAgICAgICBhLAogICAgICAgIHUgPSBlLmdldFJvb3QoKSwKICAgICAgICBzID0gZS5zY2hlbWEuZ2V0Tm9uRW1wdHlFbGVtZW50cygpLAogICAgICAgIGMgPSBlLmdldFBhcmVudChvLnBhcmVudE5vZGUsIGUuaXNCbG9jaykgfHwgdTsKICAgIGlmIChyICYmIFduKG8pICYmIHQgJiYgZS5pc0VtcHR5KGMpKSByZXR1cm4gdmUuc29tZShhcyhvLnBhcmVudE5vZGUsIGUubm9kZUluZGV4KG8pKSk7CgogICAgZm9yICh2YXIgbCwgZiwgZCA9IG5ldyBScihvLCBjKTsgYSA9IGRbciA/ICJwcmV2IiA6ICJuZXh0Il0oKTspIHsKICAgICAgaWYgKCJmYWxzZSIgPT09IGUuZ2V0Q29udGVudEVkaXRhYmxlUGFyZW50KGEpIHx8IChmID0gdSwgSXIobCA9IGEpICYmICExID09PSBFZihsLCBmLCB6YykpKSByZXR1cm4gdmUubm9uZSgpOwogICAgICBpZiAoam4oYSkgJiYgMCA8IGEubm9kZVZhbHVlLmxlbmd0aCkgcmV0dXJuICExID09PSBFZihhLCB1LCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiAiQSIgPT09IGUubm9kZU5hbWU7CiAgICAgIH0pID8gdmUuc29tZShhcyhhLCByID8gYS5ub2RlVmFsdWUubGVuZ3RoIDogMCkpIDogdmUubm9uZSgpOwogICAgICBpZiAoZS5pc0Jsb2NrKGEpIHx8IHNbYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSkgcmV0dXJuIHZlLm5vbmUoKTsKICAgICAgaSA9IGE7CiAgICB9CgogICAgcmV0dXJuIG4gJiYgaSA/IHZlLnNvbWUoYXMoaSwgMCkpIDogdmUubm9uZSgpOwogIH0KCiAgZnVuY3Rpb24gQWYoZSwgdCwgbiwgcikgewogICAgdmFyIG8sCiAgICAgICAgaSA9IGUuZ2V0Um9vdCgpLAogICAgICAgIGEgPSAhMSwKICAgICAgICB1ID0gclsobiA/ICJzdGFydCIgOiAiZW5kIikgKyAiQ29udGFpbmVyIl0sCiAgICAgICAgcyA9IHJbKG4gPyAic3RhcnQiIDogImVuZCIpICsgIk9mZnNldCJdLAogICAgICAgIGMgPSB6bih1KSAmJiBzID09PSB1LmNoaWxkTm9kZXMubGVuZ3RoLAogICAgICAgIGwgPSBlLnNjaGVtYS5nZXROb25FbXB0eUVsZW1lbnRzKCksCiAgICAgICAgZiA9IG47CiAgICBpZiAoSXIodSkpIHJldHVybiB2ZS5ub25lKCk7CgogICAgaWYgKHpuKHUpICYmIHMgPiB1LmNoaWxkTm9kZXMubGVuZ3RoIC0gMSAmJiAoZiA9ICExKSwgcW4odSkgJiYgKHUgPSBpLCBzID0gMCksIHUgPT09IGkpIHsKICAgICAgaWYgKGYgJiYgKGQgPSB1LmNoaWxkTm9kZXNbMCA8IHMgPyBzIC0gMSA6IDBdKSkgewogICAgICAgIGlmIChJcihkKSkgcmV0dXJuIHZlLm5vbmUoKTsKICAgICAgICBpZiAobFtkLm5vZGVOYW1lXSB8fCBOZihkKSkgcmV0dXJuIHZlLm5vbmUoKTsKICAgICAgfQoKICAgICAgaWYgKHUuaGFzQ2hpbGROb2RlcygpKSB7CiAgICAgICAgaWYgKHMgPSBNYXRoLm1pbighZiAmJiAwIDwgcyA/IHMgLSAxIDogcywgdS5jaGlsZE5vZGVzLmxlbmd0aCAtIDEpLCB1ID0gdS5jaGlsZE5vZGVzW3NdLCBzID0gam4odSkgJiYgYyA/IHUuZGF0YS5sZW5ndGggOiAwLCAhdCAmJiB1ID09PSBpLmxhc3RDaGlsZCAmJiBOZih1KSkgcmV0dXJuIHZlLm5vbmUoKTsKICAgICAgICBpZiAoZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgIGZvciAoOyB0ICYmIHQgIT09IGU7KSB7CiAgICAgICAgICAgIGlmIChZbih0KSkgcmV0dXJuIDE7CiAgICAgICAgICAgIHQgPSB0LnBhcmVudE5vZGU7CiAgICAgICAgICB9CiAgICAgICAgfShpLCB1KSB8fCBJcih1KSkgcmV0dXJuIHZlLm5vbmUoKTsKCiAgICAgICAgaWYgKHUuaGFzQ2hpbGROb2RlcygpICYmICExID09PSBOZih1KSkgewogICAgICAgICAgdmFyIGQgPSB1LAogICAgICAgICAgICAgIG0gPSBuZXcgUnIodSwgaSk7CgogICAgICAgICAgZG8gewogICAgICAgICAgICBpZiAoWW4oZCkgfHwgSXIoZCkpIHsKICAgICAgICAgICAgICBhID0gITE7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChqbihkKSAmJiAwIDwgZC5ub2RlVmFsdWUubGVuZ3RoKSB7CiAgICAgICAgICAgICAgcyA9IGYgPyAwIDogZC5ub2RlVmFsdWUubGVuZ3RoLCB1ID0gZCwgYSA9ICEwOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBpZiAobFtkLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldICYmICghKG8gPSBkKSB8fCAhL14oVER8VEh8Q0FQVElPTikkLy50ZXN0KG8ubm9kZU5hbWUpKSkgewogICAgICAgICAgICAgIHMgPSBlLm5vZGVJbmRleChkKSwgdSA9IGQucGFyZW50Tm9kZSwgZiB8fCBzKyssIGEgPSAhMDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgfSB3aGlsZSAoZCA9IGYgPyBtLm5leHQoKSA6IG0ucHJldigpKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdCAmJiAoam4odSkgJiYgMCA9PT0gcyAmJiBfZihlLCBjLCB0LCAhMCwgdSkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICB1ID0gZS5jb250YWluZXIoKSwgcyA9IGUub2Zmc2V0KCksIGEgPSAhMDsKICAgIH0pLCB6bih1KSAmJiAoIShkID0gKGQgPSB1LmNoaWxkTm9kZXNbc10pIHx8IHUuY2hpbGROb2Rlc1tzIC0gMV0pIHx8ICFXbihkKSB8fCBkLnByZXZpb3VzU2libGluZyAmJiAiQSIgPT09IGQucHJldmlvdXNTaWJsaW5nLm5vZGVOYW1lIHx8IGtmKGUsIGQsICExKSB8fCBrZihlLCBkLCAhMCkgfHwgX2YoZSwgYywgdCwgITAsIGQpLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgdSA9IGUuY29udGFpbmVyKCksIHMgPSBlLm9mZnNldCgpLCBhID0gITA7CiAgICB9KSkpLCBmICYmICF0ICYmIGpuKHUpICYmIHMgPT09IHUubm9kZVZhbHVlLmxlbmd0aCAmJiBfZihlLCBjLCB0LCAhMSwgdSkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICB1ID0gZS5jb250YWluZXIoKSwgcyA9IGUub2Zmc2V0KCksIGEgPSAhMDsKICAgIH0pLCBhID8gdmUuc29tZShhcyh1LCBzKSkgOiB2ZS5ub25lKCk7CiAgfQoKICBmdW5jdGlvbiBSZihlLCB0KSB7CiAgICB2YXIgbiA9IHQuY29sbGFwc2VkLAogICAgICAgIHIgPSB0LmNsb25lUmFuZ2UoKSwKICAgICAgICBvID0gYXMuZnJvbVJhbmdlU3RhcnQodCk7CiAgICByZXR1cm4gQWYoZSwgbiwgITAsIHIpLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgbiAmJiBhcy5pc0Fib3ZlKG8sIGUpIHx8IHIuc2V0U3RhcnQoZS5jb250YWluZXIoKSwgZS5vZmZzZXQoKSk7CiAgICB9KSwgbiB8fCBBZihlLCBuLCAhMSwgcikuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICByLnNldEVuZChlLmNvbnRhaW5lcigpLCBlLm9mZnNldCgpKTsKICAgIH0pLCBuICYmIHIuY29sbGFwc2UoITApLCBTZih0LCByKSA/IHZlLm5vbmUoKSA6IHZlLnNvbWUocik7CiAgfQoKICBmdW5jdGlvbiBEZihlLCB0KSB7CiAgICByZXR1cm4gZS5zcGxpdFRleHQodCk7CiAgfQoKICBmdW5jdGlvbiBUZihlKSB7CiAgICB2YXIgdCA9IGUuc3RhcnRDb250YWluZXIsCiAgICAgICAgbiA9IGUuc3RhcnRPZmZzZXQsCiAgICAgICAgciA9IGUuZW5kQ29udGFpbmVyLAogICAgICAgIG8gPSBlLmVuZE9mZnNldDsKICAgIHJldHVybiB0ID09PSByICYmIGpuKHQpID8gMCA8IG4gJiYgbiA8IHQubm9kZVZhbHVlLmxlbmd0aCAmJiAodCA9IChyID0gRGYodCwgbikpLnByZXZpb3VzU2libGluZywgbiA8IG8gPyAodCA9IHIgPSBEZihyLCBvIC09IG4pLnByZXZpb3VzU2libGluZywgbyA9IHIubm9kZVZhbHVlLmxlbmd0aCwgbiA9IDApIDogbyA9IDApIDogKGpuKHQpICYmIDAgPCBuICYmIG4gPCB0Lm5vZGVWYWx1ZS5sZW5ndGggJiYgKHQgPSBEZih0LCBuKSwgbiA9IDApLCBqbihyKSAmJiAwIDwgbyAmJiBvIDwgci5ub2RlVmFsdWUubGVuZ3RoICYmIChvID0gKHIgPSBEZihyLCBvKS5wcmV2aW91c1NpYmxpbmcpLm5vZGVWYWx1ZS5sZW5ndGgpKSwgewogICAgICBzdGFydENvbnRhaW5lcjogdCwKICAgICAgc3RhcnRPZmZzZXQ6IG4sCiAgICAgIGVuZENvbnRhaW5lcjogciwKICAgICAgZW5kT2Zmc2V0OiBvCiAgICB9OwogIH0KCiAgZnVuY3Rpb24gT2YobikgewogICAgcmV0dXJuIHsKICAgICAgd2FsazogZnVuY3Rpb24gd2FsayhlLCB0KSB7CiAgICAgICAgcmV0dXJuIEVsKG4sIGUsIHQpOwogICAgICB9LAogICAgICBzcGxpdDogVGYsCiAgICAgIG5vcm1hbGl6ZTogZnVuY3Rpb24gbm9ybWFsaXplKHQpIHsKICAgICAgICByZXR1cm4gUmYobiwgdCkuZm9sZChSLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIHQuc2V0U3RhcnQoZS5zdGFydENvbnRhaW5lciwgZS5zdGFydE9mZnNldCksIHQuc2V0RW5kKGUuZW5kQ29udGFpbmVyLCBlLmVuZE9mZnNldCksICEwOwogICAgICAgIH0pOwogICAgICB9CiAgICB9OwogIH0KCiAgRmwuaXNCb29rbWFya05vZGUgPSBZYzsKICB2YXIgQmYgPSB7CiAgICBCQUNLU1BBQ0U6IDgsCiAgICBERUxFVEU6IDQ2LAogICAgRE9XTjogNDAsCiAgICBFTlRFUjogMTMsCiAgICBFU0M6IDI3LAogICAgTEVGVDogMzcsCiAgICBSSUdIVDogMzksCiAgICBTUEFDRUJBUjogMzIsCiAgICBUQUI6IDksCiAgICBVUDogMzgsCiAgICBQQUdFX1VQOiAzMywKICAgIFBBR0VfRE9XTjogMzQsCiAgICBFTkQ6IDM1LAogICAgSE9NRTogMzYsCiAgICBtb2RpZmllclByZXNzZWQ6IGZ1bmN0aW9uIG1vZGlmaWVyUHJlc3NlZChlKSB7CiAgICAgIHJldHVybiBlLnNoaWZ0S2V5IHx8IGUuY3RybEtleSB8fCBlLmFsdEtleSB8fCBCZi5tZXRhS2V5UHJlc3NlZChlKTsKICAgIH0sCiAgICBtZXRhS2V5UHJlc3NlZDogZnVuY3Rpb24gbWV0YUtleVByZXNzZWQoZSkgewogICAgICByZXR1cm4geHQubWFjID8gZS5tZXRhS2V5IDogZS5jdHJsS2V5ICYmICFlLmFsdEtleTsKICAgIH0KICB9LAogICAgICBQZiA9IFluOwogIE9mLmNvbXBhcmVSYW5nZXMgPSBTZiwgT2YuZ2V0Q2FyZXRSYW5nZUZyb21Qb2ludCA9IHdmLCBPZi5nZXRTZWxlY3RlZE5vZGUgPSBPdSwgT2YuZ2V0Tm9kZSA9IEJ1OwogIHZhciBMZiwKICAgICAgSWYsCiAgICAgIE1mID0gKExmID0gImhlaWdodCIsIElmID0gZnVuY3Rpb24gSWYoZSkgewogICAgdmFyIHQgPSBlLmRvbTsKICAgIHJldHVybiBJbihlKSA/IHQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0IDogdC5vZmZzZXRIZWlnaHQ7CiAgfSwgewogICAgc2V0OiBmdW5jdGlvbiBzZXQoZSwgdCkgewogICAgICBpZiAoIUUodCkgJiYgIXQubWF0Y2goL15bMC05XSskLykpIHRocm93IG5ldyBFcnJvcihMZiArICIuc2V0IGFjY2VwdHMgb25seSBwb3NpdGl2ZSBpbnRlZ2VyIHZhbHVlcy4gVmFsdWUgd2FzICIgKyB0KTsKICAgICAgdmFyIG4gPSBlLmRvbTsKICAgICAgbW4obikgJiYgKG4uc3R5bGVbTGZdID0gdCArICJweCIpOwogICAgfSwKICAgIGdldDogRmYsCiAgICBnZXRPdXRlcjogRmYsCiAgICBhZ2dyZWdhdGU6IFVmLAogICAgbWF4OiBmdW5jdGlvbiBtYXgoZSwgdCwgbikgewogICAgICB2YXIgciA9IFVmKGUsIG4pOwogICAgICByZXR1cm4gciA8IHQgPyB0IC0gciA6IDA7CiAgICB9CiAgfSk7CgogIGZ1bmN0aW9uIEZmKGUpIHsKICAgIHZhciB0ID0gSWYoZSk7CgogICAgaWYgKHQgPD0gMCB8fCBudWxsID09PSB0KSB7CiAgICAgIHZhciBuID0geG4oZSwgTGYpOwogICAgICByZXR1cm4gcGFyc2VGbG9hdChuKSB8fCAwOwogICAgfQoKICAgIHJldHVybiB0OwogIH0KCiAgZnVuY3Rpb24gVWYobywgZSkgewogICAgcmV0dXJuIEwoZSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgdmFyIG4gPSB4bihvLCB0KSwKICAgICAgICAgIHIgPSB2b2lkIDAgPT09IG4gPyAwIDogcGFyc2VJbnQobiwgMTApOwogICAgICByZXR1cm4gaXNOYU4ocikgPyBlIDogZSArIHI7CiAgICB9LCAwKTsKICB9CgogIGZ1bmN0aW9uIHpmKGUpIHsKICAgIHJldHVybiAidGV4dGFyZWEiID09PSBrdChlKTsKICB9CgogIGZ1bmN0aW9uIEhmKGUsIHQpIHsKICAgIHZhciBuID0gZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQgPSBlLmRvbS5vd25lckRvY3VtZW50LAogICAgICAgICAgbiA9IHQuYm9keSwKICAgICAgICAgIHIgPSB0LmRlZmF1bHRWaWV3LAogICAgICAgICAgbyA9IHQuZG9jdW1lbnRFbGVtZW50OwogICAgICBpZiAobiA9PT0gZS5kb20pIHJldHVybiBGbihuLm9mZnNldExlZnQsIG4ub2Zmc2V0VG9wKTsKICAgICAgdmFyIGkgPSBHdChudWxsID09IHIgPyB2b2lkIDAgOiByLnBhZ2VZT2Zmc2V0LCBvLnNjcm9sbFRvcCksCiAgICAgICAgICBhID0gR3QobnVsbCA9PSByID8gdm9pZCAwIDogci5wYWdlWE9mZnNldCwgby5zY3JvbGxMZWZ0KSwKICAgICAgICAgIHUgPSBHdChvLmNsaWVudFRvcCwgbi5jbGllbnRUb3ApLAogICAgICAgICAgcyA9IEd0KG8uY2xpZW50TGVmdCwgbi5jbGllbnRMZWZ0KTsKICAgICAgcmV0dXJuIFVuKGUpLnRyYW5zbGF0ZShhIC0gcywgaSAtIHUpOwogICAgfShlKSwKICAgICAgICByID0gTWYuZ2V0KGUpOwoKICAgIHJldHVybiB7CiAgICAgIGVsZW1lbnQ6IGUsCiAgICAgIGJvdHRvbTogbi50b3AgKyByLAogICAgICBoZWlnaHQ6IHIsCiAgICAgIHBvczogbiwKICAgICAgY2xlYW51cDogdAogICAgfTsKICB9CgogIGZ1bmN0aW9uIGpmKG4sIHIsIG8sIGkpIHsKICAgIFJkKG4sIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHJldHVybiBBZChuLCByLCBvLCBpKTsKICAgIH0sIG8pOwogIH0KCiAgZnVuY3Rpb24gVmYoZSwgdCwgbiwgciwgbykgewogICAgdmFyIGkgPSB7CiAgICAgIGVsbTogci5lbGVtZW50LmRvbSwKICAgICAgYWxpZ25Ub1RvcDogbwogICAgfTsKICAgIGUuZmlyZSgiU2Nyb2xsSW50b1ZpZXciLCBpKS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCAobih0LCBKdCh0KS50b3AsIHIsIG8pLCBlLmZpcmUoIkFmdGVyU2Nyb2xsSW50b1ZpZXciLCBpKSk7CiAgfQoKICBmdW5jdGlvbiBxZihlLCB0LCBuLCByKSB7CiAgICB2YXIgbyA9IE50LmZyb21Eb20oZS5nZXREb2MoKSk7CiAgICBWZihlLCBvLCBuLCBIZihOdC5mcm9tRG9tKHQpLCB0ZSksIHIpOwogIH0KCiAgZnVuY3Rpb24gJGYoZSwgdCwgbiwgcikgewogICAgdmFyIG8sCiAgICAgICAgaSA9IGUucG9zOwogICAgbiA/IFF0KGkubGVmdCwgaS50b3AsIHIpIDogKG8gPSBpLnRvcCAtIHQgKyBlLmhlaWdodCwgUXQoaS5sZWZ0LCBvLCByKSk7CiAgfQoKICBmdW5jdGlvbiBXZihlLCB0LCBuLCByLCBvKSB7CiAgICB2YXIgaSA9IG4gKyB0LAogICAgICAgIGEgPSByLnBvcy50b3AsCiAgICAgICAgdSA9IHIuYm90dG9tLAogICAgICAgIHMgPSBuIDw9IHUgLSBhOwogICAgYSA8IHQgPyAkZihyLCBuLCAhMSAhPT0gbywgZSkgOiBpIDwgYSA/ICRmKHIsIG4sIHMgPyAhMSAhPT0gbyA6ICEwID09PSBvLCBlKSA6IGkgPCB1ICYmICFzICYmICRmKHIsIG4sICEwID09PSBvLCBlKTsKICB9CgogIGZ1bmN0aW9uIEtmKGUsIHQsIG4sIHIpIHsKICAgIFdmKGUsIHQsIGUuZG9tLmRlZmF1bHRWaWV3LmlubmVySGVpZ2h0LCBuLCByKTsKICB9CgogIGZ1bmN0aW9uIFhmKGUsIHQsIG4sIHIpIHsKICAgIFdmKGUsIHQsIGUuZG9tLmRlZmF1bHRWaWV3LmlubmVySGVpZ2h0LCBuLCByKTsKICAgIHZhciBvLAogICAgICAgIGksCiAgICAgICAgYSwKICAgICAgICB1LAogICAgICAgIHMsCiAgICAgICAgYywKICAgICAgICBsLAogICAgICAgIGYgPSAobyA9IG4uZWxlbWVudCwgdSA9IEp0KE50LmZyb21Eb20oZG9jdW1lbnQpKSwgYSA9IChpID0gX2QpLm93bmVyKG8pLCBzID0ga2QoaSwgYSksIGMgPSBVbihvKSwgbCA9IFAocywgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgdmFyIG4gPSBVbih0KTsKICAgICAgcmV0dXJuIHsKICAgICAgICBsZWZ0OiBlLmxlZnQgKyBuLmxlZnQsCiAgICAgICAgdG9wOiBlLnRvcCArIG4udG9wCiAgICAgIH07CiAgICB9LCB7CiAgICAgIGxlZnQ6IDAsCiAgICAgIHRvcDogMAogICAgfSksIEZuKGwubGVmdCArIGMubGVmdCArIHUubGVmdCwgbC50b3AgKyBjLnRvcCArIHUudG9wKSksCiAgICAgICAgZCA9IHRuKHdpbmRvdyk7CiAgICBmLnRvcCA8IGQueSA/IFp0KG4uZWxlbWVudCwgITEgIT09IHIpIDogZi50b3AgPiBkLmJvdHRvbSAmJiBadChuLmVsZW1lbnQsICEwID09PSByKTsKICB9CgogIGZ1bmN0aW9uIFlmKGUsIHQsIG4pIHsKICAgIHJldHVybiBqZihlLCBLZiwgdCwgbik7CiAgfQoKICBmdW5jdGlvbiBHZihlLCB0LCBuKSB7CiAgICByZXR1cm4gcWYoZSwgdCwgS2YsIG4pOwogIH0KCiAgZnVuY3Rpb24gSmYoZSwgdCwgbikgewogICAgcmV0dXJuIGpmKGUsIFhmLCB0LCBuKTsKICB9CgogIGZ1bmN0aW9uIFFmKGUsIHQsIG4pIHsKICAgIHJldHVybiBxZihlLCB0LCBYZiwgbik7CiAgfQoKICBmdW5jdGlvbiBaZihlLCB0LCBuKSB7CiAgICAoZS5pbmxpbmUgPyBZZiA6IEpmKShlLCB0LCBuKTsKICB9CgogIGZ1bmN0aW9uIGVkKGUpIHsKICAgIHZhciB0ID0gQm4oZSkuZG9tOwogICAgcmV0dXJuIGUuZG9tID09PSB0LmFjdGl2ZUVsZW1lbnQ7CiAgfQoKICBmdW5jdGlvbiB0ZChlKSB7CiAgICByZXR1cm4gdm9pZCAwID09PSBlICYmIChlID0gTnQuZnJvbURvbShkb2N1bWVudCkpLCB2ZS5mcm9tKGUuZG9tLmFjdGl2ZUVsZW1lbnQpLm1hcChOdC5mcm9tRG9tKTsKICB9CgogIGZ1bmN0aW9uIG5kKGUsIHQpIHsKICAgIHZhciBuID0gX24odCkgPyBQbCh0KS5sZW5ndGggOiBEbih0KS5sZW5ndGggKyAxOwogICAgcmV0dXJuIG4gPCBlID8gbiA6IGUgPCAwID8gMCA6IGU7CiAgfQoKICBmdW5jdGlvbiByZChlKSB7CiAgICByZXR1cm4gQmQucmFuZ2UoZS5zdGFydCwgbmQoZS5zb2Zmc2V0LCBlLnN0YXJ0KSwgZS5maW5pc2gsIG5kKGUuZm9mZnNldCwgZS5maW5pc2gpKTsKICB9CgogIGZ1bmN0aW9uIG9kKGUsIHQpIHsKICAgIHJldHVybiAhcm4odC5kb20pICYmIChWZShlLCB0KSB8fCBqZShlLCB0KSk7CiAgfQoKICBmdW5jdGlvbiBpZCh0KSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIG9kKHQsIGUuc3RhcnQpICYmIG9kKHQsIGUuZmluaXNoKTsKICAgIH07CiAgfQoKICBmdW5jdGlvbiBhZChlKSB7CiAgICByZXR1cm4gITAgPT09IGUuaW5saW5lIHx8IFBkLmlzSUUoKTsKICB9CgogIGZ1bmN0aW9uIHVkKGUpIHsKICAgIHJldHVybiBCZC5yYW5nZShOdC5mcm9tRG9tKGUuc3RhcnRDb250YWluZXIpLCBlLnN0YXJ0T2Zmc2V0LCBOdC5mcm9tRG9tKGUuZW5kQ29udGFpbmVyKSwgZS5lbmRPZmZzZXQpOwogIH0KCiAgZnVuY3Rpb24gc2QoZSkgewogICAgdmFyIHQgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpOwoKICAgIHRyeSB7CiAgICAgIHJldHVybiB0LnNldFN0YXJ0KGUuc3RhcnQuZG9tLCBlLnNvZmZzZXQpLCB0LnNldEVuZChlLmZpbmlzaC5kb20sIGUuZm9mZnNldCksIHZlLnNvbWUodCk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHJldHVybiB2ZS5ub25lKCk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBjZChlKSB7CiAgICB2YXIgdCwKICAgICAgICBuLAogICAgICAgIHIgPSBhZChlKSA/ICh0ID0gTnQuZnJvbURvbShlLmdldEJvZHkoKSksICgobiA9IFR0KHQpLmRvbS5nZXRTZWxlY3Rpb24oKSkgJiYgMCAhPT0gbi5yYW5nZUNvdW50ID8gdmUuZnJvbShuLmdldFJhbmdlQXQoMCkpIDogdmUubm9uZSgpKS5tYXAodWQpLmZpbHRlcihpZCh0KSkpIDogdmUubm9uZSgpOwogICAgZS5ib29rbWFyayA9IHIuaXNTb21lKCkgPyByIDogZS5ib29rbWFyazsKICB9CgogIGZ1bmN0aW9uIGxkKG4pIHsKICAgIHJldHVybiAobi5ib29rbWFyayB8fCB2ZS5ub25lKCkpLmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHQgPSBOdC5mcm9tRG9tKG4uZ2V0Qm9keSgpKSwgdmUuZnJvbShlKS5maWx0ZXIoaWQodCkpLm1hcChyZCk7CiAgICAgIHZhciB0OwogICAgfSkuYmluZChzZCk7CiAgfQoKICBmdW5jdGlvbiBmZCh1KSB7CiAgICB2YXIgcyA9IGx1KGZ1bmN0aW9uICgpIHsKICAgICAgY2QodSk7CiAgICB9LCAwKTsKICAgIHUub24oImluaXQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIGZ1bmN0aW9uIGUoKSB7CiAgICAgICAgbi50aHJvdHRsZSgpOwogICAgICB9CgogICAgICB2YXIgdCwgbiwgciwgbywgaSwgYTsKICAgICAgdS5pbmxpbmUgJiYgKHQgPSB1LCBuID0gcywgSmEuRE9NLmJpbmQoZG9jdW1lbnQsICJtb3VzZXVwIiwgZSksIHQub24oInJlbW92ZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICBKYS5ET00udW5iaW5kKGRvY3VtZW50LCAibW91c2V1cCIsIGUpOwogICAgICB9KSksIHIgPSB1LCBvID0gcywgZHQoKS5icm93c2VyLmlzSUUoKSA/IChhID0gcikub24oImZvY3Vzb3V0IiwgZnVuY3Rpb24gKCkgewogICAgICAgIGNkKGEpOwogICAgICB9KSA6IChpID0gbywgci5vbigibW91c2V1cCB0b3VjaGVuZCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgaS50aHJvdHRsZSgpOwogICAgICB9KSksIHIub24oImtleXVwIE5vZGVDaGFuZ2UiLCBmdW5jdGlvbiAoZSkgewogICAgICAgICJub2RlY2hhbmdlIiA9PT0gZS50eXBlICYmIGUuc2VsZWN0aW9uQ2hhbmdlIHx8IGNkKHIpOwogICAgICB9KTsKICAgIH0pLCB1Lm9uKCJyZW1vdmUiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHMuY2FuY2VsKCk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIGRkKHQsIGUpIHsKICAgIHZhciBuID0gdC5nZXRQYXJhbSgiY3VzdG9tX3VpX3NlbGVjdG9yIiwgIiIsICJzdHJpbmciKTsKICAgIHJldHVybiBudWxsICE9PSBJZC5nZXRQYXJlbnQoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIExkLmlzRWRpdG9yVUlFbGVtZW50KGUpIHx8ICEhbiAmJiB0LmRvbS5pcyhlLCBuKTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gbWQobiwgZSkgewogICAgdmFyIHQgPSBlLmVkaXRvcjsKICAgIGZkKHQpLCB0Lm9uKCJmb2N1c2luIiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgZSA9IG4uZm9jdXNlZEVkaXRvcjsKICAgICAgZSAhPT0gdCAmJiAoZSAmJiBlLmZpcmUoImJsdXIiLCB7CiAgICAgICAgZm9jdXNlZEVkaXRvcjogdAogICAgICB9KSwgbi5zZXRBY3RpdmUodCksIChuLmZvY3VzZWRFZGl0b3IgPSB0KS5maXJlKCJmb2N1cyIsIHsKICAgICAgICBibHVycmVkRWRpdG9yOiBlCiAgICAgIH0pLCB0LmZvY3VzKCEwKSk7CiAgICB9KSwgdC5vbigiZm9jdXNvdXQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIF9yLnNldEVkaXRvclRpbWVvdXQodCwgZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBlID0gbi5mb2N1c2VkRWRpdG9yOwogICAgICAgIGRkKHQsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICByZXR1cm4gdGQoQm4oTnQuZnJvbURvbShlLmdldEVsZW1lbnQoKSkpKS5mb2xkKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuYm9keTsKICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICByZXR1cm4gZS5kb207CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuYm9keTsKICAgICAgICAgIH0KICAgICAgICB9KHQpKSB8fCBlICE9PSB0IHx8ICh0LmZpcmUoImJsdXIiLCB7CiAgICAgICAgICBmb2N1c2VkRWRpdG9yOiBudWxsCiAgICAgICAgfSksIG4uZm9jdXNlZEVkaXRvciA9IG51bGwpOwogICAgICB9KTsKICAgIH0pLCBOZCB8fCAoTmQgPSBmdW5jdGlvbiBOZChlKSB7CiAgICAgIHZhciB0ID0gbi5hY3RpdmVFZGl0b3I7CiAgICAgIHQgJiYgIWZ1bmN0aW9uIChlKSB7CiAgICAgICAgaWYgKE9uKCkgJiYgVihlLnRhcmdldCkpIHsKICAgICAgICAgIHZhciB0ID0gTnQuZnJvbURvbShlLnRhcmdldCk7CgogICAgICAgICAgaWYgKGtuKHQpICYmIFYodC5kb20uc2hhZG93Um9vdCkgJiYgZS5jb21wb3NlZCAmJiBlLmNvbXBvc2VkUGF0aCkgewogICAgICAgICAgICB2YXIgbiA9IGUuY29tcG9zZWRQYXRoKCk7CiAgICAgICAgICAgIGlmIChuKSByZXR1cm4gUShuKTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB2ZS5mcm9tKGUudGFyZ2V0KTsKICAgICAgfShlKS5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgZS5vd25lckRvY3VtZW50ID09PSBkb2N1bWVudCAmJiAoZSA9PT0gZG9jdW1lbnQuYm9keSB8fCBkZCh0LCBlKSB8fCBuLmZvY3VzZWRFZGl0b3IgIT09IHQgfHwgKHQuZmlyZSgiYmx1ciIsIHsKICAgICAgICAgIGZvY3VzZWRFZGl0b3I6IG51bGwKICAgICAgICB9KSwgbi5mb2N1c2VkRWRpdG9yID0gbnVsbCkpOwogICAgICB9KTsKICAgIH0sIElkLmJpbmQoZG9jdW1lbnQsICJmb2N1c2luIiwgTmQpKTsKICB9CgogIGZ1bmN0aW9uIGdkKGUsIHQpIHsKICAgIGUuZm9jdXNlZEVkaXRvciA9PT0gdC5lZGl0b3IgJiYgKGUuZm9jdXNlZEVkaXRvciA9IG51bGwpLCBlLmFjdGl2ZUVkaXRvciB8fCAoSWQudW5iaW5kKGRvY3VtZW50LCAiZm9jdXNpbiIsIE5kKSwgTmQgPSBudWxsKTsKICB9CgogIGZ1bmN0aW9uIHBkKHQsIGUpIHsKICAgIHZhciBuLCByOwogICAgbiA9IE50LmZyb21Eb20odC5nZXRCb2R5KCkpLCAoKHIgPSBlKS5jb2xsYXBzZWQgPyB2ZS5mcm9tKEJ1KHIuc3RhcnRDb250YWluZXIsIHIuc3RhcnRPZmZzZXQpKS5tYXAoTnQuZnJvbURvbSkgOiB2ZS5ub25lKCkpLmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHBvKGUpID8gdmUuc29tZShlKSA6ICExID09PSBWZShuLCBlKSA/IHZlLnNvbWUobikgOiB2ZS5ub25lKCk7CiAgICB9KS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBlZihlLmRvbSk7CiAgICB9KS5mb2xkKGZ1bmN0aW9uICgpIHsKICAgICAgdC5zZWxlY3Rpb24ubm9ybWFsaXplKCk7CiAgICB9LCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gdC5zZWxlY3Rpb24uc2V0Um5nKGUudG9SYW5nZSgpKTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gaGQodCkgewogICAgaWYgKHQuc2V0QWN0aXZlKSB0cnkgewogICAgICB0LnNldEFjdGl2ZSgpOwogICAgfSBjYXRjaCAoZSkgewogICAgICB0LmZvY3VzKCk7CiAgICB9IGVsc2UgdC5mb2N1cygpOwogIH0KCiAgZnVuY3Rpb24gdmQoZSkgewogICAgcmV0dXJuIGUuaW5saW5lID8gKHIgPSBlLmdldEJvZHkoKSkgJiYgKGVkKHQgPSBOdC5mcm9tRG9tKHIpKSB8fCB0ZChCbihuID0gdCkpLmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gbi5kb20uY29udGFpbnMoZS5kb20pOwogICAgfSkuaXNTb21lKCkpIDogZS5pZnJhbWVFbGVtZW50ICYmIGVkKE50LmZyb21Eb20oZS5pZnJhbWVFbGVtZW50KSk7CiAgICB2YXIgdCwgbiwgcjsKICB9CgogIGZ1bmN0aW9uIGJkKGUsIHQsIG4sIHIsIG8pIHsKICAgIHZhciBpID0gbiA/IHQuc3RhcnRDb250YWluZXIgOiB0LmVuZENvbnRhaW5lciwKICAgICAgICBhID0gbiA/IHQuc3RhcnRPZmZzZXQgOiB0LmVuZE9mZnNldDsKICAgIHJldHVybiB2ZS5mcm9tKGkpLm1hcChOdC5mcm9tRG9tKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHIgJiYgdC5jb2xsYXBzZWQgPyBlIDogTXQoZSwgbyhlLCBhKSkuZ2V0T3IoZSk7CiAgICB9KS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBrbihlKSA/IHZlLnNvbWUoZSkgOiBPdChlKS5maWx0ZXIoa24pOwogICAgfSkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBlLmRvbTsKICAgIH0pLmdldE9yKGUpOwogIH0KCiAgZnVuY3Rpb24geWQoZSwgdCwgbikgewogICAgcmV0dXJuIGJkKGUsIHQsICEwLCBuLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICByZXR1cm4gTWF0aC5taW4oenQoZSksIHQpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBDZChlLCB0LCBuKSB7CiAgICByZXR1cm4gYmQoZSwgdCwgITEsIG4sIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHJldHVybiAwIDwgdCA/IHQgLSAxIDogdDsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24geGQoZSwgdCkgewogICAgZm9yICh2YXIgbiA9IGU7IGUgJiYgam4oZSkgJiYgMCA9PT0gZS5sZW5ndGg7KSB7CiAgICAgIGUgPSB0ID8gZS5uZXh0U2libGluZyA6IGUucHJldmlvdXNTaWJsaW5nOwogICAgfQoKICAgIHJldHVybiBlIHx8IG47CiAgfQoKICBmdW5jdGlvbiB3ZChuLCBlKSB7CiAgICByZXR1cm4gVChlLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9IG4uZmlyZSgiR2V0U2VsZWN0aW9uUmFuZ2UiLCB7CiAgICAgICAgcmFuZ2U6IGUKICAgICAgfSk7CiAgICAgIHJldHVybiB0LnJhbmdlICE9PSBlID8gdC5yYW5nZSA6IGU7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIFNkKGUsIHQsIG4pIHsKICAgIHZhciByID0gbiA/ICJsYXN0Q2hpbGQiIDogImZpcnN0Q2hpbGQiLAogICAgICAgIG8gPSBuID8gInByZXYiIDogIm5leHQiOwogICAgaWYgKGVbcl0pIHJldHVybiBlW3JdOwoKICAgIGlmIChlICE9PSB0KSB7CiAgICAgIHZhciBpID0gZVtvXTsKICAgICAgaWYgKGkpIHJldHVybiBpOwoKICAgICAgZm9yICh2YXIgYSA9IGUucGFyZW50OyBhICYmIGEgIT09IHQ7IGEgPSBhLnBhcmVudCkgewogICAgICAgIGlmIChpID0gYVtvXSkgcmV0dXJuIGk7CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIEVkKGUpIHsKICAgIHZhciB0ID0gImEiID09PSBlLm5hbWUgJiYgIWUuYXR0cigiaHJlZiIpICYmIGUuYXR0cigiaWQiKTsKICAgIHJldHVybiBlLmF0dHIoIm5hbWUiKSB8fCBlLmF0dHIoImlkIikgJiYgIWUuZmlyc3RDaGlsZCB8fCBlLmF0dHIoImRhdGEtbWNlLWJvb2ttYXJrIikgfHwgdDsKICB9CgogIHZhciBOZCwKICAgICAga2QgPSBmdW5jdGlvbiBrZChyLCBlKSB7CiAgICByZXR1cm4gci52aWV3KGUpLmZvbGQoSihbXSksIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gci5vd25lcihlKSwKICAgICAgICAgIG4gPSBrZChyLCB0KTsKICAgICAgcmV0dXJuIFtlXS5jb25jYXQobik7CiAgICB9KTsKICB9LAogICAgICBfZCA9IE9iamVjdC5mcmVlemUoewogICAgX19wcm90b19fOiBudWxsLAogICAgdmlldzogZnVuY3Rpb24gdmlldyhlKSB7CiAgICAgIHZhciB0OwogICAgICByZXR1cm4gKGUuZG9tID09PSBkb2N1bWVudCA/IHZlLm5vbmUoKSA6IHZlLmZyb20obnVsbCA9PT0gKHQgPSBlLmRvbS5kZWZhdWx0VmlldykgfHwgdm9pZCAwID09PSB0ID8gdm9pZCAwIDogdC5mcmFtZUVsZW1lbnQpKS5tYXAoTnQuZnJvbURvbSk7CiAgICB9LAogICAgb3duZXI6IER0CiAgfSksCiAgICAgIEFkID0gZnVuY3Rpb24gQWQoZSwgdCwgbiwgcikgewogICAgdmFyIG8gPSBOdC5mcm9tRG9tKGUuZ2V0Qm9keSgpKSwKICAgICAgICBpID0gTnQuZnJvbURvbShlLmdldERvYygpKTsKICAgIG8uZG9tLm9mZnNldFdpZHRoOwogICAgdmFyIGEsCiAgICAgICAgdSwKICAgICAgICBzLAogICAgICAgIGMsCiAgICAgICAgbCA9IChhID0gTnQuZnJvbURvbShuLnN0YXJ0Q29udGFpbmVyKSwgdSA9IG4uc3RhcnRPZmZzZXQsIHMgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgICB2YXIgbiA9IERuKGUpOwogICAgICBpZiAoMCA9PT0gbi5sZW5ndGggfHwgemYoZSkpIHJldHVybiB7CiAgICAgICAgZWxlbWVudDogZSwKICAgICAgICBvZmZzZXQ6IHQKICAgICAgfTsKICAgICAgaWYgKHQgPCBuLmxlbmd0aCAmJiAhemYoblt0XSkpIHJldHVybiB7CiAgICAgICAgZWxlbWVudDogblt0XSwKICAgICAgICBvZmZzZXQ6IDAKICAgICAgfTsKICAgICAgdmFyIHIgPSBuW24ubGVuZ3RoIC0gMV07CiAgICAgIHJldHVybiB6ZihyKSA/IHsKICAgICAgICBlbGVtZW50OiBlLAogICAgICAgIG9mZnNldDogdAogICAgICB9IDogImltZyIgPT09IGt0KHIpID8gewogICAgICAgIGVsZW1lbnQ6IHIsCiAgICAgICAgb2Zmc2V0OiAxCiAgICAgIH0gOiBfbihyKSA/IHsKICAgICAgICBlbGVtZW50OiByLAogICAgICAgIG9mZnNldDogUGwocikubGVuZ3RoCiAgICAgIH0gOiB7CiAgICAgICAgZWxlbWVudDogciwKICAgICAgICBvZmZzZXQ6IERuKHIpLmxlbmd0aAogICAgICB9OwogICAgfShhLCB1KSwgYyA9IE50LmZyb21IdG1sKCI8c3BhbiBkYXRhLW1jZS1ib2d1cz1cImFsbFwiIHN0eWxlPVwiZGlzcGxheTogaW5saW5lLWJsb2NrO1wiPlx1RkVGRjwvc3Bhbj4iKSwgcXQocy5lbGVtZW50LCBjKSwgSGYoYywgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gTG4oYyk7CiAgICB9KSk7CiAgICBWZihlLCBpLCB0LCBsLCByKSwgbC5jbGVhbnVwKCk7CiAgfSwKICAgICAgUmQgPSBmdW5jdGlvbiBSZChlLCB0LCBuKSB7CiAgICB2YXIgciA9IG4uc3RhcnRDb250YWluZXIsCiAgICAgICAgbyA9IG4uc3RhcnRPZmZzZXQsCiAgICAgICAgaSA9IG4uZW5kQ29udGFpbmVyLAogICAgICAgIGEgPSBuLmVuZE9mZnNldDsKICAgIHQoTnQuZnJvbURvbShyKSwgTnQuZnJvbURvbShpKSk7CiAgICB2YXIgdSA9IGUuZG9tLmNyZWF0ZVJuZygpOwogICAgdS5zZXRTdGFydChyLCBvKSwgdS5zZXRFbmQoaSwgYSksIGUuc2VsZWN0aW9uLnNldFJuZyhuKTsKICB9LAogICAgICBEZCA9IG9yKFt7CiAgICBiZWZvcmU6IFsiZWxlbWVudCJdCiAgfSwgewogICAgb246IFsiZWxlbWVudCIsICJvZmZzZXQiXQogIH0sIHsKICAgIGFmdGVyOiBbImVsZW1lbnQiXQogIH1dKSwKICAgICAgVGQgPSAoRGQuYmVmb3JlLCBEZC5vbiwgRGQuYWZ0ZXIsIGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gZS5mb2xkKHUsIHUsIHUpOwogIH0pLAogICAgICBPZCA9IG9yKFt7CiAgICBkb21SYW5nZTogWyJybmciXQogIH0sIHsKICAgIHJlbGF0aXZlOiBbInN0YXJ0U2l0dSIsICJmaW5pc2hTaXR1Il0KICB9LCB7CiAgICBleGFjdDogWyJzdGFydCIsICJzb2Zmc2V0IiwgImZpbmlzaCIsICJmb2Zmc2V0Il0KICB9XSksCiAgICAgIEJkID0gewogICAgZG9tUmFuZ2U6IE9kLmRvbVJhbmdlLAogICAgcmVsYXRpdmU6IE9kLnJlbGF0aXZlLAogICAgZXhhY3Q6IE9kLmV4YWN0LAogICAgZXhhY3RGcm9tUmFuZ2U6IGZ1bmN0aW9uIGV4YWN0RnJvbVJhbmdlKGUpIHsKICAgICAgcmV0dXJuIE9kLmV4YWN0KGUuc3RhcnQsIGUuc29mZnNldCwgZS5maW5pc2gsIGUuZm9mZnNldCk7CiAgICB9LAogICAgZ2V0V2luOiBmdW5jdGlvbiBnZXRXaW4oZSkgewogICAgICByZXR1cm4gVHQoZS5tYXRjaCh7CiAgICAgICAgZG9tUmFuZ2U6IGZ1bmN0aW9uIGRvbVJhbmdlKGUpIHsKICAgICAgICAgIHJldHVybiBOdC5mcm9tRG9tKGUuc3RhcnRDb250YWluZXIpOwogICAgICAgIH0sCiAgICAgICAgcmVsYXRpdmU6IGZ1bmN0aW9uIHJlbGF0aXZlKGUsIHQpIHsKICAgICAgICAgIHJldHVybiBUZChlKTsKICAgICAgICB9LAogICAgICAgIGV4YWN0OiBmdW5jdGlvbiBleGFjdChlLCB0LCBuLCByKSB7CiAgICAgICAgICByZXR1cm4gZTsKICAgICAgICB9CiAgICAgIH0pKTsKICAgIH0sCiAgICByYW5nZTogZnVuY3Rpb24gcmFuZ2UoZSwgdCwgbiwgcikgewogICAgICByZXR1cm4gewogICAgICAgIHN0YXJ0OiBlLAogICAgICAgIHNvZmZzZXQ6IHQsCiAgICAgICAgZmluaXNoOiBuLAogICAgICAgIGZvZmZzZXQ6IHIKICAgICAgfTsKICAgIH0KICB9LAogICAgICBQZCA9IGR0KCkuYnJvd3NlciwKICAgICAgTGQgPSB7CiAgICBpc0VkaXRvclVJRWxlbWVudDogZnVuY3Rpb24gaXNFZGl0b3JVSUVsZW1lbnQoZSkgewogICAgICB2YXIgdCA9IGUuY2xhc3NOYW1lLnRvU3RyaW5nKCk7CiAgICAgIHJldHVybiAtMSAhPT0gdC5pbmRleE9mKCJ0b3gtIikgfHwgLTEgIT09IHQuaW5kZXhPZigibWNlLSIpOwogICAgfQogIH0sCiAgICAgIElkID0gSmEuRE9NLAogICAgICBNZCA9IGZ1bmN0aW9uIE1kKGUpIHsKICAgIHJldHVybiBlLmVkaXRvck1hbmFnZXIuc2V0QWN0aXZlKGUpOwogIH0sCiAgICAgIEZkID0gewogICAgIiN0ZXh0IjogMywKICAgICIjY29tbWVudCI6IDgsCiAgICAiI2NkYXRhIjogNCwKICAgICIjcGkiOiA3LAogICAgIiNkb2N0eXBlIjogMTAsCiAgICAiI2RvY3VtZW50LWZyYWdtZW50IjogMTEKICB9LAogICAgICBVZCA9ICh6ZC5jcmVhdGUgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgdmFyIG4gPSBuZXcgemQoZSwgRmRbZV0gfHwgMSk7CiAgICByZXR1cm4gdCAmJiBuZSh0LCBmdW5jdGlvbiAoZSwgdCkgewogICAgICBuLmF0dHIodCwgZSk7CiAgICB9KSwgbjsKICB9LCB6ZC5wcm90b3R5cGUucmVwbGFjZSA9IGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gZS5wYXJlbnQgJiYgZS5yZW1vdmUoKSwgdGhpcy5pbnNlcnQoZSwgdGhpcyksIHRoaXMucmVtb3ZlKCksIHRoaXM7CiAgfSwgemQucHJvdG90eXBlLmF0dHIgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgdmFyIG4sCiAgICAgICAgciA9IHRoaXM7CiAgICBpZiAoInN0cmluZyIgIT0gdHlwZW9mIGUpIHJldHVybiBudWxsICE9IGUgJiYgbmUoZSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgci5hdHRyKHQsIGUpOwogICAgfSksIHI7CgogICAgaWYgKG4gPSByLmF0dHJpYnV0ZXMpIHsKICAgICAgaWYgKHZvaWQgMCA9PT0gdCkgcmV0dXJuIG4ubWFwW2VdOwoKICAgICAgaWYgKG51bGwgPT09IHQpIHsKICAgICAgICBpZiAoZSBpbiBuLm1hcCkgewogICAgICAgICAgZGVsZXRlIG4ubWFwW2VdOwoKICAgICAgICAgIGZvciAodmFyIG8gPSBuLmxlbmd0aDsgby0tOykgewogICAgICAgICAgICBpZiAobltvXS5uYW1lID09PSBlKSByZXR1cm4gbi5zcGxpY2UobywgMSksIHI7CiAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gcjsKICAgICAgfQoKICAgICAgaWYgKGUgaW4gbi5tYXApIHsKICAgICAgICBmb3IgKG8gPSBuLmxlbmd0aDsgby0tOykgewogICAgICAgICAgaWYgKG5bb10ubmFtZSA9PT0gZSkgewogICAgICAgICAgICBuW29dLnZhbHVlID0gdDsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2Ugbi5wdXNoKHsKICAgICAgICBuYW1lOiBlLAogICAgICAgIHZhbHVlOiB0CiAgICAgIH0pOwoKICAgICAgcmV0dXJuIG4ubWFwW2VdID0gdCwgcjsKICAgIH0KICB9LCB6ZC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgZSwKICAgICAgICB0ID0gbmV3IHpkKHRoaXMubmFtZSwgdGhpcy50eXBlKTsKCiAgICBpZiAoZSA9IHRoaXMuYXR0cmlidXRlcykgewogICAgICB2YXIgbiA9IFtdOwogICAgICBuLm1hcCA9IHt9OwoKICAgICAgZm9yICh2YXIgciA9IDAsIG8gPSBlLmxlbmd0aDsgciA8IG87IHIrKykgewogICAgICAgIHZhciBpID0gZVtyXTsKICAgICAgICAiaWQiICE9PSBpLm5hbWUgJiYgKG5bbi5sZW5ndGhdID0gewogICAgICAgICAgbmFtZTogaS5uYW1lLAogICAgICAgICAgdmFsdWU6IGkudmFsdWUKICAgICAgICB9LCBuLm1hcFtpLm5hbWVdID0gaS52YWx1ZSk7CiAgICAgIH0KCiAgICAgIHQuYXR0cmlidXRlcyA9IG47CiAgICB9CgogICAgcmV0dXJuIHQudmFsdWUgPSB0aGlzLnZhbHVlLCB0LnNob3J0RW5kZWQgPSB0aGlzLnNob3J0RW5kZWQsIHQ7CiAgfSwgemQucHJvdG90eXBlLndyYXAgPSBmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuIHRoaXMucGFyZW50Lmluc2VydChlLCB0aGlzKSwgZS5hcHBlbmQodGhpcyksIHRoaXM7CiAgfSwgemQucHJvdG90eXBlLnVud3JhcCA9IGZ1bmN0aW9uICgpIHsKICAgIGZvciAodmFyIGUgPSB0aGlzLmZpcnN0Q2hpbGQ7IGU7KSB7CiAgICAgIHZhciB0ID0gZS5uZXh0OwogICAgICB0aGlzLmluc2VydChlLCB0aGlzLCAhMCksIGUgPSB0OwogICAgfQoKICAgIHRoaXMucmVtb3ZlKCk7CiAgfSwgemQucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBlID0gdGhpcy5wYXJlbnQsCiAgICAgICAgdCA9IHRoaXMubmV4dCwKICAgICAgICBuID0gdGhpcy5wcmV2OwogICAgcmV0dXJuIGUgJiYgKGUuZmlyc3RDaGlsZCA9PT0gdGhpcyA/IChlLmZpcnN0Q2hpbGQgPSB0KSAmJiAodC5wcmV2ID0gbnVsbCkgOiBuLm5leHQgPSB0LCBlLmxhc3RDaGlsZCA9PT0gdGhpcyA/IChlLmxhc3RDaGlsZCA9IG4pICYmIChuLm5leHQgPSBudWxsKSA6IHQucHJldiA9IG4sIHRoaXMucGFyZW50ID0gdGhpcy5uZXh0ID0gdGhpcy5wcmV2ID0gbnVsbCksIHRoaXM7CiAgfSwgemQucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChlKSB7CiAgICBlLnBhcmVudCAmJiBlLnJlbW92ZSgpOwogICAgdmFyIHQgPSB0aGlzLmxhc3RDaGlsZDsKICAgIHJldHVybiB0ID8gKCh0Lm5leHQgPSBlKS5wcmV2ID0gdCwgdGhpcy5sYXN0Q2hpbGQgPSBlKSA6IHRoaXMubGFzdENoaWxkID0gdGhpcy5maXJzdENoaWxkID0gZSwgZS5wYXJlbnQgPSB0aGlzLCBlOwogIH0sIHpkLnByb3RvdHlwZS5pbnNlcnQgPSBmdW5jdGlvbiAoZSwgdCwgbikgewogICAgZS5wYXJlbnQgJiYgZS5yZW1vdmUoKTsKICAgIHZhciByID0gdC5wYXJlbnQgfHwgdGhpczsKICAgIHJldHVybiBuID8gKHQgPT09IHIuZmlyc3RDaGlsZCA/IHIuZmlyc3RDaGlsZCA9IGUgOiB0LnByZXYubmV4dCA9IGUsIGUucHJldiA9IHQucHJldiwgKGUubmV4dCA9IHQpLnByZXYgPSBlKSA6ICh0ID09PSByLmxhc3RDaGlsZCA/IHIubGFzdENoaWxkID0gZSA6IHQubmV4dC5wcmV2ID0gZSwgZS5uZXh0ID0gdC5uZXh0LCAoZS5wcmV2ID0gdCkubmV4dCA9IGUpLCBlLnBhcmVudCA9IHIsIGU7CiAgfSwgemQucHJvdG90eXBlLmdldEFsbCA9IGZ1bmN0aW9uIChlKSB7CiAgICBmb3IgKHZhciB0ID0gW10sIG4gPSB0aGlzLmZpcnN0Q2hpbGQ7IG47IG4gPSBTZChuLCB0aGlzKSkgewogICAgICBuLm5hbWUgPT09IGUgJiYgdC5wdXNoKG4pOwogICAgfQoKICAgIHJldHVybiB0OwogIH0sIHpkLnByb3RvdHlwZS5jaGlsZHJlbiA9IGZ1bmN0aW9uICgpIHsKICAgIGZvciAodmFyIGUgPSBbXSwgdCA9IHRoaXMuZmlyc3RDaGlsZDsgdDsgdCA9IHQubmV4dCkgewogICAgICBlLnB1c2godCk7CiAgICB9CgogICAgcmV0dXJuIGU7CiAgfSwgemQucHJvdG90eXBlLmVtcHR5ID0gZnVuY3Rpb24gKCkgewogICAgaWYgKHRoaXMuZmlyc3RDaGlsZCkgewogICAgICBmb3IgKHZhciBlID0gW10sIHQgPSB0aGlzLmZpcnN0Q2hpbGQ7IHQ7IHQgPSBTZCh0LCB0aGlzKSkgewogICAgICAgIGUucHVzaCh0KTsKICAgICAgfQoKICAgICAgZm9yICh2YXIgbiA9IGUubGVuZ3RoOyBuLS07KSB7CiAgICAgICAgKHQgPSBlW25dKS5wYXJlbnQgPSB0LmZpcnN0Q2hpbGQgPSB0Lmxhc3RDaGlsZCA9IHQubmV4dCA9IHQucHJldiA9IG51bGw7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gdGhpcy5maXJzdENoaWxkID0gdGhpcy5sYXN0Q2hpbGQgPSBudWxsLCB0aGlzOwogIH0sIHpkLnByb3RvdHlwZS5pc0VtcHR5ID0gZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgIHZvaWQgMCA9PT0gdCAmJiAodCA9IHt9KTsKICAgIHZhciByID0gdGhpcy5maXJzdENoaWxkOwogICAgaWYgKEVkKHRoaXMpKSByZXR1cm4gITE7CiAgICBpZiAocikgZG8gewogICAgICBpZiAoMSA9PT0gci50eXBlKSB7CiAgICAgICAgaWYgKHIuYXR0cigiZGF0YS1tY2UtYm9ndXMiKSkgY29udGludWU7CiAgICAgICAgaWYgKGVbci5uYW1lXSkgcmV0dXJuICExOwogICAgICAgIGlmIChFZChyKSkgcmV0dXJuICExOwogICAgICB9CgogICAgICBpZiAoOCA9PT0gci50eXBlKSByZXR1cm4gITE7CiAgICAgIGlmICgzID09PSByLnR5cGUgJiYgIWZ1bmN0aW9uIChlKSB7CiAgICAgICAgaWYgKHFyKGUudmFsdWUpKSB7CiAgICAgICAgICB2YXIgdCA9IGUucGFyZW50OwogICAgICAgICAgcmV0dXJuICF0IHx8ICJzcGFuIiA9PT0gdC5uYW1lICYmICF0LmF0dHIoInN0eWxlIikgfHwgIS9eWyBdKyQvLnRlc3QoZS52YWx1ZSk7CiAgICAgICAgfQogICAgICB9KHIpKSByZXR1cm4gITE7CiAgICAgIGlmICgzID09PSByLnR5cGUgJiYgci5wYXJlbnQgJiYgdFtyLnBhcmVudC5uYW1lXSAmJiBxcihyLnZhbHVlKSkgcmV0dXJuICExOwogICAgICBpZiAobiAmJiBuKHIpKSByZXR1cm4gITE7CiAgICB9IHdoaWxlIChyID0gU2QociwgdGhpcykpOwogICAgcmV0dXJuICEwOwogIH0sIHpkLnByb3RvdHlwZS53YWxrID0gZnVuY3Rpb24gKGUpIHsKICAgIHJldHVybiBTZCh0aGlzLCBudWxsLCBlKTsKICB9LCB6ZCk7CgogIGZ1bmN0aW9uIHpkKGUsIHQpIHsKICAgIHRoaXMubmFtZSA9IGUsIDEgPT09ICh0aGlzLnR5cGUgPSB0KSAmJiAodGhpcy5hdHRyaWJ1dGVzID0gW10sIHRoaXMuYXR0cmlidXRlcy5tYXAgPSB7fSk7CiAgfQoKICBmdW5jdGlvbiBIZChlLCB0KSB7CiAgICByZXR1cm4gZS5yZXBsYWNlKHQucmUsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiB1ZSh0LnVyaXMsIGUpLmdldE9yKGUpOwogICAgfSk7CiAgfQoKICB2YXIgamQgPSBFdC5lYWNoLAogICAgICBWZCA9IEV0LnRyaW0sCiAgICAgIHFkID0gInNvdXJjZSBwcm90b2NvbCBhdXRob3JpdHkgdXNlckluZm8gdXNlciBwYXNzd29yZCBob3N0IHBvcnQgcmVsYXRpdmUgcGF0aCBkaXJlY3RvcnkgZmlsZSBxdWVyeSBhbmNob3IiLnNwbGl0KCIgIiksCiAgICAgICRkID0gewogICAgZnRwOiAyMSwKICAgIGh0dHA6IDgwLAogICAgaHR0cHM6IDQ0MywKICAgIG1haWx0bzogMjUKICB9LAogICAgICBXZCA9IFsiaW1nIiwgInZpZGVvIl0sCiAgICAgIEtkID0gKFhkLnBhcnNlRGF0YVVyaSA9IGZ1bmN0aW9uIChlKSB7CiAgICB2YXIgdCwKICAgICAgICBuID0gZGVjb2RlVVJJQ29tcG9uZW50KGUpLnNwbGl0KCIsIiksCiAgICAgICAgciA9IC9kYXRhOihbXjtdKykvLmV4ZWMoblswXSk7CiAgICByZXR1cm4gewogICAgICB0eXBlOiB0ID0gciA/IHJbMV0gOiB0LAogICAgICBkYXRhOiBuWzFdCiAgICB9OwogIH0sIFhkLmlzRG9tU2FmZSA9IGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICBpZiAoKG4gPSB2b2lkIDAgPT09IG4gPyB7fSA6IG4pLmFsbG93X3NjcmlwdF91cmxzKSByZXR1cm4gITA7CiAgICB2YXIgciwKICAgICAgICBvLAogICAgICAgIGksCiAgICAgICAgYSwKICAgICAgICB1ID0gR28uZGVjb2RlKGUpLnJlcGxhY2UoL1tcc1x1MDAwMC1cdTAwMUZdKy9nLCAiIik7CgogICAgdHJ5IHsKICAgICAgdSA9IGRlY29kZVVSSUNvbXBvbmVudCh1KTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgdSA9IHVuZXNjYXBlKHUpOwogICAgfQoKICAgIHJldHVybiAhKC8oKGphdmF8dmIpc2NyaXB0fG1odG1sKTovaS50ZXN0KHUpIHx8IChvID0gdSwgaSA9IHQsICEociA9IG4pLmFsbG93X2h0bWxfZGF0YV91cmxzICYmICgvXmRhdGE6aW1hZ2VcLy9pLnRlc3QobykgPyAoVihhID0gci5hbGxvd19zdmdfZGF0YV91cmxzKSA/ICFhIDogIVYoaSkgfHwgIUQoV2QsIGkpKSAmJiAvXmRhdGE6aW1hZ2VcL3N2Z1wreG1sL2kudGVzdChvKSA6IC9eZGF0YTovaS50ZXN0KG8pKSkpOwogIH0sIFhkLmdldERvY3VtZW50QmFzZVVybCA9IGZ1bmN0aW9uIChlKSB7CiAgICB2YXIgdCA9IDAgIT09IGUucHJvdG9jb2wuaW5kZXhPZigiaHR0cCIpICYmICJmaWxlOiIgIT09IGUucHJvdG9jb2wgPyBlLmhyZWYgOiBlLnByb3RvY29sICsgIi8vIiArIGUuaG9zdCArIGUucGF0aG5hbWU7CiAgICByZXR1cm4gL15bXjpdKzpcL1wvXC8/W15cL10rXC8vLnRlc3QodCkgJiYgKHQgPSB0LnJlcGxhY2UoL1tcPyNdLiokLywgIiIpLnJlcGxhY2UoL1tcL1xcXVteXC9dKyQvLCAiIiksIC9bXC9cXF0kLy50ZXN0KHQpIHx8ICh0ICs9ICIvIikpLCB0OwogIH0sIFhkLnByb3RvdHlwZS5zZXRQYXRoID0gZnVuY3Rpb24gKGUpIHsKICAgIHZhciB0ID0gL14oLio/KVwvPyhcdyspPyQvLmV4ZWMoZSk7CiAgICB0aGlzLnBhdGggPSB0WzBdLCB0aGlzLmRpcmVjdG9yeSA9IHRbMV0sIHRoaXMuZmlsZSA9IHRbMl0sIHRoaXMuc291cmNlID0gIiIsIHRoaXMuZ2V0VVJJKCk7CiAgfSwgWGQucHJvdG90eXBlLnRvUmVsYXRpdmUgPSBmdW5jdGlvbiAoZSkgewogICAgdmFyIHQ7CiAgICBpZiAoIi4vIiA9PT0gZSkgcmV0dXJuIGU7CiAgICB2YXIgbiA9IG5ldyBYZChlLCB7CiAgICAgIGJhc2VfdXJpOiB0aGlzCiAgICB9KTsKICAgIGlmICgibWNlX2hvc3QiICE9PSBuLmhvc3QgJiYgdGhpcy5ob3N0ICE9PSBuLmhvc3QgJiYgbi5ob3N0IHx8IHRoaXMucG9ydCAhPT0gbi5wb3J0IHx8IHRoaXMucHJvdG9jb2wgIT09IG4ucHJvdG9jb2wgJiYgIiIgIT09IG4ucHJvdG9jb2wpIHJldHVybiBuLmdldFVSSSgpOwogICAgdmFyIHIgPSB0aGlzLmdldFVSSSgpLAogICAgICAgIG8gPSBuLmdldFVSSSgpOwogICAgcmV0dXJuIHIgPT09IG8gfHwgIi8iID09PSByLmNoYXJBdChyLmxlbmd0aCAtIDEpICYmIHIuc3Vic3RyKDAsIHIubGVuZ3RoIC0gMSkgPT09IG8gPyByIDogKHQgPSB0aGlzLnRvUmVsUGF0aCh0aGlzLnBhdGgsIG4ucGF0aCksIG4ucXVlcnkgJiYgKHQgKz0gIj8iICsgbi5xdWVyeSksIG4uYW5jaG9yICYmICh0ICs9ICIjIiArIG4uYW5jaG9yKSwgdCk7CiAgfSwgWGQucHJvdG90eXBlLnRvQWJzb2x1dGUgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgdmFyIG4gPSBuZXcgWGQoZSwgewogICAgICBiYXNlX3VyaTogdGhpcwogICAgfSk7CiAgICByZXR1cm4gbi5nZXRVUkkodCAmJiB0aGlzLmlzU2FtZU9yaWdpbihuKSk7CiAgfSwgWGQucHJvdG90eXBlLmlzU2FtZU9yaWdpbiA9IGZ1bmN0aW9uIChlKSB7CiAgICBpZiAodGhpcy5ob3N0ID09IGUuaG9zdCAmJiB0aGlzLnByb3RvY29sID09IGUucHJvdG9jb2wpIHsKICAgICAgaWYgKHRoaXMucG9ydCA9PSBlLnBvcnQpIHJldHVybiAhMDsKICAgICAgdmFyIHQgPSAkZFt0aGlzLnByb3RvY29sXTsKICAgICAgaWYgKHQgJiYgKHRoaXMucG9ydCB8fCB0KSA9PSAoZS5wb3J0IHx8IHQpKSByZXR1cm4gITA7CiAgICB9CgogICAgcmV0dXJuICExOwogIH0sIFhkLnByb3RvdHlwZS50b1JlbFBhdGggPSBmdW5jdGlvbiAoZSwgdCkgewogICAgdmFyIG4sCiAgICAgICAgciwKICAgICAgICBvID0gMCwKICAgICAgICBpID0gIiIsCiAgICAgICAgYSA9IGUuc3Vic3RyaW5nKDAsIGUubGFzdEluZGV4T2YoIi8iKSkuc3BsaXQoIi8iKSwKICAgICAgICB1ID0gdC5zcGxpdCgiLyIpOwogICAgaWYgKGEubGVuZ3RoID49IHUubGVuZ3RoKSBmb3IgKG4gPSAwLCByID0gYS5sZW5ndGg7IG4gPCByOyBuKyspIHsKICAgICAgaWYgKG4gPj0gdS5sZW5ndGggfHwgYVtuXSAhPT0gdVtuXSkgewogICAgICAgIG8gPSBuICsgMTsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogICAgaWYgKGEubGVuZ3RoIDwgdS5sZW5ndGgpIGZvciAobiA9IDAsIHIgPSB1Lmxlbmd0aDsgbiA8IHI7IG4rKykgewogICAgICBpZiAobiA+PSBhLmxlbmd0aCB8fCBhW25dICE9PSB1W25dKSB7CiAgICAgICAgbyA9IG4gKyAxOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CiAgICBpZiAoMSA9PT0gbykgcmV0dXJuIHQ7CgogICAgZm9yIChuID0gMCwgciA9IGEubGVuZ3RoIC0gKG8gLSAxKTsgbiA8IHI7IG4rKykgewogICAgICBpICs9ICIuLi8iOwogICAgfQoKICAgIGZvciAobiA9IG8gLSAxLCByID0gdS5sZW5ndGg7IG4gPCByOyBuKyspIHsKICAgICAgaSArPSBuICE9PSBvIC0gMSA/ICIvIiArIHVbbl0gOiB1W25dOwogICAgfQoKICAgIHJldHVybiBpOwogIH0sIFhkLnByb3RvdHlwZS50b0Fic1BhdGggPSBmdW5jdGlvbiAoZSwgdCkgewogICAgdmFyIG4sCiAgICAgICAgciwKICAgICAgICBvID0gMCwKICAgICAgICBpID0gW10sCiAgICAgICAgYSA9IC9cLyQvLnRlc3QodCkgPyAiLyIgOiAiIiwKICAgICAgICB1ID0gZS5zcGxpdCgiLyIpLAogICAgICAgIHMgPSB0LnNwbGl0KCIvIik7CgogICAgZm9yIChqZCh1LCBmdW5jdGlvbiAoZSkgewogICAgICBlICYmIGkucHVzaChlKTsKICAgIH0pLCB1ID0gaSwgbiA9IHMubGVuZ3RoIC0gMSwgaSA9IFtdOyAwIDw9IG47IG4tLSkgewogICAgICAwICE9PSBzW25dLmxlbmd0aCAmJiAiLiIgIT09IHNbbl0gJiYgKCIuLiIgIT09IHNbbl0gPyAwIDwgbyA/IG8tLSA6IGkucHVzaChzW25dKSA6IG8rKyk7CiAgICB9CgogICAgcmV0dXJuIDAgIT09IChyID0gKG4gPSB1Lmxlbmd0aCAtIG8pIDw9IDAgPyBxKGkpLmpvaW4oIi8iKSA6IHUuc2xpY2UoMCwgbikuam9pbigiLyIpICsgIi8iICsgcShpKS5qb2luKCIvIikpLmluZGV4T2YoIi8iKSAmJiAociA9ICIvIiArIHIpLCBhICYmIHIubGFzdEluZGV4T2YoIi8iKSAhPT0gci5sZW5ndGggLSAxICYmIChyICs9IGEpLCByOwogIH0sIFhkLnByb3RvdHlwZS5nZXRVUkkgPSBmdW5jdGlvbiAoZSkgewogICAgdmFyIHQ7CiAgICByZXR1cm4gdm9pZCAwID09PSBlICYmIChlID0gITEpLCB0aGlzLnNvdXJjZSAmJiAhZSB8fCAodCA9ICIiLCBlIHx8ICh0aGlzLnByb3RvY29sID8gdCArPSB0aGlzLnByb3RvY29sICsgIjovLyIgOiB0ICs9ICIvLyIsIHRoaXMudXNlckluZm8gJiYgKHQgKz0gdGhpcy51c2VySW5mbyArICJAIiksIHRoaXMuaG9zdCAmJiAodCArPSB0aGlzLmhvc3QpLCB0aGlzLnBvcnQgJiYgKHQgKz0gIjoiICsgdGhpcy5wb3J0KSksIHRoaXMucGF0aCAmJiAodCArPSB0aGlzLnBhdGgpLCB0aGlzLnF1ZXJ5ICYmICh0ICs9ICI/IiArIHRoaXMucXVlcnkpLCB0aGlzLmFuY2hvciAmJiAodCArPSAiIyIgKyB0aGlzLmFuY2hvciksIHRoaXMuc291cmNlID0gdCksIHRoaXMuc291cmNlOwogIH0sIFhkKTsKCiAgZnVuY3Rpb24gWGQoZSwgdCkgewogICAgZSA9IFZkKGUpLCB0aGlzLnNldHRpbmdzID0gdCB8fCB7fTsKICAgIHZhciBuLAogICAgICAgIHIsCiAgICAgICAgbywKICAgICAgICBpLAogICAgICAgIGEgPSB0aGlzLnNldHRpbmdzLmJhc2VfdXJpLAogICAgICAgIHUgPSB0aGlzOwogICAgL14oW1x3XC1dKyk6KFteXC9dezJ9KS9pLnRlc3QoZSkgfHwgL15ccyojLy50ZXN0KGUpID8gdS5zb3VyY2UgPSBlIDogKG4gPSAwID09PSBlLmluZGV4T2YoIi8vIiksIDAgIT09IGUuaW5kZXhPZigiLyIpIHx8IG4gfHwgKGUgPSAoYSAmJiBhLnByb3RvY29sIHx8ICJodHRwIikgKyAiOi8vbWNlX2hvc3QiICsgZSksIC9eW1x3XC1dKjo/XC9cLy8udGVzdChlKSB8fCAociA9IHRoaXMuc2V0dGluZ3MuYmFzZV91cmkgPyB0aGlzLnNldHRpbmdzLmJhc2VfdXJpLnBhdGggOiBuZXcgWGQoZG9jdW1lbnQubG9jYXRpb24uaHJlZikuZGlyZWN0b3J5LCBlID0gdGhpcy5zZXR0aW5ncy5iYXNlX3VyaSAmJiAiIiA9PSB0aGlzLnNldHRpbmdzLmJhc2VfdXJpLnByb3RvY29sID8gIi8vbWNlX2hvc3QiICsgdS50b0Fic1BhdGgociwgZSkgOiAobyA9IC8oW14jP10qKShbIz9dPy4qKS8uZXhlYyhlKSwgKGEgJiYgYS5wcm90b2NvbCB8fCAiaHR0cCIpICsgIjovL21jZV9ob3N0IiArIHUudG9BYnNQYXRoKHIsIG9bMV0pICsgb1syXSkpLCBlID0gZS5yZXBsYWNlKC9AQC9nLCAiKG1jZV9hdCkiKSwgaSA9IC9eKD86KD8hW146QF0rOlteOkBcL10qQCkoW146XC8/Iy5dKyk6KT8oPzpcL1wvKT8oKD86KChbXjpAXC9dKik6PyhbXjpAXC9dKikpP0ApPyhcW1thLXpBLVowLTk6LiVdK1xdfFteOlwvPyNdKikoPzo6KFxkKikpPykoKChcLyg/OltePyNdKD8hW14/I1wvXSpcLltePyNcLy5dKyg/Ols/I118JCkpKSpcLz8pPyhbXj8jXC9dKikpKD86XD8oW14jXSopKT8oPzojKC4qKSk/KS8uZXhlYyhlKSwgamQocWQsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHZhciBuID0gKG4gPSBpW3RdKSAmJiBuLnJlcGxhY2UoL1wobWNlX2F0XCkvZywgIkBAIik7CiAgICAgIHVbZV0gPSBuOwogICAgfSksIGEgJiYgKHUucHJvdG9jb2wgfHwgKHUucHJvdG9jb2wgPSBhLnByb3RvY29sKSwgdS51c2VySW5mbyB8fCAodS51c2VySW5mbyA9IGEudXNlckluZm8pLCB1LnBvcnQgfHwgIm1jZV9ob3N0IiAhPT0gdS5ob3N0IHx8ICh1LnBvcnQgPSBhLnBvcnQpLCB1Lmhvc3QgJiYgIm1jZV9ob3N0IiAhPT0gdS5ob3N0IHx8ICh1Lmhvc3QgPSBhLmhvc3QpLCB1LnNvdXJjZSA9ICIiKSwgbiAmJiAodS5wcm90b2NvbCA9ICIiKSk7CiAgfQoKICBmdW5jdGlvbiBZZChlLCB0LCBuKSB7CiAgICBmb3IgKHZhciByID0gLzwoWyE/XC9dKT8oW0EtWmEtejAtOVwtXzouXSspL2csIG8gPSAvKD86XHMoPzpbXiciPl0rKD86IlteIl0qInwnW14nXSonKSkqW14iJz5dKig/OiJbXiI+XSp8J1teJz5dKik/fFxzKnxcLyk+L2csIGkgPSBlLmdldFNob3J0RW5kZWRFbGVtZW50cygpLCBhID0gMSwgdSA9IG47IDAgIT09IGE7KSB7CiAgICAgIGZvciAoci5sYXN0SW5kZXggPSB1OzspIHsKICAgICAgICB2YXIgcyA9IHIuZXhlYyh0KTsKICAgICAgICBpZiAobnVsbCA9PT0gcykgcmV0dXJuIHU7CgogICAgICAgIGlmICgiISIgPT09IHNbMV0pIHsKICAgICAgICAgIHUgPSBHZShzWzJdLCAiLS0iKSA/IFFkKHQsICExLCBzLmluZGV4ICsgIiEtLSIubGVuZ3RoKSA6IFFkKHQsICEwLCBzLmluZGV4ICsgMSk7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICAgIG8ubGFzdEluZGV4ID0gci5sYXN0SW5kZXg7CiAgICAgICAgdmFyIGMgPSBvLmV4ZWModCk7CgogICAgICAgIGlmICghbChjKSAmJiBjLmluZGV4ID09PSByLmxhc3RJbmRleCkgewogICAgICAgICAgIi8iID09PSBzWzFdID8gLS1hIDogTmUoaSwgc1syXSkgfHwgKGEgKz0gMSksIHUgPSByLmxhc3RJbmRleCArIGNbMF0ubGVuZ3RoOwogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHU7CiAgfQoKICBmdW5jdGlvbiBHZChxLCAkKSB7CiAgICB2YXIgZTsKICAgIHZvaWQgMCA9PT0gJCAmJiAoJCA9IHRvKCkpOwogICAgdmFyIFcgPSBudWxsICE9PSAoZSA9IChxID0gcSB8fCB7fSkuZG9jdW1lbnQpICYmIHZvaWQgMCAhPT0gZSA/IGUgOiBkb2N1bWVudCwKICAgICAgICBLID0gVy5jcmVhdGVFbGVtZW50KCJmb3JtIik7CgogICAgZnVuY3Rpb24gbihzLCBlKSB7CiAgICAgIHZvaWQgMCA9PT0gZSAmJiAoZSA9ICJodG1sIik7CgogICAgICBmb3IgKHZhciB0LCBpLCBuLCBjLCByLCBvLCBhLCBsLCB1LCBmLCBkLCBtLCBnLCBwLCBoLCB2LCBiLCB5LCBDLCB4ID0gcy5odG1sLCB3ID0gMCwgUyA9IFtdLCBFID0gMCwgTiA9IEdvLmRlY29kZSwgayA9IEV0Lm1ha2VNYXAoInNyYyxocmVmLGRhdGEsYmFja2dyb3VuZCxhY3Rpb24sZm9ybWFjdGlvbixwb3N0ZXIseGxpbms6aHJlZiIpLCBfID0gImh0bWwiID09PSBlID8gMCA6IDEsIEEgPSBmdW5jdGlvbiBBKGUpIHsKICAgICAgICBmb3IgKHZhciB0LCBuID0gUy5sZW5ndGg7IG4tLSAmJiBTW25dLm5hbWUgIT09IGU7KSB7CiAgICAgICAgICA7CiAgICAgICAgfQoKICAgICAgICBpZiAoMCA8PSBuKSB7CiAgICAgICAgICBmb3IgKHQgPSBTLmxlbmd0aCAtIDE7IG4gPD0gdDsgdC0tKSB7CiAgICAgICAgICAgIChlID0gU1t0XSkudmFsaWQgJiYgUShlLm5hbWUpOwogICAgICAgICAgfQoKICAgICAgICAgIFMubGVuZ3RoID0gbjsKICAgICAgICB9CiAgICAgIH0sIFIgPSBmdW5jdGlvbiBSKGUsIHQpIHsKICAgICAgICByZXR1cm4gRyhIZChlLCBzKSwgdCk7CiAgICAgIH0sIEQgPSBmdW5jdGlvbiBEKGUpIHsKICAgICAgICAiIiAhPT0gZSAmJiAoIj4iID09PSBlLmNoYXJBdCgwKSAmJiAoZSA9ICIgIiArIGUpLCBxLmFsbG93X2NvbmRpdGlvbmFsX2NvbW1lbnRzIHx8ICJbaWYiICE9PSBlLnN1YnN0cigwLCAzKS50b0xvd2VyQ2FzZSgpIHx8IChlID0gIiAiICsgZSksIFgoSGQoZSwgcykpKTsKICAgICAgfSwgVCA9IGZ1bmN0aW9uIFQoZSwgdCkgewogICAgICAgIHZhciBuID0gZSB8fCAiIiwKICAgICAgICAgICAgciA9ICFHZShuLCAiLS0iKSwKICAgICAgICAgICAgbyA9IFFkKHgsIHIsIHQpOwogICAgICAgIHJldHVybiBlID0geC5zdWJzdHIodCwgbyAtIHQpLCBEKHIgPyBuICsgZSA6IGUpLCBvICsgMTsKICAgICAgfSwgTyA9IG5ldyBSZWdFeHAoIjwoPzooPzohLS0oW1xcd1xcV10qPyktLSE/Pil8KD86IVxcW0NEQVRBXFxbKFtcXHdcXFddKj8pXFxdXFxdPil8KD86IVtEZF1bT29dW0NjXVtUdF1bWXldW1BwXVtFZV0oW1xcd1xcV10qPyk+KXwoPzohKC0tKT8pfCg/OlxcPyhbXlxcc1xcLzw+XSspID8oW1xcd1xcV10qPylbPy9dPil8KD86XFwvKFtBLVphLXpdW0EtWmEtejAtOVxcLV9cXDpcXC5dKik+KXwoPzooW0EtWmEtel1bQS1aYS16MC05XFwtXzouXSopKFxccyg/OlteJ1wiPl0rKD86XCJbXlwiXSpcInwnW14nXSonKSkqW15cIic+XSooPzpcIlteXCI+XSp8J1teJz5dKik/fFxccyp8XFwvKT4pKSIsICJnIiksIEIgPSAvKFtcdzpcLV0rKSg/OlxzKj1ccyooPzooPzpcIigoPzpbXlwiXSkqKVwiKXwoPzpcJygoPzpbXlwnXSkqKVwnKXwoW14+XHNdKykpKT8vZywgUCA9ICQuZ2V0U2hvcnRFbmRlZEVsZW1lbnRzKCksIEwgPSBxLnNlbGZfY2xvc2luZ19lbGVtZW50cyB8fCAkLmdldFNlbGZDbG9zaW5nRWxlbWVudHMoKSwgSSA9ICQuZ2V0Qm9vbEF0dHJzKCksIE0gPSBxLnZhbGlkYXRlLCBGID0gcS5yZW1vdmVfaW50ZXJuYWxzLCBVID0gcS5maXhfc2VsZl9jbG9zaW5nLCB6ID0gJC5nZXRTcGVjaWFsRWxlbWVudHMoKSwgSCA9IHggKyAiPiI7IHQgPSBPLmV4ZWMoSCk7KSB7CiAgICAgICAgdmFyIGogPSB0WzBdOwogICAgICAgIGlmICh3IDwgdC5pbmRleCAmJiBSKE4oeC5zdWJzdHIodywgdC5pbmRleCAtIHcpKSksIGkgPSB0WzddKSBBKGkgPSAiOiIgPT09IChpID0gaS50b0xvd2VyQ2FzZSgpKS5jaGFyQXQoMCkgPyBpLnN1YnN0cigxKSA6IGkpO2Vsc2UgaWYgKGkgPSB0WzhdKSB7CiAgICAgICAgICBpZiAodC5pbmRleCArIGoubGVuZ3RoID4geC5sZW5ndGgpIHsKICAgICAgICAgICAgUihOKHguc3Vic3RyKHQuaW5kZXgpKSksIHcgPSB0LmluZGV4ICsgai5sZW5ndGg7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgfQoKICAgICAgICAgIHUgPSAoaSA9ICI6IiA9PT0gKGkgPSBpLnRvTG93ZXJDYXNlKCkpLmNoYXJBdCgwKSA/IGkuc3Vic3RyKDEpIDogaSkgaW4gUCwgVSAmJiBMW2ldICYmIDAgPCBTLmxlbmd0aCAmJiBTW1MubGVuZ3RoIC0gMV0ubmFtZSA9PT0gaSAmJiBBKGkpOwoKICAgICAgICAgIHZhciBWID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgICAgdmFyIG4gPSBlLmV4ZWModCk7CgogICAgICAgICAgICBpZiAobikgewogICAgICAgICAgICAgIHZhciByID0gblsxXSwKICAgICAgICAgICAgICAgICAgbyA9IG5bMl07CiAgICAgICAgICAgICAgcmV0dXJuICJzdHJpbmciID09IHR5cGVvZiByICYmICJkYXRhLW1jZS1ib2d1cyIgPT09IHIudG9Mb3dlckNhc2UoKSA/IG8gOiBudWxsOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgIH0oQiwgdFs5XSk7CgogICAgICAgICAgaWYgKG51bGwgIT09IFYpIHsKICAgICAgICAgICAgaWYgKCJhbGwiID09PSBWKSB7CiAgICAgICAgICAgICAgdyA9IFlkKCQsIHgsIE8ubGFzdEluZGV4KSwgTy5sYXN0SW5kZXggPSB3OwogICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICB9CgogICAgICAgICAgICBkID0gITE7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKCFNIHx8IChmID0gJC5nZXRFbGVtZW50UnVsZShpKSkpIHsKICAgICAgICAgICAgaWYgKGQgPSAhMCwgTSAmJiAocCA9IGYuYXR0cmlidXRlcywgaCA9IGYuYXR0cmlidXRlUGF0dGVybnMpLCAoZyA9IHRbOV0pID8gKChsID0gLTEgIT09IGcuaW5kZXhPZigiZGF0YS1tY2UtdHlwZSIpKSAmJiBGICYmIChkID0gITEpLCAoYyA9IFtdKS5tYXAgPSB7fSwgZy5yZXBsYWNlKEIsIGZ1bmN0aW9uIChlLCB0LCBuLCByLCBvKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlLCB0LCBuLCByLCBvKSB7CiAgICAgICAgICAgICAgICB2YXIgaTsKCiAgICAgICAgICAgICAgICBpZiAobiA9IEhkKCh0ID0gdC50b0xvd2VyQ2FzZSgpKSBpbiBJID8gdCA6IE4obiB8fCByIHx8IG8gfHwgIiIpLCBzKSwgTSAmJiAhbCAmJiAwID09ICgwID09PSAoaSA9IHQpLmluZGV4T2YoImRhdGEtIikgfHwgMCA9PT0gaS5pbmRleE9mKCJhcmlhLSIpKSkgewogICAgICAgICAgICAgICAgICB2YXIgYSA9IHBbdF07CgogICAgICAgICAgICAgICAgICBpZiAoIWEgJiYgaCkgewogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHUgPSBoLmxlbmd0aDsgdS0tICYmICEoYSA9IGhbdV0pLnBhdHRlcm4udGVzdCh0KTspIHsKICAgICAgICAgICAgICAgICAgICAgIDsKICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgIC0xID09PSB1ICYmIChhID0gbnVsbCk7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIGlmICghYSkgcmV0dXJuOwogICAgICAgICAgICAgICAgICBpZiAoYS52YWxpZFZhbHVlcyAmJiAhKG4gaW4gYS52YWxpZFZhbHVlcykpIHJldHVybjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAoIm5hbWUiID09PSB0IHx8ICJpZCIgPT09IHQpICYmIGUgaW4gSmQgJiYgKG4gaW4gVyB8fCBuIGluIEspIHx8IGtbdF0gJiYgIUtkLmlzRG9tU2FmZShuLCBlLCBxKSB8fCBsICYmICh0IGluIGsgfHwgMCA9PT0gdC5pbmRleE9mKCJvbiIpKSB8fCAoYy5tYXBbdF0gPSBuLCBjLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiB0LAogICAgICAgICAgICAgICAgICB2YWx1ZTogbgogICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgIH0oaSwgdCwgbiwgciwgbyksICIiOwogICAgICAgICAgICB9KSkgOiAoYyA9IFtdKS5tYXAgPSB7fSwgTSAmJiAhbCkgewogICAgICAgICAgICAgIGlmICh2ID0gZi5hdHRyaWJ1dGVzUmVxdWlyZWQsIGIgPSBmLmF0dHJpYnV0ZXNEZWZhdWx0LCB5ID0gZi5hdHRyaWJ1dGVzRm9yY2VkLCBmLnJlbW92ZUVtcHR5QXR0cnMgJiYgIWMubGVuZ3RoICYmIChkID0gITEpLCB5KSBmb3IgKHIgPSB5Lmxlbmd0aDsgci0tOykgewogICAgICAgICAgICAgICAgYSA9IChtID0geVtyXSkubmFtZSwgInskdWlkfSIgPT09IChDID0gbS52YWx1ZSkgJiYgKEMgPSAibWNlXyIgKyBFKyspLCBjLm1hcFthXSA9IEMsIGMucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6IGEsCiAgICAgICAgICAgICAgICAgIHZhbHVlOiBDCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYgKGIpIGZvciAociA9IGIubGVuZ3RoOyByLS07KSB7CiAgICAgICAgICAgICAgICAoYSA9IChtID0gYltyXSkubmFtZSkgaW4gYy5tYXAgfHwgKCJ7JHVpZH0iID09PSAoQyA9IG0udmFsdWUpICYmIChDID0gIm1jZV8iICsgRSsrKSwgYy5tYXBbYV0gPSBDLCBjLnB1c2goewogICAgICAgICAgICAgICAgICBuYW1lOiBhLAogICAgICAgICAgICAgICAgICB2YWx1ZTogQwogICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKHYpIHsKICAgICAgICAgICAgICAgIGZvciAociA9IHYubGVuZ3RoOyByLS0gJiYgISh2W3JdIGluIGMubWFwKTspIHsKICAgICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC0xID09PSByICYmIChkID0gITEpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKG0gPSBjLm1hcFsiZGF0YS1tY2UtYm9ndXMiXSkgewogICAgICAgICAgICAgICAgaWYgKCJhbGwiID09PSBtKSB7CiAgICAgICAgICAgICAgICAgIHcgPSBZZCgkLCB4LCBPLmxhc3RJbmRleCksIE8ubGFzdEluZGV4ID0gdzsKICAgICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgZCA9ICExOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgZCAmJiBKKGksIGMsIHUpOwogICAgICAgICAgfSBlbHNlIGQgPSAhMTsKCiAgICAgICAgICBpZiAobiA9IHpbaV0pIHsKICAgICAgICAgICAgbi5sYXN0SW5kZXggPSB3ID0gdC5pbmRleCArIGoubGVuZ3RoLCB3ID0gKHQgPSBuLmV4ZWMoeCkpID8gKGQgJiYgKG8gPSB4LnN1YnN0cih3LCB0LmluZGV4IC0gdykpLCB0LmluZGV4ICsgdFswXS5sZW5ndGgpIDogKG8gPSB4LnN1YnN0cih3KSwgeC5sZW5ndGgpLCBkICYmICgwIDwgby5sZW5ndGggJiYgUihvLCAhMCksIFEoaSkpLCBPLmxhc3RJbmRleCA9IHc7CiAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgfQoKICAgICAgICAgIHUgfHwgKGcgJiYgZy5pbmRleE9mKCIvIikgPT09IGcubGVuZ3RoIC0gMSA/IGQgJiYgUShpKSA6IFMucHVzaCh7CiAgICAgICAgICAgIG5hbWU6IGksCiAgICAgICAgICAgIHZhbGlkOiBkCiAgICAgICAgICB9KSk7CiAgICAgICAgfSBlbHNlIGlmIChpID0gdFsxXSkgRChpKTtlbHNlIGlmIChpID0gdFsyXSkgewogICAgICAgICAgaWYgKCEoMSA9PSBfIHx8IHEucHJlc2VydmVfY2RhdGEgfHwgMCA8IFMubGVuZ3RoICYmICQuaXNWYWxpZENoaWxkKFNbUy5sZW5ndGggLSAxXS5uYW1lLCAiI2NkYXRhIikpKSB7CiAgICAgICAgICAgIHcgPSBUKCIiLCB0LmluZGV4ICsgMiksIE8ubGFzdEluZGV4ID0gdzsKICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICB9CgogICAgICAgICAgWShpKTsKICAgICAgICB9IGVsc2UgaWYgKGkgPSB0WzNdKSBlZShpKTtlbHNlIHsKICAgICAgICAgIGlmICgoaSA9IHRbNF0pIHx8ICI8ISIgPT09IGopIHsKICAgICAgICAgICAgdyA9IFQoaSwgdC5pbmRleCArIGoubGVuZ3RoKSwgTy5sYXN0SW5kZXggPSB3OwogICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoaSA9IHRbNV0pIHsKICAgICAgICAgICAgaWYgKDEgIT0gXykgewogICAgICAgICAgICAgIHcgPSBUKCI/IiwgdC5pbmRleCArIDIpLCBPLmxhc3RJbmRleCA9IHc7CiAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIFooaSwgdFs2XSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHcgPSB0LmluZGV4ICsgai5sZW5ndGg7CiAgICAgIH0KCiAgICAgIGZvciAodyA8IHgubGVuZ3RoICYmIFIoTih4LnN1YnN0cih3KSkpLCByID0gUy5sZW5ndGggLSAxOyAwIDw9IHI7IHItLSkgewogICAgICAgIChpID0gU1tyXSkudmFsaWQgJiYgUShpLm5hbWUpOwogICAgICB9CiAgICB9CgogICAgITEgIT09IHEuZml4X3NlbGZfY2xvc2luZyAmJiAocS5maXhfc2VsZl9jbG9zaW5nID0gITApOwogICAgdmFyIFggPSBxLmNvbW1lbnQgfHwgdGUsCiAgICAgICAgWSA9IHEuY2RhdGEgfHwgdGUsCiAgICAgICAgRyA9IHEudGV4dCB8fCB0ZSwKICAgICAgICBKID0gcS5zdGFydCB8fCB0ZSwKICAgICAgICBRID0gcS5lbmQgfHwgdGUsCiAgICAgICAgWiA9IHEucGkgfHwgdGUsCiAgICAgICAgZWUgPSBxLmRvY3R5cGUgfHwgdGU7CiAgICByZXR1cm4gewogICAgICBwYXJzZTogZnVuY3Rpb24gcGFyc2UoZSwgdCkgewogICAgICAgIHZvaWQgMCA9PT0gdCAmJiAodCA9ICJodG1sIiksIG4oZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGZvciAodmFyIHQsIG4gPSAvZGF0YTpbXjtdKztiYXNlNjQsKFthLXowLTlcK1wvPVxzXSspL2dpLCByID0gW10sIG8gPSB7fSwgaSA9IHl1KCJpbWciKSwgYSA9IDAsIHUgPSAwOyB0ID0gbi5leGVjKGUpOykgewogICAgICAgICAgICB2YXIgcyA9IHRbMF0sCiAgICAgICAgICAgICAgICBjID0gaSArICJfIiArIHUrKzsKICAgICAgICAgICAgb1tjXSA9IHMsIGEgPCB0LmluZGV4ICYmIHIucHVzaChlLnN1YnN0cihhLCB0LmluZGV4IC0gYSkpLCByLnB1c2goYyksIGEgPSB0LmluZGV4ICsgcy5sZW5ndGg7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIGwgPSBuZXcgUmVnRXhwKGkgKyAiX1swLTldKyIsICJnIik7CiAgICAgICAgICByZXR1cm4gMCA9PT0gYSA/IHsKICAgICAgICAgICAgcHJlZml4OiBpLAogICAgICAgICAgICB1cmlzOiBvLAogICAgICAgICAgICBodG1sOiBlLAogICAgICAgICAgICByZTogbAogICAgICAgICAgfSA6IChhIDwgZS5sZW5ndGggJiYgci5wdXNoKGUuc3Vic3RyKGEpKSwgewogICAgICAgICAgICBwcmVmaXg6IGksCiAgICAgICAgICAgIHVyaXM6IG8sCiAgICAgICAgICAgIGh0bWw6IHIuam9pbigiIiksCiAgICAgICAgICAgIHJlOiBsCiAgICAgICAgICB9KTsKICAgICAgICB9KGUpLCB0KTsKICAgICAgfQogICAgfTsKICB9CgogIHZhciBKZCA9IEV0Lm1ha2VNYXAoImJ1dHRvbixmaWVsZHNldCxmb3JtLGlmcmFtZSxpbWcsaW1hZ2UsaW5wdXQsb2JqZWN0LG91dHB1dCxzZWxlY3QsdGV4dGFyZWEiKSwKICAgICAgUWQgPSBmdW5jdGlvbiBRZChlLCB0LCBuKSB7CiAgICB2b2lkIDAgPT09IG4gJiYgKG4gPSAwKTsKICAgIHZhciByID0gZS50b0xvd2VyQ2FzZSgpOwoKICAgIGlmICgtMSAhPT0gci5pbmRleE9mKCJbaWYgIiwgbikgJiYgKHUgPSBuLCAvXlxzKlxbaWYgW1x3XFddK1xdPi4qPCFcW2VuZGlmXF0oLS0hPyk/Pi8udGVzdChyLnN1YnN0cih1KSkpKSB7CiAgICAgIHZhciBvID0gci5pbmRleE9mKCJbZW5kaWZdIiwgbik7CiAgICAgIHJldHVybiByLmluZGV4T2YoIj4iLCBvKTsKICAgIH0KCiAgICBpZiAodCkgewogICAgICB2YXIgaSA9IHIuaW5kZXhPZigiPiIsIG4pOwogICAgICByZXR1cm4gLTEgIT09IGkgPyBpIDogci5sZW5ndGg7CiAgICB9CgogICAgdmFyIGEgPSAvLS0hPz4vZzsKICAgIGEubGFzdEluZGV4ID0gbjsKICAgIHZhciB1LAogICAgICAgIHMgPSBhLmV4ZWMoZSk7CiAgICByZXR1cm4gcyA/IHMuaW5kZXggKyBzWzBdLmxlbmd0aCA6IHIubGVuZ3RoOwogIH07CgogIGZ1bmN0aW9uIFpkKGUsIHQpIHsKICAgIGZvciAodmFyIG4sIHIsIG8sIGksIGEgPSAvPChcdyspIFtePl0qZGF0YS1tY2UtYm9ndXM9ImFsbCJbXj5dKj4vZywgdSA9IGUuc2NoZW1hLCBzID0gKG4gPSBlLmdldFRlbXBBdHRycygpLCByID0gdCwgbyA9IG5ldyBSZWdFeHAoWyJcXHM/KCIgKyBuLmpvaW4oInwiKSArICcpPSJbXiJdKyInXS5qb2luKCJ8IiksICJnaSIpLCByLnJlcGxhY2UobywgIiIpKSwgYyA9IHUuZ2V0U2hvcnRFbmRlZEVsZW1lbnRzKCk7IGkgPSBhLmV4ZWMocyk7KSB7CiAgICAgIHZhciBsID0gYS5sYXN0SW5kZXgsCiAgICAgICAgICBmID0gaVswXS5sZW5ndGgsCiAgICAgICAgICBkID0gY1tpWzFdXSA/IGwgOiBHZC5maW5kRW5kVGFnKHUsIHMsIGwpLAogICAgICAgICAgcyA9IHMuc3Vic3RyaW5nKDAsIGwgLSBmKSArIHMuc3Vic3RyaW5nKGQpOwogICAgICBhLmxhc3RJbmRleCA9IGwgLSBmOwogICAgfQoKICAgIHJldHVybiB3byhzKTsKICB9CgogIGZ1bmN0aW9uIGVtKG8pIHsKICAgIHJldHVybiB7CiAgICAgIGNvbXBhcmU6IGZ1bmN0aW9uIGNvbXBhcmUoZSwgdCkgewogICAgICAgIHJldHVybiBlLm5vZGVOYW1lID09PSB0Lm5vZGVOYW1lICYmICEoIXIobihlKSwgbih0KSkgfHwgIXIoby5wYXJzZVN0eWxlKG8uZ2V0QXR0cmliKGUsICJzdHlsZSIpKSwgby5wYXJzZVN0eWxlKG8uZ2V0QXR0cmliKHQsICJzdHlsZSIpKSkgfHwgWWMoZSkgfHwgWWModCkpOwoKICAgICAgICBmdW5jdGlvbiBuKG4pIHsKICAgICAgICAgIHZhciByID0ge307CiAgICAgICAgICByZXR1cm4gb20oby5nZXRBdHRyaWJzKG4pLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgdCA9IGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKICAgICAgICAgICAgMCAhPT0gdC5pbmRleE9mKCJfIikgJiYgInN0eWxlIiAhPT0gdCAmJiAwICE9PSB0LmluZGV4T2YoImRhdGEtIikgJiYgKHJbdF0gPSBvLmdldEF0dHJpYihuLCB0KSk7CiAgICAgICAgICB9KSwgcjsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHIoZSwgdCkgewogICAgICAgICAgdmFyIG4sIHI7CgogICAgICAgICAgZm9yIChyIGluIGUpIHsKICAgICAgICAgICAgaWYgKE5lKGUsIHIpKSB7CiAgICAgICAgICAgICAgaWYgKHZvaWQgMCA9PT0gKG4gPSB0W3JdKSkgcmV0dXJuOwogICAgICAgICAgICAgIGlmIChlW3JdICE9PSBuKSByZXR1cm47CiAgICAgICAgICAgICAgZGVsZXRlIHRbcl07CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBmb3IgKHIgaW4gdCkgewogICAgICAgICAgICBpZiAoTmUodCwgcikpIHJldHVybjsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gMTsKICAgICAgICB9CiAgICAgIH0KICAgIH07CiAgfQoKICBmdW5jdGlvbiB0bShlKSB7CiAgICB2YXIgdSA9IFtdLAogICAgICAgIHMgPSAoZSA9IGUgfHwge30pLmluZGVudCwKICAgICAgICBjID0gaW0oZS5pbmRlbnRfYmVmb3JlIHx8ICIiKSwKICAgICAgICBsID0gaW0oZS5pbmRlbnRfYWZ0ZXIgfHwgIiIpLAogICAgICAgIGYgPSBHby5nZXRFbmNvZGVGdW5jKGUuZW50aXR5X2VuY29kaW5nIHx8ICJyYXciLCBlLmVudGl0aWVzKSwKICAgICAgICBkID0gImh0bWwiID09PSBlLmVsZW1lbnRfZm9ybWF0OwogICAgcmV0dXJuIHsKICAgICAgc3RhcnQ6IGZ1bmN0aW9uIHN0YXJ0KGUsIHQsIG4pIHsKICAgICAgICB2YXIgciwgbywgaSwgYTsKICAgICAgICBpZiAocyAmJiBjW2VdICYmIDAgPCB1Lmxlbmd0aCAmJiAwIDwgKGEgPSB1W3UubGVuZ3RoIC0gMV0pLmxlbmd0aCAmJiAiXG4iICE9PSBhICYmIHUucHVzaCgiXG4iKSwgdS5wdXNoKCI8IiwgZSksIHQpIGZvciAociA9IDAsIG8gPSB0Lmxlbmd0aDsgciA8IG87IHIrKykgewogICAgICAgICAgaSA9IHRbcl0sIHUucHVzaCgiICIsIGkubmFtZSwgJz0iJywgZihpLnZhbHVlLCAhMCksICciJyk7CiAgICAgICAgfQogICAgICAgIHVbdS5sZW5ndGhdID0gIW4gfHwgZCA/ICI+IiA6ICIgLz4iLCBuICYmIHMgJiYgbFtlXSAmJiAwIDwgdS5sZW5ndGggJiYgMCA8IChhID0gdVt1Lmxlbmd0aCAtIDFdKS5sZW5ndGggJiYgIlxuIiAhPT0gYSAmJiB1LnB1c2goIlxuIik7CiAgICAgIH0sCiAgICAgIGVuZDogZnVuY3Rpb24gZW5kKGUpIHsKICAgICAgICB2YXIgdDsKICAgICAgICB1LnB1c2goIjwvIiwgZSwgIj4iKSwgcyAmJiBsW2VdICYmIDAgPCB1Lmxlbmd0aCAmJiAwIDwgKHQgPSB1W3UubGVuZ3RoIC0gMV0pLmxlbmd0aCAmJiAiXG4iICE9PSB0ICYmIHUucHVzaCgiXG4iKTsKICAgICAgfSwKICAgICAgdGV4dDogZnVuY3Rpb24gdGV4dChlLCB0KSB7CiAgICAgICAgMCA8IGUubGVuZ3RoICYmICh1W3UubGVuZ3RoXSA9IHQgPyBlIDogZihlKSk7CiAgICAgIH0sCiAgICAgIGNkYXRhOiBmdW5jdGlvbiBjZGF0YShlKSB7CiAgICAgICAgdS5wdXNoKCI8IVtDREFUQVsiLCBlLCAiXV0+Iik7CiAgICAgIH0sCiAgICAgIGNvbW1lbnQ6IGZ1bmN0aW9uIGNvbW1lbnQoZSkgewogICAgICAgIHUucHVzaCgiXHgzYyEtLSIsIGUsICItLVx4M2UiKTsKICAgICAgfSwKICAgICAgcGk6IGZ1bmN0aW9uIHBpKGUsIHQpIHsKICAgICAgICB0ID8gdS5wdXNoKCI8PyIsIGUsICIgIiwgZih0KSwgIj8+IikgOiB1LnB1c2goIjw/IiwgZSwgIj8+IiksIHMgJiYgdS5wdXNoKCJcbiIpOwogICAgICB9LAogICAgICBkb2N0eXBlOiBmdW5jdGlvbiBkb2N0eXBlKGUpIHsKICAgICAgICB1LnB1c2goIjwhRE9DVFlQRSIsIGUsICI+IiwgcyA/ICJcbiIgOiAiIik7CiAgICAgIH0sCiAgICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgICB1Lmxlbmd0aCA9IDA7CiAgICAgIH0sCiAgICAgIGdldENvbnRlbnQ6IGZ1bmN0aW9uIGdldENvbnRlbnQoKSB7CiAgICAgICAgcmV0dXJuIHUuam9pbigiIikucmVwbGFjZSgvXG4kLywgIiIpOwogICAgICB9CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gbm0odCwgZykgewogICAgdm9pZCAwID09PSBnICYmIChnID0gdG8oKSk7CiAgICB2YXIgcCA9IHRtKHQpOwogICAgcmV0dXJuICh0ID0gdCB8fCB7fSkudmFsaWRhdGUgPSAhKCJ2YWxpZGF0ZSIgaW4gdCkgfHwgdC52YWxpZGF0ZSwgewogICAgICBzZXJpYWxpemU6IGZ1bmN0aW9uIHNlcmlhbGl6ZShlKSB7CiAgICAgICAgdmFyIGYgPSB0LnZhbGlkYXRlLAogICAgICAgICAgICBkID0gewogICAgICAgICAgMzogZnVuY3Rpb24gXyhlKSB7CiAgICAgICAgICAgIHAudGV4dChlLnZhbHVlLCBlLnJhdyk7CiAgICAgICAgICB9LAogICAgICAgICAgODogZnVuY3Rpb24gXyhlKSB7CiAgICAgICAgICAgIHAuY29tbWVudChlLnZhbHVlKTsKICAgICAgICAgIH0sCiAgICAgICAgICA3OiBmdW5jdGlvbiBfKGUpIHsKICAgICAgICAgICAgcC5waShlLm5hbWUsIGUudmFsdWUpOwogICAgICAgICAgfSwKICAgICAgICAgIDEwOiBmdW5jdGlvbiBfKGUpIHsKICAgICAgICAgICAgcC5kb2N0eXBlKGUudmFsdWUpOwogICAgICAgICAgfSwKICAgICAgICAgIDQ6IGZ1bmN0aW9uIF8oZSkgewogICAgICAgICAgICBwLmNkYXRhKGUudmFsdWUpOwogICAgICAgICAgfSwKICAgICAgICAgIDExOiBmdW5jdGlvbiBfKGUpIHsKICAgICAgICAgICAgaWYgKGUgPSBlLmZpcnN0Q2hpbGQpIGZvciAoOyBtKGUpLCBlID0gZS5uZXh0OykgewogICAgICAgICAgICAgIDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgcC5yZXNldCgpOwoKICAgICAgICB2YXIgbSA9IGZ1bmN0aW9uIG0oZSkgewogICAgICAgICAgdmFyIHQgPSBkW2UudHlwZV07CiAgICAgICAgICBpZiAodCkgdChlKTtlbHNlIHsKICAgICAgICAgICAgdmFyIG4gPSBlLm5hbWUsCiAgICAgICAgICAgICAgICByID0gZS5zaG9ydEVuZGVkLAogICAgICAgICAgICAgICAgbyA9IGUuYXR0cmlidXRlczsKCiAgICAgICAgICAgIGlmIChmICYmIG8gJiYgMSA8IG8ubGVuZ3RoKSB7CiAgICAgICAgICAgICAgdmFyIGkgPSBbXTsKICAgICAgICAgICAgICBpLm1hcCA9IHt9OwogICAgICAgICAgICAgIHZhciBhID0gZy5nZXRFbGVtZW50UnVsZShlLm5hbWUpOwoKICAgICAgICAgICAgICBpZiAoYSkgewogICAgICAgICAgICAgICAgZm9yICh2YXIgdSA9IDAsIHMgPSBhLmF0dHJpYnV0ZXNPcmRlci5sZW5ndGg7IHUgPCBzOyB1KyspIHsKICAgICAgICAgICAgICAgICAgKGMgPSBhLmF0dHJpYnV0ZXNPcmRlclt1XSkgaW4gby5tYXAgJiYgKGwgPSBvLm1hcFtjXSwgaS5tYXBbY10gPSBsLCBpLnB1c2goewogICAgICAgICAgICAgICAgICAgIG5hbWU6IGMsCiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGwKICAgICAgICAgICAgICAgICAgfSkpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGZvciAodmFyIGMsIGwsIHUgPSAwLCBzID0gby5sZW5ndGg7IHUgPCBzOyB1KyspIHsKICAgICAgICAgICAgICAgICAgKGMgPSBvW3VdLm5hbWUpIGluIGkubWFwIHx8IChsID0gby5tYXBbY10sIGkubWFwW2NdID0gbCwgaS5wdXNoKHsKICAgICAgICAgICAgICAgICAgICBuYW1lOiBjLAogICAgICAgICAgICAgICAgICAgIHZhbHVlOiBsCiAgICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBvID0gaTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChwLnN0YXJ0KGUubmFtZSwgbywgciksICFyKSB7CiAgICAgICAgICAgICAgaWYgKGUgPSBlLmZpcnN0Q2hpbGQpIGZvciAoOyBtKGUpLCBlID0gZS5uZXh0OykgewogICAgICAgICAgICAgICAgOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBwLmVuZChuKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIHJldHVybiAxICE9PSBlLnR5cGUgfHwgdC5pbm5lciA/IGRbMTFdKGUpIDogbShlKSwgcC5nZXRDb250ZW50KCk7CiAgICAgIH0KICAgIH07CiAgfQoKICBHZC5maW5kRW5kVGFnID0gWWQ7CiAgdmFyIHJtID0gWmQsCiAgICAgIG9tID0gRXQuZWFjaCwKICAgICAgaW0gPSBFdC5tYWtlTWFwLAogICAgICBhbSA9IG5ldyBTZXQoKTsKCiAgZnVuY3Rpb24gdW0oZSwgdCkgewogICAgcmV0dXJuIHdlKGUucGFyc2VTdHlsZShlLmdldEF0dHJpYih0LCAic3R5bGUiKSkpOwogIH0KCiAgZnVuY3Rpb24gc20obiwgciwgbykgewogICAgcmV0dXJuIHZlLmZyb20oby5jb250YWluZXIoKSkuZmlsdGVyKGpuKS5leGlzdHMoZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQgPSBuID8gMCA6IC0xOwogICAgICByZXR1cm4gcihlLmRhdGEuY2hhckF0KG8ub2Zmc2V0KCkgKyB0KSk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIGNtKGUpIHsKICAgIHZhciB0ID0gZS5jb250YWluZXIoKTsKICAgIHJldHVybiBqbih0KSAmJiAoMCA9PT0gdC5kYXRhLmxlbmd0aCB8fCB4byh0LmRhdGEpICYmIEZsLmlzQm9va21hcmtOb2RlKHQucGFyZW50Tm9kZSkpOwogIH0KCiAgZnVuY3Rpb24gbG0odCwgbikgewogICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiB2ZS5mcm9tKEdzKHQgPyAwIDogLTEsIGUpKS5maWx0ZXIobikuaXNTb21lKCk7CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gZm0oZSkgewogICAgcmV0dXJuIEtuKGUpICYmICJibG9jayIgPT09IHhuKE50LmZyb21Eb20oZSksICJkaXNwbGF5Iik7CiAgfQoKICBmdW5jdGlvbiBkbShlKSB7CiAgICByZXR1cm4gWW4oZSkgJiYgISh6bih0ID0gZSkgJiYgImFsbCIgPT09IHQuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIpKTsKICAgIHZhciB0OwogIH0KCiAgZnVuY3Rpb24gbW0oZSkgewogICAgWHQoZSksIFBuKGUsIE50LmZyb21IdG1sKCc8YnIgZGF0YS1tY2UtYm9ndXM9IjEiPicpKTsKICB9CgogIGZ1bmN0aW9uIGdtKG4pIHsKICAgIFV0KG4pLmVhY2goZnVuY3Rpb24gKHQpIHsKICAgICAgQnQodCkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgIGxvKG4pICYmIEJyKHQpICYmIGxvKGUpICYmIExuKHQpOwogICAgICB9KTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gcG0oZSwgdCkgewogICAgcmV0dXJuIG8gPSBSLCBWZShyID0gdCwgbiA9IGUpID8gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgZm9yICh2YXIgbiA9IHkodCkgPyB0IDogUiwgciA9IGUuZG9tLCBvID0gW107IG51bGwgIT09IHIucGFyZW50Tm9kZSAmJiB2b2lkIDAgIT09IHIucGFyZW50Tm9kZTspIHsKICAgICAgICB2YXIgaSA9IHIucGFyZW50Tm9kZSwKICAgICAgICAgICAgYSA9IE50LmZyb21Eb20oaSk7CiAgICAgICAgaWYgKG8ucHVzaChhKSwgITAgPT09IG4oYSkpIGJyZWFrOwogICAgICAgIHIgPSBpOwogICAgICB9CgogICAgICByZXR1cm4gbzsKICAgIH0obiwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIG8oZSkgfHwgamUoZSwgcik7CiAgICB9KS5zbGljZSgwLCAtMSkgOiBbXTsKICAgIHZhciBuLCByLCBvOwogIH0KCiAgZnVuY3Rpb24gaG0oZSwgdCkgewogICAgcmV0dXJuIFtlXS5jb25jYXQocG0oZSwgdCkpOwogIH0KCiAgZnVuY3Rpb24gdm0oZSwgdCwgbikgewogICAgcmV0dXJuIEpsKGUsIHQsIG4sIGNtKTsKICB9CgogIGZ1bmN0aW9uIGJtKGUsIHQpIHsKICAgIHJldHVybiBNKGhtKE50LmZyb21Eb20odC5jb250YWluZXIoKSksIGUpLCBsbyk7CiAgfQoKICBmdW5jdGlvbiB5bShlLCBuLCByKSB7CiAgICByZXR1cm4gdm0oZSwgbi5kb20sIHIpLmZvcmFsbChmdW5jdGlvbiAodCkgewogICAgICByZXR1cm4gYm0obiwgcikuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICExID09PSBZcyh0LCByLCBuLmRvbSk7CiAgICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuICExID09PSBZcyh0LCByLCBuLmRvbSkgJiYgVmUoZSwgTnQuZnJvbURvbSh0LmNvbnRhaW5lcigpKSk7CiAgICAgIH0pOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBDbSh0LCBuLCByKSB7CiAgICByZXR1cm4gYm0obiwgcikuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB2bSh0LCBuLmRvbSwgcikuZm9yYWxsKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuICExID09PSBZcyhlLCByLCBuLmRvbSk7CiAgICAgIH0pOwogICAgfSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHZtKHQsIGUuZG9tLCByKS5pc05vbmUoKTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24geG0oZSkgewogICAgcmV0dXJuIG5jKGUpLmV4aXN0cyhCcik7CiAgfQoKICBmdW5jdGlvbiB3bShlLCB0LCBuKSB7CiAgICB2YXIgciA9IFEoVShobShOdC5mcm9tRG9tKG4uY29udGFpbmVyKCkpLCB0KSwgbG8pKS5nZXRPcih0KTsKICAgIHJldHVybiBHbChlLCByLmRvbSwgbikuZmlsdGVyKHhtKTsKICB9CgogIGZ1bmN0aW9uIFNtKGUsIHQpIHsKICAgIHJldHVybiBuYyh0KS5leGlzdHMoQnIpIHx8IHdtKCEwLCBlLCB0KS5pc1NvbWUoKTsKICB9CgogIGZ1bmN0aW9uIEVtKGUsIHQpIHsKICAgIHJldHVybiB2ZS5mcm9tKHQuZ2V0Tm9kZSghMCkpLm1hcChOdC5mcm9tRG9tKS5leGlzdHMoQnIpIHx8IHdtKCExLCBlLCB0KS5pc1NvbWUoKTsKICB9CgogIGZ1bmN0aW9uIE5tKGUpIHsKICAgIHJldHVybiBhcy5pc1RleHRQb3NpdGlvbihlKSAmJiAhZS5pc0F0U3RhcnQoKSAmJiAhZS5pc0F0RW5kKCk7CiAgfQoKICBmdW5jdGlvbiBrbShlLCB0KSB7CiAgICByZXR1cm4gUShVKGhtKE50LmZyb21Eb20odC5jb250YWluZXIoKSksIGUpLCBsbykpLmdldE9yKGUpOwogIH0KCiAgZnVuY3Rpb24gX20oZSwgdCkgewogICAgcmV0dXJuIE5tKHQpID8gS2codCkgOiBLZyh0KSB8fCBabChrbShlLCB0KS5kb20sIHQpLmV4aXN0cyhLZyk7CiAgfQoKICBmdW5jdGlvbiBBbShlLCB0KSB7CiAgICByZXR1cm4gTm0odCkgPyBXZyh0KSA6IFdnKHQpIHx8IFFsKGttKGUsIHQpLmRvbSwgdCkuZXhpc3RzKFdnKTsKICB9CgogIGZ1bmN0aW9uIFJtKGUpIHsKICAgIHJldHVybiBuYyhlKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBwcihlLCBrbik7CiAgICB9KS5leGlzdHMoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIEQoWyJwcmUiLCAicHJlLXdyYXAiXSwgeG4oZSwgIndoaXRlLXNwYWNlIikpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBEbShlLCB0KSB7CiAgICByZXR1cm4gIVJtKHQpICYmIChucChlLCB0KSB8fCBvcChlLCB0KSB8fCBFbShlLCB0KSB8fCBfbShlLCB0KSk7CiAgfQoKICBmdW5jdGlvbiBUbShlLCB0KSB7CiAgICByZXR1cm4gIVJtKHQpICYmIChycChlLCB0KSB8fCBpcChlLCB0KSB8fCBTbShlLCB0KSB8fCBBbShlLCB0KSk7CiAgfQoKICBmdW5jdGlvbiBPbShlLCB0KSB7CiAgICByZXR1cm4gRG0oZSwgdCkgfHwgVG0oZSwgKHIgPSAobiA9IHQpLmNvbnRhaW5lcigpLCBvID0gbi5vZmZzZXQoKSwgam4ocikgJiYgbyA8IHIuZGF0YS5sZW5ndGggPyBhcyhyLCBvICsgMSkgOiBuKSk7CiAgICB2YXIgbiwgciwgbzsKICB9CgogIGZ1bmN0aW9uIEJtKGUsIHQpIHsKICAgIHJldHVybiBvZihlLmNoYXJBdCh0KSk7CiAgfQoKICBmdW5jdGlvbiBQbShlKSB7CiAgICB2YXIgdCA9IGUuY29udGFpbmVyKCk7CiAgICByZXR1cm4gam4odCkgJiYgVGUodC5kYXRhLCB5byk7CiAgfQoKICBmdW5jdGlvbiBMbShnLCBlKSB7CiAgICByZXR1cm4gdmUuc29tZShlKS5maWx0ZXIoUG0pLmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQsCiAgICAgICAgICBuLAogICAgICAgICAgciwKICAgICAgICAgIG8sCiAgICAgICAgICBpLAogICAgICAgICAgYSwKICAgICAgICAgIHUsCiAgICAgICAgICBzLAogICAgICAgICAgYywKICAgICAgICAgIGwgPSBlLmNvbnRhaW5lcigpLAogICAgICAgICAgZiA9IGcsCiAgICAgICAgICBkID0gKGkgPSBsKS5kYXRhLAogICAgICAgICAgbSA9IGFzKGksIDApOwogICAgICByZXR1cm4gKCFCbShkLCAwKSB8fCBPbShmLCBtKSA/IChzID0gKGEgPSBsKS5kYXRhLCAoYyA9IFQodSA9IHMuc3BsaXQoIiIpLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIHJldHVybiBvZihlKSAmJiAwIDwgdCAmJiB0IDwgdS5sZW5ndGggLSAxICYmIEpjKHVbdCAtIDFdKSAmJiBKYyh1W3QgKyAxXSkgPyAiICIgOiBlOwogICAgICB9KS5qb2luKCIiKSkgIT09IHMgJiYgKGEuZGF0YSA9IGMsIDEpKSA6IChpLmRhdGEgPSAiICIgKyBkLnNsaWNlKDEpLCAxKSkgfHwgKHQgPSBnLCByID0gKG4gPSBsKS5kYXRhLCBvID0gYXMobiwgci5sZW5ndGggLSAxKSwgQm0ociwgci5sZW5ndGggLSAxKSAmJiAhT20odCwgbykgJiYgKG4uZGF0YSA9IHIuc2xpY2UoMCwgLTEpICsgIiAiLCAxKSkgPyB2ZS5zb21lKGUpIDogdmUubm9uZSgpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBJbSh0KSB7CiAgICB2YXIgZSA9IE50LmZyb21Eb20odC5nZXRCb2R5KCkpOwogICAgdC5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSAmJiBMbShlLCBhcy5mcm9tUmFuZ2VTdGFydCh0LnNlbGVjdGlvbi5nZXRSbmcoKSkpLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgdC5zZWxlY3Rpb24uc2V0Um5nKGUudG9SYW5nZSgpKTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gTW0oZSwgdCwgbikgewogICAgdmFyIHIsIG8sIGksIGEsIHUsIHMsIGMsIGw7CiAgICAwICE9PSBuICYmIChvID0gZ3IociA9IE50LmZyb21Eb20oZSksIGxvKS5nZXRPcihyKSwgaSA9IGUuZGF0YS5zbGljZSh0LCB0ICsgbiksIGEgPSB0ICsgbiA+PSBlLmRhdGEubGVuZ3RoICYmIFRtKG8sIGFzKGUsIGUuZGF0YS5sZW5ndGgpKSwgdSA9IDAgPT09IHQgJiYgRG0obywgYXMoZSwgMCkpLCBlLnJlcGxhY2VEYXRhKHQsIG4sIChjID0gdSwgbCA9IGEsIEwocyA9IGksIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHJldHVybiBHYyh0KSB8fCBvZih0KSA/IGUucHJldmlvdXNDaGFySXNTcGFjZSB8fCAiIiA9PT0gZS5zdHIgJiYgYyB8fCBlLnN0ci5sZW5ndGggPT09IHMubGVuZ3RoIC0gMSAmJiBsID8gewogICAgICAgIHByZXZpb3VzQ2hhcklzU3BhY2U6ICExLAogICAgICAgIHN0cjogZS5zdHIgKyB5bwogICAgICB9IDogewogICAgICAgIHByZXZpb3VzQ2hhcklzU3BhY2U6ICEwLAogICAgICAgIHN0cjogZS5zdHIgKyAiICIKICAgICAgfSA6IHsKICAgICAgICBwcmV2aW91c0NoYXJJc1NwYWNlOiAhMSwKICAgICAgICBzdHI6IGUuc3RyICsgdAogICAgICB9OwogICAgfSwgewogICAgICBwcmV2aW91c0NoYXJJc1NwYWNlOiAhMSwKICAgICAgc3RyOiAiIgogICAgfSkuc3RyKSkpOwogIH0KCiAgZnVuY3Rpb24gRm0oZSwgdCkgewogICAgdmFyIG4gPSBlLmRhdGEuc2xpY2UodCk7CiAgICBNbShlLCB0LCBuLmxlbmd0aCAtIFFlKG4pLmxlbmd0aCk7CiAgfQoKICBmdW5jdGlvbiBVbShlLCB0KSB7CiAgICB2YXIgbiA9IGUuZGF0YS5zbGljZSgwLCB0KSwKICAgICAgICByID0gbi5sZW5ndGggLSBaZShuKS5sZW5ndGg7CiAgICBNbShlLCB0IC0gciwgcik7CiAgfQoKICBmdW5jdGlvbiB6bShlLCB0LCBuLCByKSB7CiAgICB2b2lkIDAgPT09IHIgJiYgKHIgPSAhMCk7CiAgICB2YXIgbyA9IFplKGUuZGF0YSkubGVuZ3RoLAogICAgICAgIGkgPSByID8gZSA6IHQsCiAgICAgICAgYSA9IHIgPyB0IDogZTsKICAgIHJldHVybiByID8gaS5hcHBlbmREYXRhKGEuZGF0YSkgOiBpLmluc2VydERhdGEoMCwgYS5kYXRhKSwgTG4oTnQuZnJvbURvbShhKSksIG4gJiYgRm0oaSwgbyksIGk7CiAgfQoKICBmdW5jdGlvbiBIbShlLCB0KSB7CiAgICByZXR1cm4gciA9IGUsIG8gPSAobiA9IHQpLmNvbnRhaW5lcigpLCBpID0gbi5vZmZzZXQoKSwgITEgPT09IGFzLmlzVGV4dFBvc2l0aW9uKG4pICYmIG8gPT09IHIucGFyZW50Tm9kZSAmJiBpID4gYXMuYmVmb3JlKHIpLm9mZnNldCgpID8gYXModC5jb250YWluZXIoKSwgdC5vZmZzZXQoKSAtIDEpIDogdDsKICAgIHZhciBuLCByLCBvLCBpOwogIH0KCiAgZnVuY3Rpb24gam0oZSkgewogICAgcmV0dXJuIGpyKGUucHJldmlvdXNTaWJsaW5nKSA/IHZlLnNvbWUoKHQgPSBlLnByZXZpb3VzU2libGluZywgam4odCkgPyBhcyh0LCB0LmRhdGEubGVuZ3RoKSA6IGFzLmFmdGVyKHQpKSkgOiBlLnByZXZpb3VzU2libGluZyA/IHRmKGUucHJldmlvdXNTaWJsaW5nKSA6IHZlLm5vbmUoKTsKICAgIHZhciB0OwogIH0KCiAgZnVuY3Rpb24gVm0oZSkgewogICAgcmV0dXJuIGpyKGUubmV4dFNpYmxpbmcpID8gdmUuc29tZSgodCA9IGUubmV4dFNpYmxpbmcsIGpuKHQpID8gYXModCwgMCkgOiBhcy5iZWZvcmUodCkpKSA6IGUubmV4dFNpYmxpbmcgPyBlZihlLm5leHRTaWJsaW5nKSA6IHZlLm5vbmUoKTsKICAgIHZhciB0OwogIH0KCiAgZnVuY3Rpb24gcW0ociwgbykgewogICAgcmV0dXJuIGptKG8pLm9yVGh1bmsoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gVm0obyk7CiAgICB9KS5vclRodW5rKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGUgPSByLCBuID0gYXMuYmVmb3JlKCh0ID0gbykucHJldmlvdXNTaWJsaW5nIHx8IHQucGFyZW50Tm9kZSksIFpsKGUsIG4pLmZvbGQoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBRbChlLCBhcy5hZnRlcih0KSk7CiAgICAgIH0sIHZlLnNvbWUpOwogICAgICB2YXIgZSwgdCwgbjsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gJG0obiwgcikgewogICAgcmV0dXJuIFZtKHIpLm9yVGh1bmsoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gam0ocik7CiAgICB9KS5vclRodW5rKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFFsKGUgPSBuLCBhcy5hZnRlcih0ID0gcikpLmZvbGQoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBabChlLCBhcy5iZWZvcmUodCkpOwogICAgICB9LCB2ZS5zb21lKTsKICAgICAgdmFyIGUsIHQ7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIFdtKHQsIG4sIGUpIHsKICAgIGUuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgIHQuZm9jdXMoKTsKICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgIHQuc2VsZWN0aW9uLnNldFJuZyhlLnRvUmFuZ2UoKSwgbik7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIEttKGUsIHQpIHsKICAgIHJldHVybiB0ICYmIE5lKGUuc2NoZW1hLmdldEJsb2NrRWxlbWVudHMoKSwga3QodCkpOwogIH0KCiAgZnVuY3Rpb24gWG0oZSkgewogICAgaWYgKFdyKGUpKSB7CiAgICAgIHZhciB0ID0gTnQuZnJvbUh0bWwoJzxiciBkYXRhLW1jZS1ib2d1cz0iMSI+Jyk7CiAgICAgIHJldHVybiBYdChlKSwgUG4oZSwgdCksIHZlLnNvbWUoYXMuYmVmb3JlKHQuZG9tKSk7CiAgICB9CgogICAgcmV0dXJuIHZlLm5vbmUoKTsKICB9CgogIGZ1bmN0aW9uIFltKHQsIG4sIGUsIHIpIHsKICAgIHZvaWQgMCA9PT0gciAmJiAociA9ICEwKTsKICAgIHZhciBvLAogICAgICAgIGksCiAgICAgICAgYSwKICAgICAgICB1LAogICAgICAgIHMsCiAgICAgICAgYywKICAgICAgICBsLAogICAgICAgIGYsCiAgICAgICAgZCwKICAgICAgICBtLAogICAgICAgIGcsCiAgICAgICAgcCwKICAgICAgICBoLAogICAgICAgIHYsCiAgICAgICAgYiA9IChwID0gbiwgaCA9IHQuZ2V0Qm9keSgpLCB2ID0gZS5kb20sIChwID8gJG0gOiBxbSkoaCwgdikubWFwKEEoSG0sIHYpKSksCiAgICAgICAgeSA9IGdyKGUsIEEoS20sIHQpLCAobyA9IHQuZ2V0Qm9keSgpLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gZS5kb20gPT09IG87CiAgICB9KSksCiAgICAgICAgQyA9ICh1ID0gYiwgaSA9IGEgPSBlLCBzID0gTmUodC5zY2hlbWEuZ2V0VGV4dElubGluZUVsZW1lbnRzKCksIGt0KGkpKSwgbSA9IEJ0KGEpLmZpbHRlcihfbiksIGcgPSBQdChhKS5maWx0ZXIoX24pLCBMbihhKSwgbCA9IGcsIGYgPSB1LCBkID0gZnVuY3Rpb24gZChlLCB0LCBuKSB7CiAgICAgIHZhciByID0gZS5kb20sCiAgICAgICAgICBvID0gdC5kb20sCiAgICAgICAgICBpID0gci5kYXRhLmxlbmd0aDsKICAgICAgcmV0dXJuIHptKHIsIG8sIHMpLCBuLmNvbnRhaW5lcigpID09PSBvID8gYXMociwgaSkgOiBuOwogICAgfSwgKChjID0gbSkuaXNTb21lKCkgJiYgbC5pc1NvbWUoKSAmJiBmLmlzU29tZSgpID8gdmUuc29tZShkKGMuZ2V0T3JEaWUoKSwgbC5nZXRPckRpZSgpLCBmLmdldE9yRGllKCkpKSA6IHZlLm5vbmUoKSkub3JUaHVuayhmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBzICYmIChtLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gVW0oZS5kb20sIGUuZG9tLmxlbmd0aCk7CiAgICAgIH0pLCBnLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gRm0oZS5kb20sIDApOwogICAgICB9KSksIHU7CiAgICB9KSk7CiAgICB0LmRvbS5pc0VtcHR5KHQuZ2V0Qm9keSgpKSA/ICh0LnNldENvbnRlbnQoIiIpLCB0LnNlbGVjdGlvbi5zZXRDdXJzb3JMb2NhdGlvbigpKSA6IHkuYmluZChYbSkuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgIHIgJiYgV20odCwgbiwgQyk7CiAgICB9LCBmdW5jdGlvbiAoZSkgewogICAgICByICYmIFdtKHQsIG4sIHZlLnNvbWUoZSkpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBHbShlKSB7CiAgICByZXR1cm4gaHUoZSwgInRkLHRoIik7CiAgfQoKICBmdW5jdGlvbiBKbShlLCB0KSB7CiAgICByZXR1cm4gewogICAgICBzdGFydDogZSwKICAgICAgZW5kOiB0CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gUW0oZSwgdCkgewogICAgcmV0dXJuIGJyKE50LmZyb21Eb20oZSksICJ0ZCx0aCIsIHQpOwogIH0KCiAgZnVuY3Rpb24gWm0oZSkgewogICAgcmV0dXJuICFqZShlLnN0YXJ0LCBlLmVuZCk7CiAgfQoKICBmdW5jdGlvbiBlZyhlLCBuKSB7CiAgICByZXR1cm4gQWwoZS5zdGFydCwgbikuYmluZChmdW5jdGlvbiAodCkgewogICAgICByZXR1cm4gQWwoZS5lbmQsIG4pLmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gamUodCwgZSkgPyB2ZS5zb21lKHQpIDogdmUubm9uZSgpOwogICAgICB9KTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gdGcoZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7CiAgICAgIHJldHVybiBlZyh0LCBlKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgcm5nOiB0LAogICAgICAgICAgdGFibGU6IGUsCiAgICAgICAgICBjZWxsczogR20oZSkKICAgICAgICB9OwogICAgICB9KTsKICAgIH07CiAgfQoKICBmdW5jdGlvbiBuZyhlLCB0LCBuLCByKSB7CiAgICBpZiAobi5jb2xsYXBzZWQgfHwgIWUuZm9yYWxsKFptKSkgcmV0dXJuIHZlLm5vbmUoKTsKCiAgICBpZiAodC5pc1NhbWVUYWJsZSkgewogICAgICB2YXIgbyA9IGUuYmluZCh0ZyhyKSk7CiAgICAgIHJldHVybiB2ZS5zb21lKHsKICAgICAgICBzdGFydDogbywKICAgICAgICBlbmQ6IG8KICAgICAgfSk7CiAgICB9CgogICAgdmFyIGksCiAgICAgICAgYSwKICAgICAgICB1ID0gUW0obi5zdGFydENvbnRhaW5lciwgciksCiAgICAgICAgcyA9IFFtKG4uZW5kQ29udGFpbmVyLCByKSwKICAgICAgICBjID0gdS5iaW5kKChhID0gciwgZnVuY3Rpb24gKHQpIHsKICAgICAgcmV0dXJuIEFsKHQsIGEpLmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gWihHbShlKSkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gSm0odCwgZSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSkpLmJpbmQodGcocikpLAogICAgICAgIGwgPSBzLmJpbmQoKGkgPSByLCBmdW5jdGlvbiAodCkgewogICAgICByZXR1cm4gQWwodCwgaSkuYmluZChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBRKEdtKGUpKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBKbShlLCB0KTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9KSkuYmluZCh0ZyhyKSk7CiAgICByZXR1cm4gdmUuc29tZSh7CiAgICAgIHN0YXJ0OiBjLAogICAgICBlbmQ6IGwKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gcmcoZSwgdCkgewogICAgcmV0dXJuIHooZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGplKGUsIHQpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBvZyhuKSB7CiAgICByZXR1cm4gZG4ocmcobi5jZWxscywgbi5ybmcuc3RhcnQpLCByZyhuLmNlbGxzLCBuLnJuZy5lbmQpLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICByZXR1cm4gbi5jZWxscy5zbGljZShlLCB0ICsgMSk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIGlnKGUsIHQpIHsKICAgIHZhciBuID0gdC5zdGFydFRhYmxlLAogICAgICAgIHIgPSB0LmVuZFRhYmxlLAogICAgICAgIG8gPSBlLmNsb25lUmFuZ2UoKTsKICAgIHJldHVybiBuLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIG8uc2V0U3RhcnRBZnRlcihlLmRvbSk7CiAgICB9KSwgci5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBvLnNldEVuZEJlZm9yZShlLmRvbSk7CiAgICB9KSwgbzsKICB9CgogIGZ1bmN0aW9uIGFnKGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIsCiAgICAgICAgbywKICAgICAgICBpLAogICAgICAgIGEsCiAgICAgICAgdSwKICAgICAgICBzLAogICAgICAgIGMsCiAgICAgICAgbCwKICAgICAgICBmLAogICAgICAgIGQsCiAgICAgICAgbSwKICAgICAgICBnLAogICAgICAgIHAsCiAgICAgICAgaCwKICAgICAgICB2LAogICAgICAgIGIgPSAobiA9IGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBqZShuLCBlKTsKICAgIH0pLAogICAgICAgIHkgPSBkbihRbSgociA9IHQpLnN0YXJ0Q29udGFpbmVyLCBvID0gYiksIFFtKHIuZW5kQ29udGFpbmVyLCBvKSwgSm0pLAogICAgICAgIEMgPSAobCA9IGIsIGYgPSB4KChjID0gdCkuc3RhcnRDb250YWluZXIpLCBkID0geChjLmVuZENvbnRhaW5lciksIG0gPSBmLmlzU29tZSgpLCBnID0gZC5pc1NvbWUoKSwgcCA9IGRuKGYsIGQsIGplKS5nZXRPcighMSksIHsKICAgICAgc3RhcnRUYWJsZTogZiwKICAgICAgZW5kVGFibGU6IGQsCiAgICAgIGlzU3RhcnRJblRhYmxlOiBtLAogICAgICBpc0VuZEluVGFibGU6IGcsCiAgICAgIGlzU2FtZVRhYmxlOiBwLAogICAgICBpc011bHRpVGFibGU6ICFwICYmIG0gJiYgZwogICAgfSk7CgogICAgZnVuY3Rpb24geChlKSB7CiAgICAgIHJldHVybiBBbChOdC5mcm9tRG9tKGUpLCBsKTsKICAgIH0KCiAgICByZXR1cm4gaCA9IHQsIHYgPSBiLCB5LmV4aXN0cyhmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gIVptKHQgPSBlKSAmJiBlZyh0LCB2KS5leGlzdHMoZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgdCA9IGUuZG9tLnJvd3M7CiAgICAgICAgcmV0dXJuIDEgPT09IHQubGVuZ3RoICYmIDEgPT09IHRbMF0uY2VsbHMubGVuZ3RoOwogICAgICB9KSAmJiBSbChlLnN0YXJ0LCBoKTsKICAgICAgdmFyIHQ7CiAgICB9KSA/IHkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBzcC5zaW5nbGVDZWxsVGFibGUodCwgZS5zdGFydCk7CiAgICB9KSA6IEMuaXNNdWx0aVRhYmxlID8gbmcoeSwgdSA9IEMsIHMgPSB0LCBiKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gZS5zdGFydCwKICAgICAgICAgIG4gPSBlLmVuZCwKICAgICAgICAgIHIgPSB0LmJpbmQob2cpLmdldE9yKFtdKSwKICAgICAgICAgIG8gPSBuLmJpbmQob2cpLmdldE9yKFtdKTsKCiAgICAgIGlmICgwIDwgci5sZW5ndGggJiYgMCA8IG8ubGVuZ3RoKSB7CiAgICAgICAgdmFyIGkgPSBpZyhzLCB1KTsKICAgICAgICByZXR1cm4gdmUuc29tZShzcC5tdWx0aVRhYmxlKHIsIG8sIGkpKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHZlLm5vbmUoKTsKICAgIH0pIDogbmcoeSwgaSA9IEMsIGEgPSB0LCBiKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gZS5zdGFydCwKICAgICAgICAgIG4gPSBlLmVuZDsKICAgICAgcmV0dXJuIHQub3Iobik7CiAgICB9KS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gaS5pc1NhbWVUYWJsZSwKICAgICAgICAgIG4gPSBvZyhlKS5nZXRPcihbXSk7CiAgICAgIGlmICh0ICYmIGUuY2VsbHMubGVuZ3RoID09PSBuLmxlbmd0aCkgcmV0dXJuIHZlLnNvbWUoc3AuZnVsbFRhYmxlKGUudGFibGUpKTsKCiAgICAgIGlmICgwIDwgbi5sZW5ndGgpIHsKICAgICAgICBpZiAodCkgcmV0dXJuIHZlLnNvbWUoc3AucGFydGlhbFRhYmxlKG4sIHZlLm5vbmUoKSkpOwogICAgICAgIHZhciByID0gaWcoYSwgaSk7CiAgICAgICAgcmV0dXJuIHZlLnNvbWUoc3AucGFydGlhbFRhYmxlKG4sIHZlLnNvbWUoX2UyKF9lMih7fSwgaSksIHsKICAgICAgICAgIHJuZzogcgogICAgICAgIH0pKSkpOwogICAgICB9CgogICAgICByZXR1cm4gdmUubm9uZSgpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiB1ZyhlKSB7CiAgICByZXR1cm4gWShlLCBmdW5jdGlvbiAoZSkgewogICAgICB5bihlLCAiY29udGVudGVkaXRhYmxlIiksIG1tKGUpOwogICAgfSksIDA7CiAgfQoKICBmdW5jdGlvbiBzZyhlLCB0LCBuLCByKSB7CiAgICB2YXIgbyA9IG4uY2xvbmVSYW5nZSgpOwogICAgciA/IChvLnNldFN0YXJ0KG4uc3RhcnRDb250YWluZXIsIG4uc3RhcnRPZmZzZXQpLCBvLnNldEVuZEFmdGVyKHQuZG9tLmxhc3RDaGlsZCkpIDogKG8uc2V0U3RhcnRCZWZvcmUodC5kb20uZmlyc3RDaGlsZCksIG8uc2V0RW5kKG4uZW5kQ29udGFpbmVyLCBuLmVuZE9mZnNldCkpLCBscChlLCBvLCB0LCAhMSk7CiAgfQoKICBmdW5jdGlvbiBjZyhlKSB7CiAgICB2YXIgdCA9IF9sKGUpLAogICAgICAgIG4gPSBOdC5mcm9tRG9tKGUuc2VsZWN0aW9uLmdldE5vZGUoKSk7CgogICAgR24obi5kb20pICYmIFdyKG4pID8gZS5zZWxlY3Rpb24uc2V0Q3Vyc29yTG9jYXRpb24obi5kb20sIDApIDogZS5zZWxlY3Rpb24uY29sbGFwc2UoITApLCAxIDwgdC5sZW5ndGggJiYgRih0LCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gamUoZSwgbik7CiAgICB9KSAmJiBwbihuLCAiZGF0YS1tY2Utc2VsZWN0ZWQiLCAiMSIpOwogIH0KCiAgZnVuY3Rpb24gbGcocywgYywgZSkgewogICAgdmFyIGwgPSBzLnNlbGVjdGlvbi5nZXRSbmcoKTsKICAgIHJldHVybiB1ZyhlLmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQsCiAgICAgICAgICBuLAogICAgICAgICAgciwKICAgICAgICAgIG8gPSBlLnJuZywKICAgICAgICAgIGkgPSBlLmlzU3RhcnRJblRhYmxlLAogICAgICAgICAgYSA9ICh0ID0gaSA/IG8uZW5kQ29udGFpbmVyIDogby5zdGFydENvbnRhaW5lciwgdmUuZnJvbShzLmRvbS5nZXRQYXJlbnQodCwgcy5kb20uaXNCbG9jaykpLm1hcChOdC5mcm9tRG9tKSk7CiAgICAgIG8uZGVsZXRlQ29udGVudHMoKSwgbiA9IHMsIHIgPSBpLCBhLmZpbHRlcihXcikuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgIHIgPyBMbihlKSA6IChtbShlKSwgbi5zZWxlY3Rpb24uc2V0Q3Vyc29yTG9jYXRpb24oZS5kb20sIDApKTsKICAgICAgfSk7CiAgICAgIHZhciB1ID0gaSA/IGNbMF0gOiBjW2MubGVuZ3RoIC0gMV07CiAgICAgIHJldHVybiBzZyhzLCB1LCBsLCBpKSwgV3IodSkgPyB2ZS5ub25lKCkgOiB2ZS5zb21lKGkgPyBjLnNsaWNlKDEpIDogYy5zbGljZSgwLCAtMSkpOwogICAgfSkuZ2V0T3IoYykpLCBjZyhzKSwgITA7CiAgfQoKICBmdW5jdGlvbiBmZyhlLCB0LCBuLCByKSB7CiAgICB2YXIgbyA9IGUuc2VsZWN0aW9uLmdldFJuZygpLAogICAgICAgIGkgPSB0WzBdLAogICAgICAgIGEgPSBuW24ubGVuZ3RoIC0gMV07CiAgICBzZyhlLCBpLCBvLCAhMCksIHNnKGUsIGEsIG8sICExKTsKICAgIHZhciB1ID0gV3IoaSkgPyB0IDogdC5zbGljZSgxKSwKICAgICAgICBzID0gV3IoYSkgPyBuIDogbi5zbGljZSgwLCAtMSk7CiAgICByZXR1cm4gdWcodS5jb25jYXQocykpLCByLmRlbGV0ZUNvbnRlbnRzKCksIGNnKGUpLCAhMDsKICB9CgogIGZ1bmN0aW9uIGRnKGUsIHQpIHsKICAgIHJldHVybiBZbShlLCAhMSwgdCksICEwOwogIH0KCiAgZnVuY3Rpb24gbWcoZSwgdCkgewogICAgcmV0dXJuIE0oaG0odCwgZSksIGhvKTsKICB9CgogIGZ1bmN0aW9uIGdnKGUsIHQpIHsKICAgIHJldHVybiAoZSA/IFFnIDogWmcpKHQpOwogIH0KCiAgZnVuY3Rpb24gcGcoZiwgZCwgcykgewogICAgdmFyIG0gPSBOdC5mcm9tRG9tKGYuZ2V0Qm9keSgpKTsKICAgIHJldHVybiBmcChtLCBzKS5mb2xkKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIG8gPSBmLCBpID0gZCwgYSA9IG0sIGUgPSBzLCB1ID0gYXMuZnJvbVJhbmdlU3RhcnQoby5zZWxlY3Rpb24uZ2V0Um5nKCkpLCBtZyhhLCBlKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIFdyKGUpID8gZHAobywgZSkgOiAodCA9IGEsIG4gPSBlLCByID0gdSwgRmMoaSwgby5nZXRCb2R5KCksIHIpLmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBtZyh0LCBOdC5mcm9tRG9tKGUuZ2V0Tm9kZSgpKSkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJldHVybiAhMSA9PT0gamUoZSwgbik7CiAgICAgICAgICB9KTsKICAgICAgICB9KSk7CiAgICAgICAgdmFyIHQsIG4sIHI7CiAgICAgIH0pLmdldE9yKCExKSB8fCAobiA9IGQsIHIgPSBhcy5mcm9tUmFuZ2VTdGFydCgodCA9IGYpLnNlbGVjdGlvbi5nZXRSbmcoKSksIGdnKG4sIHIpIHx8IEdsKG4sIHQuZ2V0Qm9keSgpLCByKS5leGlzdHMoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZ2cobiwgZSk7CiAgICAgIH0pKTsKICAgICAgdmFyIG8sIGksIGEsIGUsIHUsIHQsIG4sIHI7CiAgICB9LCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gbiA9IGQsIHIgPSBtLCBvID0gZSwgaSA9IGFzLmZyb21SYW5nZVN0YXJ0KCh0ID0gZikuc2VsZWN0aW9uLmdldFJuZygpKSwgKFdyKG8pID8gZHAodCwgbykgOiAodSA9IHIsIGMgPSBvLCBsID0gaSwgRmMocyA9IG4sIChhID0gdCkuZ2V0Qm9keSgpLCBsKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIHIgPSBzLCBvID0gbCwgaSA9IGUsIGVmKChuID0gYykuZG9tKS5iaW5kKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICByZXR1cm4gdGYobi5kb20pLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICByZXR1cm4gciA/IG8uaXNFcXVhbCh0KSAmJiBpLmlzRXF1YWwoZSkgOiBvLmlzRXF1YWwoZSkgJiYgaS5pc0VxdWFsKHQpOwogICAgICAgICAgfSk7CiAgICAgICAgfSkuZ2V0T3IoITApID8gZHAoYSwgYykgOiAodCA9IGMsIGZwKHUsIE50LmZyb21Eb20oZS5nZXROb2RlKCkpKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiAhMSA9PT0gamUoZSwgdCk7CiAgICAgICAgfSkpOwogICAgICAgIHZhciB0LCBuLCByLCBvLCBpOwogICAgICB9KS5vcih2ZS5zb21lKCEwKSkpKS5nZXRPcighMSk7CiAgICAgIHZhciBhLCB1LCBzLCBjLCBsLCB0LCBuLCByLCBvLCBpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBoZyhlLCB0KSB7CiAgICB2YXIgbiwKICAgICAgICByLAogICAgICAgIG8sCiAgICAgICAgaSwKICAgICAgICBhLAogICAgICAgIHUsCiAgICAgICAgcywKICAgICAgICBjLAogICAgICAgIGwgPSBOdC5mcm9tRG9tKGUuc2VsZWN0aW9uLmdldFN0YXJ0KCEwKSksCiAgICAgICAgZiA9IF9sKGUpOwoKICAgIHJldHVybiBlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpICYmIDAgPT09IGYubGVuZ3RoID8gcGcoZSwgdCwgbCkgOiAociA9IGwsIG8gPSBmLCBpID0gTnQuZnJvbURvbSgobiA9IGUpLmdldEJvZHkoKSksIGEgPSBuLnNlbGVjdGlvbi5nZXRSbmcoKSwgMCAhPT0gby5sZW5ndGggPyBsZyhuLCBvLCB2ZS5ub25lKCkpIDogKHUgPSBuLCBjID0gYSwgZnAocyA9IGksIHIpLmZvbGQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdCA9IHUsIGFnKHMsIGMpLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlLmZvbGQoQShscCwgdCksIEEoZGcsIHQpLCBBKGxnLCB0KSwgQShmZywgdCkpOwogICAgICB9KTsKICAgICAgdmFyIHQ7CiAgICB9LCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gZHAodSwgZSk7CiAgICB9KS5nZXRPcighMSkpKTsKICB9CgogIGZ1bmN0aW9uIHZnKGUpIHsKICAgIHJldHVybiBlLmNvbGxhcHNlZCA/IGUgOiAoYSA9IGUsIHUgPSBhcy5mcm9tUmFuZ2VTdGFydChhKSwgcyA9IGFzLmZyb21SYW5nZUVuZChhKSwgYyA9IGEuY29tbW9uQW5jZXN0b3JDb250YWluZXIsIEdsKCExLCBjLCBzKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuICFZcyh1LCBzLCBjKSAmJiBZcyh1LCBlLCBjKSA/ICh0ID0gdS5jb250YWluZXIoKSwgbiA9IHUub2Zmc2V0KCksIHIgPSBlLmNvbnRhaW5lcigpLCBvID0gZS5vZmZzZXQoKSwgKGkgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpKS5zZXRTdGFydCh0LCBuKSwgaS5zZXRFbmQociwgbyksIGkpIDogYTsKICAgICAgdmFyIHQsIG4sIHIsIG8sIGk7CiAgICB9KS5nZXRPcihhKSk7CiAgICB2YXIgYSwgdSwgcywgYzsKICB9CgogIGZ1bmN0aW9uIGJnKGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIsCiAgICAgICAgbywKICAgICAgICBpLAogICAgICAgIGEsCiAgICAgICAgdSA9IHQuZmlyc3RDaGlsZCwKICAgICAgICBzID0gdC5sYXN0Q2hpbGQ7CiAgICByZXR1cm4gdSAmJiAibWV0YSIgPT09IHUubmFtZSAmJiAodSA9IHUubmV4dCksIHIgPSBzID0gcyAmJiAibWNlX21hcmtlciIgPT09IHMuYXR0cigiaWQiKSA/IHMucHJldiA6IHMsIG8gPSAobiA9IGUpLmdldE5vbkVtcHR5RWxlbWVudHMoKSwgciAmJiAoci5pc0VtcHR5KG8pIHx8IChpID0gciwgbi5nZXRCbG9ja0VsZW1lbnRzKClbaS5uYW1lXSAmJiBpLmZpcnN0Q2hpbGQgJiYgaS5maXJzdENoaWxkID09PSBpLmxhc3RDaGlsZCAmJiAoImJyIiA9PT0gKGEgPSBpLmZpcnN0Q2hpbGQpLm5hbWUgfHwgYS52YWx1ZSA9PT0geW8pKSkgJiYgKHMgPSBzLnByZXYpLCB1ICYmIHUgPT09IHMgJiYgKCJ1bCIgPT09IHUubmFtZSB8fCAib2wiID09PSB1Lm5hbWUpOwogIH0KCiAgZnVuY3Rpb24geWcoZSkgewogICAgcmV0dXJuIDAgPCBlLmxlbmd0aCAmJiAoIShyID0gZVtlLmxlbmd0aCAtIDFdKS5maXJzdENoaWxkIHx8ICh0ID0gcikgJiYgdC5maXJzdENoaWxkICYmIHQuZmlyc3RDaGlsZCA9PT0gdC5sYXN0Q2hpbGQgJiYgKChuID0gdC5maXJzdENoaWxkKS5kYXRhID09PSB5byB8fCBXbihuKSkpID8gZS5zbGljZSgwLCAtMSkgOiBlOwogICAgdmFyIHQsIG4sIHI7CiAgfQoKICBmdW5jdGlvbiBDZyhlLCB0KSB7CiAgICB2YXIgbiA9IGUuZ2V0UGFyZW50KHQsIGUuaXNCbG9jayk7CiAgICByZXR1cm4gbiAmJiAiTEkiID09PSBuLm5vZGVOYW1lID8gbiA6IG51bGw7CiAgfQoKICBmdW5jdGlvbiB4ZyhlLCB0KSB7CiAgICB2YXIgbiA9IGFzLmFmdGVyKGUpLAogICAgICAgIHIgPSBQYyh0KS5wcmV2KG4pOwogICAgcmV0dXJuIHIgPyByLnRvUmFuZ2UoKSA6IG51bGw7CiAgfQoKICBmdW5jdGlvbiB3ZyhlLCBvLCBpLCB0KSB7CiAgICBmdW5jdGlvbiBuKGUpIHsKICAgICAgdmFyIHQgPSBhcy5mcm9tUmFuZ2VTdGFydChpKSwKICAgICAgICAgIG4gPSBQYyhvLmdldFJvb3QoKSksCiAgICAgICAgICByID0gMSA9PT0gZSA/IG4ucHJldih0KSA6IG4ubmV4dCh0KTsKICAgICAgcmV0dXJuICFyIHx8IENnKG8sIHIuZ2V0Tm9kZSgpKSAhPT0gUjsKICAgIH0KCiAgICB2YXIgciwKICAgICAgICBhLAogICAgICAgIHUsCiAgICAgICAgcywKICAgICAgICBjLAogICAgICAgIGwsCiAgICAgICAgZiwKICAgICAgICBkLAogICAgICAgIG0sCiAgICAgICAgZywKICAgICAgICBwLAogICAgICAgIGgsCiAgICAgICAgdiwKICAgICAgICBiLAogICAgICAgIHksCiAgICAgICAgQywKICAgICAgICB4LAogICAgICAgIHcsCiAgICAgICAgUywKICAgICAgICBFLAogICAgICAgIE4sCiAgICAgICAgaywKICAgICAgICBfLAogICAgICAgIEEgPSAociA9IG8sIGMgPSBlLnNlcmlhbGl6ZSh0KSwgdSA9IChhID0gci5jcmVhdGVGcmFnbWVudChjKSkuZmlyc3RDaGlsZCwgcyA9IGEubGFzdENoaWxkLCB1ICYmICJNRVRBIiA9PT0gdS5ub2RlTmFtZSAmJiB1LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodSksIHMgJiYgIm1jZV9tYXJrZXIiID09PSBzLmlkICYmIHMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzKSwgYSksCiAgICAgICAgUiA9IENnKG8sIGkuc3RhcnRDb250YWluZXIpLAogICAgICAgIEQgPSB5ZyhVKEEuZmlyc3RDaGlsZC5jaGlsZE5vZGVzLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gIkxJIiA9PT0gZS5ub2RlTmFtZTsKICAgIH0pKSwKICAgICAgICBUID0gby5nZXRSb290KCk7CgogICAgcmV0dXJuIG4oMSkgPyAoUyA9IFQsIF8gPSAodyA9IFIpLnBhcmVudE5vZGUsIEV0LmVhY2goRCwgZnVuY3Rpb24gKGUpIHsKICAgICAgXy5pbnNlcnRCZWZvcmUoZSwgdyk7CiAgICB9KSwgRSA9IFMsIE4gPSBhcy5iZWZvcmUodyksIChrID0gUGMoRSkubmV4dChOKSkgPyBrLnRvUmFuZ2UoKSA6IG51bGwpIDogbigyKSA/IChsID0gUiwgZCA9IFQsIG8uaW5zZXJ0QWZ0ZXIoKGYgPSBEKS5yZXZlcnNlKCksIGwpLCB4ZyhmWzBdLCBkKSkgOiAoZyA9IEQsIHAgPSBULCBoID0gbSA9IFIsIGIgPSAodiA9IGkpLmNsb25lUmFuZ2UoKSwgeSA9IHYuY2xvbmVSYW5nZSgpLCBiLnNldFN0YXJ0QmVmb3JlKGgpLCB5LnNldEVuZEFmdGVyKGgpLCBDID0gW2IuY2xvbmVDb250ZW50cygpLCB5LmNsb25lQ29udGVudHMoKV0sICh4ID0gbS5wYXJlbnROb2RlKS5pbnNlcnRCZWZvcmUoQ1swXSwgbSksIEV0LmVhY2goZywgZnVuY3Rpb24gKGUpIHsKICAgICAgeC5pbnNlcnRCZWZvcmUoZSwgbSk7CiAgICB9KSwgeC5pbnNlcnRCZWZvcmUoQ1sxXSwgbSksIHgucmVtb3ZlQ2hpbGQobSksIHhnKGdbZy5sZW5ndGggLSAxXSwgcCkpOwogIH0KCiAgZnVuY3Rpb24gU2coZSwgdCwgbikgewogICAgdmFyIHIsCiAgICAgICAgbywKICAgICAgICBpLAogICAgICAgIGEsCiAgICAgICAgdSA9IGUuc2VsZWN0aW9uLAogICAgICAgIHMgPSBlLmRvbTsKICAgIC9eIHwgJC8udGVzdCh0KSAmJiAociA9IHMsIG8gPSB1LmdldFJuZygpLCBpID0gdCwgaSA9IERtKGEgPSBOdC5mcm9tRG9tKHIuZ2V0Um9vdCgpKSwgYXMuZnJvbVJhbmdlU3RhcnQobykpID8gaS5yZXBsYWNlKC9eIC8sICImbmJzcDsiKSA6IGkucmVwbGFjZSgvXiZuYnNwOy8sICIgIiksIHQgPSBpID0gVG0oYSwgYXMuZnJvbVJhbmdlRW5kKG8pKSA/IGkucmVwbGFjZSgvKCZuYnNwO3wgKSg8YnIoIFwvKT4pPyQvLCAiJm5ic3A7IikgOiBpLnJlcGxhY2UoLyZuYnNwOyg8YnIoIFwvKT8+KT8kLywgIiAiKSk7CiAgICB2YXIgYyA9IGUucGFyc2VyLAogICAgICAgIGwgPSBuLm1lcmdlLAogICAgICAgIGYgPSBubSh7CiAgICAgIHZhbGlkYXRlOiBlLmdldFBhcmFtKCJ2YWxpZGF0ZSIpCiAgICB9LCBlLnNjaGVtYSksCiAgICAgICAgZCA9ICc8c3BhbiBpZD0ibWNlX21hcmtlciIgZGF0YS1tY2UtdHlwZT0iYm9va21hcmsiPiYjeEZFRkY7PC9zcGFuPicsCiAgICAgICAgbSA9IGUuZmlyZSgiQmVmb3JlU2V0Q29udGVudCIsIHsKICAgICAgY29udGVudDogdCwKICAgICAgZm9ybWF0OiAiaHRtbCIsCiAgICAgIHNlbGVjdGlvbjogITAsCiAgICAgIHBhc3RlOiBuLnBhc3RlCiAgICB9KTsKICAgIGlmIChtLmlzRGVmYXVsdFByZXZlbnRlZCgpKSBlLmZpcmUoIlNldENvbnRlbnQiLCB7CiAgICAgIGNvbnRlbnQ6IG0uY29udGVudCwKICAgICAgZm9ybWF0OiAiaHRtbCIsCiAgICAgIHNlbGVjdGlvbjogITAsCiAgICAgIHBhc3RlOiBuLnBhc3RlCiAgICB9KTtlbHNlIHsKICAgICAgLTEgPT09ICh0ID0gbS5jb250ZW50KS5pbmRleE9mKCJ7JGNhcmV0fSIpICYmICh0ICs9ICJ7JGNhcmV0fSIpLCB0ID0gdC5yZXBsYWNlKC9ce1wkY2FyZXRcfS8sIGQpOwogICAgICB2YXIgZywKICAgICAgICAgIHAsCiAgICAgICAgICBoID0gKGcgPSB1LmdldFJuZygpKS5zdGFydENvbnRhaW5lciB8fCAoZy5wYXJlbnRFbGVtZW50ID8gZy5wYXJlbnRFbGVtZW50KCkgOiBudWxsKSwKICAgICAgICAgIHYgPSBlLmdldEJvZHkoKTsKICAgICAgaCA9PT0gdiAmJiB1LmlzQ29sbGFwc2VkKCkgJiYgcy5pc0Jsb2NrKHYuZmlyc3RDaGlsZCkgJiYgKHAgPSB2LmZpcnN0Q2hpbGQpICYmICFlLnNjaGVtYS5nZXRTaG9ydEVuZGVkRWxlbWVudHMoKVtwLm5vZGVOYW1lXSAmJiBzLmlzRW1wdHkodi5maXJzdENoaWxkKSAmJiAoKGcgPSBzLmNyZWF0ZVJuZygpKS5zZXRTdGFydCh2LmZpcnN0Q2hpbGQsIDApLCBnLnNldEVuZCh2LmZpcnN0Q2hpbGQsIDApLCB1LnNldFJuZyhnKSksIHUuaXNDb2xsYXBzZWQoKSB8fCBmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciB0ID0gZS5kb20sCiAgICAgICAgICAgIG4gPSB2ZyhlLnNlbGVjdGlvbi5nZXRSbmcoKSk7CiAgICAgICAgZS5zZWxlY3Rpb24uc2V0Um5nKG4pOwogICAgICAgIHZhciByLAogICAgICAgICAgICBvID0gdC5nZXRQYXJlbnQobi5zdGFydENvbnRhaW5lciwgbXApLAogICAgICAgICAgICBpID0gbjsKICAgICAgICBudWxsICE9PSAociA9IG8pICYmIHIgPT09IHQuZ2V0UGFyZW50KGkuZW5kQ29udGFpbmVyLCBtcCkgJiYgUmwoTnQuZnJvbURvbShyKSwgaSkgPyBscChlLCBuLCBOdC5mcm9tRG9tKG8pKSA6IGUuZ2V0RG9jKCkuZXhlY0NvbW1hbmQoIkRlbGV0ZSIsICExLCBudWxsKTsKICAgICAgfShlKTsKCiAgICAgIHZhciBiLAogICAgICAgICAgeSwKICAgICAgICAgIEMsCiAgICAgICAgICB4LAogICAgICAgICAgdywKICAgICAgICAgIFMsCiAgICAgICAgICBFLAogICAgICAgICAgTiwKICAgICAgICAgIGssCiAgICAgICAgICBfLAogICAgICAgICAgQSwKICAgICAgICAgIFIsCiAgICAgICAgICBELAogICAgICAgICAgVCwKICAgICAgICAgIE8gPSB7CiAgICAgICAgY29udGV4dDogKEkgPSB1LmdldE5vZGUoKSkubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwKICAgICAgICBkYXRhOiBuLmRhdGEsCiAgICAgICAgaW5zZXJ0OiAhMAogICAgICB9LAogICAgICAgICAgQiA9IGMucGFyc2UodCwgTyk7CgogICAgICBpZiAoITAgPT09IG4ucGFzdGUgJiYgYmcoZS5zY2hlbWEsIEIpICYmIENnKHMsIEkpKSByZXR1cm4gZyA9IHdnKGYsIHMsIHUuZ2V0Um5nKCksIEIpLCB1LnNldFJuZyhnKSwgdm9pZCBlLmZpcmUoIlNldENvbnRlbnQiLCBtKTsKICAgICAgaWYgKGZ1bmN0aW9uICgpIHsKICAgICAgICBmb3IgKHZhciBlID0gQjsgZSA9IGUud2FsaygpOykgewogICAgICAgICAgMSA9PT0gZS50eXBlICYmIGUuYXR0cigiZGF0YS1tY2UtZnJhZ21lbnQiLCAiMSIpOwogICAgICAgIH0KICAgICAgfSgpLCAibWNlX21hcmtlciIgPT09IChMID0gQi5sYXN0Q2hpbGQpLmF0dHIoImlkIikpIGZvciAodmFyIFAgPSBMLCBMID0gTC5wcmV2OyBMOyBMID0gTC53YWxrKCEwKSkgewogICAgICAgIGlmICgzID09PSBMLnR5cGUgfHwgIXMuaXNCbG9jayhMLm5hbWUpKSB7CiAgICAgICAgICBlLnNjaGVtYS5pc1ZhbGlkQ2hpbGQoTC5wYXJlbnQubmFtZSwgInNwYW4iKSAmJiBMLnBhcmVudC5pbnNlcnQoUCwgTCwgImJyIiA9PT0gTC5uYW1lKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYgKGUuX3NlbGVjdGlvbk92ZXJyaWRlcy5zaG93QmxvY2tDYXJldENvbnRhaW5lcihJKSwgTy5pbnZhbGlkKSB7CiAgICAgICAgZS5zZWxlY3Rpb24uc2V0Q29udGVudChkKTsKICAgICAgICB2YXIgSSA9IHUuZ2V0Tm9kZSgpLAogICAgICAgICAgICBNID0gZS5nZXRCb2R5KCk7CgogICAgICAgIGZvciAoOSA9PT0gSS5ub2RlVHlwZSA/IEkgPSBMID0gTSA6IEwgPSBJOyBMICE9PSBNOykgewogICAgICAgICAgTCA9IChJID0gTCkucGFyZW50Tm9kZTsKICAgICAgICB9CgogICAgICAgIHQgPSBJID09PSBNID8gTS5pbm5lckhUTUwgOiBzLmdldE91dGVySFRNTChJKSwgdCA9IGYuc2VyaWFsaXplKGMucGFyc2UodC5yZXBsYWNlKC88c3BhbiAoaWQ9Im1jZV9tYXJrZXIifGlkPW1jZV9tYXJrZXIpLis/PFwvc3Bhbj4vaSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIGYuc2VyaWFsaXplKEIpOwogICAgICAgIH0pKSksIEkgPT09IE0gPyBzLnNldEhUTUwoTSwgdCkgOiBzLnNldE91dGVySFRNTChJLCB0KTsKICAgICAgfSBlbHNlIGIgPSBlLCB5ID0gdCA9IGYuc2VyaWFsaXplKEIpLCAiYWxsIiA9PT0gKEMgPSBJKS5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIikgPyBDLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGIuZG9tLmNyZWF0ZUZyYWdtZW50KHkpLCBDKSA6ICh4ID0gQy5maXJzdENoaWxkLCB3ID0gQy5sYXN0Q2hpbGQsICF4IHx8IHggPT09IHcgJiYgIkJSIiA9PT0geC5ub2RlTmFtZSA/IGIuZG9tLnNldEhUTUwoQywgeSkgOiBiLnNlbGVjdGlvbi5zZXRDb250ZW50KHkpKTsKCiAgICAgIEUgPSBsLCBfID0gKFMgPSBlKS5zY2hlbWEuZ2V0VGV4dElubGluZUVsZW1lbnRzKCksIEEgPSBTLmRvbSwgRSAmJiAoTiA9IFMuZ2V0Qm9keSgpLCBrID0gZW0oQSksIEV0LmVhY2goQS5zZWxlY3QoIipbZGF0YS1tY2UtZnJhZ21lbnRdIiksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgaWYgKFYoX1tlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKSAmJiBqKHVtKEEsIGUpLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuICFhbS5oYXMoZSk7CiAgICAgICAgfSkpIGZvciAodmFyIHQgPSBlLnBhcmVudE5vZGU7IFYodCkgJiYgdCAhPT0gTiAmJiAhZnVuY3Rpb24gKHIsIG8sIGkpIHsKICAgICAgICAgIGZ1bmN0aW9uIGEoZSkgewogICAgICAgICAgICB2YXIgdCA9IHIuZ2V0U3R5bGUobywgZSksCiAgICAgICAgICAgICAgICBuID0gci5nZXRTdHlsZShpLCBlKTsKICAgICAgICAgICAgcmV0dXJuIEJlKHQpICYmIEJlKG4pICYmIHQgIT09IG47CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIGUgPSB1bShyLCBvKSwKICAgICAgICAgICAgICB1ID0gdW0ociwgaSk7CiAgICAgICAgICByZXR1cm4gRihlLCBmdW5jdGlvbiAodCkgewogICAgICAgICAgICBmdW5jdGlvbiBlKGUpIHsKICAgICAgICAgICAgICByZXR1cm4gRihlLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGUgPT09IHQ7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChlKHUpIHx8ICFlKCRnKSkgcmV0dXJuIGEodCk7CiAgICAgICAgICAgIHZhciBuID0gVSh1LCBmdW5jdGlvbiAodCkgewogICAgICAgICAgICAgIHJldHVybiBGKCRnLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIEdlKHQsIGUpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIEYobiwgYSk7CiAgICAgICAgICB9KTsKICAgICAgICB9KEEsIGUsIHQpOyB0ID0gdC5wYXJlbnROb2RlKSB7CiAgICAgICAgICBpZiAoay5jb21wYXJlKHQsIGUpKSB7CiAgICAgICAgICAgIEEucmVtb3ZlKGUsICEwKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KSksIGZ1bmN0aW9uIChuLCBlKSB7CiAgICAgICAgdmFyIHQsCiAgICAgICAgICAgIHIgPSBuLmRvbSwKICAgICAgICAgICAgbyA9IG4uc2VsZWN0aW9uOwoKICAgICAgICBpZiAoZSkgewogICAgICAgICAgby5zY3JvbGxJbnRvVmlldyhlKTsKICAgICAgICAgIHZhciBpID0gcGYobi5nZXRCb2R5KCksIGUpOwogICAgICAgICAgaWYgKCJmYWxzZSIgPT09IHIuZ2V0Q29udGVudEVkaXRhYmxlKGkpKSByZXR1cm4gci5yZW1vdmUoZSksIG8uc2VsZWN0KGkpOwogICAgICAgICAgdmFyIGEsCiAgICAgICAgICAgICAgdSA9IHIuY3JlYXRlUm5nKCksCiAgICAgICAgICAgICAgcyA9IGUucHJldmlvdXNTaWJsaW5nOwogICAgICAgICAgam4ocykgPyAodS5zZXRTdGFydChzLCBzLm5vZGVWYWx1ZS5sZW5ndGgpLCB4dC5pZSB8fCAoYSA9IGUubmV4dFNpYmxpbmcsIGpuKGEpICYmIChzLmFwcGVuZERhdGEoYS5kYXRhKSwgYS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGEpKSkpIDogKHUuc2V0U3RhcnRCZWZvcmUoZSksIHUuc2V0RW5kQmVmb3JlKGUpKTsKICAgICAgICAgIHZhciBjID0gci5nZXRQYXJlbnQoZSwgci5pc0Jsb2NrKTsKICAgICAgICAgIHIucmVtb3ZlKGUpLCBjICYmIHIuaXNFbXB0eShjKSAmJiAobi4kKGMpLmVtcHR5KCksIHUuc2V0U3RhcnQoYywgMCksIHUuc2V0RW5kKGMsIDApLCBtcChjKSB8fCBjLmdldEF0dHJpYnV0ZSgiZGF0YS1tY2UtZnJhZ21lbnQiKSB8fCAhKHQgPSBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgdCA9IGFzLmZyb21SYW5nZVN0YXJ0KGUpOwogICAgICAgICAgICBpZiAodCA9IFBjKG4uZ2V0Qm9keSgpKS5uZXh0KHQpKSByZXR1cm4gdC50b1JhbmdlKCk7CiAgICAgICAgICB9KHUpKSA/IHIuYWRkKGMsIHIuY3JlYXRlKCJiciIsIHsKICAgICAgICAgICAgImRhdGEtbWNlLWJvZ3VzIjogIjEiCiAgICAgICAgICB9KSkgOiAodSA9IHQsIHIucmVtb3ZlKGMpKSksIG8uc2V0Um5nKHUpOwogICAgICAgIH0KICAgICAgfShlLCBzLmdldCgibWNlX21hcmtlciIpKSwgUiA9IGUuZ2V0Qm9keSgpLCBFdC5lYWNoKFIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBlLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2UtZnJhZ21lbnQiKTsKICAgICAgfSksIEQgPSBzLCBUID0gdS5nZXRTdGFydCgpLCB2ZS5mcm9tKEQuZ2V0UGFyZW50KFQsICJ0ZCx0aCIpKS5tYXAoTnQuZnJvbURvbSkuZWFjaChnbSksIGUuZmlyZSgiU2V0Q29udGVudCIsIG0pLCBlLmFkZFZpc3VhbCgpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gRWcoZSkgewogICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBVZDsKICB9CgogIGZ1bmN0aW9uIE5nKGUsIHQsIG4pIHsKICAgIHZhciByOwogICAgZS5kb20uc2V0SFRNTChlLmdldEJvZHkoKSwgdCksICEwICE9PSBuICYmIHZkKHIgPSBlKSAmJiBlZihyLmdldEJvZHkoKSkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9IGUuZ2V0Tm9kZSgpLAogICAgICAgICAgbiA9IGNuKHQpID8gZWYodCkuZ2V0T3IoZSkgOiBlOwogICAgICByLnNlbGVjdGlvbi5zZXRSbmcobi50b1JhbmdlKCkpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBrZyh1LCBzLCBlKSB7CiAgICB2YXIgdCwKICAgICAgICBuID0gKHQgPSBzLCBfZTIoX2UyKHsKICAgICAgZm9ybWF0OiAiaHRtbCIKICAgIH0sIGUpLCB7CiAgICAgIHNldDogITAsCiAgICAgIGNvbnRlbnQ6IEVnKHQpID8gIiIgOiB0CiAgICB9KSksCiAgICAgICAgYyA9IGUubm9fZXZlbnRzID8gbiA6IHUuZmlyZSgiQmVmb3JlU2V0Q29udGVudCIsIG4pOwogICAgcmV0dXJuIEVnKHMpIHx8IChzID0gYy5jb250ZW50KSwgdmUuZnJvbSh1LmdldEJvZHkoKSkuZm9sZChKKHMpLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gRWcocykgPyBmdW5jdGlvbiAoZSwgdCwgbiwgcikgewogICAgICAgIHZhciBvLCBpLCB1LCBhOwogICAgICAgIG8gPSBlLnBhcnNlci5nZXROb2RlRmlsdGVycygpLCBpID0gZS5wYXJzZXIuZ2V0QXR0cmlidXRlRmlsdGVycygpLCB1ID0gbiwgYSA9IGZ1bmN0aW9uIChlLCBuKSB7CiAgICAgICAgICB2YXIgdCwKICAgICAgICAgICAgICByLAogICAgICAgICAgICAgIG8gPSB7fSwKICAgICAgICAgICAgICBpID0ge30sCiAgICAgICAgICAgICAgYSA9IFtdOwoKICAgICAgICAgIGZvciAodCBpbiB1LmZpcnN0Q2hpbGQgJiYgZ3AodS5maXJzdENoaWxkLCBmdW5jdGlvbiAodCkgewogICAgICAgICAgICBZKGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgZS5uYW1lID09PSB0Lm5hbWUgJiYgKG9bZS5uYW1lXSA/IG9bZS5uYW1lXS5ub2Rlcy5wdXNoKHQpIDogb1tlLm5hbWVdID0gewogICAgICAgICAgICAgICAgZmlsdGVyOiBlLAogICAgICAgICAgICAgICAgbm9kZXM6IFt0XQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KSwgWShuLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICJzdHJpbmciID09IHR5cGVvZiB0LmF0dHIoZS5uYW1lKSAmJiAoaVtlLm5hbWVdID8gaVtlLm5hbWVdLm5vZGVzLnB1c2godCkgOiBpW2UubmFtZV0gPSB7CiAgICAgICAgICAgICAgICBmaWx0ZXI6IGUsCiAgICAgICAgICAgICAgICBub2RlczogW3RdCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSksIG8pIHsKICAgICAgICAgICAgTmUobywgdCkgJiYgYS5wdXNoKG9bdF0pOwogICAgICAgICAgfQoKICAgICAgICAgIGZvciAociBpbiBpKSB7CiAgICAgICAgICAgIE5lKGksIHIpICYmIGEucHVzaChpW3JdKTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gYTsKICAgICAgICB9KG8sIGkpLCBZKGEsIGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICBZKHQuZmlsdGVyLmNhbGxiYWNrcywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgZSh0Lm5vZGVzLCB0LmZpbHRlci5uYW1lLCB7fSk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgICB2YXIgcyA9IG5tKHsKICAgICAgICAgIHZhbGlkYXRlOiBlLnZhbGlkYXRlCiAgICAgICAgfSwgZS5zY2hlbWEpLnNlcmlhbGl6ZShuKTsKICAgICAgICByZXR1cm4gci5jb250ZW50ID0gdm8oTnQuZnJvbURvbSh0KSkgPyBzIDogRXQudHJpbShzKSwgTmcoZSwgci5jb250ZW50LCByLm5vX3NlbGVjdGlvbiksIHIubm9fZXZlbnRzIHx8IGUuZmlyZSgiU2V0Q29udGVudCIsIHIpLCBuOwogICAgICB9KHUsIGUsIHMsIGMpIDogKHQgPSB1LCBuID0gZSwgbyA9IGMsIDAgPT09IChyID0gcykubGVuZ3RoIHx8IC9eXHMrJC8udGVzdChyKSA/IChpID0gJzxiciBkYXRhLW1jZS1ib2d1cz0iMSI+JywgIlRBQkxFIiA9PT0gbi5ub2RlTmFtZSA/IHIgPSAiPHRyPjx0ZD4iICsgaSArICI8L3RkPjwvdHI+IiA6IC9eKFVMfE9MKSQvLnRlc3Qobi5ub2RlTmFtZSkgJiYgKHIgPSAiPGxpPiIgKyBpICsgIjwvbGk+IiksIHIgPSAoYSA9IFNzKHQpKSAmJiB0LnNjaGVtYS5pc1ZhbGlkQ2hpbGQobi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLCBhLnRvTG93ZXJDYXNlKCkpID8gKHIgPSBpLCB0LmRvbS5jcmVhdGVIVE1MKGEsIEVzKHQpLCByKSkgOiByIHx8ICc8YnIgZGF0YS1tY2UtYm9ndXM9IjEiPicsIE5nKHQsIHIsIG8ubm9fc2VsZWN0aW9uKSwgdC5maXJlKCJTZXRDb250ZW50IiwgbykpIDogKCJyYXciICE9PSBvLmZvcm1hdCAmJiAociA9IG5tKHsKICAgICAgICB2YWxpZGF0ZTogdC52YWxpZGF0ZQogICAgICB9LCB0LnNjaGVtYSkuc2VyaWFsaXplKHQucGFyc2VyLnBhcnNlKHIsIHsKICAgICAgICBpc1Jvb3RDb250ZW50OiAhMCwKICAgICAgICBpbnNlcnQ6ICEwCiAgICAgIH0pKSksIG8uY29udGVudCA9IHZvKE50LmZyb21Eb20obikpID8gciA6IEV0LnRyaW0ociksIE5nKHQsIG8uY29udGVudCwgby5ub19zZWxlY3Rpb24pLCBvLm5vX2V2ZW50cyB8fCB0LmZpcmUoIlNldENvbnRlbnQiLCBvKSksIG8uY29udGVudCk7CiAgICAgIHZhciB0LCBuLCByLCBvLCBpLCBhOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBfZyhlKSB7CiAgICByZXR1cm4geShlKSA/IGUgOiBSOwogIH0KCiAgZnVuY3Rpb24gQWcoaSwgZSwgdCkgewogICAgdmFyIG4gPSBlKGkpLAogICAgICAgIGEgPSBfZyh0KTsKCiAgICByZXR1cm4gbi5vclRodW5rKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGEoaSkgPyB2ZS5ub25lKCkgOiBmdW5jdGlvbiAoZSkgewogICAgICAgIGZvciAodmFyIHQgPSBpLmRvbSwgbiA9IF9nKGEpOyB0LnBhcmVudE5vZGU7KSB7CiAgICAgICAgICB2YXIgdCA9IHQucGFyZW50Tm9kZSwKICAgICAgICAgICAgICByID0gTnQuZnJvbURvbSh0KSwKICAgICAgICAgICAgICBvID0gZShyKTsKICAgICAgICAgIGlmIChvLmlzU29tZSgpKSByZXR1cm4gbzsKICAgICAgICAgIGlmIChuKHIpKSBicmVhazsKICAgICAgICB9CgogICAgICAgIHJldHVybiB2ZS5ub25lKCk7CiAgICAgIH0oZSk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIFJnKGUsIHQsIG4pIHsKICAgIHZhciByID0gZS5mb3JtYXR0ZXIuZ2V0KG4pOwogICAgaWYgKHIpIGZvciAodmFyIG8gPSAwOyBvIDwgci5sZW5ndGg7IG8rKykgewogICAgICB2YXIgaSA9IHJbb107CiAgICAgIGlmIChmbChpKSAmJiAhMSA9PT0gaS5pbmhlcml0ICYmIGUuZG9tLmlzKHQsIGkuc2VsZWN0b3IpKSByZXR1cm4gMTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIERnKHQsIGUsIG4sIHIsIG8pIHsKICAgIHZhciBpID0gdC5kb20uZ2V0Um9vdCgpOwogICAgcmV0dXJuIGUgIT09IGkgJiYgKGUgPSB0LmRvbS5nZXRQYXJlbnQoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuICEhUmcodCwgZSwgbikgfHwgZS5wYXJlbnROb2RlID09PSBpIHx8ICEhaHAodCwgZSwgbiwgciwgITApOwogICAgfSksICEhaHAodCwgZSwgbiwgciwgbykpOwogIH0KCiAgZnVuY3Rpb24gVGcoZSwgdCwgbikgewogICAgcmV0dXJuICEhcHAodCwgbi5pbmxpbmUpIHx8ICEhcHAodCwgbi5ibG9jaykgfHwgKG4uc2VsZWN0b3IgPyAxID09PSB0Lm5vZGVUeXBlICYmIGUuaXModCwgbi5zZWxlY3RvcikgOiB2b2lkIDApOwogIH0KCiAgZnVuY3Rpb24gT2coZSwgdCwgbiwgciwgbywgaSkgewogICAgdmFyIGEgPSBuW3JdOwogICAgaWYgKHkobi5vbm1hdGNoKSkgcmV0dXJuIG4ub25tYXRjaCh0LCBuLCByKTsKICAgIGlmIChhKSBpZiAoYihhLmxlbmd0aCkpIHsKICAgICAgZm9yICh2YXIgdSBpbiBhKSB7CiAgICAgICAgaWYgKE5lKGEsIHUpKSB7CiAgICAgICAgICB2YXIgcyA9ICJhdHRyaWJ1dGVzIiA9PT0gciA/IGUuZ2V0QXR0cmliKHQsIHUpIDogYWwoZSwgdCwgdSksCiAgICAgICAgICAgICAgYyA9IHJsKGFbdV0sIGkpLAogICAgICAgICAgICAgIGwgPSBLKHMpIHx8IFBlKHMpOwoKICAgICAgICAgIGlmICghbCB8fCAhSyhjKSkgewogICAgICAgICAgICBpZiAobyAmJiBsICYmICFuLmV4YWN0KSByZXR1cm47CiAgICAgICAgICAgIGlmICgoIW8gfHwgbi5leGFjdCkgJiYgIXBwKHMsIGlsKGUsIGMsIHUpKSkgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIGZvciAodmFyIGYgPSAwOyBmIDwgYS5sZW5ndGg7IGYrKykgewogICAgICBpZiAoImF0dHJpYnV0ZXMiID09PSByID8gZS5nZXRBdHRyaWIodCwgYVtmXSkgOiBhbChlLCB0LCBhW2ZdKSkgcmV0dXJuIDE7CiAgICB9CiAgICByZXR1cm4gMTsKICB9CgogIGZ1bmN0aW9uIEJnKGUsIHQsIG4sIHIsIG8pIHsKICAgIGlmIChyKSByZXR1cm4gRGcoZSwgciwgdCwgbiwgbyk7CiAgICBpZiAociA9IGUuc2VsZWN0aW9uLmdldE5vZGUoKSwgRGcoZSwgciwgdCwgbiwgbykpIHJldHVybiAhMDsKICAgIHZhciBpID0gZS5zZWxlY3Rpb24uZ2V0U3RhcnQoKTsKICAgIHJldHVybiAhKGkgPT09IHIgfHwgIURnKGUsIGksIHQsIG4sIG8pKTsKICB9CgogIGZ1bmN0aW9uIFBnKGUpIHsKICAgIHJldHVybiAwIDwgZnVuY3Rpb24gKGUpIHsKICAgICAgZm9yICh2YXIgdCA9IFtdOyBlOykgewogICAgICAgIGlmICgzID09PSBlLm5vZGVUeXBlICYmIGUubm9kZVZhbHVlICE9PSB2cCB8fCAxIDwgZS5jaGlsZE5vZGVzLmxlbmd0aCkgcmV0dXJuIFtdOwogICAgICAgIDEgPT09IGUubm9kZVR5cGUgJiYgdC5wdXNoKGUpLCBlID0gZS5maXJzdENoaWxkOwogICAgICB9CgogICAgICByZXR1cm4gdDsKICAgIH0oZSkubGVuZ3RoOwogIH0KCiAgZnVuY3Rpb24gTGcoZSkgewogICAgaWYgKGUpIHsKICAgICAgdmFyIHQgPSBuZXcgUnIoZSwgZSk7CgogICAgICBmb3IgKGUgPSB0LmN1cnJlbnQoKTsgZTsgZSA9IHQubmV4dCgpKSB7CiAgICAgICAgaWYgKGpuKGUpKSByZXR1cm4gZTsKICAgICAgfQogICAgfQoKICAgIHJldHVybiBudWxsOwogIH0KCiAgZnVuY3Rpb24gSWcoZSkgewogICAgdmFyIHQgPSBOdC5mcm9tVGFnKCJzcGFuIik7CiAgICByZXR1cm4gaG4odCwgewogICAgICBpZDogYnAsCiAgICAgICJkYXRhLW1jZS1ib2d1cyI6ICIxIiwKICAgICAgImRhdGEtbWNlLXR5cGUiOiAiZm9ybWF0LWNhcmV0IgogICAgfSksIGUgJiYgUG4odCwgTnQuZnJvbVRleHQodnApKSwgdDsKICB9CgogIGZ1bmN0aW9uIE1nKGUsIHQsIG4pIHsKICAgIHZvaWQgMCA9PT0gbiAmJiAobiA9ICEwKTsKICAgIHZhciByLAogICAgICAgIG8sCiAgICAgICAgaSwKICAgICAgICBhLAogICAgICAgIHUsCiAgICAgICAgcywKICAgICAgICBjLAogICAgICAgIGwsCiAgICAgICAgZiA9IGUuZG9tLAogICAgICAgIGQgPSBlLnNlbGVjdGlvbjsKICAgIFBnKHQpID8gWW0oZSwgITEsIE50LmZyb21Eb20odCksIG4pIDogKHIgPSBkLmdldFJuZygpLCBvID0gZi5nZXRQYXJlbnQodCwgZi5pc0Jsb2NrKSwgaSA9IHIuc3RhcnRDb250YWluZXIsIGEgPSByLnN0YXJ0T2Zmc2V0LCB1ID0gci5lbmRDb250YWluZXIsIHMgPSByLmVuZE9mZnNldCwgKGwgPSBMZyh0KSkgJiYgbC5ub2RlVmFsdWUuY2hhckF0KDApID09PSB2cCAmJiBsLmRlbGV0ZURhdGEoMCwgMSksIGMgPSBsLCBmLnJlbW92ZSh0LCAhMCksIGkgPT09IGMgJiYgMCA8IGEgJiYgci5zZXRTdGFydChjLCBhIC0gMSksIHUgPT09IGMgJiYgMCA8IHMgJiYgci5zZXRFbmQoYywgcyAtIDEpLCBvICYmIGYuaXNFbXB0eShvKSAmJiBtbShOdC5mcm9tRG9tKG8pKSwgZC5zZXRSbmcocikpOwogIH0KCiAgZnVuY3Rpb24gRmcoZSwgdCwgbikgewogICAgdm9pZCAwID09PSBuICYmIChuID0gITApOwogICAgdmFyIHIgPSBlLmRvbSwKICAgICAgICBvID0gZS5zZWxlY3Rpb247CiAgICBpZiAodCkgTWcoZSwgdCwgbik7ZWxzZSBpZiAoISh0ID0gSGMoZS5nZXRCb2R5KCksIG8uZ2V0U3RhcnQoKSkpKSBmb3IgKDsgdCA9IHIuZ2V0KGJwKTspIHsKICAgICAgTWcoZSwgdCwgITEpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gVWcoZSwgdCkgewogICAgcmV0dXJuIGUuYXBwZW5kQ2hpbGQodCksIHQ7CiAgfQoKICBmdW5jdGlvbiB6ZyhlLCB0KSB7CiAgICB2YXIgbiA9IFAoZSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgcmV0dXJuIFVnKGUsIHQuY2xvbmVOb2RlKCExKSk7CiAgICB9LCB0KTsKICAgIHJldHVybiBVZyhuLCBuLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodnApKTsKICB9CgogIGZ1bmN0aW9uIEhnKG8sIGUsIHQsIGksIG4sIHIpIHsKICAgIHZhciBhLAogICAgICAgIHUsCiAgICAgICAgcyA9IG8uZm9ybWF0dGVyLAogICAgICAgIGMgPSBvLmRvbSwKICAgICAgICBsID0gVSh3ZShzLmdldCgpKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGUgIT09IGkgJiYgIVRlKGUsICJyZW1vdmVmb3JtYXQiKTsKICAgIH0pOwoKICAgIGlmICgwIDwgVSgoYSA9IG8sIHUgPSB0LCBMKGwsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHZhciBuID0gY2woYSwgdCk7CiAgICAgIHJldHVybiBhLmZvcm1hdHRlci5tYXRjaE5vZGUodSwgdCwge30sIG4pID8gZS5jb25jYXQoW3RdKSA6IGU7CiAgICB9LCBbXSkpLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gbiA9IGksIHIgPSBbImlubGluZSIsICJibG9jayIsICJzZWxlY3RvciIsICJhdHRyaWJ1dGVzIiwgInN0eWxlcyIsICJjbGFzc2VzIl0sICFGKCh0ID0gbykuZm9ybWF0dGVyLmdldChlKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgaSA9IGEoZSk7CiAgICAgICAgcmV0dXJuIEYodC5mb3JtYXR0ZXIuZ2V0KG4pLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgdmFyIHQsCiAgICAgICAgICAgICAgbiA9IGEoZSksCiAgICAgICAgICAgICAgciA9IGksCiAgICAgICAgICAgICAgbyA9IG47CiAgICAgICAgICByZXR1cm4gZCh0ID0gdm9pZCAwID09PSB0ID8gcCA6IHQpLmVxKHIsIG8pOwogICAgICAgIH0pOwogICAgICB9KTsKCiAgICAgIGZ1bmN0aW9uIGEoZSkgewogICAgICAgIHJldHVybiBhZShlLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgICAgcmV0dXJuIEYociwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgcmV0dXJuIGUgPT09IHQ7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQoKICAgICAgdmFyIHQsIG4sIHI7CiAgICB9KS5sZW5ndGgpIHsKICAgICAgdmFyIGYgPSB0LmNsb25lTm9kZSghMSk7CiAgICAgIHJldHVybiBjLmFkZChlLCBmKSwgcy5yZW1vdmUoaSwgbiwgZiwgciksIGMucmVtb3ZlKGYpLCB2ZS5zb21lKGYpOwogICAgfQoKICAgIHJldHVybiB2ZS5ub25lKCk7CiAgfQoKICBmdW5jdGlvbiBqZyhlLCB0LCBuLCByKSB7CiAgICB2YXIgbywKICAgICAgICBpLAogICAgICAgIGEsCiAgICAgICAgdSwKICAgICAgICBzLAogICAgICAgIGMsCiAgICAgICAgbCwKICAgICAgICBmLAogICAgICAgIGQsCiAgICAgICAgbSwKICAgICAgICBnLAogICAgICAgIHAsCiAgICAgICAgaCwKICAgICAgICB2LAogICAgICAgIGIsCiAgICAgICAgeSA9IGUuZG9tLAogICAgICAgIEMgPSBlLnNlbGVjdGlvbiwKICAgICAgICB4ID0gW10sCiAgICAgICAgdyA9IEMuZ2V0Um5nKCksCiAgICAgICAgUyA9IHcuc3RhcnRDb250YWluZXIsCiAgICAgICAgRSA9IHcuc3RhcnRPZmZzZXQsCiAgICAgICAgTiA9IFM7CgogICAgZm9yICgzID09PSBTLm5vZGVUeXBlICYmIChFICE9PSBTLm5vZGVWYWx1ZS5sZW5ndGggJiYgKG8gPSAhMCksIE4gPSBOLnBhcmVudE5vZGUpOyBOOykgewogICAgICBpZiAoaHAoZSwgTiwgdCwgbiwgcikpIHsKICAgICAgICBpID0gTjsKICAgICAgICBicmVhazsKICAgICAgfQoKICAgICAgTi5uZXh0U2libGluZyAmJiAobyA9ICEwKSwgeC5wdXNoKE4pLCBOID0gTi5wYXJlbnROb2RlOwogICAgfQoKICAgIGkgJiYgKG8gPyAoYSA9IEMuZ2V0Qm9va21hcmsoKSwgdy5jb2xsYXBzZSghMCksIHUgPSBUZihTbChlLCB3LCBlLmZvcm1hdHRlci5nZXQodCksICEwKSksIGUuZm9ybWF0dGVyLnJlbW92ZSh0LCBuLCB1LCByKSwgQy5tb3ZlVG9Cb29rbWFyayhhKSkgOiAocyA9IEhjKGUuZ2V0Qm9keSgpLCBpKSwgZCA9IGMgPSBJZyghMSkuZG9tLCAocCA9IChnID0gZS5kb20pLmdldFBhcmVudChtID0gbnVsbCAhPT0gcyA/IHMgOiBpLCBBKHRsLCBlKSkpICYmIGcuaXNFbXB0eShwKSA/IG0ucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZCwgbSkgOiAoaCA9IE50LmZyb21Eb20obSksIHYgPSBodShoLCAiYnIiKSwgYiA9IFUoZnVuY3Rpb24gKCkgewogICAgICBmb3IgKHZhciBlID0gW10sIHQgPSBoLmRvbTsgdDspIHsKICAgICAgICBlLnB1c2goTnQuZnJvbURvbSh0KSksIHQgPSB0Lmxhc3RDaGlsZDsKICAgICAgfQoKICAgICAgcmV0dXJuIGU7CiAgICB9KCkuc2xpY2UoLTEpLCBCciksIHYubGVuZ3RoID09PSBiLmxlbmd0aCAmJiBZKGIsIExuKSwgZy5pc0VtcHR5KG0pID8gbS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChkLCBtKSA6IGcuaW5zZXJ0QWZ0ZXIoZCwgbSkpLCBsID0gSGcoZSwgYywgaSwgdCwgbiwgciksIGYgPSB6Zyh4LmNvbmNhdChsLnRvQXJyYXkoKSksIGMpLCBNZyhlLCBzLCAhMSksIEMuc2V0Q3Vyc29yTG9jYXRpb24oZiwgMSksIHkuaXNFbXB0eShpKSAmJiB5LnJlbW92ZShpKSkpOwogIH0KCiAgZnVuY3Rpb24gVmcoZSwgdCkgewogICAgdmFyIG4gPSBlLnNjaGVtYS5nZXRUZXh0SW5saW5lRWxlbWVudHMoKTsKICAgIHJldHVybiBOZShuLCBrdCh0KSkgJiYgIXpjKHQuZG9tKSAmJiAhc24odC5kb20pOwogIH0KCiAgWShbIm1hcmdpbiIsICJtYXJnaW4tbGVmdCIsICJtYXJnaW4tcmlnaHQiLCAibWFyZ2luLXRvcCIsICJtYXJnaW4tYm90dG9tIiwgInBhZGRpbmciLCAicGFkZGluZy1sZWZ0IiwgInBhZGRpbmctcmlnaHQiLCAicGFkZGluZy10b3AiLCAicGFkZGluZy1ib3R0b20iLCAiYm9yZGVyIiwgImJvcmRlci13aWR0aCIsICJib3JkZXItc3R5bGUiLCAiYm9yZGVyLWNvbG9yIiwgImJhY2tncm91bmQiLCAiYmFja2dyb3VuZC1hdHRhY2htZW50IiwgImJhY2tncm91bmQtY2xpcCIsICJiYWNrZ3JvdW5kLWNvbG9yIiwgImJhY2tncm91bmQtaW1hZ2UiLCAiYmFja2dyb3VuZC1vcmlnaW4iLCAiYmFja2dyb3VuZC1wb3NpdGlvbiIsICJiYWNrZ3JvdW5kLXJlcGVhdCIsICJiYWNrZ3JvdW5kLXNpemUiLCAiZmxvYXQiLCAicG9zaXRpb24iLCAibGVmdCIsICJyaWdodCIsICJ0b3AiLCAiYm90dG9tIiwgInotaW5kZXgiLCAiZGlzcGxheSIsICJ0cmFuc2Zvcm0iLCAid2lkdGgiLCAibWF4LXdpZHRoIiwgIm1pbi13aWR0aCIsICJoZWlnaHQiLCAibWF4LWhlaWdodCIsICJtaW4taGVpZ2h0IiwgIm92ZXJmbG93IiwgIm92ZXJmbG93LXgiLCAib3ZlcmZsb3cteSIsICJ0ZXh0LW92ZXJmbG93IiwgInZlcnRpY2FsLWFsaWduIiwgInRyYW5zaXRpb24iLCAidHJhbnNpdGlvbi1kZWxheSIsICJ0cmFuc2l0aW9uLWR1cmF0aW9uIiwgInRyYW5zaXRpb24tcHJvcGVydHkiLCAidHJhbnNpdGlvbi10aW1pbmctZnVuY3Rpb24iXSwgZnVuY3Rpb24gKGUpIHsKICAgIGFtLmFkZChlKTsKICB9KTsKCiAgdmFyIHFnLAogICAgICAkZyA9IFsiZm9udCIsICJ0ZXh0LWRlY29yYXRpb24iLCAidGV4dC1lbXBoYXNpcyJdLAogICAgICBXZyA9IEEoc20sICEwLCBHYyksCiAgICAgIEtnID0gQShzbSwgITEsIEdjKSwKICAgICAgWGcgPSBsbSghMCwgZm0pLAogICAgICBZZyA9IGxtKCExLCBmbSksCiAgICAgIEdnID0gbG0oITAsIEpuKSwKICAgICAgSmcgPSBsbSghMSwgSm4pLAogICAgICBRZyA9IGxtKCEwLCBjbiksCiAgICAgIFpnID0gbG0oITEsIGNuKSwKICAgICAgZXAgPSBsbSghMCwgZG0pLAogICAgICB0cCA9IGxtKCExLCBkbSksCiAgICAgIG5wID0gQShDbSwgITEpLAogICAgICBycCA9IEEoQ20sICEwKSwKICAgICAgb3AgPSBBKHltLCAhMSksCiAgICAgIGlwID0gQSh5bSwgITApLAogICAgICBhcCA9IEEod20sICExKSwKICAgICAgdXAgPSBBKHdtLCAhMCksCiAgICAgIHNwID0gb3IoW3sKICAgIHNpbmdsZUNlbGxUYWJsZTogWyJybmciLCAiY2VsbCJdCiAgfSwgewogICAgZnVsbFRhYmxlOiBbInRhYmxlIl0KICB9LCB7CiAgICBwYXJ0aWFsVGFibGU6IFsiY2VsbHMiLCAib3V0c2lkZURldGFpbHMiXQogIH0sIHsKICAgIG11bHRpVGFibGU6IFsic3RhcnRUYWJsZUNlbGxzIiwgImVuZFRhYmxlQ2VsbHMiLCAiYmV0d2VlblJuZyJdCiAgfV0pLAogICAgICBjcCA9IGZ1bmN0aW9uIGNwKGUpIHsKICAgIHZhciB0OwogICAgcmV0dXJuICg4ID09PSBfdCh0ID0gZSkgfHwgIiNjb21tZW50IiA9PT0ga3QodCkgPyBCdCA6IFV0KShlKS5iaW5kKGNwKS5vclRodW5rKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHZlLnNvbWUoZSk7CiAgICB9KTsKICB9LAogICAgICBscCA9IGZ1bmN0aW9uIGxwKGUsIHQsIG4sIHIpIHsKICAgIHZvaWQgMCA9PT0gciAmJiAociA9ICEwKSwgdC5kZWxldGVDb250ZW50cygpOwogICAgdmFyIG8sCiAgICAgICAgaSA9IGNwKG4pLmdldE9yKG4pLAogICAgICAgIGEgPSBOdC5mcm9tRG9tKGUuZG9tLmdldFBhcmVudChpLmRvbSwgZS5kb20uaXNCbG9jaykpOwogICAgcmV0dXJuIFdyKGEpICYmIChtbShhKSwgciAmJiBlLnNlbGVjdGlvbi5zZXRDdXJzb3JMb2NhdGlvbihhLmRvbSwgMCkpLCBqZShuLCBhKSB8fCBZKChmbihPdChhKSwgbikgPyBbXSA6IE90KG8gPSBhKS5tYXAoRG4pLm1hcChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gVShlLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiAhamUobywgZSk7CiAgICAgIH0pOwogICAgfSkuZ2V0T3IoW10pKS5jb25jYXQoRG4obikpLCBmdW5jdGlvbiAoZSkgewogICAgICBqZShlLCBhKSB8fCBWZShlLCBhKSB8fCAhV3IoZSkgfHwgTG4oZSk7CiAgICB9KSwgITA7CiAgfSwKICAgICAgZnAgPSBmdW5jdGlvbiBmcChlLCB0KSB7CiAgICByZXR1cm4gTShobSh0LCBlKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGtuKGUpICYmICJjYXB0aW9uIiA9PT0ga3QoZSk7CiAgICB9KTsKICB9LAogICAgICBkcCA9IGZ1bmN0aW9uIGRwKGUsIHQpIHsKICAgIHJldHVybiBtbSh0KSwgZS5zZWxlY3Rpb24uc2V0Q3Vyc29yTG9jYXRpb24odC5kb20sIDApLCB2ZS5zb21lKCEwKTsKICB9LAogICAgICBtcCA9IEduLAogICAgICBncCA9IGZ1bmN0aW9uIGdwKGUsIHQpIHsKICAgIHQoZSksIGUuZmlyc3RDaGlsZCAmJiBncChlLmZpcnN0Q2hpbGQsIHQpLCBlLm5leHQgJiYgZ3AoZS5uZXh0LCB0KTsKICB9LAogICAgICBwcCA9IG9sLAogICAgICBocCA9IGZ1bmN0aW9uIGhwKGUsIHQsIG4sIHIsIG8pIHsKICAgIHZhciBpID0gZS5mb3JtYXR0ZXIuZ2V0KG4pLAogICAgICAgIGEgPSBlLmRvbTsKICAgIGlmIChpICYmIHQpIGZvciAodmFyIHUgPSAwOyB1IDwgaS5sZW5ndGg7IHUrKykgewogICAgICB2YXIgcyA9IGlbdV07CgogICAgICBpZiAoVGcoZS5kb20sIHQsIHMpICYmIE9nKGEsIHQsIHMsICJhdHRyaWJ1dGVzIiwgbywgcikgJiYgT2coYSwgdCwgcywgInN0eWxlcyIsIG8sIHIpKSB7CiAgICAgICAgdmFyIGMgPSBzLmNsYXNzZXM7CiAgICAgICAgaWYgKGMpIGZvciAodmFyIGwgPSAwOyBsIDwgYy5sZW5ndGg7IGwrKykgewogICAgICAgICAgaWYgKCFlLmRvbS5oYXNDbGFzcyh0LCBybChjW2xdLCByKSkpIHJldHVybjsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHM7CiAgICAgIH0KICAgIH0KICB9LAogICAgICB2cCA9IENvLAogICAgICBicCA9ICJfbWNlX2NhcmV0IiwKICAgICAgeXAgPSB7fSwKICAgICAgQ3AgPSBmZSwKICAgICAgeHAgPSBjZTsKCiAgZnVuY3Rpb24gd3AoZSkgewogICAgcmV0dXJuIHpuKGUpICYmICFZYyhlKSAmJiAhemMoZSkgJiYgIXNuKGUpOwogIH0KCiAgZnVuY3Rpb24gU3AoZSwgdCkgewogICAgZm9yICh2YXIgbiA9IGU7IG47IG4gPSBuW3RdKSB7CiAgICAgIGlmIChqbihuKSAmJiBCZShuLmRhdGEpKSByZXR1cm4gZTsKICAgICAgaWYgKHpuKG4pICYmICFZYyhuKSkgcmV0dXJuIG47CiAgICB9CgogICAgcmV0dXJuIGU7CiAgfQoKICBmdW5jdGlvbiBFcChlLCB0LCBuKSB7CiAgICB2YXIgciA9IGVtKGUpOwoKICAgIGlmICh0ICYmIG4gJiYgKHQgPSBTcCh0LCAicHJldmlvdXNTaWJsaW5nIiksIG4gPSBTcChuLCAibmV4dFNpYmxpbmciKSwgci5jb21wYXJlKHQsIG4pKSkgewogICAgICBmb3IgKHZhciBvID0gdC5uZXh0U2libGluZzsgbyAmJiBvICE9PSBuOykgewogICAgICAgIHZhciBpID0gbywKICAgICAgICAgICAgbyA9IG8ubmV4dFNpYmxpbmc7CiAgICAgICAgdC5hcHBlbmRDaGlsZChpKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGUucmVtb3ZlKG4pLCBFdC5lYWNoKEV0LmdyZXAobi5jaGlsZE5vZGVzKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICB0LmFwcGVuZENoaWxkKGUpOwogICAgICB9KSwgdDsKICAgIH0KCiAgICByZXR1cm4gbjsKICB9CgogIGZ1bmN0aW9uIE5wKGUsIHQsIG4sIHIpIHsKICAgIHZhciBvOwogICAgciAmJiAhMSAhPT0gdC5tZXJnZV9zaWJsaW5ncyAmJiAobyA9IEVwKGUsIGVsKHIpLCByKSwgRXAoZSwgbywgZWwobywgITApKSk7CiAgfQoKICBmdW5jdGlvbiBrcCh0LCBuKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuICEoIWUgfHwgIWFsKHQsIGUsIG4pKTsKICAgIH07CiAgfQoKICBmdW5jdGlvbiBfcChyLCBvLCBpKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQsIG47CiAgICAgIHIuc2V0U3R5bGUoZSwgbywgaSksICIiID09PSBlLmdldEF0dHJpYnV0ZSgic3R5bGUiKSAmJiBlLnJlbW92ZUF0dHJpYnV0ZSgic3R5bGUiKSwgdCA9IHIsICJTUEFOIiA9PT0gKG4gPSBlKS5ub2RlTmFtZSAmJiAwID09PSB0LmdldEF0dHJpYnMobikubGVuZ3RoICYmIHQucmVtb3ZlKG4sICEwKTsKICAgIH07CiAgfQoKICBmdW5jdGlvbiBBcChlLCB0LCBuKSB7CiAgICByZXR1cm4gZS5pc0NoaWxkT2YodCwgbikgJiYgdCAhPT0gbiAmJiAhZS5pc0Jsb2NrKG4pOwogIH0KCiAgZnVuY3Rpb24gUnAoZSwgdCwgbikgewogICAgdmFyIHIsCiAgICAgICAgbyA9IHRbbiA/ICJzdGFydENvbnRhaW5lciIgOiAiZW5kQ29udGFpbmVyIl0sCiAgICAgICAgaSA9IHRbbiA/ICJzdGFydE9mZnNldCIgOiAiZW5kT2Zmc2V0Il07CiAgICByZXR1cm4gem4obykgJiYgKHIgPSBvLmNoaWxkTm9kZXMubGVuZ3RoIC0gMSwgIW4gJiYgaSAmJiBpLS0sIG8gPSBvLmNoaWxkTm9kZXNbciA8IGkgPyByIDogaV0pLCBqbihvKSAmJiBuICYmIGkgPj0gby5ub2RlVmFsdWUubGVuZ3RoICYmIChvID0gbmV3IFJyKG8sIGUuZ2V0Qm9keSgpKS5uZXh0KCkgfHwgbyksIGpuKG8pICYmICFuICYmIDAgPT09IGkgJiYgbmV3IFJyKG8sIGUuZ2V0Qm9keSgpKS5wcmV2KCkgfHwgbzsKICB9CgogIGZ1bmN0aW9uIERwKGUsIHQpIHsKICAgIHZhciBuID0gdCA/ICJmaXJzdENoaWxkIiA6ICJsYXN0Q2hpbGQiOwoKICAgIGlmICgvXihUUnxUSHxURCkkLy50ZXN0KGUubm9kZU5hbWUpICYmIGVbbl0pIHsKICAgICAgdmFyIHIgPSBlW25dOwogICAgICByZXR1cm4gIlRSIiA9PT0gZS5ub2RlTmFtZSAmJiByW25dIHx8IHI7CiAgICB9CgogICAgcmV0dXJuIGU7CiAgfQoKICBmdW5jdGlvbiBUcChlLCB0LCBuLCByKSB7CiAgICB2YXIgbyA9IGUuY3JlYXRlKG4sIHIpOwogICAgcmV0dXJuIHQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobywgdCksIG8uYXBwZW5kQ2hpbGQodCksIG87CiAgfQoKICBmdW5jdGlvbiBPcChlLCB0LCBuLCByLCBvKSB7CiAgICB2YXIgaSA9IE50LmZyb21Eb20odCksCiAgICAgICAgYSA9IE50LmZyb21Eb20oZS5jcmVhdGUociwgbykpOwogICAgcmV0dXJuIEt0KGEsIChuID8gSXQgOiBMdCkoaSkpLCBuID8gKHF0KGksIGEpLCBXdChhLCBpKSkgOiAoJHQoaSwgYSksIFBuKGEsIGkpKSwgYS5kb207CiAgfQoKICBmdW5jdGlvbiBCcChlLCB0LCBuLCByKSB7CiAgICB2YXIgbyA9IGVsKHQsIG4sIHIpOwogICAgcmV0dXJuIEsobykgfHwgIkJSIiA9PT0gby5ub2RlTmFtZSB8fCBlLmlzQmxvY2sobyk7CiAgfQoKICBmdW5jdGlvbiBQcChlLCByLCBvLCB0LCBpKSB7CiAgICB2YXIgbiwKICAgICAgICBhLAogICAgICAgIHUgPSBlLmRvbSwKICAgICAgICBzID0gdSwKICAgICAgICBjID0gdDsKICAgIGlmICghKGRsKGEgPSByKSAmJiBraChjLCBhLmlubGluZSkgfHwgbGwoYSkgJiYga2goYywgYS5ibG9jaykgfHwgZmwoYSkgJiYgem4oYykgJiYgcy5pcyhjLCBhLnNlbGVjdG9yKSB8fCByLmxpbmtzICYmICJBIiA9PT0gdC5ub2RlTmFtZSkpIHJldHVybiBTaC5rZWVwKCk7CiAgICB2YXIgbCwKICAgICAgICBmLAogICAgICAgIGQsCiAgICAgICAgbSwKICAgICAgICBnLAogICAgICAgIHAsCiAgICAgICAgaCwKICAgICAgICB2LAogICAgICAgIGIgPSB0OwoKICAgIGlmIChkbChyKSAmJiAiYWxsIiA9PT0gci5yZW1vdmUgJiYgUyhyLnByZXNlcnZlX2F0dHJpYnV0ZXMpKSB7CiAgICAgIHZhciB5ID0gVSh1LmdldEF0dHJpYnMoYiksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIEQoci5wcmVzZXJ2ZV9hdHRyaWJ1dGVzLCBlLm5hbWUudG9Mb3dlckNhc2UoKSk7CiAgICAgIH0pOwogICAgICBpZiAodS5yZW1vdmVBbGxBdHRyaWJzKGIpLCBZKHksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIHUuc2V0QXR0cmliKGIsIGUubmFtZSwgZS52YWx1ZSk7CiAgICAgIH0pLCAwIDwgeS5sZW5ndGgpIHJldHVybiBTaC5yZW5hbWUoInNwYW4iKTsKICAgIH0KCiAgICBpZiAoImFsbCIgIT09IHIucmVtb3ZlKSB7CiAgICAgIE5oKHIuc3R5bGVzLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIGUgPSBpbCh1LCBybChlLCBvKSwgdCArICIiKSwgRSh0KSAmJiAodCA9IGUsIGkgPSBudWxsKSwgIXIucmVtb3ZlX3NpbWlsYXIgJiYgaSAmJiAha2goYWwodSwgaSwgdCksIGUpIHx8IHUuc2V0U3R5bGUoYiwgdCwgIiIpLCBuID0gITA7CiAgICAgIH0pLCBuICYmICIiID09PSB1LmdldEF0dHJpYihiLCAic3R5bGUiKSAmJiAoYi5yZW1vdmVBdHRyaWJ1dGUoInN0eWxlIiksIGIucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1zdHlsZSIpKSwgTmgoci5hdHRyaWJ1dGVzLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIHZhciBuOwogICAgICAgIGlmIChlID0gcmwoZSwgbyksIEUodCkgJiYgKHQgPSBlLCBpID0gbnVsbCksIHIucmVtb3ZlX3NpbWlsYXIgfHwgIWkgfHwga2godS5nZXRBdHRyaWIoaSwgdCksIGUpKSBpZiAoImNsYXNzIiA9PT0gdCAmJiAoZSA9IHUuZ2V0QXR0cmliKGIsIHQpKSAmJiAobiA9ICIiLCBZKGUuc3BsaXQoL1xzKy8pLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgL21jZVwtXHcrLy50ZXN0KGUpICYmIChuICs9IChuID8gIiAiIDogIiIpICsgZSk7CiAgICAgICAgfSksIG4pKSB1LnNldEF0dHJpYihiLCB0LCBuKTtlbHNlIHsKICAgICAgICAgIGlmIChFaC50ZXN0KHQpICYmIGIucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS0iICsgdCksICJzdHlsZSIgPT09IHQgJiYgb24oWyJsaSJdKShiKSAmJiAibm9uZSIgPT09IHUuZ2V0U3R5bGUoYiwgImxpc3Qtc3R5bGUtdHlwZSIpKSByZXR1cm4gYi5yZW1vdmVBdHRyaWJ1dGUodCksIHZvaWQgdS5zZXRTdHlsZShiLCAibGlzdC1zdHlsZS10eXBlIiwgIm5vbmUiKTsKICAgICAgICAgICJjbGFzcyIgPT09IHQgJiYgYi5yZW1vdmVBdHRyaWJ1dGUoImNsYXNzTmFtZSIpLCBiLnJlbW92ZUF0dHJpYnV0ZSh0KTsKICAgICAgICB9CiAgICAgIH0pLCBOaChyLmNsYXNzZXMsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgZSA9IHJsKGUsIG8pLCBpICYmICF1Lmhhc0NsYXNzKGksIGUpIHx8IHUucmVtb3ZlQ2xhc3MoYiwgZSk7CiAgICAgIH0pOwoKICAgICAgZm9yICh2YXIgQyA9IHUuZ2V0QXR0cmlicyhiKSwgeCA9IDA7IHggPCBDLmxlbmd0aDsgeCsrKSB7CiAgICAgICAgdmFyIHcgPSBDW3hdLm5vZGVOYW1lOwogICAgICAgIGlmICgwICE9PSB3LmluZGV4T2YoIl8iKSAmJiAwICE9PSB3LmluZGV4T2YoImRhdGEtIikpIHJldHVybiBTaC5rZWVwKCk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gIm5vbmUiICE9PSByLnJlbW92ZSA/IChsID0gZSwgZCA9IHIsIHAgPSAoZiA9IGIpLnBhcmVudE5vZGUsIGggPSBsLmRvbSwgdiA9IFNzKGwpLCBsbChkKSAmJiAodiA/IHAgPT09IGguZ2V0Um9vdCgpICYmIChkLmxpc3RfYmxvY2sgJiYga2goZiwgZC5saXN0X2Jsb2NrKSB8fCBZKHhlKGYuY2hpbGROb2RlcyksIGZ1bmN0aW9uIChlKSB7CiAgICAgIG5sKGwsIHYsIGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSkgPyBtID8gbS5hcHBlbmRDaGlsZChlKSA6IChtID0gVHAoaCwgZSwgdiksIGguc2V0QXR0cmlicyhtLCBsLnNldHRpbmdzLmZvcmNlZF9yb290X2Jsb2NrX2F0dHJzKSkgOiBtID0gbnVsbDsKICAgIH0pKSA6IGguaXNCbG9jayhmKSAmJiAhaC5pc0Jsb2NrKHApICYmIChCcChoLCBmLCAhMSkgfHwgQnAoaCwgZi5maXJzdENoaWxkLCAhMCwgITApIHx8IGYuaW5zZXJ0QmVmb3JlKGguY3JlYXRlKCJiciIpLCBmLmZpcnN0Q2hpbGQpLCBCcChoLCBmLCAhMCkgfHwgQnAoaCwgZi5sYXN0Q2hpbGQsICExLCAhMCkgfHwgZi5hcHBlbmRDaGlsZChoLmNyZWF0ZSgiYnIiKSkpKSwgZmwoZyA9IGQpICYmIGRsKGcpICYmIGZuKHVlKGcsICJtaXhlZCIpLCAhMCkgJiYgIWtoKGQuaW5saW5lLCBmKSB8fCBoLnJlbW92ZShmLCAhMCksIFNoLnJlbW92ZWQoKSkgOiBTaC5rZWVwKCk7CiAgfQoKICBmdW5jdGlvbiBMcCh0LCBlLCBuLCByLCBvKSB7CiAgICByZXR1cm4gUHAodCwgZSwgbiwgciwgbykuZm9sZChSLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gdC5kb20ucmVuYW1lKHIsIGUpLCAhMDsKICAgIH0sIHcpOwogIH0KCiAgZnVuY3Rpb24gSXAodSwgcywgYywgZSwgbCkgewogICAgZnVuY3Rpb24gYShlKSB7CiAgICAgIHZhciBuLAogICAgICAgICAgciwKICAgICAgICAgIG8sCiAgICAgICAgICBpLAogICAgICAgICAgYSwKICAgICAgICAgIHQgPSAociA9IHMsIG8gPSBjLCBpID0gbCwgWShzbCgobiA9IHUpLmRvbSwgZS5wYXJlbnROb2RlKS5yZXZlcnNlKCksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHQ7CiAgICAgICAgYSB8fCAiX3N0YXJ0IiA9PT0gZS5pZCB8fCAiX2VuZCIgPT09IGUuaWQgfHwgKHQgPSBocChuLCBlLCByLCBvLCBpKSkgJiYgITEgIT09IHQuc3BsaXQgJiYgKGEgPSBlKTsKICAgICAgfSksIGEpOwogICAgICByZXR1cm4gZnVuY3Rpb24gKGUsIHQsIG4sIHIsIG8sIGksIGEsIHUpIHsKICAgICAgICB2YXIgcywKICAgICAgICAgICAgYywKICAgICAgICAgICAgbCA9IGUuZG9tOwoKICAgICAgICBpZiAobikgewogICAgICAgICAgZm9yICh2YXIgZiA9IG4ucGFyZW50Tm9kZSwgZCA9IHIucGFyZW50Tm9kZTsgZCAmJiBkICE9PSBmOyBkID0gZC5wYXJlbnROb2RlKSB7CiAgICAgICAgICAgIGZvciAodmFyIG0gPSBsLmNsb25lKGQsICExKSwgZyA9IDA7IGcgPCB0Lmxlbmd0aCAmJiBudWxsICE9PSAobSA9IGZ1bmN0aW9uICh0LCBlLCBuKSB7CiAgICAgICAgICAgICAgcmV0dXJuIFBwKHQsIGUsIHUsIG4sIG4pLmZvbGQoSihuKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiB0LmRvbS5jcmVhdGVGcmFnbWVudCgpLmFwcGVuZENoaWxkKG4pLCB0LmRvbS5yZW5hbWUobiwgZSk7CiAgICAgICAgICAgICAgfSwgSihudWxsKSk7CiAgICAgICAgICAgIH0oZSwgdFtnXSwgbSkpOyBnKyspIHsKICAgICAgICAgICAgICA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIG0gJiYgKHMgJiYgbS5hcHBlbmRDaGlsZChzKSwgYyA9IGMgfHwgbSwgcyA9IG0pOwogICAgICAgICAgfQoKICAgICAgICAgICFpIHx8IGEubWl4ZWQgJiYgbC5pc0Jsb2NrKG4pIHx8IChyID0gbC5zcGxpdChuLCByKSksIHMgJiYgKG8ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUocywgbyksIGMuYXBwZW5kQ2hpbGQobyksIGRsKGEpICYmIE5wKGwsIGEsIDAsIHMpKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiByOwogICAgICB9KHUsIG0sIHQsIGUsIGUsICEwLCBnLCBjKTsKICAgIH0KCiAgICBmdW5jdGlvbiBmKHQpIHsKICAgICAgcmV0dXJuIEYobSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gTHAodSwgZSwgYywgdCwgdCk7CiAgICAgIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uIGQoZSkgewogICAgICB2YXIgdCwKICAgICAgICAgIG4gPSBoLmdldChlID8gIl9zdGFydCIgOiAiX2VuZCIpLAogICAgICAgICAgciA9IG5bZSA/ICJmaXJzdENoaWxkIiA6ICJsYXN0Q2hpbGQiXTsKICAgICAgcmV0dXJuIFljKHQgPSByKSAmJiB6bih0KSAmJiAoIl9zdGFydCIgPT09IHQuaWQgfHwgIl9lbmQiID09PSB0LmlkKSAmJiAociA9IHJbZSA/ICJmaXJzdENoaWxkIiA6ICJsYXN0Q2hpbGQiXSksIGpuKHIpICYmIDAgPT09IHIuZGF0YS5sZW5ndGggJiYgKHIgPSBlID8gbi5wcmV2aW91c1NpYmxpbmcgfHwgbi5uZXh0U2libGluZyA6IG4ubmV4dFNpYmxpbmcgfHwgbi5wcmV2aW91c1NpYmxpbmcpLCBoLnJlbW92ZShuLCAhMCksIHI7CiAgICB9CgogICAgZnVuY3Rpb24gdChlKSB7CiAgICAgIHZhciB0ID0gU2wodSwgZSwgbSwgZS5jb2xsYXBzZWQpOwoKICAgICAgaWYgKGcuc3BsaXQpIHsKICAgICAgICBpZiAodCA9IFRmKHQpLCAociA9IFJwKHUsIHQsICEwKSkgIT09IChvID0gUnAodSwgdCkpKSB7CiAgICAgICAgICBpZiAociA9IERwKHIsICEwKSwgbyA9IERwKG8sICExKSwgQXAoaCwgciwgbykpIHsKICAgICAgICAgICAgdmFyIG4gPSB2ZS5mcm9tKHIuZmlyc3RDaGlsZCkuZ2V0T3Iocik7CiAgICAgICAgICAgIHJldHVybiBhKE9wKGgsIG4sICEwLCAic3BhbiIsIHsKICAgICAgICAgICAgICBpZDogIl9zdGFydCIsCiAgICAgICAgICAgICAgImRhdGEtbWNlLXR5cGUiOiAiYm9va21hcmsiCiAgICAgICAgICAgIH0pKSwgdm9pZCBkKCEwKTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoQXAoaCwgbywgcikpIHJldHVybiBuID0gdmUuZnJvbShvLmxhc3RDaGlsZCkuZ2V0T3IobyksIGEoT3AoaCwgbiwgITEsICJzcGFuIiwgewogICAgICAgICAgICBpZDogIl9lbmQiLAogICAgICAgICAgICAiZGF0YS1tY2UtdHlwZSI6ICJib29rbWFyayIKICAgICAgICAgIH0pKSwgdm9pZCBkKCExKTsKICAgICAgICAgIHZhciByID0gVHAoaCwgciwgInNwYW4iLCB7CiAgICAgICAgICAgIGlkOiAiX3N0YXJ0IiwKICAgICAgICAgICAgImRhdGEtbWNlLXR5cGUiOiAiYm9va21hcmsiCiAgICAgICAgICB9KSwKICAgICAgICAgICAgICBvID0gVHAoaCwgbywgInNwYW4iLCB7CiAgICAgICAgICAgIGlkOiAiX2VuZCIsCiAgICAgICAgICAgICJkYXRhLW1jZS10eXBlIjogImJvb2ttYXJrIgogICAgICAgICAgfSksCiAgICAgICAgICAgICAgaSA9IGguY3JlYXRlUm5nKCk7CiAgICAgICAgICBpLnNldFN0YXJ0QWZ0ZXIociksIGkuc2V0RW5kQmVmb3JlKG8pLCBFbChoLCBpLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBZKGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgWWMoZSkgfHwgWWMoZS5wYXJlbnROb2RlKSB8fCBhKGUpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pLCBhKHIpLCBhKG8pLCByID0gZCghMCksIG8gPSBkKCk7CiAgICAgICAgfSBlbHNlIHIgPSBvID0gYShyKTsKCiAgICAgICAgdC5zdGFydENvbnRhaW5lciA9IHIucGFyZW50Tm9kZSB8fCByLCB0LnN0YXJ0T2Zmc2V0ID0gaC5ub2RlSW5kZXgociksIHQuZW5kQ29udGFpbmVyID0gby5wYXJlbnROb2RlIHx8IG8sIHQuZW5kT2Zmc2V0ID0gaC5ub2RlSW5kZXgobykgKyAxOwogICAgICB9CgogICAgICBFbChoLCB0LCBmdW5jdGlvbiAoZSkgewogICAgICAgIFkoZSwgdik7CiAgICAgIH0pOwogICAgfQoKICAgIHZhciBuLAogICAgICAgIG0gPSB1LmZvcm1hdHRlci5nZXQocyksCiAgICAgICAgZyA9IG1bMF0sCiAgICAgICAgcCA9ICEwLAogICAgICAgIGggPSB1LmRvbSwKICAgICAgICByID0gdS5zZWxlY3Rpb24sCiAgICAgICAgdiA9IGZ1bmN0aW9uIHYodCkgewogICAgICB2YXIgZSA9ICEwLAogICAgICAgICAgbiA9ICExOwogICAgICB6bih0KSAmJiBoLmdldENvbnRlbnRFZGl0YWJsZSh0KSAmJiAoZSA9IHAsIHAgPSAidHJ1ZSIgPT09IGguZ2V0Q29udGVudEVkaXRhYmxlKHQpLCBuID0gITApOwogICAgICB2YXIgciwKICAgICAgICAgIG8sCiAgICAgICAgICBpID0geGUodC5jaGlsZE5vZGVzKTsKCiAgICAgIGlmIChwICYmICFuICYmIChyID0gZih0KSwgbyA9IHQucGFyZW50Tm9kZSwgIXIgJiYgVihvKSAmJiBtbChnKSAmJiBmKG8pKSwgZy5kZWVwICYmIGkubGVuZ3RoKSB7CiAgICAgICAgZm9yICh2YXIgYSA9IDA7IGEgPCBpLmxlbmd0aDsgYSsrKSB7CiAgICAgICAgICB2KGlbYV0pOwogICAgICAgIH0KCiAgICAgICAgbiAmJiAocCA9IGUpOwogICAgICB9CgogICAgICBZKFsidW5kZXJsaW5lIiwgImxpbmUtdGhyb3VnaCIsICJvdmVybGluZSJdLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHpuKHQpICYmIHUuZG9tLmdldFN0eWxlKHQsICJ0ZXh0LWRlY29yYXRpb24iKSA9PT0gZSAmJiB0LnBhcmVudE5vZGUgJiYgdWwoaCwgdC5wYXJlbnROb2RlKSA9PT0gZSAmJiBMcCh1LCB7CiAgICAgICAgICBkZWVwOiAhMSwKICAgICAgICAgIGV4YWN0OiAhMCwKICAgICAgICAgIGlubGluZTogInNwYW4iLAogICAgICAgICAgc3R5bGVzOiB7CiAgICAgICAgICAgIHRleHREZWNvcmF0aW9uOiBlCiAgICAgICAgICB9CiAgICAgICAgfSwgbnVsbCwgdCk7CiAgICAgIH0pOwogICAgfTsKCiAgICBpZiAoZSkgcmV0dXJuIFFjKGUpID8gKChuID0gaC5jcmVhdGVSbmcoKSkuc2V0U3RhcnRCZWZvcmUoZSksIG4uc2V0RW5kQWZ0ZXIoZSksIHQobikpIDogdChlKSwgdm9pZCB5Zih1LCBzLCBlLCBjKTsKICAgIGlmICgiZmFsc2UiICE9PSBoLmdldENvbnRlbnRFZGl0YWJsZShyLmdldE5vZGUoKSkpIHIuaXNDb2xsYXBzZWQoKSAmJiBkbChnKSAmJiAhX2wodSkubGVuZ3RoID8gamcodSwgcywgYywgbCkgOiAoQmwociwgITAsIGZ1bmN0aW9uICgpIHsKICAgICAgT2wodSwgdCk7CiAgICB9KSwgZGwoZykgJiYgQmcodSwgcywgYywgci5nZXRTdGFydCgpKSAmJiBaYyhoLCByLCByLmdldFJuZygpKSwgdS5ub2RlQ2hhbmdlZCgpKSwgeWYodSwgcywgZSwgYyk7ZWxzZSB7CiAgICAgIGUgPSByLmdldE5vZGUoKTsKCiAgICAgIGZvciAodmFyIG8gPSAwOyBvIDwgbS5sZW5ndGggJiYgKCFtW29dLmNlRmFsc2VPdmVycmlkZSB8fCAhTHAodSwgbVtvXSwgYywgZSwgZSkpOyBvKyspIHsKICAgICAgICA7CiAgICAgIH0KCiAgICAgIHlmKHUsIHMsIGUsIGMpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gTXAoZSkgewogICAgcmV0dXJuIHpuKGUpICYmICFZYyhlKSAmJiAhemMoZSkgJiYgIXNuKGUpOwogIH0KCiAgZnVuY3Rpb24gRnAoZSkgewogICAgcmV0dXJuIE5lKGUsICJ2YXJzIik7CiAgfQoKICBmdW5jdGlvbiBVcChuLCBlLCByLCBvLCBpKSB7CiAgICByZXR1cm4gSShlLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9IG4uZm9ybWF0dGVyLm1hdGNoTm9kZShlLCByLCBudWxsICE9IGkgPyBpIDoge30sIG8pOwogICAgICByZXR1cm4gIWIodCk7CiAgICB9LCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gUmcobiwgZSwgcikgfHwgIW8gJiYgVihuLmZvcm1hdHRlci5tYXRjaE5vZGUoZSwgciwgaSwgITApKTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24genAoZSwgdCkgewogICAgdmFyIG4gPSBudWxsICE9IHQgPyB0IDogRGgoZSk7CiAgICByZXR1cm4gVShzbChlLmRvbSwgbiksIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiB6bihlKSAmJiAhc24oZSk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIEhwKGUsIG8sIGksIGEsIHQsIG4pIHsKICAgIHZhciByLCB1LCBzLCBjLCBsLCBmLCBkLCBtLCBnOwogICAgcmV0dXJuIG51bGwgPT09IG8uZ2V0KCkgJiYgKHUgPSBlLCAociA9IG8pLnNldCh7fSksIHUub24oIk5vZGVDaGFuZ2UiLCBmdW5jdGlvbiAoZSkgewogICAgICBUaCh1LCBlLmVsZW1lbnQsIHIuZ2V0KCkpOwogICAgfSksIHUub24oIkZvcm1hdEFwcGx5IEZvcm1hdFJlbW92ZSIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gdmUuZnJvbShlLm5vZGUpLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBRYyhlKSA/IGUgOiBlLnN0YXJ0Q29udGFpbmVyOwogICAgICB9KS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIHpuKGUpID8gdmUuc29tZShlKSA6IHZlLmZyb20oZS5wYXJlbnRFbGVtZW50KTsKICAgICAgfSkuZ2V0T3JUaHVuayhmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIERoKHUpOwogICAgICB9KTsKICAgICAgVGgodSwgdCwgci5nZXQoKSk7CiAgICB9KSksIHMgPSBlLCBsID0gaSwgZiA9IGEsIGQgPSB0LCBtID0gbiwgZyA9IChjID0gbykuZ2V0KCksIFkobC5zcGxpdCgiLCIpLCBmdW5jdGlvbiAodCkgewogICAgICBmdW5jdGlvbiBlKCkgewogICAgICAgIHZhciBlID0genAocyk7CiAgICAgICAgcmV0dXJuIFVwKHMsIGUsIHQsIGQsIG0pLmlzU29tZSgpOwogICAgICB9CgogICAgICB2YXIgbiwKICAgICAgICAgIHIgPSB1ZShnLCB0KS5nZXRPclRodW5rKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgZSA9IHsKICAgICAgICAgIHdpdGhTaW1pbGFyOiB7CiAgICAgICAgICAgIHN0YXRlOiBydSghMSksCiAgICAgICAgICAgIHNpbWlsYXI6ICEwLAogICAgICAgICAgICBjYWxsYmFja3M6IFtdCiAgICAgICAgICB9LAogICAgICAgICAgd2l0aG91dFNpbWlsYXI6IHsKICAgICAgICAgICAgc3RhdGU6IHJ1KCExKSwKICAgICAgICAgICAgc2ltaWxhcjogITEsCiAgICAgICAgICAgIGNhbGxiYWNrczogW10KICAgICAgICAgIH0sCiAgICAgICAgICB3aXRoVmFyczogW10KICAgICAgICB9OwogICAgICAgIHJldHVybiBnW3RdID0gZTsKICAgICAgfSk7CiAgICAgIGIobSkgPyAoKG4gPSBkID8gci53aXRoU2ltaWxhciA6IHIud2l0aG91dFNpbWlsYXIpLmNhbGxiYWNrcy5wdXNoKGYpLCAxID09PSBuLmNhbGxiYWNrcy5sZW5ndGggJiYgbi5zdGF0ZS5zZXQoZSgpKSkgOiByLndpdGhWYXJzLnB1c2goewogICAgICAgIHN0YXRlOiBydShlKCkpLAogICAgICAgIHNpbWlsYXI6IGQsCiAgICAgICAgdmFyczogbSwKICAgICAgICBjYWxsYmFjazogZgogICAgICB9KTsKICAgIH0pLCBjLnNldChnKSwgewogICAgICB1bmJpbmQ6IGZ1bmN0aW9uIHVuYmluZCgpIHsKICAgICAgICB2YXIgZSwKICAgICAgICAgICAgdCA9IGksCiAgICAgICAgICAgIG4gPSBhLAogICAgICAgICAgICByID0gKGUgPSBvKS5nZXQoKTsKICAgICAgICBZKHQuc3BsaXQoIiwiKSwgZnVuY3Rpb24gKHQpIHsKICAgICAgICAgIHJldHVybiB1ZShyLCB0KS5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJbdF0gPSB7CiAgICAgICAgICAgICAgd2l0aFNpbWlsYXI6IF9lMihfZTIoe30sIGUud2l0aFNpbWlsYXIpLCB7CiAgICAgICAgICAgICAgICBjYWxsYmFja3M6IFUoZS53aXRoU2ltaWxhci5jYWxsYmFja3MsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgIHJldHVybiBlICE9PSBuOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICB3aXRob3V0U2ltaWxhcjogX2UyKF9lMih7fSwgZS53aXRob3V0U2ltaWxhciksIHsKICAgICAgICAgICAgICAgIGNhbGxiYWNrczogVShlLndpdGhvdXRTaW1pbGFyLmNhbGxiYWNrcywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGUgIT09IG47CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgIHdpdGhWYXJzOiBVKGUud2l0aFZhcnMsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZS5jYWxsYmFjayAhPT0gbjsKICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9OwogICAgICAgICAgfSk7CiAgICAgICAgfSksIGUuc2V0KHIpOwogICAgICB9CiAgICB9OwogIH0KCiAgZnVuY3Rpb24ganAoZSwgdCkgewogICAgdmFyIG4gPSAodCB8fCBkb2N1bWVudCkuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpOwogICAgcmV0dXJuIFkoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgbi5hcHBlbmRDaGlsZChlLmRvbSk7CiAgICB9KSwgTnQuZnJvbURvbShuKTsKICB9CgogIGZ1bmN0aW9uIFZwKGUsIHQsIG4pIHsKICAgIHJldHVybiB7CiAgICAgIGVsZW1lbnQ6IGUsCiAgICAgIHdpZHRoOiB0LAogICAgICByb3dzOiBuCiAgICB9OwogIH0KCiAgZnVuY3Rpb24gcXAoZSwgdCkgewogICAgcmV0dXJuIHsKICAgICAgZWxlbWVudDogZSwKICAgICAgY2VsbHM6IHQKICAgIH07CiAgfQoKICBmdW5jdGlvbiAkcChlLCB0KSB7CiAgICB2YXIgbiA9IHBhcnNlSW50KHZuKGUsIHQpLCAxMCk7CiAgICByZXR1cm4gaXNOYU4obikgPyAxIDogbjsKICB9CgogIGZ1bmN0aW9uIFdwKGUpIHsKICAgIHJldHVybiBMKGUsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHJldHVybiB0LmNlbGxzLmxlbmd0aCA+IGUgPyB0LmNlbGxzLmxlbmd0aCA6IGU7CiAgICB9LCAwKTsKICB9CgogIGZ1bmN0aW9uIEtwKGUsIHQpIHsKICAgIGZvciAodmFyIG4gPSBlLnJvd3MsIHIgPSAwOyByIDwgbi5sZW5ndGg7IHIrKykgewogICAgICBmb3IgKHZhciBvID0gbltyXS5jZWxscywgaSA9IDA7IGkgPCBvLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKGplKG9baV0sIHQpKSByZXR1cm4gdmUuc29tZSh7CiAgICAgICAgICB4OiBpLAogICAgICAgICAgeTogcgogICAgICAgIH0pOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIHZlLm5vbmUoKTsKICB9CgogIGZ1bmN0aW9uIFhwKGUsIHQsIG4sIHIsIG8pIHsKICAgIGZvciAodmFyIGkgPSBbXSwgYSA9IGUucm93cywgdSA9IG47IHUgPD0gbzsgdSsrKSB7CiAgICAgIHZhciBzID0gYVt1XS5jZWxscywKICAgICAgICAgIGMgPSB0IDwgciA/IHMuc2xpY2UodCwgciArIDEpIDogcy5zbGljZShyLCB0ICsgMSk7CiAgICAgIGkucHVzaChxcChhW3VdLmVsZW1lbnQsIGMpKTsKICAgIH0KCiAgICByZXR1cm4gaTsKICB9CgogIGZ1bmN0aW9uIFlwKGUpIHsKICAgIHZhciBvID0gVnAod3UoZSksIDAsIFtdKTsKICAgIHJldHVybiBZKGh1KGUsICJ0ciIpLCBmdW5jdGlvbiAobiwgcikgewogICAgICBZKGh1KG4sICJ0ZCx0aCIpLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgICFmdW5jdGlvbiAoZSwgdCwgbiwgciwgbykgewogICAgICAgICAgZm9yICh2YXIgaSA9ICRwKG8sICJyb3dzcGFuIiksIGEgPSAkcChvLCAiY29sc3BhbiIpLCB1ID0gZS5yb3dzLCBzID0gbjsgcyA8IG4gKyBpOyBzKyspIHsKICAgICAgICAgICAgdVtzXSB8fCAodVtzXSA9IHFwKFN1KHIpLCBbXSkpOwoKICAgICAgICAgICAgZm9yICh2YXIgYyA9IHQ7IGMgPCB0ICsgYTsgYysrKSB7CiAgICAgICAgICAgICAgdVtzXS5jZWxsc1tjXSA9IHMgPT09IG4gJiYgYyA9PT0gdCA/IG8gOiB3dShvKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0obywgZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgICAgIGZvciAoOyByID0gdCwgKChvID0gZS5yb3dzKVtuXSA/IG9bbl0uY2VsbHMgOiBbXSlbcl07KSB7CiAgICAgICAgICAgIHQrKzsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgciwgbzsKICAgICAgICAgIHJldHVybiB0OwogICAgICAgIH0obywgdCwgciksIHIsIG4sIGUpOwogICAgICB9KTsKICAgIH0pLCBWcChvLmVsZW1lbnQsIFdwKG8ucm93cyksIG8ucm93cyk7CiAgfQoKICBmdW5jdGlvbiBHcChlLCB0KSB7CiAgICB2YXIgbiwKICAgICAgICByLAogICAgICAgIG8sCiAgICAgICAgaSA9IE50LmZyb21Eb20odC5jb21tb25BbmNlc3RvckNvbnRhaW5lciksCiAgICAgICAgYSA9IGhtKGksIGUpLAogICAgICAgIHUgPSBVKGEsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBPcihlKSB8fCBjbyhlKTsKICAgIH0pLAogICAgICAgIHMgPSAobyA9IHQsIE0ociA9IGEsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiAibGkiID09PSBrdChlKSAmJiBSbChlLCBvKTsKICAgIH0pLmZvbGQoSihbXSksIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBNKHIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuICJ1bCIgPT09IGt0KGUpIHx8ICJvbCIgPT09IGt0KGUpOwogICAgICB9KS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgdCA9IE50LmZyb21UYWcoa3QoZSkpOwogICAgICAgIHJldHVybiBDbih0LCBhZShTbihlKSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgIHJldHVybiBHZSh0LCAibGlzdC1zdHlsZSIpOwogICAgICAgIH0pKSwgW050LmZyb21UYWcoImxpIiksIHRdOwogICAgICB9KS5nZXRPcihbXSk7CiAgICB9KSk7CiAgICByZXR1cm4gVCh1LmNvbmNhdChzLmxlbmd0aCA/IHMgOiBnbyhuID0gaSkgPyBPdChuKS5maWx0ZXIobW8pLmZvbGQoSihbXSksIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBbbiwgZV07CiAgICB9KSA6IG1vKG4pID8gW25dIDogW10pLCB3dSk7CiAgfQoKICBmdW5jdGlvbiBKcCgpIHsKICAgIHJldHVybiBqcChbXSk7CiAgfQoKICBmdW5jdGlvbiBRcChlLCBpKSB7CiAgICByZXR1cm4gaHIoaVswXSwgInRhYmxlIiwgQShqZSwgZSkpLmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHMsCiAgICAgICAgICB0LAogICAgICAgICAgbiA9IGlbMF0sCiAgICAgICAgICByID0gaVtpLmxlbmd0aCAtIDFdLAogICAgICAgICAgbyA9IFlwKGUpOwogICAgICByZXR1cm4gdCA9IHIsIEtwKHMgPSBvLCBuKS5iaW5kKGZ1bmN0aW9uICh1KSB7CiAgICAgICAgcmV0dXJuIEtwKHMsIHQpLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIHQgPSBzLCBuID0gdS54LCByID0gdS55LCBvID0gZS54LCBhID0gciA8IChpID0gZS55KSA/IFhwKHQsIG4sIHIsIG8sIGkpIDogWHAodCwgbiwgaSwgbywgciksIFZwKHQuZWxlbWVudCwgV3AoYSksIGEpOwogICAgICAgICAgdmFyIHQsIG4sIHIsIG8sIGksIGE7CiAgICAgICAgfSk7CiAgICAgIH0pLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBqcChbKG4gPSBUKCh0ID0gZSkucm93cywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciB0ID0gVChlLmNlbGxzLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgdCA9IFN1KGUpOwogICAgICAgICAgICByZXR1cm4geW4odCwgImNvbHNwYW4iKSwgeW4odCwgInJvd3NwYW4iKSwgdDsKICAgICAgICAgIH0pLAogICAgICAgICAgICAgIG4gPSB3dShlLmVsZW1lbnQpOwogICAgICAgICAgcmV0dXJuIEt0KG4sIHQpLCBuOwogICAgICAgIH0pLCByID0gd3UodC5lbGVtZW50KSwgS3QobyA9IE50LmZyb21UYWcoInRib2R5IiksIG4pLCBQbihyLCBvKSwgcildKTsKICAgICAgICB2YXIgdCwgbiwgciwgbzsKICAgICAgfSk7CiAgICB9KS5nZXRPclRodW5rKEpwKTsKICB9CgogIGZ1bmN0aW9uIFpwKGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIsCiAgICAgICAgbywKICAgICAgICBpLAogICAgICAgIGEsCiAgICAgICAgdSwKICAgICAgICBzLAogICAgICAgIGMgPSBrbCh0LCBlKTsKICAgIHJldHVybiAwIDwgYy5sZW5ndGggPyBRcChlLCBjKSA6IChuID0gZSwgMCA8IChyID0gdCkubGVuZ3RoICYmIHJbMF0uY29sbGFwc2VkID8gSnAoKSA6IChvID0gbiwgaSA9IHJbMF0sIGEgPSBOdC5mcm9tRG9tKGkuY2xvbmVDb250ZW50cygpKSwgcyA9IEwodSA9IEdwKG8sIGkpLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICByZXR1cm4gUG4odCwgZSksIHQ7CiAgICB9LCBhKSwgMCA8IHUubGVuZ3RoID8ganAoW3NdKSA6IHMpKTsKICB9CgogIGZ1bmN0aW9uIGVoKGUsIHQpIHsKICAgIHJldHVybiAwIDw9IHQgJiYgdCA8IGUubGVuZ3RoICYmIEdjKGUuY2hhckF0KHQpKTsKICB9CgogIGZ1bmN0aW9uIHRoKGUsIHQpIHsKICAgIHZhciBuID0gd28oZS5pbm5lclRleHQpOwogICAgcmV0dXJuIHQgPyBuLnJlcGxhY2UoL15bIFxmXG5cclx0XHZdKy8sICIiKSA6IG47CiAgfQoKICBmdW5jdGlvbiBuaChlKSB7CiAgICByZXR1cm4gem4oZSkgPyBlLm91dGVySFRNTCA6IGpuKGUpID8gR28uZW5jb2RlUmF3KGUuZGF0YSwgITEpIDogVm4oZSkgPyAiXHgzYyEtLSIgKyBlLmRhdGEgKyAiLS1ceDNlIiA6ICIiOwogIH0KCiAgZnVuY3Rpb24gcmgoZSwgYykgewogICAgdmFyIGwgPSAwOwogICAgWShlLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCwgbiwgciwgbywgaSwgYSwgdSwgczsKICAgICAgMCA9PT0gZVswXSA/IGwrKyA6IDEgPT09IGVbMF0gPyAobyA9IGMsIGkgPSBlWzFdLCBhID0gbCwgcyA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHQsCiAgICAgICAgICAgIG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSwKICAgICAgICAgICAgciA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTsKCiAgICAgICAgZm9yIChlICYmIChuLmlubmVySFRNTCA9IGUpOyB0ID0gbi5maXJzdENoaWxkOykgewogICAgICAgICAgci5hcHBlbmRDaGlsZCh0KTsKICAgICAgICB9CgogICAgICAgIHJldHVybiByOwogICAgICB9KGkpLCBvLmhhc0NoaWxkTm9kZXMoKSAmJiBhIDwgby5jaGlsZE5vZGVzLmxlbmd0aCA/ICh1ID0gby5jaGlsZE5vZGVzW2FdKS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzLCB1KSA6IG8uYXBwZW5kQ2hpbGQocyksIGwrKykgOiAyID09PSBlWzBdICYmIChuID0gbCwgKHQgPSBjKS5oYXNDaGlsZE5vZGVzKCkgJiYgbiA8IHQuY2hpbGROb2Rlcy5sZW5ndGggJiYgKHIgPSB0LmNoaWxkTm9kZXNbbl0pLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQocikpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBvaChuKSB7CiAgICB2YXIgZSwKICAgICAgICB0ID0gSCgoZSA9IG4uZ2V0Qm9keSgpLCBVKFQoeGUoZS5jaGlsZE5vZGVzKSwgbmgpLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gMCA8IGUubGVuZ3RoOwogICAgfSkpLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9IFpkKG4uc2VyaWFsaXplciwgZSk7CiAgICAgIHJldHVybiAwIDwgdC5sZW5ndGggPyBbdF0gOiBbXTsKICAgIH0pLAogICAgICAgIHIgPSB0LmpvaW4oIiIpOwogICAgcmV0dXJuIC0xICE9PSByLmluZGV4T2YoIjwvaWZyYW1lPiIpID8gewogICAgICB0eXBlOiAiZnJhZ21lbnRlZCIsCiAgICAgIGZyYWdtZW50czogdCwKICAgICAgY29udGVudDogIiIsCiAgICAgIGJvb2ttYXJrOiBudWxsLAogICAgICBiZWZvcmVCb29rbWFyazogbnVsbAogICAgfSA6IHsKICAgICAgdHlwZTogImNvbXBsZXRlIiwKICAgICAgZnJhZ21lbnRzOiBudWxsLAogICAgICBjb250ZW50OiByLAogICAgICBib29rbWFyazogbnVsbCwKICAgICAgYmVmb3JlQm9va21hcms6IG51bGwKICAgIH07CiAgfQoKICBmdW5jdGlvbiBpaChlLCB0LCBuKSB7CiAgICB2YXIgciwKICAgICAgICBvLAogICAgICAgIGksCiAgICAgICAgZywKICAgICAgICBwLAogICAgICAgIGEsCiAgICAgICAgaCwKICAgICAgICB2LAogICAgICAgIF9jMiwKICAgICAgICBsLAogICAgICAgIHUsCiAgICAgICAgcyA9IG4gPyB0LmJlZm9yZUJvb2ttYXJrIDogdC5ib29rbWFyazsKCiAgICBmdW5jdGlvbiBiKGUsIHQsIG4sIHIpIHsKICAgICAgZm9yICh2YXIgbyA9IGU7IG8gLSB0IDwgciAmJiBvIDwgbiAmJiBnW29dID09PSBwW28gLSB0XTspIHsKICAgICAgICArK287CiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgc3RhcnQ6IGUsCiAgICAgICAgZW5kOiBvLAogICAgICAgIGRpYWc6IHQKICAgICAgfTsKICAgIH0KCiAgICAiZnJhZ21lbnRlZCIgPT09IHQudHlwZSA/IChyID0gdC5mcmFnbWVudHMsIG8gPSBlLmdldEJvZHkoKSwgaSA9IFQoeGUoby5jaGlsZE5vZGVzKSwgbmgpLCByaCgocCA9IHIsIGEgPSAoZyA9IGkpLmxlbmd0aCArIHAubGVuZ3RoICsgMiwgaCA9IG5ldyBBcnJheShhKSwgdiA9IG5ldyBBcnJheShhKSwgX2MyID0gZnVuY3Rpb24gYyhlLCB0LCBuLCByLCBvKSB7CiAgICAgIHZhciBpID0gbChlLCB0LCBuLCByKTsKICAgICAgaWYgKG51bGwgPT09IGkgfHwgaS5zdGFydCA9PT0gdCAmJiBpLmRpYWcgPT09IHQgLSByIHx8IGkuZW5kID09PSBlICYmIGkuZGlhZyA9PT0gZSAtIG4pIGZvciAodmFyIGEgPSBlLCB1ID0gbjsgYSA8IHQgfHwgdSA8IHI7KSB7CiAgICAgICAgYSA8IHQgJiYgdSA8IHIgJiYgZ1thXSA9PT0gcFt1XSA/IChvLnB1c2goWzAsIGdbYV1dKSwgKythLCArK3UpIDogciAtIG4gPCB0IC0gZSA/IChvLnB1c2goWzIsIGdbYV1dKSwgKythKSA6IChvLnB1c2goWzEsIHBbdV1dKSwgKyt1KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBfYzIoZSwgaS5zdGFydCwgbiwgaS5zdGFydCAtIGkuZGlhZywgbyk7CgogICAgICAgIGZvciAodmFyIHMgPSBpLnN0YXJ0OyBzIDwgaS5lbmQ7ICsrcykgewogICAgICAgICAgby5wdXNoKFswLCBnW3NdXSk7CiAgICAgICAgfQoKICAgICAgICBfYzIoaS5lbmQsIHQsIGkuZW5kIC0gaS5kaWFnLCByLCBvKTsKICAgICAgfQogICAgfSwgbCA9IGZ1bmN0aW9uIGwoZSwgdCwgbiwgcikgewogICAgICB2YXIgbyA9IHQgLSBlLAogICAgICAgICAgaSA9IHIgLSBuOwogICAgICBpZiAoMCA9PSBvIHx8IDAgPT0gaSkgcmV0dXJuIG51bGw7CiAgICAgIHZhciBhLAogICAgICAgICAgdSwKICAgICAgICAgIHMsCiAgICAgICAgICBjLAogICAgICAgICAgbCwKICAgICAgICAgIGYgPSBvIC0gaSwKICAgICAgICAgIGQgPSBpICsgbywKICAgICAgICAgIG0gPSAoZCAlIDIgPT0gMCA/IGQgOiAxICsgZCkgLyAyOwoKICAgICAgZm9yIChoWzEgKyBtXSA9IGUsIHZbMSArIG1dID0gdCArIDEsIGEgPSAwOyBhIDw9IG07ICsrYSkgewogICAgICAgIGZvciAodSA9IC1hOyB1IDw9IGE7IHUgKz0gMikgewogICAgICAgICAgZm9yIChzID0gdSArIG0sIHUgPT09IC1hIHx8IHUgIT09IGEgJiYgaFtzIC0gMV0gPCBoW3MgKyAxXSA/IGhbc10gPSBoW3MgKyAxXSA6IGhbc10gPSBoW3MgLSAxXSArIDEsIGwgPSAoYyA9IGhbc10pIC0gZSArIG4gLSB1OyBjIDwgdCAmJiBsIDwgciAmJiBnW2NdID09PSBwW2xdOykgewogICAgICAgICAgICBoW3NdID0gKytjLCArK2w7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGYgJSAyICE9IDAgJiYgZiAtIGEgPD0gdSAmJiB1IDw9IGYgKyBhICYmIHZbcyAtIGZdIDw9IGhbc10pIHJldHVybiBiKHZbcyAtIGZdLCB1ICsgZSAtIG4sIHQsIHIpOwogICAgICAgIH0KCiAgICAgICAgZm9yICh1ID0gZiAtIGE7IHUgPD0gZiArIGE7IHUgKz0gMikgewogICAgICAgICAgZm9yIChzID0gdSArIG0gLSBmLCB1ID09PSBmIC0gYSB8fCB1ICE9PSBmICsgYSAmJiB2W3MgKyAxXSA8PSB2W3MgLSAxXSA/IHZbc10gPSB2W3MgKyAxXSAtIDEgOiB2W3NdID0gdltzIC0gMV0sIGwgPSAoYyA9IHZbc10gLSAxKSAtIGUgKyBuIC0gdTsgZSA8PSBjICYmIG4gPD0gbCAmJiBnW2NdID09PSBwW2xdOykgewogICAgICAgICAgICB2W3NdID0gYy0tLCBsLS07CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGYgJSAyID09IDAgJiYgLWEgPD0gdSAmJiB1IDw9IGEgJiYgdltzXSA8PSBoW3MgKyBmXSkgcmV0dXJuIGIodltzXSwgdSArIGUgLSBuLCB0LCByKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIHUgPSBbXSwgX2MyKDAsIGcubGVuZ3RoLCAwLCBwLmxlbmd0aCwgdSksIHUpLCBvKSkgOiBlLnNldENvbnRlbnQodC5jb250ZW50LCB7CiAgICAgIGZvcm1hdDogInJhdyIsCiAgICAgIG5vX3NlbGVjdGlvbjogIVYocykgfHwgIWpjKHMpIHx8ICFzLmlzRmFrZUNhcmV0CiAgICB9KSwgZS5zZWxlY3Rpb24ubW92ZVRvQm9va21hcmsocyk7CiAgfQoKICBmdW5jdGlvbiBhaChlKSB7CiAgICByZXR1cm4gImZyYWdtZW50ZWQiID09PSBlLnR5cGUgPyBlLmZyYWdtZW50cy5qb2luKCIiKSA6IGUuY29udGVudDsKICB9CgogIGZ1bmN0aW9uIHVoKGUpIHsKICAgIHZhciB0ID0gTnQuZnJvbVRhZygiYm9keSIsIE9oKCkpOwogICAgcmV0dXJuIEN1KHQsIGFoKGUpKSwgWShodSh0LCAiKltkYXRhLW1jZS1ib2d1c10iKSwgWXQpLCB0LmRvbS5pbm5lckhUTUw7CiAgfQoKICBmdW5jdGlvbiBzaChlLCB0KSB7CiAgICByZXR1cm4gISghZSB8fCAhdCkgJiYgKHIgPSB0LCBhaChlKSA9PT0gYWgocikgfHwgKG4gPSB0LCB1aChlKSA9PT0gdWgobikpKTsKICAgIHZhciBuLCByOwogIH0KCiAgZnVuY3Rpb24gY2goZSkgewogICAgcmV0dXJuIDAgPT09IGUuZ2V0KCk7CiAgfQoKICBmdW5jdGlvbiBsaChlLCB0LCBuKSB7CiAgICBjaChuKSAmJiAoZS50eXBpbmcgPSB0KTsKICB9CgogIGZ1bmN0aW9uIGZoKGUsIHQpIHsKICAgIGUudHlwaW5nICYmIChsaChlLCAhMSwgdCksIGUuYWRkKCkpOwogIH0KCiAgZnVuY3Rpb24gZGgoYykgewogICAgcmV0dXJuIHsKICAgICAgdW5kb01hbmFnZXI6IHsKICAgICAgICBiZWZvcmVDaGFuZ2U6IGZ1bmN0aW9uIGJlZm9yZUNoYW5nZShlLCB0KSB7CiAgICAgICAgICB2YXIgbiA9IGMsCiAgICAgICAgICAgICAgciA9IHQ7CiAgICAgICAgICBjaChlKSAmJiByLnNldChtYyhuLnNlbGVjdGlvbikpOwogICAgICAgIH0sCiAgICAgICAgYWRkOiBmdW5jdGlvbiBhZGQoZSwgdCwgbiwgciwgbywgaSkgewogICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlLCB0LCBuLCByLCBvLCBpLCBhKSB7CiAgICAgICAgICAgIHZhciB1ID0gb2goZSk7CiAgICAgICAgICAgIGlmIChpID0gRXQuZXh0ZW5kKGkgPSBpIHx8IHt9LCB1KSwgITEgPT09IGNoKHIpIHx8IGUucmVtb3ZlZCkgcmV0dXJuIG51bGw7CiAgICAgICAgICAgIHZhciBzID0gdC5kYXRhW24uZ2V0KCldOwogICAgICAgICAgICBpZiAoZS5maXJlKCJCZWZvcmVBZGRVbmRvIiwgewogICAgICAgICAgICAgIGxldmVsOiBpLAogICAgICAgICAgICAgIGxhc3RMZXZlbDogcywKICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBhCiAgICAgICAgICAgIH0pLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm4gbnVsbDsKICAgICAgICAgICAgaWYgKHMgJiYgc2gocywgaSkpIHJldHVybiBudWxsOwogICAgICAgICAgICB0LmRhdGFbbi5nZXQoKV0gJiYgby5nZXQoKS5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgdC5kYXRhW24uZ2V0KCldLmJlZm9yZUJvb2ttYXJrID0gZTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHZhciBjID0gZS5nZXRQYXJhbSgiY3VzdG9tX3VuZG9fcmVkb19sZXZlbHMiLCAwLCAibnVtYmVyIik7CgogICAgICAgICAgICBpZiAoYyAmJiB0LmRhdGEubGVuZ3RoID4gYykgewogICAgICAgICAgICAgIGZvciAodmFyIGwgPSAwOyBsIDwgdC5kYXRhLmxlbmd0aCAtIDE7IGwrKykgewogICAgICAgICAgICAgICAgdC5kYXRhW2xdID0gdC5kYXRhW2wgKyAxXTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHQuZGF0YS5sZW5ndGgtLSwgbi5zZXQodC5kYXRhLmxlbmd0aCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGkuYm9va21hcmsgPSBtYyhlLnNlbGVjdGlvbiksIG4uZ2V0KCkgPCB0LmRhdGEubGVuZ3RoIC0gMSAmJiAodC5kYXRhLmxlbmd0aCA9IG4uZ2V0KCkgKyAxKSwgdC5kYXRhLnB1c2goaSksIG4uc2V0KHQuZGF0YS5sZW5ndGggLSAxKTsKICAgICAgICAgICAgdmFyIGYgPSB7CiAgICAgICAgICAgICAgbGV2ZWw6IGksCiAgICAgICAgICAgICAgbGFzdExldmVsOiBzLAogICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGEKICAgICAgICAgICAgfTsKICAgICAgICAgICAgcmV0dXJuIDAgPCBuLmdldCgpID8gKGUuc2V0RGlydHkoITApLCBlLmZpcmUoIkFkZFVuZG8iLCBmKSwgZS5maXJlKCJjaGFuZ2UiLCBmKSkgOiBlLmZpcmUoIkFkZFVuZG8iLCBmKSwgaTsKICAgICAgICAgIH0oYywgZSwgdCwgbiwgciwgbywgaSk7CiAgICAgICAgfSwKICAgICAgICB1bmRvOiBmdW5jdGlvbiB1bmRvKGUsIHQsIG4pIHsKICAgICAgICAgIHJldHVybiByID0gYywgaSA9IHQsIGEgPSBuLCAobyA9IGUpLnR5cGluZyAmJiAoby5hZGQoKSwgby50eXBpbmcgPSAhMSwgbGgobywgITEsIGkpKSwgMCA8IGEuZ2V0KCkgJiYgKGEuc2V0KGEuZ2V0KCkgLSAxKSwgaWgociwgdSA9IG8uZGF0YVthLmdldCgpXSwgITApLCByLnNldERpcnR5KCEwKSwgci5maXJlKCJVbmRvIiwgewogICAgICAgICAgICBsZXZlbDogdQogICAgICAgICAgfSkpLCB1OwogICAgICAgICAgdmFyIHIsIG8sIGksIGEsIHU7CiAgICAgICAgfSwKICAgICAgICByZWRvOiBmdW5jdGlvbiByZWRvKGUsIHQpIHsKICAgICAgICAgIHJldHVybiBuID0gYywgbyA9IHQsIChyID0gZSkuZ2V0KCkgPCBvLmxlbmd0aCAtIDEgJiYgKHIuc2V0KHIuZ2V0KCkgKyAxKSwgaWgobiwgaSA9IG9bci5nZXQoKV0sICExKSwgbi5zZXREaXJ0eSghMCksIG4uZmlyZSgiUmVkbyIsIHsKICAgICAgICAgICAgbGV2ZWw6IGkKICAgICAgICAgIH0pKSwgaTsKICAgICAgICAgIHZhciBuLCByLCBvLCBpOwogICAgICAgIH0sCiAgICAgICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKGUsIHQpIHsKICAgICAgICAgIHZhciBuLAogICAgICAgICAgICAgIHIgPSBjLAogICAgICAgICAgICAgIG8gPSB0OwogICAgICAgICAgKG4gPSBlKS5kYXRhID0gW10sIG8uc2V0KDApLCBuLnR5cGluZyA9ICExLCByLmZpcmUoIkNsZWFyVW5kb3MiKTsKICAgICAgICB9LAogICAgICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldChlKSB7CiAgICAgICAgICB2YXIgdDsKICAgICAgICAgICh0ID0gZSkuY2xlYXIoKSwgdC5hZGQoKTsKICAgICAgICB9LAogICAgICAgIGhhc1VuZG86IGZ1bmN0aW9uIGhhc1VuZG8oZSwgdCkgewogICAgICAgICAgcmV0dXJuIG4gPSBjLCByID0gZSwgMCA8IHQuZ2V0KCkgfHwgci50eXBpbmcgJiYgci5kYXRhWzBdICYmICFzaChvaChuKSwgci5kYXRhWzBdKTsKICAgICAgICAgIHZhciBuLCByOwogICAgICAgIH0sCiAgICAgICAgaGFzUmVkbzogZnVuY3Rpb24gaGFzUmVkbyhlLCB0KSB7CiAgICAgICAgICByZXR1cm4gbiA9IGUsIHQuZ2V0KCkgPCBuLmRhdGEubGVuZ3RoIC0gMSAmJiAhbi50eXBpbmc7CiAgICAgICAgICB2YXIgbjsKICAgICAgICB9LAogICAgICAgIHRyYW5zYWN0OiBmdW5jdGlvbiB0cmFuc2FjdChlLCB0LCBuKSB7CiAgICAgICAgICByZXR1cm4gbyA9IG4sIGZoKHIgPSBlLCB0KSwgci5iZWZvcmVDaGFuZ2UoKSwgci5pZ25vcmUobyksIHIuYWRkKCk7CiAgICAgICAgICB2YXIgciwgbzsKICAgICAgICB9LAogICAgICAgIGlnbm9yZTogZnVuY3Rpb24gaWdub3JlKGUsIHQpIHsKICAgICAgICAgIHRyeSB7CiAgICAgICAgICAgIGUuc2V0KGUuZ2V0KCkgKyAxKSwgdCgpOwogICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgZS5zZXQoZS5nZXQoKSAtIDEpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgZXh0cmE6IGZ1bmN0aW9uIGV4dHJhKGUsIHQsIG4sIHIpIHsKICAgICAgICAgIHZhciBvLAogICAgICAgICAgICAgIGksCiAgICAgICAgICAgICAgYSA9IGMsCiAgICAgICAgICAgICAgdSA9IHQsCiAgICAgICAgICAgICAgcyA9IHI7CiAgICAgICAgICAobyA9IGUpLnRyYW5zYWN0KG4pICYmIChpID0gby5kYXRhW3UuZ2V0KCldLmJvb2ttYXJrLCBpaChhLCBvLmRhdGFbdS5nZXQoKSAtIDFdLCAhMCksIG8udHJhbnNhY3QocykgJiYgKG8uZGF0YVt1LmdldCgpIC0gMV0uYmVmb3JlQm9va21hcmsgPSBpKSk7CiAgICAgICAgfQogICAgICB9LAogICAgICBmb3JtYXR0ZXI6IHsKICAgICAgICBtYXRjaDogZnVuY3Rpb24gbWF0Y2goZSwgdCwgbiwgcikgewogICAgICAgICAgcmV0dXJuIEJnKGMsIGUsIHQsIG4sIHIpOwogICAgICAgIH0sCiAgICAgICAgbWF0Y2hBbGw6IGZ1bmN0aW9uIG1hdGNoQWxsKGUsIHQpIHsKICAgICAgICAgIHJldHVybiBvID0gZSwgaSA9IHQsIGEgPSBbXSwgdSA9IHt9LCBuID0gKHIgPSBjKS5zZWxlY3Rpb24uZ2V0U3RhcnQoKSwgci5kb20uZ2V0UGFyZW50KG4sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGZvciAodmFyIHQgPSAwOyB0IDwgby5sZW5ndGg7IHQrKykgewogICAgICAgICAgICAgIHZhciBuID0gb1t0XTsKICAgICAgICAgICAgICAhdVtuXSAmJiBocChyLCBlLCBuLCBpKSAmJiAodVtuXSA9ICEwLCBhLnB1c2gobikpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCByLmRvbS5nZXRSb290KCkpLCBhOwogICAgICAgICAgdmFyIHIsIG8sIGksIGEsIHUsIG47CiAgICAgICAgfSwKICAgICAgICBtYXRjaE5vZGU6IGZ1bmN0aW9uIG1hdGNoTm9kZShlLCB0LCBuLCByKSB7CiAgICAgICAgICByZXR1cm4gaHAoYywgZSwgdCwgbiwgcik7CiAgICAgICAgfSwKICAgICAgICBjYW5BcHBseTogZnVuY3Rpb24gY2FuQXBwbHkodSkgewogICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHZhciB0ID0gZS5mb3JtYXR0ZXIuZ2V0KHUpLAogICAgICAgICAgICAgICAgbiA9IGUuZG9tOwogICAgICAgICAgICBpZiAodCkgZm9yICh2YXIgciA9IHNsKG4sIGUuc2VsZWN0aW9uLmdldFN0YXJ0KCkpLCBvID0gdC5sZW5ndGggLSAxOyAwIDw9IG87IG8tLSkgewogICAgICAgICAgICAgIHZhciBpID0gdFtvXTsKICAgICAgICAgICAgICBpZiAoIWZsKGkpIHx8IFYoaS5kZWZhdWx0QmxvY2spKSByZXR1cm4gITA7CgogICAgICAgICAgICAgIGZvciAodmFyIGEgPSByLmxlbmd0aCAtIDE7IDAgPD0gYTsgYS0tKSB7CiAgICAgICAgICAgICAgICBpZiAobi5pcyhyW2FdLCBpLnNlbGVjdG9yKSkgcmV0dXJuICEwOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gITE7CiAgICAgICAgICB9KGMpOwogICAgICAgIH0sCiAgICAgICAgY2xvc2VzdDogZnVuY3Rpb24gY2xvc2VzdChlKSB7CiAgICAgICAgICByZXR1cm4gciA9IGMsIG8gPSBlLCB2ZS5mcm9tKHIuc2VsZWN0aW9uLmdldFN0YXJ0KCEwKSkuYmluZChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICByZXR1cm4gQWcoTnQuZnJvbURvbShlKSwgZnVuY3Rpb24gKG4pIHsKICAgICAgICAgICAgICByZXR1cm4gZWUobywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBocChyLCBuLmRvbSwgdCA9IGUpID8gdmUuc29tZSh0KSA6IHZlLm5vbmUoKTsKICAgICAgICAgICAgICAgIHZhciB0OwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9LCB0KTsKICAgICAgICAgIH0pLmdldE9yTnVsbCgpOwoKICAgICAgICAgIGZ1bmN0aW9uIHQoZSkgewogICAgICAgICAgICByZXR1cm4gamUoZSwgTnQuZnJvbURvbShyLmdldEJvZHkoKSkpOwogICAgICAgICAgfQoKICAgICAgICAgIHZhciByLCBvOwogICAgICAgIH0sCiAgICAgICAgYXBwbHk6IGZ1bmN0aW9uIGFwcGx5KGUsIHQsIG4pIHsKICAgICAgICAgIHJldHVybiBSaChjLCBlLCB0LCBuKTsKICAgICAgICB9LAogICAgICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKGUsIHQsIG4sIHIpIHsKICAgICAgICAgIHJldHVybiBJcChjLCBlLCB0LCBuLCByKTsKICAgICAgICB9LAogICAgICAgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKGUsIHQsIG4pIHsKICAgICAgICAgIHZhciByLAogICAgICAgICAgICAgIG8gPSBlLAogICAgICAgICAgICAgIGkgPSB0LAogICAgICAgICAgICAgIGEgPSBuLAogICAgICAgICAgICAgIHUgPSAociA9IGMpLmZvcm1hdHRlci5nZXQobyk7CiAgICAgICAgICAoIUJnKHIsIG8sIGksIGEpIHx8ICJ0b2dnbGUiIGluIHVbMF0gJiYgIXVbMF0udG9nZ2xlID8gUmggOiBJcCkociwgbywgaSwgYSk7CiAgICAgICAgfSwKICAgICAgICBmb3JtYXRDaGFuZ2VkOiBmdW5jdGlvbiBmb3JtYXRDaGFuZ2VkKGUsIHQsIG4sIHIsIG8pIHsKICAgICAgICAgIHJldHVybiBIcChjLCBlLCB0LCBuLCByLCBvKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGVkaXRvcjogewogICAgICAgIGdldENvbnRlbnQ6IGZ1bmN0aW9uIGdldENvbnRlbnQoZSwgdCkgewogICAgICAgICAgcmV0dXJuIGQgPSBjLCBtID0gZSwgZyA9IHQsIHZlLmZyb20oZC5nZXRCb2R5KCkpLmZvbGQoSigidHJlZSIgPT09IG0uZm9ybWF0ID8gbmV3IFVkKCJib2R5IiwgMTEpIDogIiIpLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICByZXR1cm4gdCA9IGQsIHIgPSBlLCBvID0gZywgYyA9IF9lMihfZTIoe30sIG4gPSBtKSwgewogICAgICAgICAgICAgIGZvcm1hdDogbywKICAgICAgICAgICAgICBnZXQ6ICEwLAogICAgICAgICAgICAgIGdldElubmVyOiAhMAogICAgICAgICAgICB9KSwgbCA9IG4ubm9fZXZlbnRzID8gYyA6IHQuZmlyZSgiQmVmb3JlR2V0Q29udGVudCIsIGMpLCBmID0gInJhdyIgPT09IGwuZm9ybWF0ID8gRXQudHJpbShybSh0LnNlcmlhbGl6ZXIsIHIuaW5uZXJIVE1MKSkgOiAidGV4dCIgPT09IGwuZm9ybWF0ID8gdC5kb20uaXNFbXB0eShyKSA/ICIiIDogd28oci5pbm5lclRleHQgfHwgci50ZXh0Q29udGVudCkgOiAidHJlZSIgPT09IGwuZm9ybWF0ID8gdC5zZXJpYWxpemVyLnNlcmlhbGl6ZShyLCBsKSA6IChhID0gKGkgPSB0KS5zZXJpYWxpemVyLnNlcmlhbGl6ZShyLCBsKSwgdSA9IFNzKGkpLCBzID0gbmV3IFJlZ0V4cCgiXig8IiArIHUgKyAiW14+XSo+KCZuYnNwO3wmIzE2MDt8XFxzfFx4YTB8PGJyIFxcLz58KTxcXC8iICsgdSArICI+W1xyXG5dKnw8YnIgXFwvPltcclxuXSopJCIpLCBhLnJlcGxhY2UocywgIiIpKSwgRChbInRleHQiLCAidHJlZSJdLCBsLmZvcm1hdCkgfHwgdm8oTnQuZnJvbURvbShyKSkgPyBsLmNvbnRlbnQgPSBmIDogbC5jb250ZW50ID0gRXQudHJpbShmKSwgKGwubm9fZXZlbnRzID8gbCA6IHQuZmlyZSgiR2V0Q29udGVudCIsIGwpKS5jb250ZW50OwogICAgICAgICAgICB2YXIgdCwgbiwgciwgbywgaSwgYSwgdSwgcywgYywgbCwgZjsKICAgICAgICAgIH0pOwogICAgICAgICAgdmFyIGQsIG0sIGc7CiAgICAgICAgfSwKICAgICAgICBzZXRDb250ZW50OiBmdW5jdGlvbiBzZXRDb250ZW50KGUsIHQpIHsKICAgICAgICAgIHJldHVybiBrZyhjLCBlLCB0KTsKICAgICAgICB9LAogICAgICAgIGluc2VydENvbnRlbnQ6IGZ1bmN0aW9uIGluc2VydENvbnRlbnQoZSwgdCkgewogICAgICAgICAgcmV0dXJuIFNnKGMsIGUsIHQpOwogICAgICAgIH0sCiAgICAgICAgYWRkVmlzdWFsOiBmdW5jdGlvbiBhZGRWaXN1YWwoZSkgewogICAgICAgICAgdmFyIGksCiAgICAgICAgICAgICAgdCA9IGUsCiAgICAgICAgICAgICAgYSA9IChpID0gYykuZG9tLAogICAgICAgICAgICAgIG4gPSBWKHQpID8gdCA6IGkuZ2V0Qm9keSgpOwogICAgICAgICAgYihpLmhhc1Zpc3VhbCkgJiYgKGkuaGFzVmlzdWFsID0gaS5nZXRQYXJhbSgidmlzdWFsIiwgITAsICJib29sZWFuIikpLCBZKGEuc2VsZWN0KCJ0YWJsZSxhIiwgbiksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHN3aXRjaCAoZS5ub2RlTmFtZSkgewogICAgICAgICAgICAgIGNhc2UgIlRBQkxFIjoKICAgICAgICAgICAgICAgIHZhciB0ID0gaS5nZXRQYXJhbSgidmlzdWFsX3RhYmxlX2NsYXNzIiwgIm1jZS1pdGVtLXRhYmxlIiwgInN0cmluZyIpLAogICAgICAgICAgICAgICAgICAgIG4gPSBhLmdldEF0dHJpYihlLCAiYm9yZGVyIik7CiAgICAgICAgICAgICAgICBuICYmICIwIiAhPT0gbiB8fCAhaS5oYXNWaXN1YWwgPyBhLnJlbW92ZUNsYXNzKGUsIHQpIDogYS5hZGRDbGFzcyhlLCB0KTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlICJBIjoKICAgICAgICAgICAgICAgIHZhciByLCBvOwogICAgICAgICAgICAgICAgYS5nZXRBdHRyaWIoZSwgImhyZWYiKSB8fCAociA9IGEuZ2V0QXR0cmliKGUsICJuYW1lIikgfHwgZS5pZCwgbyA9IGkuZ2V0UGFyYW0oInZpc3VhbF9hbmNob3JfY2xhc3MiLCAibWNlLWl0ZW0tYW5jaG9yIiwgInN0cmluZyIpLCByICYmIGkuaGFzVmlzdWFsID8gYS5hZGRDbGFzcyhlLCBvKSA6IGEucmVtb3ZlQ2xhc3MoZSwgbykpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KSwgaS5maXJlKCJWaXN1YWxBaWQiLCB7CiAgICAgICAgICAgIGVsZW1lbnQ6IHQsCiAgICAgICAgICAgIGhhc1Zpc3VhbDogaS5oYXNWaXN1YWwKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgc2VsZWN0aW9uOiB7CiAgICAgICAgZ2V0Q29udGVudDogZnVuY3Rpb24gZ2V0Q29udGVudChlLCB0KSB7CiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgICAgICAgdmFyIHIsCiAgICAgICAgICAgICAgICBvID0gKHIgPSB0LCBfZTIoX2UyKHt9LCBuID0gdm9pZCAwID09PSBuID8ge30gOiBuKSwgewogICAgICAgICAgICAgIGZvcm1hdDogciwKICAgICAgICAgICAgICBnZXQ6ICEwLAogICAgICAgICAgICAgIHNlbGVjdGlvbjogITAKICAgICAgICAgICAgfSkpLAogICAgICAgICAgICAgICAgaSA9IGUuZmlyZSgiQmVmb3JlR2V0Q29udGVudCIsIG8pOwogICAgICAgICAgICBpZiAoaS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuIGUuZmlyZSgiR2V0Q29udGVudCIsIGkpLCBpLmNvbnRlbnQ7CiAgICAgICAgICAgIGlmICgidGV4dCIgPT09IGkuZm9ybWF0KSByZXR1cm4gbSA9IGUsIHZlLmZyb20obS5zZWxlY3Rpb24uZ2V0Um5nKCkpLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIHZhciB0ID0gdmUuZnJvbShtLmRvbS5nZXRQYXJlbnQoZS5jb21tb25BbmNlc3RvckNvbnRhaW5lciwgbS5kb20uaXNCbG9jaykpLAogICAgICAgICAgICAgICAgICBuID0gbS5nZXRCb2R5KCksCiAgICAgICAgICAgICAgICAgIHIgPSB0Lm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGUubm9kZU5hbWU7CiAgICAgICAgICAgICAgfSkuZ2V0T3IoImRpdiIpLnRvTG93ZXJDYXNlKCksCiAgICAgICAgICAgICAgICAgIG8gPSB4dC5icm93c2VyLmlzSUUoKSAmJiAicHJlIiAhPT0gciwKICAgICAgICAgICAgICAgICAgaSA9IG0uZG9tLmFkZChuLCByLCB7CiAgICAgICAgICAgICAgICAiZGF0YS1tY2UtYm9ndXMiOiAiYWxsIiwKICAgICAgICAgICAgICAgIHN0eWxlOiAib3ZlcmZsb3c6IGhpZGRlbjsgb3BhY2l0eTogMDsiCiAgICAgICAgICAgICAgfSwgZS5jbG9uZUNvbnRlbnRzKCkpLAogICAgICAgICAgICAgICAgICBhID0gdGgoaSwgbyksCiAgICAgICAgICAgICAgICAgIHUgPSB3byhpLnRleHRDb250ZW50KTsKCiAgICAgICAgICAgICAgaWYgKG0uZG9tLnJlbW92ZShpKSwgZWgodSwgMCkgfHwgZWgodSwgdS5sZW5ndGggLSAxKSkgewogICAgICAgICAgICAgICAgdmFyIHMgPSB0aCh0LmdldE9yKG4pLCBvKSwKICAgICAgICAgICAgICAgICAgICBjID0gcy5pbmRleE9mKGEpOwogICAgICAgICAgICAgICAgcmV0dXJuIC0xID09PSBjID8gYSA6IChlaChzLCBjIC0gMSkgPyAiICIgOiAiIikgKyBhICsgKGVoKHMsIGMgKyBhLmxlbmd0aCkgPyAiICIgOiAiIik7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gYTsKICAgICAgICAgICAgfSkuZ2V0T3IoIiIpOwogICAgICAgICAgICBpLmdldElubmVyID0gITA7CiAgICAgICAgICAgIHZhciBhLAogICAgICAgICAgICAgICAgdSwKICAgICAgICAgICAgICAgIHMsCiAgICAgICAgICAgICAgICBjLAogICAgICAgICAgICAgICAgbCwKICAgICAgICAgICAgICAgIGYsCiAgICAgICAgICAgICAgICBkLAogICAgICAgICAgICAgICAgbSwKICAgICAgICAgICAgICAgIGcgPSAodSA9IGksIHMgPSAoYSA9IGUpLnNlbGVjdGlvbi5nZXRSbmcoKSwgYyA9IGEuZG9tLmNyZWF0ZSgiYm9keSIpLCBsID0gYS5zZWxlY3Rpb24uZ2V0U2VsKCksIGYgPSB3ZChhLCBObChsKSksIChkID0gdS5jb250ZXh0dWFsID8gWnAoTnQuZnJvbURvbShhLmdldEJvZHkoKSksIGYpLmRvbSA6IHMuY2xvbmVDb250ZW50cygpKSAmJiBjLmFwcGVuZENoaWxkKGQpLCBhLnNlbGVjdGlvbi5zZXJpYWxpemVyLnNlcmlhbGl6ZShjLCB1KSk7CiAgICAgICAgICAgIHJldHVybiAidHJlZSIgPT09IGkuZm9ybWF0ID8gZyA6IChpLmNvbnRlbnQgPSBlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpID8gIiIgOiBnLCBlLmZpcmUoIkdldENvbnRlbnQiLCBpKSwgaS5jb250ZW50KTsKICAgICAgICAgIH0oYywgZSwgdCk7CiAgICAgICAgfQogICAgICB9LAogICAgICByYXc6IHsKICAgICAgICBnZXRNb2RlbDogZnVuY3Rpb24gZ2V0TW9kZWwoKSB7CiAgICAgICAgICByZXR1cm4gdmUubm9uZSgpOwogICAgICAgIH0KICAgICAgfQogICAgfTsKICB9CgogIGZ1bmN0aW9uIG1oKGUpIHsKICAgIHJldHVybiBOZShlLnBsdWdpbnMsICJydGMiKTsKICB9CgogIGZ1bmN0aW9uIGdoKGUpIHsKICAgIHZhciB1ID0gZTsKICAgIHJldHVybiB1ZShlLnBsdWdpbnMsICJydGMiKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiB2ZS5mcm9tKGUuc2V0dXApOwogICAgfSkuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB1LnJ0Y0luc3RhbmNlID0gZGgoZSksIHZlLm5vbmUoKTsKICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0LCBuOwogICAgICByZXR1cm4gdS5ydGNJbnN0YW5jZSA9ICh0ID0gSihudWxsKSwgbiA9IEooIiIpLCB7CiAgICAgICAgdW5kb01hbmFnZXI6IHsKICAgICAgICAgIGJlZm9yZUNoYW5nZTogdGUsCiAgICAgICAgICBhZGQ6IHQsCiAgICAgICAgICB1bmRvOiB0LAogICAgICAgICAgcmVkbzogdCwKICAgICAgICAgIGNsZWFyOiB0ZSwKICAgICAgICAgIHJlc2V0OiB0ZSwKICAgICAgICAgIGhhc1VuZG86IFIsCiAgICAgICAgICBoYXNSZWRvOiBSLAogICAgICAgICAgdHJhbnNhY3Q6IHQsCiAgICAgICAgICBpZ25vcmU6IHRlLAogICAgICAgICAgZXh0cmE6IHRlCiAgICAgICAgfSwKICAgICAgICBmb3JtYXR0ZXI6IHsKICAgICAgICAgIG1hdGNoOiBSLAogICAgICAgICAgbWF0Y2hBbGw6IEooW10pLAogICAgICAgICAgbWF0Y2hOb2RlOiBKKHZvaWQgMCksCiAgICAgICAgICBjYW5BcHBseTogUiwKICAgICAgICAgIGNsb3Nlc3Q6IG4sCiAgICAgICAgICBhcHBseTogdGUsCiAgICAgICAgICByZW1vdmU6IHRlLAogICAgICAgICAgdG9nZ2xlOiB0ZSwKICAgICAgICAgIGZvcm1hdENoYW5nZWQ6IEooewogICAgICAgICAgICB1bmJpbmQ6IHRlCiAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgZWRpdG9yOiB7CiAgICAgICAgICBnZXRDb250ZW50OiBuLAogICAgICAgICAgc2V0Q29udGVudDogbiwKICAgICAgICAgIGluc2VydENvbnRlbnQ6IHRlLAogICAgICAgICAgYWRkVmlzdWFsOiB0ZQogICAgICAgIH0sCiAgICAgICAgc2VsZWN0aW9uOiB7CiAgICAgICAgICBnZXRDb250ZW50OiBuCiAgICAgICAgfSwKICAgICAgICByYXc6IHsKICAgICAgICAgIGdldE1vZGVsOiBKKHZlLm5vbmUoKSkKICAgICAgICB9CiAgICAgIH0pLCB2ZS5zb21lKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gZSgpLnRoZW4oZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiB1LnJ0Y0luc3RhbmNlID0gKGkgPSBlLnVuZG9NYW5hZ2VyLCBhID0gZS5mb3JtYXR0ZXIsIG4gPSBlLmVkaXRvciwgciA9IGUuc2VsZWN0aW9uLCB0ID0gZS5yYXcsIHsKICAgICAgICAgICAgdW5kb01hbmFnZXI6IHsKICAgICAgICAgICAgICBiZWZvcmVDaGFuZ2U6IGkuYmVmb3JlQ2hhbmdlLAogICAgICAgICAgICAgIGFkZDogaS5hZGQsCiAgICAgICAgICAgICAgdW5kbzogaS51bmRvLAogICAgICAgICAgICAgIHJlZG86IGkucmVkbywKICAgICAgICAgICAgICBjbGVhcjogaS5jbGVhciwKICAgICAgICAgICAgICByZXNldDogaS5yZXNldCwKICAgICAgICAgICAgICBoYXNVbmRvOiBpLmhhc1VuZG8sCiAgICAgICAgICAgICAgaGFzUmVkbzogaS5oYXNSZWRvLAogICAgICAgICAgICAgIHRyYW5zYWN0OiBmdW5jdGlvbiB0cmFuc2FjdChlLCB0LCBuKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gaS50cmFuc2FjdChuKTsKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGlnbm9yZTogZnVuY3Rpb24gaWdub3JlKGUsIHQpIHsKICAgICAgICAgICAgICAgIHJldHVybiBpLmlnbm9yZSh0KTsKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGV4dHJhOiBmdW5jdGlvbiBleHRyYShlLCB0LCBuLCByKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gaS5leHRyYShuLCByKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGZvcm1hdHRlcjogewogICAgICAgICAgICAgIG1hdGNoOiBmdW5jdGlvbiBtYXRjaChlLCB0LCBuLCByKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYS5tYXRjaChlLCBvKHQpLCByKTsKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIG1hdGNoQWxsOiBhLm1hdGNoQWxsLAogICAgICAgICAgICAgIG1hdGNoTm9kZTogYS5tYXRjaE5vZGUsCiAgICAgICAgICAgICAgY2FuQXBwbHk6IGZ1bmN0aW9uIGNhbkFwcGx5KGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBhLmNhbkFwcGx5KGUpOwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgY2xvc2VzdDogZnVuY3Rpb24gY2xvc2VzdChlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYS5jbG9zZXN0KGUpOwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgYXBwbHk6IGZ1bmN0aW9uIGFwcGx5KGUsIHQsIG4pIHsKICAgICAgICAgICAgICAgIHJldHVybiBhLmFwcGx5KGUsIG8odCkpOwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoZSwgdCwgbiwgcikgewogICAgICAgICAgICAgICAgcmV0dXJuIGEucmVtb3ZlKGUsIG8odCkpOwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgdG9nZ2xlOiBmdW5jdGlvbiB0b2dnbGUoZSwgdCwgbikgewogICAgICAgICAgICAgICAgcmV0dXJuIGEudG9nZ2xlKGUsIG8odCkpOwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgZm9ybWF0Q2hhbmdlZDogZnVuY3Rpb24gZm9ybWF0Q2hhbmdlZChlLCB0LCBuLCByLCBvKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gYS5mb3JtYXRDaGFuZ2VkKHQsIG4sIHIsIG8pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZWRpdG9yOiB7CiAgICAgICAgICAgICAgZ2V0Q29udGVudDogZnVuY3Rpb24gZ2V0Q29udGVudChlLCB0KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbi5nZXRDb250ZW50KGUpOwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgc2V0Q29udGVudDogZnVuY3Rpb24gc2V0Q29udGVudChlLCB0KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbi5zZXRDb250ZW50KGUsIHQpOwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgaW5zZXJ0Q29udGVudDogZnVuY3Rpb24gaW5zZXJ0Q29udGVudChlLCB0KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbi5pbnNlcnRDb250ZW50KGUpOwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgYWRkVmlzdWFsOiBuLmFkZFZpc3VhbAogICAgICAgICAgICB9LAogICAgICAgICAgICBzZWxlY3Rpb246IHsKICAgICAgICAgICAgICBnZXRDb250ZW50OiBmdW5jdGlvbiBnZXRDb250ZW50KGUsIHQpIHsKICAgICAgICAgICAgICAgIHJldHVybiByLmdldENvbnRlbnQodCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICByYXc6IHsKICAgICAgICAgICAgICBnZXRNb2RlbDogZnVuY3Rpb24gZ2V0TW9kZWwoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdmUuc29tZSh0LmdldFJhd01vZGVsKCkpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSksIGUucnRjLmlzUmVtb3RlOwoKICAgICAgICAgIGZ1bmN0aW9uIG8oZSkgewogICAgICAgICAgICByZXR1cm4gaChlKSA/IGUgOiB7fTsKICAgICAgICAgIH0KCiAgICAgICAgICB2YXIgaSwgYSwgbiwgciwgdDsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIHBoKGUpIHsKICAgIHJldHVybiBlLnJ0Y0luc3RhbmNlIHx8IGRoKGUpOwogIH0KCiAgZnVuY3Rpb24gaGgoZSkgewogICAgdmFyIHQgPSBlLnJ0Y0luc3RhbmNlOwogICAgaWYgKHQpIHJldHVybiB0OwogICAgdGhyb3cgbmV3IEVycm9yKCJGYWlsZWQgdG8gZ2V0IFJUQyBpbnN0YW5jZSBub3QgeWV0IGluaXRpYWxpemVkLiIpOwogIH0KCiAgZnVuY3Rpb24gdmgoZSkgewogICAgcmV0dXJuIDAgPT09IGUuZG9tLmxlbmd0aCA/IChMbihlKSwgdmUubm9uZSgpKSA6IHZlLnNvbWUoZSk7CiAgfQoKICBmdW5jdGlvbiBiaChlLCB0LCB1LCBzKSB7CiAgICBlLmJpbmQoZnVuY3Rpb24gKGEpIHsKICAgICAgcmV0dXJuIChzID8gVW0gOiBGbSkoYS5kb20sIHMgPyBhLmRvbS5sZW5ndGggOiAwKSwgdC5maWx0ZXIoX24pLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciB0ID0gdSwKICAgICAgICAgICAgbiA9IHMsCiAgICAgICAgICAgIHIgPSBhLmRvbSwKICAgICAgICAgICAgbyA9IGUuZG9tLAogICAgICAgICAgICBpID0gKG4gPyByIDogbykubGVuZ3RoOwogICAgICAgIG4gPyAoem0ociwgbywgITEsICFuKSwgdC5zZXRTdGFydChvLCBpKSkgOiAoem0obywgciwgITEsICFuKSwgdC5zZXRFbmQobywgaSkpOwogICAgICB9KTsKICAgIH0pLm9yVGh1bmsoZnVuY3Rpb24gKCkgewogICAgICB2YXIgZSA9IHM7CiAgICAgIHJldHVybiB0LmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBGbC5pc0Jvb2ttYXJrTm9kZShlLmRvbSk7CiAgICAgIH0pLmJpbmQoZSA/IFB0IDogQnQpLm9yKHQpLmZpbHRlcihfbikubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIG4sCiAgICAgICAgICAgIHIgPSBzOwogICAgICAgIE90KG4gPSBlKS5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgdCA9IG4uZG9tOwogICAgICAgICAgciAmJiBEbShlLCBhcyh0LCAwKSkgPyBGbSh0LCAwKSA6ICFyICYmIFRtKGUsIGFzKHQsIHQubGVuZ3RoKSkgJiYgVW0odCwgdC5sZW5ndGgpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24geWgoZSwgdCwgbikgewogICAgdmFyIHIsCiAgICAgICAgbyA9IChyID0gdCwgX2UyKF9lMih7CiAgICAgIGZvcm1hdDogImh0bWwiCiAgICB9LCBuID0gdm9pZCAwID09PSBuID8ge30gOiBuKSwgewogICAgICBzZXQ6ICEwLAogICAgICBzZWxlY3Rpb246ICEwLAogICAgICBjb250ZW50OiByCiAgICB9KSksCiAgICAgICAgaSA9IG87CgogICAgaWYgKCFvLm5vX2V2ZW50cykgewogICAgICB2YXIgYSA9IGUuZmlyZSgiQmVmb3JlU2V0Q29udGVudCIsIG8pOwogICAgICBpZiAoYS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuIHZvaWQgZS5maXJlKCJTZXRDb250ZW50IiwgYSk7CiAgICAgIGkgPSBhOwogICAgfQoKICAgIGkuY29udGVudCA9IGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIGlmICgicmF3IiA9PT0gdC5mb3JtYXQpIHJldHVybiB0LmNvbnRlbnQ7CiAgICAgIHZhciBuID0gZS5zZWxlY3Rpb24uZ2V0Um5nKCksCiAgICAgICAgICByID0gZS5kb20uZ2V0UGFyZW50KG4uY29tbW9uQW5jZXN0b3JDb250YWluZXIsIGUuZG9tLmlzQmxvY2spLAogICAgICAgICAgbyA9IHIgPyB7CiAgICAgICAgY29udGV4dDogci5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpCiAgICAgIH0gOiB7fSwKICAgICAgICAgIGkgPSBlLnBhcnNlci5wYXJzZSh0LmNvbnRlbnQsIF9lMihfZTIoewogICAgICAgIGlzUm9vdENvbnRlbnQ6ICEwLAogICAgICAgIGZvcmNlZF9yb290X2Jsb2NrOiAhMQogICAgICB9LCBvKSwgdCkpOwogICAgICByZXR1cm4gbm0oewogICAgICAgIHZhbGlkYXRlOiBlLnZhbGlkYXRlCiAgICAgIH0sIGUuc2NoZW1hKS5zZXJpYWxpemUoaSk7CiAgICB9KGUsIGkpOwoKICAgIHZhciB1ID0gZS5zZWxlY3Rpb24uZ2V0Um5nKCk7CiAgICAhZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgdmFyIG4gPSB2ZS5mcm9tKHQuZmlyc3RDaGlsZCkubWFwKE50LmZyb21Eb20pLAogICAgICAgICAgciA9IHZlLmZyb20odC5sYXN0Q2hpbGQpLm1hcChOdC5mcm9tRG9tKTsKICAgICAgZS5kZWxldGVDb250ZW50cygpLCBlLmluc2VydE5vZGUodCk7CiAgICAgIHZhciBvID0gbi5iaW5kKEJ0KS5maWx0ZXIoX24pLmJpbmQodmgpLAogICAgICAgICAgaSA9IHIuYmluZChQdCkuZmlsdGVyKF9uKS5iaW5kKHZoKTsKICAgICAgYmgobywgbiwgZSwgITApLCBiaChpLCByLCBlLCAhMSksIGUuY29sbGFwc2UoITEpOwogICAgfSh1LCB1LmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudChpLmNvbnRlbnQpKSwgZS5zZWxlY3Rpb24uc2V0Um5nKHUpLCBaZihlLCB1KSwgaS5ub19ldmVudHMgfHwgZS5maXJlKCJTZXRDb250ZW50IiwgaSk7CiAgfQoKICBmdW5jdGlvbiBDaChlLCB0LCBuKSB7CiAgICB2YXIgcjsKICAgIGUgJiYgTmUoZSwgdCkgJiYgKDAgPT09IChyID0gVShlW3RdLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gZSAhPT0gbjsKICAgIH0pKS5sZW5ndGggPyBkZWxldGUgZVt0XSA6IGVbdF0gPSByKTsKICB9CgogIHFnID0gZnVuY3Rpb24gcWcoZSkgewogICAgdmFyIHQsCiAgICAgICAgbiA9IGUuc2VsZWN0aW9uLmdldFJuZygpLAogICAgICAgIHIgPSBvbihbInByZSJdKTsKICAgIG4uY29sbGFwc2VkIHx8ICh0ID0gZS5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRCbG9ja3MoKSwgeHAoQ3AoQ3AodCwgciksIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiByKGUucHJldmlvdXNTaWJsaW5nKSAmJiAtMSAhPT0gZGUodCwgZS5wcmV2aW91c1NpYmxpbmcpOwogICAgfSksIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0LAogICAgICAgICAgbiA9IGUucHJldmlvdXNTaWJsaW5nOwogICAgICBXYSh0ID0gZSkucmVtb3ZlKCksIFdhKG4pLmFwcGVuZCgiPGJyPjxicj4iKS5hcHBlbmQodC5jaGlsZE5vZGVzKTsKICAgIH0pKTsKICB9LCB5cFsicHJlIl0gfHwgKHlwLnByZSA9IFtdKSwgeXAucHJlLnB1c2gocWcpOwoKICB2YXIgeGggPSBFdC5lYWNoLAogICAgICB3aCA9IGZ1bmN0aW9uIHdoKGUsIHQsIG4pIHsKICAgIHhoKGUuY2hpbGROb2RlcywgZnVuY3Rpb24gKGUpIHsKICAgICAgd3AoZSkgJiYgKHQoZSkgJiYgbihlKSwgZS5oYXNDaGlsZE5vZGVzKCkgJiYgd2goZSwgdCwgbikpOwogICAgfSk7CiAgfSwKICAgICAgU2ggPSBvcihbewogICAga2VlcDogW10KICB9LCB7CiAgICByZW5hbWU6IFsibmFtZSJdCiAgfSwgewogICAgcmVtb3ZlZDogW10KICB9XSksCiAgICAgIEVoID0gL14oc3JjfGhyZWZ8c3R5bGUpJC8sCiAgICAgIE5oID0gRXQuZWFjaCwKICAgICAga2ggPSBvbCwKICAgICAgX2ggPSBFdC5lYWNoLAogICAgICBBaCA9IEV0LmVhY2gsCiAgICAgIFJoID0gZnVuY3Rpb24gUmgoUywgRSwgTiwgcikgewogICAgZnVuY3Rpb24gayhuLCBlKSB7CiAgICAgIHZhciB0OwogICAgICB5KChlID0gdm9pZCAwID09PSBlID8gQSA6IGUpLm9uZm9ybWF0KSAmJiBlLm9uZm9ybWF0KG4sIGUsIE4sIHIpLCBBaChlLnN0eWxlcywgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICB1LnNldFN0eWxlKG4sIHQsIHJsKGUsIE4pKTsKICAgICAgfSksICFlLnN0eWxlcyB8fCAodCA9IHUuZ2V0QXR0cmliKG4sICJzdHlsZSIpKSAmJiB1LnNldEF0dHJpYihuLCAiZGF0YS1tY2Utc3R5bGUiLCB0KSwgQWgoZS5hdHRyaWJ1dGVzLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIHUuc2V0QXR0cmliKG4sIHQsIHJsKGUsIE4pKTsKICAgICAgfSksIEFoKGUuY2xhc3NlcywgZnVuY3Rpb24gKGUpIHsKICAgICAgICBlID0gcmwoZSwgTiksIHUuaGFzQ2xhc3MobiwgZSkgfHwgdS5hZGRDbGFzcyhuLCBlKTsKICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gZyhlLCB0KSB7CiAgICAgIHZhciBuID0gITE7CiAgICAgIHJldHVybiBBaChlLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiAhIWZsKGUpICYmIChWKGUuY29sbGFwc2VkKSAmJiBlLmNvbGxhcHNlZCAhPT0gYSB8fCAhdS5pcyh0LCBlLnNlbGVjdG9yKSB8fCB6Yyh0KSA/IHZvaWQgMCA6IChrKHQsIGUpLCAhKG4gPSAhMCkpKTsKICAgICAgfSksIG47CiAgICB9CgogICAgZnVuY3Rpb24gbyh4LCBlLCBsKSB7CiAgICAgIHZhciB3ID0gW10sCiAgICAgICAgICBmID0gITAsCiAgICAgICAgICBkID0gQS5pbmxpbmUgfHwgQS5ibG9jaywKICAgICAgICAgIG0gPSBmdW5jdGlvbiAoZSkgewogICAgICAgIGlmIChYKGUpKSB7CiAgICAgICAgICB2YXIgdCA9IHUuY3JlYXRlKGUpOwogICAgICAgICAgcmV0dXJuIGsodCksIHQ7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfShkKTsKCiAgICAgIEVsKHgsIGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHMsCiAgICAgICAgICAgIGMgPSBmdW5jdGlvbiBjKGUpIHsKICAgICAgICAgIHZhciB0ID0gITEsCiAgICAgICAgICAgICAgbiA9IGYsCiAgICAgICAgICAgICAgciA9IGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwKICAgICAgICAgICAgICBvID0gZS5wYXJlbnROb2RlLAogICAgICAgICAgICAgIGkgPSBvLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgICBpZiAoem4oZSkgJiYgeC5nZXRDb250ZW50RWRpdGFibGUoZSkgJiYgKG4gPSBmLCBmID0gInRydWUiID09PSB4LmdldENvbnRlbnRFZGl0YWJsZShlKSwgdCA9ICEwKSwgV24oZSkgJiYgIWZ1bmN0aW9uIChlLCB0LCBuLCByKSB7CiAgICAgICAgICAgIGlmIChlLmdldFBhcmFtKCJmb3JtYXRfZW1wdHlfbGluZXMiLCAhMSwgImJvb2xlYW4iKSAmJiBkbCh0KSkgewogICAgICAgICAgICAgIHZhciBvID0gX2UyKF9lMih7fSwgZS5zY2hlbWEuZ2V0VGV4dEJsb2NrRWxlbWVudHMoKSksIHsKICAgICAgICAgICAgICAgIHRkOiB7fSwKICAgICAgICAgICAgICAgIHRoOiB7fSwKICAgICAgICAgICAgICAgIGxpOiB7fSwKICAgICAgICAgICAgICAgIGR0OiB7fSwKICAgICAgICAgICAgICAgIGRkOiB7fSwKICAgICAgICAgICAgICAgIGZpZ2NhcHRpb246IHt9LAogICAgICAgICAgICAgICAgY2FwdGlvbjoge30sCiAgICAgICAgICAgICAgICBkZXRhaWxzOiB7fSwKICAgICAgICAgICAgICAgIHN1bW1hcnk6IHt9CiAgICAgICAgICAgICAgfSksCiAgICAgICAgICAgICAgICAgIGkgPSAoYSA9IE50LmZyb21Eb20obiksIHMgPSBmdW5jdGlvbiBzKGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiB6YyhlLmRvbSk7CiAgICAgICAgICAgICAgfSwgKChjID0gKHUgPSBhKS5kb20pLnBhcmVudE5vZGUgPyBOcihOdC5mcm9tRG9tKGMucGFyZW50Tm9kZSksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gIWplKHUsIGUpICYmIHMoZSk7CiAgICAgICAgICAgICAgfSkgOiB2ZS5ub25lKCkpLmlzU29tZSgpKTsKCiAgICAgICAgICAgICAgcmV0dXJuIHNlKG8sIHIpICYmIFdyKE50LmZyb21Eb20obi5wYXJlbnROb2RlKSwgITEpICYmICFpOwogICAgICAgICAgICB9CgogICAgICAgICAgICB2YXIgYSwgdSwgcywgYzsKICAgICAgICAgIH0oUywgQSwgZSwgaSkpIHJldHVybiBzID0gbnVsbCwgdm9pZCAobGwoQSkgJiYgeC5yZW1vdmUoZSkpOwogICAgICAgICAgaWYgKGxsKEEpICYmIEEud3JhcHBlciAmJiBocChTLCBlLCBFLCBOKSkgcyA9IG51bGw7ZWxzZSB7CiAgICAgICAgICAgIGlmIChmICYmICF0ICYmIGxsKEEpICYmICFBLndyYXBwZXIgJiYgdGwoUywgcikgJiYgbmwoUywgaSwgZCkpIHsKICAgICAgICAgICAgICB2YXIgYSA9IHgucmVuYW1lKGUsIGQpOwogICAgICAgICAgICAgIHJldHVybiBrKGEpLCB3LnB1c2goYSksIHZvaWQgKHMgPSBudWxsKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGZsKEEpKSB7CiAgICAgICAgICAgICAgdmFyIHUgPSBnKF8sIGUpOwogICAgICAgICAgICAgIGlmICghdSAmJiBWKG8pICYmIG1sKEEpICYmICh1ID0gZyhfLCBvKSksICFkbChBKSB8fCB1KSByZXR1cm4gdm9pZCAocyA9IG51bGwpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAhZiB8fCB0IHx8ICFubChTLCBkLCByKSB8fCAhbmwoUywgaSwgZCkgfHwgIWwgJiYgam4oZSkgJiYgeG8oZS5kYXRhKSB8fCB6YyhlKSB8fCBkbChBKSAmJiB4LmlzQmxvY2soZSkgPyAocyA9IG51bGwsIFkoeGUoZS5jaGlsZE5vZGVzKSwgYyksIHQgJiYgKGYgPSBuKSwgcyA9IG51bGwpIDogKHMgfHwgKHMgPSB4LmNsb25lKG0sICExKSwgZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShzLCBlKSwgdy5wdXNoKHMpKSwgcy5hcHBlbmRDaGlsZChlKSk7CiAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgWShlLCBjKTsKICAgICAgfSksICEwID09PSBBLmxpbmtzICYmIFkodywgZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgdCA9IGZ1bmN0aW9uIHQoZSkgewogICAgICAgICAgIkEiID09PSBlLm5vZGVOYW1lICYmIGsoZSwgQSksIFkoeGUoZS5jaGlsZE5vZGVzKSwgdCk7CiAgICAgICAgfTsKCiAgICAgICAgdChlKTsKICAgICAgfSksIFkodywgZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgbiwKICAgICAgICAgICAgdCwKICAgICAgICAgICAgciwKICAgICAgICAgICAgbywKICAgICAgICAgICAgaSwKICAgICAgICAgICAgYSwKICAgICAgICAgICAgdSwKICAgICAgICAgICAgcywKICAgICAgICAgICAgYywKICAgICAgICAgICAgbCwKICAgICAgICAgICAgZiwKICAgICAgICAgICAgZCwKICAgICAgICAgICAgbSwKICAgICAgICAgICAgZywKICAgICAgICAgICAgcCwKICAgICAgICAgICAgaCwKICAgICAgICAgICAgdiwKICAgICAgICAgICAgYiwKICAgICAgICAgICAgeSA9IChuID0gMCwgWShlLmNoaWxkTm9kZXMsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgdDsKICAgICAgICAgIFYodCA9IGUpICYmIGpuKHQpICYmIDAgPT09IHQubGVuZ3RoIHx8IFljKGUpIHx8IG4rKzsKICAgICAgICB9KSwgbik7CgogICAgICAgIGZ1bmN0aW9uIEMoZSkgewogICAgICAgICAgdmFyIHQ7CiAgICAgICAgICAxID09PSBlLm5vZGVUeXBlICYmIGUucGFyZW50Tm9kZSAmJiAxID09PSBlLnBhcmVudE5vZGUubm9kZVR5cGUgJiYgKHQgPSB1bChtLCBlLnBhcmVudE5vZGUpLCBtLmdldFN0eWxlKGUsICJjb2xvciIpICYmIHQgPyBtLnNldFN0eWxlKGUsICJ0ZXh0LWRlY29yYXRpb24iLCB0KSA6IG0uZ2V0U3R5bGUoZSwgInRleHQtZGVjb3JhdGlvbiIpID09PSB0ICYmIG0uc2V0U3R5bGUoZSwgInRleHQtZGVjb3JhdGlvbiIsIG51bGwpKTsKICAgICAgICB9CgogICAgICAgICEoMSA8IHcubGVuZ3RoKSAmJiB4LmlzQmxvY2soZSkgfHwgMCAhPT0geSA/IChkbChBKSB8fCBsbChBKSAmJiBBLndyYXBwZXIpICYmIChBLmV4YWN0IHx8IDEgIT09IHkgfHwgKGUgPSBNKChkID0gZSkuY2hpbGROb2RlcywgTXApLmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIFRnKHgsIGUsIEEpOwogICAgICAgIH0pLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgdmFyIHQgPSB4LmNsb25lKGUsICExKTsKICAgICAgICAgIHJldHVybiBrKHQpLCB4LnJlcGxhY2UodCwgZCwgITApLCB4LnJlbW92ZShlLCAhMCksIHQ7CiAgICAgICAgfSkuZ2V0T3IoZCkpLCBoID0gUywgdiA9IE4sIGIgPSBlLCBfaChfLCBmdW5jdGlvbiAodCkgewogICAgICAgICAgdmFyIHIsIGUsIG47CiAgICAgICAgICBkbCh0KSAmJiBfaChoLmRvbS5zZWxlY3QodC5pbmxpbmUsIGIpLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB3cChlKSAmJiBMcChoLCB0LCB2LCBlLCB0LmV4YWN0ID8gZSA6IG51bGwpOwogICAgICAgICAgfSksIHIgPSBoLmRvbSwgKGUgPSB0KS5jbGVhcl9jaGlsZF9zdHlsZXMgJiYgKG4gPSBlLmxpbmtzID8gIio6bm90KGEpIiA6ICIqIiwgeGgoci5zZWxlY3QobiwgYiksIGZ1bmN0aW9uIChuKSB7CiAgICAgICAgICAgIHdwKG4pICYmIHhoKGUuc3R5bGVzLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgICAgICAgIHIuc2V0U3R5bGUobiwgdCwgIiIpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pKTsKICAgICAgICB9KSwgcyA9IEEsIGhwKHUgPSBTLCAoZiA9IGUpLnBhcmVudE5vZGUsIGMgPSBFLCBsID0gTikgJiYgTHAodSwgcywgbCwgZikgfHwgcy5tZXJnZV93aXRoX3BhcmVudHMgJiYgdS5kb20uZ2V0UGFyZW50KGYucGFyZW50Tm9kZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGlmIChocCh1LCBlLCBjLCBsKSkgcmV0dXJuIExwKHUsIHMsIGwsIGYpLCAhMDsKICAgICAgICB9KSwgYSA9IGUsIChpID0gQSkuc3R5bGVzICYmIGkuc3R5bGVzLmJhY2tncm91bmRDb2xvciAmJiB3aChhLCBrcCh4LCAiZm9udFNpemUiKSwgX3AoeCwgImJhY2tncm91bmRDb2xvciIsIHJsKGkuc3R5bGVzLmJhY2tncm91bmRDb2xvciwgTikpKSwgbSA9IHgsIHAgPSBlLCAoZyA9IEEpLnN0eWxlcyAmJiAoZy5zdHlsZXMuY29sb3IgfHwgZy5zdHlsZXMudGV4dERlY29yYXRpb24pICYmIChFdC53YWxrKHAsIEMsICJjaGlsZE5vZGVzIiksIEMocCkpLCB0ID0geCwgbyA9IGUsICFkbChyID0gQSkgfHwgInN1YiIgIT09IHIuaW5saW5lICYmICJzdXAiICE9PSByLmlubGluZSB8fCAod2gobywga3AodCwgImZvbnRTaXplIiksIF9wKHQsICJmb250U2l6ZSIsICIiKSksIHQucmVtb3ZlKHQuc2VsZWN0KCJzdXAiID09PSByLmlubGluZSA/ICJzdWIiIDogInN1cCIsIG8pLCAhMCkpLCBOcCh4LCBBLCAwLCBlKSkgOiB4LnJlbW92ZShlLCAhMCk7CiAgICAgIH0pOwogICAgfQoKICAgIHZhciBlLAogICAgICAgIHQsCiAgICAgICAgbiwKICAgICAgICBpLAogICAgICAgIF8gPSBTLmZvcm1hdHRlci5nZXQoRSksCiAgICAgICAgQSA9IF9bMF0sCiAgICAgICAgYSA9ICFyICYmIFMuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCksCiAgICAgICAgdSA9IFMuZG9tLAogICAgICAgIHMgPSBTLnNlbGVjdGlvbjsKCiAgICBpZiAoImZhbHNlIiAhPT0gdS5nZXRDb250ZW50RWRpdGFibGUocy5nZXROb2RlKCkpKSBBICYmIChyID8gUWMocikgPyBnKF8sIHIpIHx8ICgoZSA9IHUuY3JlYXRlUm5nKCkpLnNldFN0YXJ0QmVmb3JlKHIpLCBlLnNldEVuZEFmdGVyKHIpLCBvKHUsIFNsKFMsIGUsIF8pLCAhMCkpIDogbyh1LCByLCAhMCkgOiBhICYmIGRsKEEpICYmICFfbChTKS5sZW5ndGggPyBmdW5jdGlvbiAoZSwgdCwgbikgewogICAgICB2YXIgciwKICAgICAgICAgIG8gPSBlLnNlbGVjdGlvbiwKICAgICAgICAgIGkgPSBvLmdldFJuZygpLAogICAgICAgICAgYSA9IGkuc3RhcnRPZmZzZXQsCiAgICAgICAgICB1ID0gaS5zdGFydENvbnRhaW5lci5ub2RlVmFsdWUsCiAgICAgICAgICBzID0gSGMoZS5nZXRCb2R5KCksIG8uZ2V0U3RhcnQoKSk7CiAgICAgIHMgJiYgKHIgPSBMZyhzKSk7CiAgICAgIHZhciBjLAogICAgICAgICAgbCwKICAgICAgICAgIGYsCiAgICAgICAgICBkLAogICAgICAgICAgbSA9IC9bXlxzXHUwMGEwXHUwMGFkXHUyMDBiXHVmZWZmXS87CiAgICAgIHUgJiYgMCA8IGEgJiYgYSA8IHUubGVuZ3RoICYmIG0udGVzdCh1LmNoYXJBdChhKSkgJiYgbS50ZXN0KHUuY2hhckF0KGEgLSAxKSkgPyAoYyA9IG8uZ2V0Qm9va21hcmsoKSwgaS5jb2xsYXBzZSghMCksIGwgPSBUZihTbChlLCBpLCBlLmZvcm1hdHRlci5nZXQodCkpKSwgZS5mb3JtYXR0ZXIuYXBwbHkodCwgbiwgbCksIG8ubW92ZVRvQm9va21hcmsoYykpIDogKHMgJiYgci5ub2RlVmFsdWUgPT09IHZwIHx8IChmID0gZS5nZXREb2MoKSwgZCA9IElnKCEwKS5kb20sIHIgPSAocyA9IGYuaW1wb3J0Tm9kZShkLCAhMCkpLmZpcnN0Q2hpbGQsIGkuaW5zZXJ0Tm9kZShzKSwgYSA9IDEpLCBlLmZvcm1hdHRlci5hcHBseSh0LCBuLCBzKSwgby5zZXRDdXJzb3JMb2NhdGlvbihyLCBhKSk7CiAgICB9KFMsIEUsIE4pIDogKHQgPSBzLmdldE5vZGUoKSwgbiA9IF9bMF0sIFMuc2V0dGluZ3MuZm9yY2VkX3Jvb3RfYmxvY2sgfHwgIW4uZGVmYXVsdEJsb2NrIHx8IHUuZ2V0UGFyZW50KHQsIHUuaXNCbG9jaykgfHwgUmgoUywgbi5kZWZhdWx0QmxvY2spLCBzLnNldFJuZyh2ZyhzLmdldFJuZygpKSksIEJsKHMsICEwLCBmdW5jdGlvbiAoKSB7CiAgICAgIE9sKFMsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgdmFyIG4gPSB0ID8gZSA6IFNsKFMsIGUsIF8pOwogICAgICAgIG8odSwgbiwgITEpOwogICAgICB9KTsKICAgIH0pLCBaYyh1LCBzLCBzLmdldFJuZygpKSwgUy5ub2RlQ2hhbmdlZCgpKSwgaSA9IFMsIHhwKHlwW0VdLCBmdW5jdGlvbiAoZSkgewogICAgICBlKGkpOwogICAgfSkpLCBiZihTLCBFLCByLCBOKTtlbHNlIHsKICAgICAgciA9IHMuZ2V0Tm9kZSgpOwoKICAgICAgZm9yICh2YXIgYyA9IDAsIGwgPSBfLmxlbmd0aDsgYyA8IGw7IGMrKykgewogICAgICAgIHZhciBmID0gX1tjXTsKCiAgICAgICAgaWYgKGYuY2VGYWxzZU92ZXJyaWRlICYmIGZsKGYpICYmIHUuaXMociwgZi5zZWxlY3RvcikpIHsKICAgICAgICAgIGsociwgZik7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGJmKFMsIEUsIHIsIE4pOwogICAgfQogIH0sCiAgICAgIERoID0gZnVuY3Rpb24gRGgoZSkgewogICAgcmV0dXJuIGUuc2VsZWN0aW9uLmdldFN0YXJ0KCk7CiAgfSwKICAgICAgVGggPSBmdW5jdGlvbiBUaChpLCBhLCBlKSB7CiAgICB2YXIgdSA9IHpwKGksIGEpOwogICAgbmUoZSwgZnVuY3Rpb24gKGUsIG8pIHsKICAgICAgZnVuY3Rpb24gdChlKSB7CiAgICAgICAgdmFyIHQsCiAgICAgICAgICAgIG4gPSBVcChpLCB1LCBvLCBlLnNpbWlsYXIsIEZwKGUpID8gZS52YXJzIDogdm9pZCAwKSwKICAgICAgICAgICAgciA9IG4uaXNTb21lKCk7CiAgICAgICAgZS5zdGF0ZS5nZXQoKSAhPT0gciAmJiAoZS5zdGF0ZS5zZXQociksIHQgPSBuLmdldE9yKGEpLCBGcChlKSA/IGUuY2FsbGJhY2sociwgewogICAgICAgICAgbm9kZTogdCwKICAgICAgICAgIGZvcm1hdDogbywKICAgICAgICAgIHBhcmVudHM6IHUKICAgICAgICB9KSA6IFkoZS5jYWxsYmFja3MsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gZShyLCB7CiAgICAgICAgICAgIG5vZGU6IHQsCiAgICAgICAgICAgIGZvcm1hdDogbywKICAgICAgICAgICAgcGFyZW50czogdQogICAgICAgICAgfSk7CiAgICAgICAgfSkpOwogICAgICB9CgogICAgICBZKFtlLndpdGhTaW1pbGFyLCBlLndpdGhvdXRTaW1pbGFyXSwgdCksIFkoZS53aXRoVmFycywgdCk7CiAgICB9KTsKICB9LAogICAgICBPaCA9IFJlKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBkb2N1bWVudC5pbXBsZW1lbnRhdGlvbi5jcmVhdGVIVE1MRG9jdW1lbnQoInVuZG8iKTsKICB9KTsKCiAgZnVuY3Rpb24gQmgoZSkgewogICAgcmV0dXJuIGUuc2VsZWN0OwogIH0KCiAgZnVuY3Rpb24gUGgoZSkgewogICAgcmV0dXJuIGUgJiYgZS5vd25lckRvY3VtZW50ICYmIFZlKE50LmZyb21Eb20oZS5vd25lckRvY3VtZW50KSwgTnQuZnJvbURvbShlKSk7CiAgfQoKICBmdW5jdGlvbiBMaChhLCB1LCBlLCBzKSB7CiAgICBmdW5jdGlvbiB0KGUsIHQpIHsKICAgICAgcmV0dXJuIHloKHMsIGUsIHQpOwogICAgfQoKICAgIGZ1bmN0aW9uIG4oKSB7CiAgICAgIHZhciBlID0gYygpLAogICAgICAgICAgdCA9IG51bGwgPT0gZSA/IHZvaWQgMCA6IGUuYW5jaG9yTm9kZSwKICAgICAgICAgIG4gPSBudWxsID09IGUgPyB2b2lkIDAgOiBlLmZvY3VzTm9kZTsKICAgICAgaWYgKCFlIHx8ICF0IHx8ICFuIHx8IHJuKHQpIHx8IHJuKG4pKSByZXR1cm4gITA7CiAgICAgIHZhciByID0gYS5jcmVhdGVSbmcoKTsKICAgICAgci5zZXRTdGFydCh0LCBlLmFuY2hvck9mZnNldCksIHIuY29sbGFwc2UoITApOwogICAgICB2YXIgbyA9IGEuY3JlYXRlUm5nKCk7CiAgICAgIHJldHVybiBvLnNldFN0YXJ0KG4sIGUuZm9jdXNPZmZzZXQpLCBvLmNvbGxhcHNlKCEwKSwgci5jb21wYXJlQm91bmRhcnlQb2ludHMoci5TVEFSVF9UT19TVEFSVCwgbykgPD0gMDsKICAgIH0KCiAgICBmdW5jdGlvbiByKGUpIHsKICAgICAgdmFyIHQgPSBwKCk7CiAgICAgIHQuY29sbGFwc2UoISFlKSwgaCh0KTsKICAgIH0KCiAgICBmdW5jdGlvbiBjKCkgewogICAgICByZXR1cm4gdS5nZXRTZWxlY3Rpb24gPyB1LmdldFNlbGVjdGlvbigpIDogdS5kb2N1bWVudC5zZWxlY3Rpb247CiAgICB9CgogICAgdmFyIGwsCiAgICAgICAgZiwKICAgICAgICBvLAogICAgICAgIGksCiAgICAgICAgZCwKICAgICAgICBtLAogICAgICAgIGcgPSBmdW5jdGlvbiBnKGUsIHQpIHsKICAgICAgcmV0dXJuIGQgfHwgKGQgPSB7fSwgbSA9IHt9LCBpLm9uKCJOb2RlQ2hhbmdlIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgbiA9IGUuZWxlbWVudCwKICAgICAgICAgICAgciA9IHgobiksCiAgICAgICAgICAgIG8gPSB7fTsKICAgICAgICBFdC5lYWNoKGQsIGZ1bmN0aW9uIChlLCBuKSB7CiAgICAgICAgICBDKG4sIHIpLmVhY2goZnVuY3Rpb24gKHQpIHsKICAgICAgICAgICAgbVtuXSB8fCAoWShlLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIGUoITAsIHsKICAgICAgICAgICAgICAgIG5vZGU6IHQsCiAgICAgICAgICAgICAgICBzZWxlY3RvcjogbiwKICAgICAgICAgICAgICAgIHBhcmVudHM6IHIKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSksIG1bbl0gPSBlKSwgb1tuXSA9IGU7CiAgICAgICAgICB9KTsKICAgICAgICB9KSwgRXQuZWFjaChtLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgICAgb1t0XSB8fCAoZGVsZXRlIG1bdF0sIEV0LmVhY2goZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgZSghMSwgewogICAgICAgICAgICAgIG5vZGU6IG4sCiAgICAgICAgICAgICAgc2VsZWN0b3I6IHQsCiAgICAgICAgICAgICAgcGFyZW50czogcgogICAgICAgICAgICB9KTsKICAgICAgICAgIH0pKTsKICAgICAgICB9KTsKICAgICAgfSkpLCBkW2VdIHx8IChkW2VdID0gW10pLCBkW2VdLnB1c2godCksIEMoZSwgeChpLnNlbGVjdGlvbi5nZXRTdGFydCgpKSkuZWFjaChmdW5jdGlvbiAoKSB7CiAgICAgICAgbVtlXSA9IGRbZV07CiAgICAgIH0pLCB7CiAgICAgICAgdW5iaW5kOiBmdW5jdGlvbiB1bmJpbmQoKSB7CiAgICAgICAgICBDaChkLCBlLCB0KSwgQ2gobSwgZSwgdCk7CiAgICAgICAgfQogICAgICB9OwogICAgfSwKICAgICAgICBwID0gZnVuY3Rpb24gcCgpIHsKICAgICAgZnVuY3Rpb24gZShlLCB0LCBuKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJldHVybiB0LmNvbXBhcmVCb3VuZGFyeVBvaW50cyhlLCBuKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgfQogICAgICB9CgogICAgICB2YXIgdCwKICAgICAgICAgIG4sCiAgICAgICAgICByLAogICAgICAgICAgbyA9IHUuZG9jdW1lbnQ7CgogICAgICBpZiAodm9pZCAwICE9PSBzLmJvb2ttYXJrICYmICExID09PSB2ZChzKSkgewogICAgICAgIHZhciBpID0gbGQocyk7CiAgICAgICAgaWYgKGkuaXNTb21lKCkpIHJldHVybiBpLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIHdkKHMsIFtlXSlbMF07CiAgICAgICAgfSkuZ2V0T3Ioby5jcmVhdGVSYW5nZSgpKTsKICAgICAgfQoKICAgICAgdHJ5IHsKICAgICAgICAodCA9IGMoKSkgJiYgIXJuKHQuYW5jaG9yTm9kZSkgJiYgKG4gPSAwIDwgdC5yYW5nZUNvdW50ID8gdC5nZXRSYW5nZUF0KDApIDogKHQuY3JlYXRlUmFuZ2UgPyB0IDogbykuY3JlYXRlUmFuZ2UoKSwgbiA9IHdkKHMsIFtuXSlbMF0pOwogICAgICB9IGNhdGNoIChlKSB7fQoKICAgICAgcmV0dXJuIChuID0gbiB8fCAoby5jcmVhdGVSYW5nZSA/IG8uY3JlYXRlUmFuZ2UoKSA6IG8uYm9keS5jcmVhdGVUZXh0UmFuZ2UoKSkpLnNldFN0YXJ0ICYmIDkgPT09IG4uc3RhcnRDb250YWluZXIubm9kZVR5cGUgJiYgbi5jb2xsYXBzZWQgJiYgKHIgPSBhLmdldFJvb3QoKSwgbi5zZXRTdGFydChyLCAwKSwgbi5zZXRFbmQociwgMCkpLCBsICYmIGYgJiYgKDAgPT09IGUobi5TVEFSVF9UT19TVEFSVCwgbiwgbCkgJiYgMCA9PT0gZShuLkVORF9UT19FTkQsIG4sIGwpID8gbiA9IGYgOiBmID0gbCA9IG51bGwpLCBuOwogICAgfSwKICAgICAgICBoID0gZnVuY3Rpb24gaChlLCB0KSB7CiAgICAgIHZhciBuOwoKICAgICAgaWYgKChyID0gZSkgJiYgKEJoKHIpIHx8IFBoKHIuc3RhcnRDb250YWluZXIpICYmIFBoKHIuZW5kQ29udGFpbmVyKSkpIHsKICAgICAgICB2YXIgciwKICAgICAgICAgICAgbyA9IEJoKGUpID8gZSA6IG51bGw7CgogICAgICAgIGlmIChvKSB7CiAgICAgICAgICBmID0gbnVsbDsKCiAgICAgICAgICB0cnkgewogICAgICAgICAgICBvLnNlbGVjdCgpOwogICAgICAgICAgfSBjYXRjaCAoZSkge30KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdmFyIGkgPSBjKCk7CgogICAgICAgICAgaWYgKGUgPSBzLmZpcmUoIlNldFNlbGVjdGlvblJhbmdlIiwgewogICAgICAgICAgICByYW5nZTogZSwKICAgICAgICAgICAgZm9yd2FyZDogdAogICAgICAgICAgfSkucmFuZ2UsIGkpIHsKICAgICAgICAgICAgZiA9IGU7CgogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGkucmVtb3ZlQWxsUmFuZ2VzKCksIGkuYWRkUmFuZ2UoZSk7CiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9CgogICAgICAgICAgICAhMSA9PT0gdCAmJiBpLmV4dGVuZCAmJiAoaS5jb2xsYXBzZShlLmVuZENvbnRhaW5lciwgZS5lbmRPZmZzZXQpLCBpLmV4dGVuZChlLnN0YXJ0Q29udGFpbmVyLCBlLnN0YXJ0T2Zmc2V0KSksIGwgPSAwIDwgaS5yYW5nZUNvdW50ID8gaS5nZXRSYW5nZUF0KDApIDogbnVsbDsKICAgICAgICAgIH0KCiAgICAgICAgICBlLmNvbGxhcHNlZCB8fCBlLnN0YXJ0Q29udGFpbmVyICE9PSBlLmVuZENvbnRhaW5lciB8fCAhaS5zZXRCYXNlQW5kRXh0ZW50IHx8IHh0LmllIHx8IGUuZW5kT2Zmc2V0IC0gZS5zdGFydE9mZnNldCA8IDIgJiYgZS5zdGFydENvbnRhaW5lci5oYXNDaGlsZE5vZGVzKCkgJiYgKG4gPSBlLnN0YXJ0Q29udGFpbmVyLmNoaWxkTm9kZXNbZS5zdGFydE9mZnNldF0pICYmICJJTUciID09PSBuLnRhZ05hbWUgJiYgKGkuc2V0QmFzZUFuZEV4dGVudChlLnN0YXJ0Q29udGFpbmVyLCBlLnN0YXJ0T2Zmc2V0LCBlLmVuZENvbnRhaW5lciwgZS5lbmRPZmZzZXQpLCBpLmFuY2hvck5vZGUgPT09IGUuc3RhcnRDb250YWluZXIgJiYgaS5mb2N1c05vZGUgPT09IGUuZW5kQ29udGFpbmVyIHx8IGkuc2V0QmFzZUFuZEV4dGVudChuLCAwLCBuLCAxKSksIHMuZmlyZSgiQWZ0ZXJTZXRTZWxlY3Rpb25SYW5nZSIsIHsKICAgICAgICAgICAgcmFuZ2U6IGUsCiAgICAgICAgICAgIGZvcndhcmQ6IHQKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgICAgICB2ID0gewogICAgICBib29rbWFya01hbmFnZXI6IG51bGwsCiAgICAgIGNvbnRyb2xTZWxlY3Rpb246IG51bGwsCiAgICAgIGRvbTogbyA9IGEsCiAgICAgIHdpbjogdSwKICAgICAgc2VyaWFsaXplcjogZSwKICAgICAgZWRpdG9yOiBpID0gcywKICAgICAgY29sbGFwc2U6IHIsCiAgICAgIHNldEN1cnNvckxvY2F0aW9uOiBmdW5jdGlvbiBzZXRDdXJzb3JMb2NhdGlvbihlLCB0KSB7CiAgICAgICAgdmFyIG4gPSBhLmNyZWF0ZVJuZygpOwogICAgICAgIFYoZSkgJiYgVih0KSA/IChuLnNldFN0YXJ0KGUsIHQpLCBuLnNldEVuZChlLCB0KSwgaChuKSwgcighMSkpIDogKERsKGEsIG4sIHMuZ2V0Qm9keSgpLCAhMCksIGgobikpOwogICAgICB9LAogICAgICBnZXRDb250ZW50OiBmdW5jdGlvbiBnZXRDb250ZW50KGUpIHsKICAgICAgICByZXR1cm4gbiA9ICh0ID0gdm9pZCAwID09PSAodCA9IGUpID8ge30gOiB0KS5mb3JtYXQgfHwgImh0bWwiLCByID0gdCwgaGgocykuc2VsZWN0aW9uLmdldENvbnRlbnQobiwgcik7CiAgICAgICAgdmFyIHQsIG4sIHI7CiAgICAgIH0sCiAgICAgIHNldENvbnRlbnQ6IHQsCiAgICAgIGdldEJvb2ttYXJrOiBmdW5jdGlvbiBnZXRCb29rbWFyayhlLCB0KSB7CiAgICAgICAgcmV0dXJuIGIuZ2V0Qm9va21hcmsoZSwgdCk7CiAgICAgIH0sCiAgICAgIG1vdmVUb0Jvb2ttYXJrOiBmdW5jdGlvbiBtb3ZlVG9Cb29rbWFyayhlKSB7CiAgICAgICAgcmV0dXJuIGIubW92ZVRvQm9va21hcmsoZSk7CiAgICAgIH0sCiAgICAgIHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0KGUsIHQpIHsKICAgICAgICB2YXIgciA9IGEsCiAgICAgICAgICAgIG8gPSB0OwogICAgICAgIHJldHVybiB2ZS5mcm9tKGUpLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgdmFyIHQgPSByLm5vZGVJbmRleChlKSwKICAgICAgICAgICAgICBuID0gci5jcmVhdGVSbmcoKTsKICAgICAgICAgIHJldHVybiBuLnNldFN0YXJ0KGUucGFyZW50Tm9kZSwgdCksIG4uc2V0RW5kKGUucGFyZW50Tm9kZSwgdCArIDEpLCBvICYmIChEbChyLCBuLCBlLCAhMCksIERsKHIsIG4sIGUsICExKSksIG47CiAgICAgICAgfSkuZWFjaChoKSwgZTsKICAgICAgfSwKICAgICAgaXNDb2xsYXBzZWQ6IGZ1bmN0aW9uIGlzQ29sbGFwc2VkKCkgewogICAgICAgIHZhciBlID0gcCgpLAogICAgICAgICAgICB0ID0gYygpOwogICAgICAgIHJldHVybiAhKCFlIHx8IGUuaXRlbSkgJiYgKGUuY29tcGFyZUVuZFBvaW50cyA/IDAgPT09IGUuY29tcGFyZUVuZFBvaW50cygiU3RhcnRUb0VuZCIsIGUpIDogIXQgfHwgZS5jb2xsYXBzZWQpOwogICAgICB9LAogICAgICBpc0ZvcndhcmQ6IG4sCiAgICAgIHNldE5vZGU6IGZ1bmN0aW9uIHNldE5vZGUoZSkgewogICAgICAgIHJldHVybiB0KGEuZ2V0T3V0ZXJIVE1MKGUpKSwgZTsKICAgICAgfSwKICAgICAgZ2V0Tm9kZTogZnVuY3Rpb24gZ2V0Tm9kZSgpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgIGlmICghdCkgcmV0dXJuIGU7CiAgICAgICAgICB2YXIgbiA9IHQuc3RhcnRDb250YWluZXIsCiAgICAgICAgICAgICAgciA9IHQuZW5kQ29udGFpbmVyLAogICAgICAgICAgICAgIG8gPSB0LnN0YXJ0T2Zmc2V0LAogICAgICAgICAgICAgIGkgPSB0LmVuZE9mZnNldCwKICAgICAgICAgICAgICBhID0gdC5jb21tb25BbmNlc3RvckNvbnRhaW5lcjsKICAgICAgICAgIHJldHVybiAhdC5jb2xsYXBzZWQgJiYgKG4gPT09IHIgJiYgaSAtIG8gPCAyICYmIG4uaGFzQ2hpbGROb2RlcygpICYmIChhID0gbi5jaGlsZE5vZGVzW29dKSwgMyA9PT0gbi5ub2RlVHlwZSAmJiAzID09PSByLm5vZGVUeXBlICYmIChuID0gbi5sZW5ndGggPT09IG8gPyB4ZChuLm5leHRTaWJsaW5nLCAhMCkgOiBuLnBhcmVudE5vZGUsIHIgPSAwID09PSBpID8geGQoci5wcmV2aW91c1NpYmxpbmcsICExKSA6IHIucGFyZW50Tm9kZSwgbiAmJiBuID09PSByKSkgPyBuIDogYSAmJiAzID09PSBhLm5vZGVUeXBlID8gYS5wYXJlbnROb2RlIDogYTsKICAgICAgICB9KHMuZ2V0Qm9keSgpLCBwKCkpOwogICAgICB9LAogICAgICBnZXRTZWw6IGMsCiAgICAgIHNldFJuZzogaCwKICAgICAgZ2V0Um5nOiBwLAogICAgICBnZXRTdGFydDogZnVuY3Rpb24gZ2V0U3RhcnQoZSkgewogICAgICAgIHJldHVybiB5ZChzLmdldEJvZHkoKSwgcCgpLCBlKTsKICAgICAgfSwKICAgICAgZ2V0RW5kOiBmdW5jdGlvbiBnZXRFbmQoZSkgewogICAgICAgIHJldHVybiBDZChzLmdldEJvZHkoKSwgcCgpLCBlKTsKICAgICAgfSwKICAgICAgZ2V0U2VsZWN0ZWRCbG9ja3M6IGZ1bmN0aW9uIGdldFNlbGVjdGVkQmxvY2tzKGUsIHQpIHsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGUsIHQsIG4sIHIpIHsKICAgICAgICAgIHZhciBvID0gW10sCiAgICAgICAgICAgICAgaSA9IGUuZ2V0Um9vdCgpOwogICAgICAgICAgaWYgKG4gPSBlLmdldFBhcmVudChuIHx8IHlkKGksIHQsIHQuY29sbGFwc2VkKSwgZS5pc0Jsb2NrKSwgciA9IGUuZ2V0UGFyZW50KHIgfHwgQ2QoaSwgdCwgdC5jb2xsYXBzZWQpLCBlLmlzQmxvY2spLCBuICYmIG4gIT09IGkgJiYgby5wdXNoKG4pLCBuICYmIHIgJiYgbiAhPT0gcikgZm9yICh2YXIgYSwgdSA9IG5ldyBScihuLCBpKTsgKGEgPSB1Lm5leHQoKSkgJiYgYSAhPT0gcjspIHsKICAgICAgICAgICAgZS5pc0Jsb2NrKGEpICYmIG8ucHVzaChhKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiByICYmIG4gIT09IHIgJiYgciAhPT0gaSAmJiBvLnB1c2gociksIG87CiAgICAgICAgfShhLCBwKCksIGUsIHQpOwogICAgICB9LAogICAgICBub3JtYWxpemU6IGZ1bmN0aW9uIG5vcm1hbGl6ZSgpIHsKICAgICAgICB2YXIgZSA9IHAoKTsKICAgICAgICBpZiAoMSA8IE5sKGMoKSkubGVuZ3RoIHx8ICFUbChzKSkgcmV0dXJuIGU7CiAgICAgICAgdmFyIHQgPSBSZihhLCBlKTsKICAgICAgICByZXR1cm4gdC5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBoKGUsIG4oKSk7CiAgICAgICAgfSksIHQuZ2V0T3IoZSk7CiAgICAgIH0sCiAgICAgIHNlbGVjdG9yQ2hhbmdlZDogZnVuY3Rpb24gc2VsZWN0b3JDaGFuZ2VkKGUsIHQpIHsKICAgICAgICByZXR1cm4gZyhlLCB0KSwgdjsKICAgICAgfSwKICAgICAgc2VsZWN0b3JDaGFuZ2VkV2l0aFVuYmluZDogZywKICAgICAgZ2V0U2Nyb2xsQ29udGFpbmVyOiBmdW5jdGlvbiBnZXRTY3JvbGxDb250YWluZXIoKSB7CiAgICAgICAgZm9yICh2YXIgZSwgdCA9IGEuZ2V0Um9vdCgpOyB0ICYmICJCT0RZIiAhPT0gdC5ub2RlTmFtZTspIHsKICAgICAgICAgIGlmICh0LnNjcm9sbEhlaWdodCA+IHQuY2xpZW50SGVpZ2h0KSB7CiAgICAgICAgICAgIGUgPSB0OwogICAgICAgICAgICBicmVhazsKICAgICAgICAgIH0KCiAgICAgICAgICB0ID0gdC5wYXJlbnROb2RlOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGU7CiAgICAgIH0sCiAgICAgIHNjcm9sbEludG9WaWV3OiBmdW5jdGlvbiBzY3JvbGxJbnRvVmlldyhlLCB0KSB7CiAgICAgICAgVihlKSA/IChzLmlubGluZSA/IEdmIDogUWYpKHMsIGUsIHQpIDogWmYocywgcCgpLCB0KTsKICAgICAgfSwKICAgICAgcGxhY2VDYXJldEF0OiBmdW5jdGlvbiBwbGFjZUNhcmV0QXQoZSwgdCkgewogICAgICAgIHJldHVybiBoKHdmKGUsIHQsIHMuZ2V0RG9jKCkpKTsKICAgICAgfSwKICAgICAgZ2V0Qm91bmRpbmdDbGllbnRSZWN0OiBmdW5jdGlvbiBnZXRCb3VuZGluZ0NsaWVudFJlY3QoKSB7CiAgICAgICAgdmFyIGUgPSBwKCk7CiAgICAgICAgcmV0dXJuIGUuY29sbGFwc2VkID8gYXMuZnJvbVJhbmdlU3RhcnQoZSkuZ2V0Q2xpZW50UmVjdHMoKVswXSA6IGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgIH0sCiAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7CiAgICAgICAgdSA9IGwgPSBmID0gbnVsbCwgeS5kZXN0cm95KCk7CiAgICAgIH0KICAgIH0sCiAgICAgICAgYiA9IEZsKHYpLAogICAgICAgIHkgPSBDZih2LCBzKTsKCiAgICBmdW5jdGlvbiBDKHQsIGUpIHsKICAgICAgcmV0dXJuIE0oZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gby5pcyhlLCB0KTsKICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24geChlKSB7CiAgICAgIHJldHVybiBvLmdldFBhcmVudHMoZSwgbnVsbCwgby5nZXRSb290KCkpOwogICAgfQoKICAgIHJldHVybiB2LmJvb2ttYXJrTWFuYWdlciA9IGIsIHYuY29udHJvbFNlbGVjdGlvbiA9IHksIHY7CiAgfQoKICBmdW5jdGlvbiBJaChlLCB0KSB7CiAgICB2YXIgbiwKICAgICAgICByLAogICAgICAgIGEsCiAgICAgICAgdSwKICAgICAgICBvID0gcm8oKTsKICAgIHQuY29udmVydF9mb250c190b19zcGFucyAmJiAociA9IGUsIGEgPSBvLCB1ID0gRXQuZXhwbG9kZSh0LmZvbnRfc2l6ZV9sZWdhY3lfdmFsdWVzKSwgci5hZGROb2RlRmlsdGVyKCJmb250IiwgZnVuY3Rpb24gKGUpIHsKICAgICAgWShlLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciB0LAogICAgICAgICAgICBuID0gYS5wYXJzZShlLmF0dHIoInN0eWxlIikpLAogICAgICAgICAgICByID0gZS5hdHRyKCJjb2xvciIpLAogICAgICAgICAgICBvID0gZS5hdHRyKCJmYWNlIiksCiAgICAgICAgICAgIGkgPSBlLmF0dHIoInNpemUiKTsKICAgICAgICByICYmIChuLmNvbG9yID0gciksIG8gJiYgKG5bImZvbnQtZmFtaWx5Il0gPSBvKSwgaSAmJiAoblsiZm9udC1zaXplIl0gPSB1W3BhcnNlSW50KGUuYXR0cigic2l6ZSIpLCAxMCkgLSAxXSksIGUubmFtZSA9ICJzcGFuIiwgZS5hdHRyKCJzdHlsZSIsIGEuc2VyaWFsaXplKG4pKSwgdCA9IGUsIFkoWyJjb2xvciIsICJmYWNlIiwgInNpemUiXSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHQuYXR0cihlLCBudWxsKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9KSksIG4gPSBvLCBlLmFkZE5vZGVGaWx0ZXIoInN0cmlrZSIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIFkoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgdCA9IG4ucGFyc2UoZS5hdHRyKCJzdHlsZSIpKTsKICAgICAgICB0WyJ0ZXh0LWRlY29yYXRpb24iXSA9ICJsaW5lLXRocm91Z2giLCBlLm5hbWUgPSAic3BhbiIsIGUuYXR0cigic3R5bGUiLCBuLnNlcmlhbGl6ZSh0KSk7CiAgICAgIH0pOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBNaChlKSB7CiAgICB2YXIgdCwKICAgICAgICBuID0gZGVjb2RlVVJJQ29tcG9uZW50KGUpLnNwbGl0KCIsIiksCiAgICAgICAgciA9IC9kYXRhOihbXjtdKykvLmV4ZWMoblswXSk7CiAgICByZXR1cm4gewogICAgICB0eXBlOiB0ID0gciA/IHJbMV0gOiB0LAogICAgICBkYXRhOiBuWzFdCiAgICB9OwogIH0KCiAgZnVuY3Rpb24gRmgoZSwgdCkgewogICAgdmFyIG47CgogICAgdHJ5IHsKICAgICAgbiA9IGF0b2IodCk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHJldHVybiB2ZS5ub25lKCk7CiAgICB9CgogICAgZm9yICh2YXIgciA9IG5ldyBVaW50OEFycmF5KG4ubGVuZ3RoKSwgbyA9IDA7IG8gPCByLmxlbmd0aDsgbysrKSB7CiAgICAgIHJbb10gPSBuLmNoYXJDb2RlQXQobyk7CiAgICB9CgogICAgcmV0dXJuIHZlLnNvbWUobmV3IEJsb2IoW3JdLCB7CiAgICAgIHR5cGU6IGUKICAgIH0pKTsKICB9CgogIGZ1bmN0aW9uIFVoKGUpIHsKICAgIHJldHVybiAwID09PSBlLmluZGV4T2YoImJsb2I6IikgPyAobyA9IGUsIG5ldyBrcihmdW5jdGlvbiAoZSwgdCkgewogICAgICBmdW5jdGlvbiBuKCkgewogICAgICAgIHQoIkNhbm5vdCBjb252ZXJ0ICIgKyBvICsgIiB0byBCbG9iLiBSZXNvdXJjZSBtaWdodCBub3QgZXhpc3Qgb3IgaXMgaW5hY2Nlc3NpYmxlLiIpOwogICAgICB9CgogICAgICB0cnkgewogICAgICAgIHZhciByID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CiAgICAgICAgci5vcGVuKCJHRVQiLCBvLCAhMCksIHIucmVzcG9uc2VUeXBlID0gImJsb2IiLCByLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIDIwMCA9PT0gci5zdGF0dXMgPyBlKHIucmVzcG9uc2UpIDogbigpOwogICAgICAgIH0sIHIub25lcnJvciA9IG4sIHIuc2VuZCgpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgbigpOwogICAgICB9CiAgICB9KSkgOiAwID09PSBlLmluZGV4T2YoImRhdGE6IikgPyAobiA9IGUsIG5ldyBrcihmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9IE1oKG4pOwogICAgICBGaCh0LnR5cGUsIHQuZGF0YSkuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIGUobmV3IEJsb2IoW10pKTsKICAgICAgfSwgZSk7CiAgICB9KSkgOiBudWxsOwogICAgdmFyIG8sIG47CiAgfQoKICBmdW5jdGlvbiB6aChlKSB7CiAgICByZXR1cm4gKGUgfHwgImJsb2JpZCIpICsgbHYrKzsKICB9CgogIGZ1bmN0aW9uIEhoKHIsIGQpIHsKICAgIHZhciBvID0ge307CiAgICByZXR1cm4gewogICAgICBmaW5kQWxsOiBmdW5jdGlvbiBmaW5kQWxsKGUsIG4pIHsKICAgICAgICBuID0gbiB8fCB3OwogICAgICAgIHZhciB0ID0gVChVKGUgPyB4ZShlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbWciKSkgOiBbXSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciB0ID0gZS5zcmM7CiAgICAgICAgICByZXR1cm4geHQuZmlsZUFwaSAmJiAhZS5oYXNBdHRyaWJ1dGUoImRhdGEtbWNlLWJvZ3VzIikgJiYgIWUuaGFzQXR0cmlidXRlKCJkYXRhLW1jZS1wbGFjZWhvbGRlciIpICYmIHQgJiYgdCAhPT0geHQudHJhbnNwYXJlbnRTcmMgJiYgKDAgPT09IHQuaW5kZXhPZigiYmxvYjoiKSA/ICFyLmlzVXBsb2FkZWQodCkgJiYgbihlKSA6IDAgPT09IHQuaW5kZXhPZigiZGF0YToiKSAmJiBuKGUpKTsKICAgICAgICB9KSwgZnVuY3Rpb24gKGYpIHsKICAgICAgICAgIGlmICh2b2lkIDAgIT09IG9bZi5zcmNdKSByZXR1cm4gbmV3IGtyKGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICAgIG9bZi5zcmNdLnRoZW4oZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICByZXR1cm4gInN0cmluZyIgPT0gdHlwZW9mIGUgPyBlIDogdm9pZCB0KHsKICAgICAgICAgICAgICAgIGltYWdlOiBmLAogICAgICAgICAgICAgICAgYmxvYkluZm86IGUuYmxvYkluZm8KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICAgIHZhciBlID0gbmV3IGtyKGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgICAgIHZhciByLCBvLCBpLCBuLCBhLCB1LCBzLCBjLCBsOwogICAgICAgICAgICByID0gZCwgaSA9IGUsIG4gPSB0LCAwICE9PSAobyA9IGYpLnNyYy5pbmRleE9mKCJibG9iOiIpID8gKHUgPSAoYSA9IE1oKG8uc3JjKSkuZGF0YSwgcyA9IGEudHlwZSwgYyA9IHUsIChsID0gci5nZXRCeURhdGEoYywgcykpID8gaSh7CiAgICAgICAgICAgICAgaW1hZ2U6IG8sCiAgICAgICAgICAgICAgYmxvYkluZm86IGwKICAgICAgICAgICAgfSkgOiBVaChvLnNyYykudGhlbihmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIGwgPSByLmNyZWF0ZSh6aCgpLCBlLCBjKSwgci5hZGQobCksIGkoewogICAgICAgICAgICAgICAgaW1hZ2U6IG8sCiAgICAgICAgICAgICAgICBibG9iSW5mbzogbAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9LCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIG4oZSk7CiAgICAgICAgICAgIH0pKSA6IChsID0gci5nZXRCeVVyaShvLnNyYykpID8gaSh7CiAgICAgICAgICAgICAgaW1hZ2U6IG8sCiAgICAgICAgICAgICAgYmxvYkluZm86IGwKICAgICAgICAgICAgfSkgOiBVaChvLnNyYykudGhlbihmdW5jdGlvbiAodCkgewogICAgICAgICAgICAgIHZhciBuID0gdDsKICAgICAgICAgICAgICBuZXcga3IoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIHZhciB0ID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICAgICAgICAgIHQub25sb2FkZW5kID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBlKHQucmVzdWx0KTsKICAgICAgICAgICAgICAgIH0sIHQucmVhZEFzRGF0YVVSTChuKTsKICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICBjID0gTWgoZSkuZGF0YSwgbCA9IHIuY3JlYXRlKHpoKCksIHQsIGMpLCByLmFkZChsKSwgaSh7CiAgICAgICAgICAgICAgICAgIGltYWdlOiBvLAogICAgICAgICAgICAgICAgICBibG9iSW5mbzogbAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgbihlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHJldHVybiBkZWxldGUgb1tlLmltYWdlLnNyY10sIGU7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICByZXR1cm4gZGVsZXRlIG9bZi5zcmNdLCBlOwogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm4gb1tmLnNyY10gPSBlOwogICAgICAgIH0pOwogICAgICAgIHJldHVybiBrci5hbGwodCk7CiAgICAgIH0KICAgIH07CiAgfQoKICBmdW5jdGlvbiBqaChlLCB0LCBuLCByKSB7CiAgICAoZS5wYWRkX2VtcHR5X3dpdGhfYnIgfHwgdC5pbnNlcnQpICYmIG5bci5uYW1lXSA/IHIuZW1wdHkoKS5hcHBlbmQobmV3IFVkKCJiciIsIDEpKS5zaG9ydEVuZGVkID0gITAgOiByLmVtcHR5KCkuYXBwZW5kKG5ldyBVZCgiI3RleHQiLCAzKSkudmFsdWUgPSB5bzsKICB9CgogIGZ1bmN0aW9uIFZoKG4sIGUsIHQsIHIpIHsKICAgIHJldHVybiByLmlzRW1wdHkoZSwgdCwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuICh0ID0gbi5nZXRFbGVtZW50UnVsZShlLm5hbWUpKSAmJiB0LnBhZGRFbXB0eTsKICAgICAgdmFyIHQ7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIHFoKGUsIHApIHsKICAgIHZhciB0LAogICAgICAgIG8sCiAgICAgICAgaSwKICAgICAgICBoID0gZS5zY2hlbWE7CgogICAgZnVuY3Rpb24gbih0KSB7CiAgICAgIHZhciBlLAogICAgICAgICAgbiwKICAgICAgICAgIHIgPSB0LmF0dHIoInNyYyIpOwogICAgICAoZSA9IHQpLmF0dHIoInNyYyIpID09PSB4dC50cmFuc3BhcmVudFNyYyB8fCBWKGUuYXR0cigiZGF0YS1tY2UtcGxhY2Vob2xkZXIiKSkgfHwgVih0LmF0dHIoImRhdGEtbWNlLWJvZ3VzIikpIHx8ICgobiA9IC9kYXRhOihbXjtdKyk7YmFzZTY0LChbYS16MC05XCtcLz1cc10rKS9pLmV4ZWMocikpID8gdmUuc29tZSh7CiAgICAgICAgdHlwZTogblsxXSwKICAgICAgICBkYXRhOiBkZWNvZGVVUklDb21wb25lbnQoblsyXSkKICAgICAgfSkgOiB2ZS5ub25lKCkpLmZpbHRlcihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgICBpZiAodC5pbWFnZXNfZGF0YWltZ19maWx0ZXIpIHsKICAgICAgICAgICAgdmFyIG4gPSBuZXcgSW1hZ2UoKTsKICAgICAgICAgICAgcmV0dXJuIG4uc3JjID0gZS5hdHRyKCJzcmMiKSwgbmUoZS5hdHRyaWJ1dGVzLm1hcCwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgICAgICBuLnNldEF0dHJpYnV0ZSh0LCBlKTsKICAgICAgICAgICAgfSksIHQuaW1hZ2VzX2RhdGFpbWdfZmlsdGVyKG4pOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiAhMDsKICAgICAgICB9KHQsIG8pOwogICAgICB9KS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHQgPSBlLnR5cGUsCiAgICAgICAgICAgIG4gPSBlLmRhdGE7CiAgICAgICAgcmV0dXJuIHZlLmZyb20oaS5nZXRCeURhdGEobiwgdCkpLm9yVGh1bmsoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIEZoKHQsIG4pLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICB2YXIgdCA9IGkuY3JlYXRlKHpoKCksIGUsIG4pOwogICAgICAgICAgICByZXR1cm4gaS5hZGQodCksIHQ7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgIHQuYXR0cigic3JjIiwgZS5ibG9iVXJpKCkpOwogICAgICB9KTsKICAgIH0KCiAgICBwLnJlbW92ZV90cmFpbGluZ19icnMgJiYgZS5hZGROb2RlRmlsdGVyKCJiciIsIGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICAgIHZhciByLAogICAgICAgICAgbywKICAgICAgICAgIGksCiAgICAgICAgICBhLAogICAgICAgICAgdSwKICAgICAgICAgIHMsCiAgICAgICAgICBjLAogICAgICAgICAgbCwKICAgICAgICAgIGYgPSBlLmxlbmd0aCwKICAgICAgICAgIGQgPSBFdC5leHRlbmQoe30sIGguZ2V0QmxvY2tFbGVtZW50cygpKSwKICAgICAgICAgIG0gPSBoLmdldE5vbkVtcHR5RWxlbWVudHMoKSwKICAgICAgICAgIGcgPSBoLmdldFdoaXRlU3BhY2VFbGVtZW50cygpOwoKICAgICAgZm9yIChkLmJvZHkgPSAxLCByID0gMDsgciA8IGY7IHIrKykgewogICAgICAgIGlmIChpID0gKG8gPSBlW3JdKS5wYXJlbnQsIGRbby5wYXJlbnQubmFtZV0gJiYgbyA9PT0gaS5sYXN0Q2hpbGQpIHsKICAgICAgICAgIGZvciAodSA9IG8ucHJldjsgdTspIHsKICAgICAgICAgICAgaWYgKCJzcGFuIiAhPT0gKHMgPSB1Lm5hbWUpIHx8ICJib29rbWFyayIgIT09IHUuYXR0cigiZGF0YS1tY2UtdHlwZSIpKSB7CiAgICAgICAgICAgICAgImJyIiA9PT0gcyAmJiAobyA9IG51bGwpOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICB1ID0gdS5wcmV2OwogICAgICAgICAgfQoKICAgICAgICAgIG8gJiYgKG8ucmVtb3ZlKCksIFZoKGgsIG0sIGcsIGkpICYmIChjID0gaC5nZXRFbGVtZW50UnVsZShpLm5hbWUpKSAmJiAoYy5yZW1vdmVFbXB0eSA/IGkucmVtb3ZlKCkgOiBjLnBhZGRFbXB0eSAmJiBqaChwLCBuLCBkLCBpKSkpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBmb3IgKGEgPSBvOyBpICYmIGkuZmlyc3RDaGlsZCA9PT0gYSAmJiBpLmxhc3RDaGlsZCA9PT0gYSAmJiAhZFsoYSA9IGkpLm5hbWVdOykgewogICAgICAgICAgICBpID0gaS5wYXJlbnQ7CiAgICAgICAgICB9CgogICAgICAgICAgYSA9PT0gaSAmJiAhMCAhPT0gcC5wYWRkX2VtcHR5X3dpdGhfYnIgJiYgKChsID0gbmV3IFVkKCIjdGV4dCIsIDMpKS52YWx1ZSA9IHlvLCBvLnJlcGxhY2UobCkpOwogICAgICAgIH0KICAgICAgfQogICAgfSksIGUuYWRkQXR0cmlidXRlRmlsdGVyKCJocmVmIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQsCiAgICAgICAgICBuLAogICAgICAgICAgciA9IGUubGVuZ3RoOwogICAgICBpZiAoIXAuYWxsb3dfdW5zYWZlX2xpbmtfdGFyZ2V0KSBmb3IgKDsgci0tOykgewogICAgICAgIHZhciBvID0gZVtyXTsKICAgICAgICAiYSIgPT09IG8ubmFtZSAmJiAiX2JsYW5rIiA9PT0gby5hdHRyKCJ0YXJnZXQiKSAmJiBvLmF0dHIoInJlbCIsIChuID0gdm9pZCAwLCBuID0gKHQgPSBvLmF0dHIoInJlbCIpKSA/IEV0LnRyaW0odCkgOiAiIiwgL1xiKG5vb3BlbmVyKVxiL2cudGVzdChuKSA/IG4gOiBuLnNwbGl0KCIgIikuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gMCA8IGUubGVuZ3RoOwogICAgICAgIH0pLmNvbmNhdChbIm5vb3BlbmVyIl0pLnNvcnQoKS5qb2luKCIgIikpKTsKICAgICAgfQogICAgfSksIHAuYWxsb3dfaHRtbF9pbl9uYW1lZF9hbmNob3IgfHwgZS5hZGRBdHRyaWJ1dGVGaWx0ZXIoImlkLG5hbWUiLCBmdW5jdGlvbiAoZSkgewogICAgICBmb3IgKHZhciB0LCBuLCByLCBvLCBpID0gZS5sZW5ndGg7IGktLTspIHsKICAgICAgICBpZiAoImEiID09PSAobyA9IGVbaV0pLm5hbWUgJiYgby5maXJzdENoaWxkICYmICFvLmF0dHIoImhyZWYiKSkgZm9yIChyID0gby5wYXJlbnQsIHQgPSBvLmxhc3RDaGlsZDsgbiA9IHQucHJldiwgci5pbnNlcnQodCwgbyksIHQgPSBuOykgewogICAgICAgICAgOwogICAgICAgIH0KICAgICAgfQogICAgfSksIHAuZml4X2xpc3RfZWxlbWVudHMgJiYgZS5hZGROb2RlRmlsdGVyKCJ1bCxvbCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGZvciAodmFyIHQsIG4sIHIsIG8gPSBlLmxlbmd0aDsgby0tOykgewogICAgICAgICJ1bCIgIT09IChyID0gKG4gPSBlW29dKS5wYXJlbnQpLm5hbWUgJiYgIm9sIiAhPT0gci5uYW1lIHx8IChuLnByZXYgJiYgImxpIiA9PT0gbi5wcmV2Lm5hbWUgPyBuLnByZXYuYXBwZW5kKG4pIDogKCh0ID0gbmV3IFVkKCJsaSIsIDEpKS5hdHRyKCJzdHlsZSIsICJsaXN0LXN0eWxlLXR5cGU6IG5vbmUiKSwgbi53cmFwKHQpKSk7CiAgICAgIH0KICAgIH0pLCBwLnZhbGlkYXRlICYmIGguZ2V0VmFsaWRDbGFzc2VzKCkgJiYgZS5hZGRBdHRyaWJ1dGVGaWx0ZXIoImNsYXNzIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgZm9yICh2YXIgdCA9IGguZ2V0VmFsaWRDbGFzc2VzKCksIG4gPSBlLmxlbmd0aDsgbi0tOykgewogICAgICAgIGZvciAodmFyIHIgPSBlW25dLCBvID0gci5hdHRyKCJjbGFzcyIpLnNwbGl0KCIgIiksIGkgPSAiIiwgYSA9IDA7IGEgPCBvLmxlbmd0aDsgYSsrKSB7CiAgICAgICAgICB2YXIgdSA9IG9bYV0sCiAgICAgICAgICAgICAgcyA9ICExLAogICAgICAgICAgICAgIGMgPSB0WyIqIl07CiAgICAgICAgICBjICYmIGNbdV0gJiYgKHMgPSAhMCksIGMgPSB0W3IubmFtZV0sIChzID0gIShzIHx8ICFjIHx8ICFjW3VdKSB8fCBzKSAmJiAoaSAmJiAoaSArPSAiICIpLCBpICs9IHUpOwogICAgICAgIH0KCiAgICAgICAgaS5sZW5ndGggfHwgKGkgPSBudWxsKSwgci5hdHRyKCJjbGFzcyIsIGkpOwogICAgICB9CiAgICB9KSwgdCA9IGUsIChpID0gKG8gPSBwKS5ibG9iX2NhY2hlKSAmJiB0LmFkZEF0dHJpYnV0ZUZpbHRlcigic3JjIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIFkoZSwgbik7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uICRoKF8sIEEpIHsKICAgIHZvaWQgMCA9PT0gQSAmJiAoQSA9IHRvKCkpOwogICAgdmFyIFIgPSB7fSwKICAgICAgICBEID0gW10sCiAgICAgICAgVCA9IHt9LAogICAgICAgIE8gPSB7fTsKICAgIChfID0gXyB8fCB7fSkudmFsaWRhdGUgPSAhKCJ2YWxpZGF0ZSIgaW4gXykgfHwgXy52YWxpZGF0ZSwgXy5yb290X25hbWUgPSBfLnJvb3RfbmFtZSB8fCAiYm9keSI7CgogICAgZnVuY3Rpb24gQihlKSB7CiAgICAgIHZhciB0ID0gZS5uYW1lOwogICAgICB0IGluIFIgJiYgKChyID0gVFt0XSkgPyByLnB1c2goZSkgOiBUW3RdID0gW2VdKTsKCiAgICAgIGZvciAodmFyIG4gPSBELmxlbmd0aDsgbi0tOykgewogICAgICAgIHZhciByLAogICAgICAgICAgICBvID0gRFtuXS5uYW1lOwogICAgICAgIG8gaW4gZS5hdHRyaWJ1dGVzLm1hcCAmJiAoKHIgPSBPW29dKSA/IHIucHVzaChlKSA6IE9bb10gPSBbZV0pOwogICAgICB9CgogICAgICByZXR1cm4gZTsKICAgIH0KCiAgICB2YXIgZSA9IHsKICAgICAgc2NoZW1hOiBBLAogICAgICBhZGRBdHRyaWJ1dGVGaWx0ZXI6IGZ1bmN0aW9uIGFkZEF0dHJpYnV0ZUZpbHRlcihlLCBuKSB7CiAgICAgICAgbXYoZ3YoZSksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IEQubGVuZ3RoOyB0KyspIHsKICAgICAgICAgICAgaWYgKERbdF0ubmFtZSA9PT0gZSkgcmV0dXJuIHZvaWQgRFt0XS5jYWxsYmFja3MucHVzaChuKTsKICAgICAgICAgIH0KCiAgICAgICAgICBELnB1c2goewogICAgICAgICAgICBuYW1lOiBlLAogICAgICAgICAgICBjYWxsYmFja3M6IFtuXQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGdldEF0dHJpYnV0ZUZpbHRlcnM6IGZ1bmN0aW9uIGdldEF0dHJpYnV0ZUZpbHRlcnMoKSB7CiAgICAgICAgcmV0dXJuIFtdLmNvbmNhdChEKTsKICAgICAgfSwKICAgICAgYWRkTm9kZUZpbHRlcjogZnVuY3Rpb24gYWRkTm9kZUZpbHRlcihlLCBuKSB7CiAgICAgICAgbXYoZ3YoZSksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgdCA9IFJbZV07CiAgICAgICAgICB0IHx8IChSW2VdID0gdCA9IFtdKSwgdC5wdXNoKG4pOwogICAgICAgIH0pOwogICAgICB9LAogICAgICBnZXROb2RlRmlsdGVyczogZnVuY3Rpb24gZ2V0Tm9kZUZpbHRlcnMoKSB7CiAgICAgICAgdmFyIGUsCiAgICAgICAgICAgIHQgPSBbXTsKCiAgICAgICAgZm9yIChlIGluIFIpIHsKICAgICAgICAgIE5lKFIsIGUpICYmIHQucHVzaCh7CiAgICAgICAgICAgIG5hbWU6IGUsCiAgICAgICAgICAgIGNhbGxiYWNrczogUltlXQogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdDsKICAgICAgfSwKICAgICAgZmlsdGVyTm9kZTogQiwKICAgICAgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlKGUsIHUpIHsKICAgICAgICB2YXIgdCwKICAgICAgICAgICAgbiwKICAgICAgICAgICAgciwKICAgICAgICAgICAgbywKICAgICAgICAgICAgaSwKICAgICAgICAgICAgcywKICAgICAgICAgICAgYSwKICAgICAgICAgICAgYywKICAgICAgICAgICAgbCA9IFtdOwoKICAgICAgICBmdW5jdGlvbiBmKGUpIHsKICAgICAgICAgIGZvciAodmFyIHQgPSBBLmdldEJsb2NrRWxlbWVudHMoKSwgbiA9IGUucHJldjsgbiAmJiAzID09PSBuLnR5cGU7KSB7CiAgICAgICAgICAgIHZhciByID0gbi52YWx1ZS5yZXBsYWNlKHgsICIiKTsKICAgICAgICAgICAgaWYgKDAgPCByLmxlbmd0aCkgcmV0dXJuIG4udmFsdWUgPSByLCAwOwogICAgICAgICAgICB2YXIgbyA9IG4ubmV4dDsKCiAgICAgICAgICAgIGlmIChvKSB7CiAgICAgICAgICAgICAgaWYgKDMgPT09IG8udHlwZSAmJiBvLnZhbHVlLmxlbmd0aCkgewogICAgICAgICAgICAgICAgbiA9IG4ucHJldjsKICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKCF0W28ubmFtZV0gJiYgInNjcmlwdCIgIT09IG8ubmFtZSAmJiAic3R5bGUiICE9PSBvLm5hbWUpIHsKICAgICAgICAgICAgICAgIG4gPSBuLnByZXY7CiAgICAgICAgICAgICAgICBjb250aW51ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHZhciBpID0gbi5wcmV2OwogICAgICAgICAgICBuLnJlbW92ZSgpLCBuID0gaTsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHUgPSB1IHx8IHt9LCBUID0ge30sIE8gPSB7fTsKCiAgICAgICAgZnVuY3Rpb24gZChlLCB0KSB7CiAgICAgICAgICB2YXIgbiwKICAgICAgICAgICAgICByID0gbmV3IFVkKGUsIHQpOwogICAgICAgICAgcmV0dXJuIGUgaW4gUiAmJiAoKG4gPSBUW2VdKSA/IG4ucHVzaChyKSA6IFRbZV0gPSBbcl0pLCByOwogICAgICAgIH0KCiAgICAgICAgdmFyIG0gPSBwdihkdigic2NyaXB0LHN0eWxlLGhlYWQsaHRtbCxib2R5LHRpdGxlLG1ldGEscGFyYW0iKSwgQS5nZXRCbG9ja0VsZW1lbnRzKCkpLAogICAgICAgICAgICBnID0gQS5nZXROb25FbXB0eUVsZW1lbnRzKCksCiAgICAgICAgICAgIHAgPSBBLmNoaWxkcmVuLAogICAgICAgICAgICBoID0gXy52YWxpZGF0ZSwKICAgICAgICAgICAgdiA9ICgiZm9yY2VkX3Jvb3RfYmxvY2siIGluIHUgPyB1IDogXykuZm9yY2VkX3Jvb3RfYmxvY2ssCiAgICAgICAgICAgIGIgPSAhMSA9PT0gdiA/ICIiIDogITAgPT09IHYgPyAicCIgOiB2LAogICAgICAgICAgICB5ID0gQS5nZXRXaGl0ZVNwYWNlRWxlbWVudHMoKSwKICAgICAgICAgICAgQyA9IC9eWyBcdFxyXG5dKy8sCiAgICAgICAgICAgIHggPSAvWyBcdFxyXG5dKyQvLAogICAgICAgICAgICB3ID0gL1sgXHRcclxuXSsvZywKICAgICAgICAgICAgUyA9IC9eWyBcdFxyXG5dKyQvLAogICAgICAgICAgICBFID0gTmUoeSwgdS5jb250ZXh0KSB8fCBOZSh5LCBfLnJvb3RfbmFtZSksCiAgICAgICAgICAgIE4gPSBHZCh7CiAgICAgICAgICB2YWxpZGF0ZTogaCwKICAgICAgICAgIGRvY3VtZW50OiBfLmRvY3VtZW50LAogICAgICAgICAgYWxsb3dfaHRtbF9kYXRhX3VybHM6IF8uYWxsb3dfaHRtbF9kYXRhX3VybHMsCiAgICAgICAgICBhbGxvd19zdmdfZGF0YV91cmxzOiBfLmFsbG93X3N2Z19kYXRhX3VybHMsCiAgICAgICAgICBhbGxvd19zY3JpcHRfdXJsczogXy5hbGxvd19zY3JpcHRfdXJscywKICAgICAgICAgIGFsbG93X2NvbmRpdGlvbmFsX2NvbW1lbnRzOiBfLmFsbG93X2NvbmRpdGlvbmFsX2NvbW1lbnRzLAogICAgICAgICAgcHJlc2VydmVfY2RhdGE6IF8ucHJlc2VydmVfY2RhdGEsCiAgICAgICAgICBzZWxmX2Nsb3NpbmdfZWxlbWVudHM6IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHZhciB0LAogICAgICAgICAgICAgICAgbiA9IHt9OwoKICAgICAgICAgICAgZm9yICh0IGluIGUpIHsKICAgICAgICAgICAgICAibGkiICE9PSB0ICYmICJwIiAhPT0gdCAmJiAoblt0XSA9IGVbdF0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICByZXR1cm4gbjsKICAgICAgICAgIH0oQS5nZXRTZWxmQ2xvc2luZ0VsZW1lbnRzKCkpLAogICAgICAgICAgY2RhdGE6IGZ1bmN0aW9uIGNkYXRhKGUpIHsKICAgICAgICAgICAgYy5hcHBlbmQoZCgiI2NkYXRhIiwgNCkpLnZhbHVlID0gZTsKICAgICAgICAgIH0sCiAgICAgICAgICB0ZXh0OiBmdW5jdGlvbiB0ZXh0KGUsIHQpIHsKICAgICAgICAgICAgdmFyIG4sIHI7CiAgICAgICAgICAgIEUgfHwgKGUgPSBlLnJlcGxhY2UodywgIiAiKSwgKHIgPSBjLmxhc3RDaGlsZCkgJiYgKE5lKG0sIHIubmFtZSkgfHwgImJyIiA9PT0gci5uYW1lKSAmJiAoZSA9IGUucmVwbGFjZShDLCAiIikpKSwgMCAhPT0gZS5sZW5ndGggJiYgKChuID0gZCgiI3RleHQiLCAzKSkucmF3ID0gISF0LCBjLmFwcGVuZChuKS52YWx1ZSA9IGUpOwogICAgICAgICAgfSwKICAgICAgICAgIGNvbW1lbnQ6IGZ1bmN0aW9uIGNvbW1lbnQoZSkgewogICAgICAgICAgICBjLmFwcGVuZChkKCIjY29tbWVudCIsIDgpKS52YWx1ZSA9IGU7CiAgICAgICAgICB9LAogICAgICAgICAgcGk6IGZ1bmN0aW9uIHBpKGUsIHQpIHsKICAgICAgICAgICAgYy5hcHBlbmQoZChlLCA3KSkudmFsdWUgPSB0LCBmKGMpOwogICAgICAgICAgfSwKICAgICAgICAgIGRvY3R5cGU6IGZ1bmN0aW9uIGRvY3R5cGUoZSkgewogICAgICAgICAgICBjLmFwcGVuZChkKCIjZG9jdHlwZSIsIDEwKSkudmFsdWUgPSBlLCBmKGMpOwogICAgICAgICAgfSwKICAgICAgICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydChlLCB0LCBuKSB7CiAgICAgICAgICAgIHZhciByID0gaCA/IEEuZ2V0RWxlbWVudFJ1bGUoZSkgOiB7fTsKCiAgICAgICAgICAgIGlmIChyKSB7CiAgICAgICAgICAgICAgdmFyIG8gPSBkKHIub3V0cHV0TmFtZSB8fCBlLCAxKTsKICAgICAgICAgICAgICBvLmF0dHJpYnV0ZXMgPSB0LCBvLnNob3J0RW5kZWQgPSBuLCBjLmFwcGVuZChvKTsKICAgICAgICAgICAgICB2YXIgaSA9IHBbYy5uYW1lXTsKICAgICAgICAgICAgICBpICYmIHBbby5uYW1lXSAmJiAhaVtvLm5hbWVdICYmIGwucHVzaChvKTsKCiAgICAgICAgICAgICAgZm9yICh2YXIgYSA9IEQubGVuZ3RoOyBhLS07KSB7CiAgICAgICAgICAgICAgICB2YXIgdSA9IERbYV0ubmFtZTsKICAgICAgICAgICAgICAgIHUgaW4gdC5tYXAgJiYgKChzID0gT1t1XSkgPyBzLnB1c2gobykgOiBPW3VdID0gW29dKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIG1bZV0gJiYgZihvKSwgbiB8fCAoYyA9IG8pLCAhRSAmJiB5W2VdICYmIChFID0gITApOwogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgZW5kOiBmdW5jdGlvbiBlbmQoZSkgewogICAgICAgICAgICB2YXIgdCwKICAgICAgICAgICAgICAgIG4sCiAgICAgICAgICAgICAgICByLAogICAgICAgICAgICAgICAgbywKICAgICAgICAgICAgICAgIGksCiAgICAgICAgICAgICAgICBhID0gaCA/IEEuZ2V0RWxlbWVudFJ1bGUoZSkgOiB7fTsKCiAgICAgICAgICAgIGlmIChhKSB7CiAgICAgICAgICAgICAgaWYgKG1bZV0gJiYgIUUpIHsKICAgICAgICAgICAgICAgIGlmICgodCA9IGMuZmlyc3RDaGlsZCkgJiYgMyA9PT0gdC50eXBlKSBpZiAoMCA8IChuID0gdC52YWx1ZS5yZXBsYWNlKEMsICIiKSkubGVuZ3RoKSB0LnZhbHVlID0gbiwgdCA9IHQubmV4dDtlbHNlIGZvciAociA9IHQubmV4dCwgdC5yZW1vdmUoKSwgdCA9IHI7IHQgJiYgMyA9PT0gdC50eXBlOykgewogICAgICAgICAgICAgICAgICBuID0gdC52YWx1ZSwgciA9IHQubmV4dCwgMCAhPT0gbi5sZW5ndGggJiYgIVMudGVzdChuKSB8fCAodC5yZW1vdmUoKSwgdCA9IHIpLCB0ID0gcjsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmICgodCA9IGMubGFzdENoaWxkKSAmJiAzID09PSB0LnR5cGUpIGlmICgwIDwgKG4gPSB0LnZhbHVlLnJlcGxhY2UoeCwgIiIpKS5sZW5ndGgpIHQudmFsdWUgPSBuLCB0ID0gdC5wcmV2O2Vsc2UgZm9yIChyID0gdC5wcmV2LCB0LnJlbW92ZSgpLCB0ID0gcjsgdCAmJiAzID09PSB0LnR5cGU7KSB7CiAgICAgICAgICAgICAgICAgIG4gPSB0LnZhbHVlLCByID0gdC5wcmV2LCAwICE9PSBuLmxlbmd0aCAmJiAhUy50ZXN0KG4pIHx8ICh0LnJlbW92ZSgpLCB0ID0gciksIHQgPSByOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgaWYgKEUgJiYgeVtlXSAmJiAoRSA9ICExKSwgYS5yZW1vdmVFbXB0eSAmJiBWaChBLCBnLCB5LCBjKSkgcmV0dXJuIG8gPSBjLnBhcmVudCwgbVtjLm5hbWVdID8gYy5lbXB0eSgpLnJlbW92ZSgpIDogYy51bndyYXAoKSwgdm9pZCAoYyA9IG8pOwogICAgICAgICAgICAgIGEucGFkZEVtcHR5ICYmIChmdihpID0gYywgIiN0ZXh0IikgJiYgaS5maXJzdENoaWxkLnZhbHVlID09PSB5byB8fCBWaChBLCBnLCB5LCBjKSkgJiYgamgoXywgdSwgbSwgYyksIGMgPSBjLnBhcmVudDsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIEEpLAogICAgICAgICAgICBrID0gYyA9IG5ldyBVZCh1LmNvbnRleHQgfHwgXy5yb290X25hbWUsIDExKTsKCiAgICAgICAgaWYgKE4ucGFyc2UoZSwgdS5mb3JtYXQpLCBoICYmIGwubGVuZ3RoICYmICh1LmNvbnRleHQgPyB1LmludmFsaWQgPSAhMCA6IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBmb3IgKHZhciB0ID0gZHYoInRyLHRkLHRoLHRib2R5LHRoZWFkLHRmb290LHRhYmxlIiksIG4gPSBBLmdldE5vbkVtcHR5RWxlbWVudHMoKSwgciA9IEEuZ2V0V2hpdGVTcGFjZUVsZW1lbnRzKCksIG8gPSBBLmdldFRleHRCbG9ja0VsZW1lbnRzKCksIGkgPSBBLmdldFNwZWNpYWxFbGVtZW50cygpLCBhID0gZnVuY3Rpb24gYShlLCB0KSB7CiAgICAgICAgICAgIGlmICh2b2lkIDAgPT09IHQgJiYgKHQgPSBlLnBhcmVudCksIGlbZS5uYW1lXSkgZS5lbXB0eSgpLnJlbW92ZSgpO2Vsc2UgewogICAgICAgICAgICAgIGZvciAodmFyIG4gPSAwLCByID0gZS5jaGlsZHJlbigpOyBuIDwgci5sZW5ndGg7IG4rKykgewogICAgICAgICAgICAgICAgdmFyIG8gPSByW25dOwogICAgICAgICAgICAgICAgQS5pc1ZhbGlkQ2hpbGQodC5uYW1lLCBvLm5hbWUpIHx8IGEobywgdCk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBlLnVud3JhcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCB1ID0gMDsgdSA8IGUubGVuZ3RoOyB1KyspIHsKICAgICAgICAgICAgdmFyIHMsCiAgICAgICAgICAgICAgICBjID0gZVt1XSwKICAgICAgICAgICAgICAgIGwgPSB2b2lkIDAsCiAgICAgICAgICAgICAgICBmID0gdm9pZCAwOwogICAgICAgICAgICBpZiAoYy5wYXJlbnQgJiYgIWMuZml4ZWQpIGlmIChvW2MubmFtZV0gJiYgImxpIiA9PT0gYy5wYXJlbnQubmFtZSkgewogICAgICAgICAgICAgIGZvciAodmFyIGQgPSBjLm5leHQ7IGQgJiYgb1tkLm5hbWVdOykgewogICAgICAgICAgICAgICAgZC5uYW1lID0gImxpIiwgZC5maXhlZCA9ICEwLCBjLnBhcmVudC5pbnNlcnQoZCwgYy5wYXJlbnQpLCBkID0gZC5uZXh0OwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgYy51bndyYXAoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBmb3IgKHZhciBtID0gW2NdLCBsID0gYy5wYXJlbnQ7IGwgJiYgIUEuaXNWYWxpZENoaWxkKGwubmFtZSwgYy5uYW1lKSAmJiAhdFtsLm5hbWVdOyBsID0gbC5wYXJlbnQpIHsKICAgICAgICAgICAgICAgIG0ucHVzaChsKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGlmIChsICYmIDEgPCBtLmxlbmd0aCkgewogICAgICAgICAgICAgICAgaWYgKEEuaXNWYWxpZENoaWxkKGwubmFtZSwgYy5uYW1lKSkgewogICAgICAgICAgICAgICAgICBtLnJldmVyc2UoKTsKCiAgICAgICAgICAgICAgICAgIGZvciAodmFyIGcgPSBzID0gQihtWzBdLmNsb25lKCkpLCBwID0gMDsgcCA8IG0ubGVuZ3RoIC0gMTsgcCsrKSB7CiAgICAgICAgICAgICAgICAgICAgQS5pc1ZhbGlkQ2hpbGQoZy5uYW1lLCBtW3BdLm5hbWUpID8gKGYgPSBCKG1bcF0uY2xvbmUoKSksIGcuYXBwZW5kKGYpKSA6IGYgPSBnOwoKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBoID0gbVtwXS5maXJzdENoaWxkOyBoICYmIGggIT09IG1bcCArIDFdOykgewogICAgICAgICAgICAgICAgICAgICAgdmFyIHYgPSBoLm5leHQ7CiAgICAgICAgICAgICAgICAgICAgICBmLmFwcGVuZChoKSwgaCA9IHY7CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBnID0gZjsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgVmgoQSwgbiwgciwgcykgPyBsLmluc2VydChjLCBtWzBdLCAhMCkgOiAobC5pbnNlcnQocywgbVswXSwgITApLCBsLmluc2VydChjLCBzKSksIGwgPSBtWzBdLCAoVmgoQSwgbiwgciwgbCkgfHwgZnYobCwgImJyIikpICYmIGwuZW1wdHkoKS5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIH0gZWxzZSBhKGMpOwogICAgICAgICAgICAgIH0gZWxzZSBjLnBhcmVudCAmJiAoImxpIiAhPT0gYy5uYW1lID8gQS5pc1ZhbGlkQ2hpbGQoYy5wYXJlbnQubmFtZSwgImRpdiIpICYmIEEuaXNWYWxpZENoaWxkKCJkaXYiLCBjLm5hbWUpID8gYy53cmFwKEIobmV3IFVkKCJkaXYiLCAxKSkpIDogYShjKSA6ICEoZCA9IGMucHJldikgfHwgInVsIiAhPT0gZC5uYW1lICYmICJvbCIgIT09IGQubmFtZSA/ICEoZCA9IGMubmV4dCkgfHwgInVsIiAhPT0gZC5uYW1lICYmICJvbCIgIT09IGQubmFtZSA/IGMud3JhcChCKG5ldyBVZCgidWwiLCAxKSkpIDogZC5pbnNlcnQoYywgZC5maXJzdENoaWxkLCAhMCkgOiBkLmFwcGVuZChjKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KGwpKSwgYiAmJiAoImJvZHkiID09PSBrLm5hbWUgfHwgdS5pc1Jvb3RDb250ZW50KSAmJiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBmdW5jdGlvbiBlKGUpIHsKICAgICAgICAgICAgZSAmJiAoKHQgPSBlLmZpcnN0Q2hpbGQpICYmIDMgPT09IHQudHlwZSAmJiAodC52YWx1ZSA9IHQudmFsdWUucmVwbGFjZShDLCAiIikpLCAodCA9IGUubGFzdENoaWxkKSAmJiAzID09PSB0LnR5cGUgJiYgKHQudmFsdWUgPSB0LnZhbHVlLnJlcGxhY2UoeCwgIiIpKSk7CiAgICAgICAgICB9CgogICAgICAgICAgdmFyIHQgPSBrLmZpcnN0Q2hpbGQsCiAgICAgICAgICAgICAgbiA9IG51bGw7CgogICAgICAgICAgaWYgKEEuaXNWYWxpZENoaWxkKGsubmFtZSwgYi50b0xvd2VyQ2FzZSgpKSkgewogICAgICAgICAgICBmb3IgKDsgdDspIHsKICAgICAgICAgICAgICB2YXIgciA9IHQubmV4dDsKICAgICAgICAgICAgICAzID09PSB0LnR5cGUgfHwgMSA9PT0gdC50eXBlICYmICJwIiAhPT0gdC5uYW1lICYmICFtW3QubmFtZV0gJiYgIXQuYXR0cigiZGF0YS1tY2UtdHlwZSIpID8gKG4gfHwgKChuID0gZChiLCAxKSkuYXR0cihfLmZvcmNlZF9yb290X2Jsb2NrX2F0dHJzKSwgay5pbnNlcnQobiwgdCkpLCBuLmFwcGVuZCh0KSkgOiAoZShuKSwgbiA9IG51bGwpLCB0ID0gcjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgZShuKTsKICAgICAgICAgIH0KICAgICAgICB9KCksICF1LmludmFsaWQpIHsKICAgICAgICAgIGZvciAoYSBpbiBUKSB7CiAgICAgICAgICAgIGlmIChOZShULCBhKSkgewogICAgICAgICAgICAgIGZvciAocyA9IFJbYV0sIG8gPSAodCA9IFRbYV0pLmxlbmd0aDsgby0tOykgewogICAgICAgICAgICAgICAgdFtvXS5wYXJlbnQgfHwgdC5zcGxpY2UobywgMSk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBmb3IgKG4gPSAwLCByID0gcy5sZW5ndGg7IG4gPCByOyBuKyspIHsKICAgICAgICAgICAgICAgIHNbbl0odCwgYSwgdSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgZm9yIChuID0gMCwgciA9IEQubGVuZ3RoOyBuIDwgcjsgbisrKSB7CiAgICAgICAgICAgIGlmICgocyA9IERbbl0pLm5hbWUgaW4gTykgewogICAgICAgICAgICAgIGZvciAobyA9ICh0ID0gT1tzLm5hbWVdKS5sZW5ndGg7IG8tLTspIHsKICAgICAgICAgICAgICAgIHRbb10ucGFyZW50IHx8IHQuc3BsaWNlKG8sIDEpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgZm9yIChvID0gMCwgaSA9IHMuY2FsbGJhY2tzLmxlbmd0aDsgbyA8IGk7IG8rKykgewogICAgICAgICAgICAgICAgcy5jYWxsYmFja3Nbb10odCwgcy5uYW1lLCB1KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiBrOwogICAgICB9CiAgICB9OwogICAgcmV0dXJuIHFoKGUsIF8pLCBfLmlubGluZV9zdHlsZXMgJiYgSWgoZSwgXyksIGU7CiAgfQoKICBmdW5jdGlvbiBXaChlLCB0LCBuKSB7CiAgICAtMSA9PT0gRXQuaW5BcnJheSh0LCBuKSAmJiAoZS5hZGRBdHRyaWJ1dGVGaWx0ZXIobiwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgZm9yICh2YXIgbiA9IGUubGVuZ3RoOyBuLS07KSB7CiAgICAgICAgZVtuXS5hdHRyKHQsIG51bGwpOwogICAgICB9CiAgICB9KSwgdC5wdXNoKG4pKTsKICB9CgogIGZ1bmN0aW9uIEtoKEwsIEkpIHsKICAgIHZhciBlID0gWyJkYXRhLW1jZS1zZWxlY3RlZCJdLAogICAgICAgIE0gPSBJICYmIEkuZG9tID8gSS5kb20gOiBKYS5ET00sCiAgICAgICAgRiA9IEkgJiYgSS5zY2hlbWEgPyBJLnNjaGVtYSA6IHRvKEwpOwogICAgTC5lbnRpdHlfZW5jb2RpbmcgPSBMLmVudGl0eV9lbmNvZGluZyB8fCAibmFtZWQiLCBMLnJlbW92ZV90cmFpbGluZ19icnMgPSAhKCJyZW1vdmVfdHJhaWxpbmdfYnJzIiBpbiBMKSB8fCBMLnJlbW92ZV90cmFpbGluZ19icnM7CiAgICB2YXIgdCwKICAgICAgICBVID0gJGgoTCwgRiksCiAgICAgICAgcyA9IEwsCiAgICAgICAgYyA9IE07CiAgICByZXR1cm4gKHQgPSBVKS5hZGRBdHRyaWJ1dGVGaWx0ZXIoImRhdGEtbWNlLXRhYmluZGV4IiwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgZm9yICh2YXIgbiA9IGUubGVuZ3RoOyBuLS07KSB7CiAgICAgICAgdmFyIHIgPSBlW25dOwogICAgICAgIHIuYXR0cigidGFiaW5kZXgiLCByLmF0dHIoImRhdGEtbWNlLXRhYmluZGV4IikpLCByLmF0dHIodCwgbnVsbCk7CiAgICAgIH0KICAgIH0pLCB0LmFkZEF0dHJpYnV0ZUZpbHRlcigic3JjLGhyZWYsc3R5bGUiLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICBmb3IgKHZhciBuID0gImRhdGEtbWNlLSIgKyB0LCByID0gcy51cmxfY29udmVydGVyLCBvID0gcy51cmxfY29udmVydGVyX3Njb3BlLCBpID0gZS5sZW5ndGg7IGktLTspIHsKICAgICAgICB2YXIgYSA9IGVbaV0sCiAgICAgICAgICAgIHUgPSBhLmF0dHIobik7CiAgICAgICAgdm9pZCAwICE9PSB1ID8gKGEuYXR0cih0LCAwIDwgdS5sZW5ndGggPyB1IDogbnVsbCksIGEuYXR0cihuLCBudWxsKSkgOiAodSA9IGEuYXR0cih0KSwgInN0eWxlIiA9PT0gdCA/IHUgPSBjLnNlcmlhbGl6ZVN0eWxlKGMucGFyc2VTdHlsZSh1KSwgYS5uYW1lKSA6IHIgJiYgKHUgPSByLmNhbGwobywgdSwgdCwgYS5uYW1lKSksIGEuYXR0cih0LCAwIDwgdS5sZW5ndGggPyB1IDogbnVsbCkpOwogICAgICB9CiAgICB9KSwgdC5hZGRBdHRyaWJ1dGVGaWx0ZXIoImNsYXNzIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgZm9yICh2YXIgdCA9IGUubGVuZ3RoOyB0LS07KSB7CiAgICAgICAgdmFyIG4sCiAgICAgICAgICAgIHIgPSBlW3RdOwogICAgICAgIHIuYXR0cigiY2xhc3MiKSAmJiAobiA9IHIuYXR0cigiY2xhc3MiKS5yZXBsYWNlKC8oPzpefFxzKW1jZS1pdGVtLVx3Kyg/IVxTKS9nLCAiIiksIHIuYXR0cigiY2xhc3MiLCAwIDwgbi5sZW5ndGggPyBuIDogbnVsbCkpOwogICAgICB9CiAgICB9KSwgdC5hZGRBdHRyaWJ1dGVGaWx0ZXIoImRhdGEtbWNlLXR5cGUiLCBmdW5jdGlvbiAoZSwgdCwgbikgewogICAgICBmb3IgKHZhciByID0gZS5sZW5ndGg7IHItLTspIHsKICAgICAgICB2YXIgbyA9IGVbcl07CiAgICAgICAgImJvb2ttYXJrIiAhPT0gby5hdHRyKCJkYXRhLW1jZS10eXBlIikgfHwgbi5jbGVhbnVwIHx8ICh2ZS5mcm9tKG8uZmlyc3RDaGlsZCkuZXhpc3RzKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gIXhvKGUudmFsdWUpOwogICAgICAgIH0pID8gby51bndyYXAoKSA6IG8ucmVtb3ZlKCkpOwogICAgICB9CiAgICB9KSwgdC5hZGROb2RlRmlsdGVyKCJub3NjcmlwdCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGZvciAodmFyIHQgPSBlLmxlbmd0aDsgdC0tOykgewogICAgICAgIHZhciBuID0gZVt0XS5maXJzdENoaWxkOwogICAgICAgIG4gJiYgKG4udmFsdWUgPSBHby5kZWNvZGUobi52YWx1ZSkpOwogICAgICB9CiAgICB9KSwgdC5hZGROb2RlRmlsdGVyKCJzY3JpcHQsc3R5bGUiLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICBmb3IgKHZhciBuID0gZnVuY3Rpb24gbihlKSB7CiAgICAgICAgcmV0dXJuIGUucmVwbGFjZSgvKDwhLS1cW0NEQVRBXFt8XF1cXS0tPikvZywgIlxuIikucmVwbGFjZSgvXltcclxuXSp8W1xyXG5dKiQvZywgIiIpLnJlcGxhY2UoL15ccyooKDwhLS0pPyhccypcL1wvKT9ccyo8IVxbQ0RBVEFcW3woPCEtLVxzKik/XC9cKlxzKjwhXFtDREFUQVxbXHMqXCpcL3woXC9cLyk/XHMqPCEtLXxcL1wqXHMqPCEtLVxzKlwqXC8pXHMqW1xyXG5dKi9naSwgIiIpLnJlcGxhY2UoL1xzKihcL1wqXHMqXF1cXT5ccypcKlwvKC0tPik/fFxzKlwvXC9ccypcXVxdPigtLT4pP3xcL1wvXHMqKC0tPik/fFxdXF0+fFwvXCpccyotLT5ccypcKlwvfFxzKi0tPlxzKilccyokL2csICIiKTsKICAgICAgfSwgciA9IGUubGVuZ3RoOyByLS07KSB7CiAgICAgICAgdmFyIG8sCiAgICAgICAgICAgIGkgPSBlW3JdLAogICAgICAgICAgICBhID0gaS5maXJzdENoaWxkID8gaS5maXJzdENoaWxkLnZhbHVlIDogIiI7CiAgICAgICAgInNjcmlwdCIgPT09IHQgPyAoKG8gPSBpLmF0dHIoInR5cGUiKSkgJiYgaS5hdHRyKCJ0eXBlIiwgIm1jZS1uby90eXBlIiA9PT0gbyA/IG51bGwgOiBvLnJlcGxhY2UoL15tY2VcLS8sICIiKSksICJ4aHRtbCIgPT09IHMuZWxlbWVudF9mb3JtYXQgJiYgMCA8IGEubGVuZ3RoICYmIChpLmZpcnN0Q2hpbGQudmFsdWUgPSAiLy8gPCFbQ0RBVEFbXG4iICsgbihhKSArICJcbi8vIF1dPiIpKSA6ICJ4aHRtbCIgPT09IHMuZWxlbWVudF9mb3JtYXQgJiYgMCA8IGEubGVuZ3RoICYmIChpLmZpcnN0Q2hpbGQudmFsdWUgPSAiXHgzYyEtLVxuIiArIG4oYSkgKyAiXG4tLVx4M2UiKTsKICAgICAgfQogICAgfSksIHQuYWRkTm9kZUZpbHRlcigiI2NvbW1lbnQiLCBmdW5jdGlvbiAoZSkgewogICAgICBmb3IgKHZhciB0ID0gZS5sZW5ndGg7IHQtLTspIHsKICAgICAgICB2YXIgbiA9IGVbdF07CiAgICAgICAgcy5wcmVzZXJ2ZV9jZGF0YSAmJiAwID09PSBuLnZhbHVlLmluZGV4T2YoIltDREFUQVsiKSA/IChuLm5hbWUgPSAiI2NkYXRhIiwgbi50eXBlID0gNCwgbi52YWx1ZSA9IGMuZGVjb2RlKG4udmFsdWUucmVwbGFjZSgvXlxbQ0RBVEFcW3xcXVxdJC9nLCAiIikpKSA6IDAgPT09IG4udmFsdWUuaW5kZXhPZigibWNlOnByb3RlY3RlZCAiKSAmJiAobi5uYW1lID0gIiN0ZXh0Iiwgbi50eXBlID0gMywgbi5yYXcgPSAhMCwgbi52YWx1ZSA9IHVuZXNjYXBlKG4udmFsdWUpLnN1YnN0cigxNCkpOwogICAgICB9CiAgICB9KSwgdC5hZGROb2RlRmlsdGVyKCJ4bWw6bmFtZXNwYWNlLGlucHV0IiwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgZm9yICh2YXIgbiA9IGUubGVuZ3RoOyBuLS07KSB7CiAgICAgICAgdmFyIHIgPSBlW25dOwogICAgICAgIDcgPT09IHIudHlwZSA/IHIucmVtb3ZlKCkgOiAxID09PSByLnR5cGUgJiYgKCJpbnB1dCIgIT09IHQgfHwgci5hdHRyKCJ0eXBlIikgfHwgci5hdHRyKCJ0eXBlIiwgInRleHQiKSk7CiAgICAgIH0KICAgIH0pLCB0LmFkZEF0dHJpYnV0ZUZpbHRlcigiZGF0YS1tY2UtdHlwZSIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIFkoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAiZm9ybWF0LWNhcmV0IiA9PT0gZS5hdHRyKCJkYXRhLW1jZS10eXBlIikgJiYgKGUuaXNFbXB0eSh0LnNjaGVtYS5nZXROb25FbXB0eUVsZW1lbnRzKCkpID8gZS5yZW1vdmUoKSA6IGUudW53cmFwKCkpOwogICAgICB9KTsKICAgIH0pLCB0LmFkZEF0dHJpYnV0ZUZpbHRlcigiZGF0YS1tY2Utc3JjLGRhdGEtbWNlLWhyZWYsZGF0YS1tY2Utc3R5bGUsZGF0YS1tY2Utc2VsZWN0ZWQsZGF0YS1tY2UtZXhwYW5kbyxkYXRhLW1jZS10eXBlLGRhdGEtbWNlLXJlc2l6ZSxkYXRhLW1jZS1wbGFjZWhvbGRlciIsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIGZvciAodmFyIG4gPSBlLmxlbmd0aDsgbi0tOykgewogICAgICAgIGVbbl0uYXR0cih0LCBudWxsKTsKICAgICAgfQogICAgfSksIHsKICAgICAgc2NoZW1hOiBGLAogICAgICBhZGROb2RlRmlsdGVyOiBVLmFkZE5vZGVGaWx0ZXIsCiAgICAgIGFkZEF0dHJpYnV0ZUZpbHRlcjogVS5hZGRBdHRyaWJ1dGVGaWx0ZXIsCiAgICAgIHNlcmlhbGl6ZTogZnVuY3Rpb24gc2VyaWFsaXplKGUsIHQpIHsKICAgICAgICB2YXIgbiwKICAgICAgICAgICAgciwKICAgICAgICAgICAgbywKICAgICAgICAgICAgaSwKICAgICAgICAgICAgYSwKICAgICAgICAgICAgdSwKICAgICAgICAgICAgcywKICAgICAgICAgICAgYywKICAgICAgICAgICAgbCwKICAgICAgICAgICAgZiwKICAgICAgICAgICAgZCwKICAgICAgICAgICAgbSwKICAgICAgICAgICAgZywKICAgICAgICAgICAgcCwKICAgICAgICAgICAgaCwKICAgICAgICAgICAgdiwKICAgICAgICAgICAgYiwKICAgICAgICAgICAgeSwKICAgICAgICAgICAgQywKICAgICAgICAgICAgeCwKICAgICAgICAgICAgdywKICAgICAgICAgICAgUywKICAgICAgICAgICAgRSwKICAgICAgICAgICAgTiwKICAgICAgICAgICAgaywKICAgICAgICAgICAgXywKICAgICAgICAgICAgQSwKICAgICAgICAgICAgUiwKICAgICAgICAgICAgRCwKICAgICAgICAgICAgVCA9IF9lMih7CiAgICAgICAgICBmb3JtYXQ6ICJodG1sIgogICAgICAgIH0sIHQgPSB2b2lkIDAgPT09IHQgPyB7fSA6IHQpLAogICAgICAgICAgICBPID0gKG4gPSAobSA9IGUsIEUgPSBnID0gVCwgKGQgPSBJKSAmJiBkLmhhc0V2ZW50TGlzdGVuZXJzKCJQcmVQcm9jZXNzIikgJiYgIUUubm9fZXZlbnRzID8gKGggPSBnLCB4ID0gKHAgPSBkKS5kb20sIHcgPSBtLmNsb25lTm9kZSghMCksIChTID0gZG9jdW1lbnQuaW1wbGVtZW50YXRpb24pLmNyZWF0ZUhUTUxEb2N1bWVudCAmJiAoYiA9IFMuY3JlYXRlSFRNTERvY3VtZW50KCIiKSwgRXQuZWFjaCgiQk9EWSIgPT09IHcubm9kZU5hbWUgPyB3LmNoaWxkTm9kZXMgOiBbd10sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBiLmJvZHkuYXBwZW5kQ2hpbGQoYi5pbXBvcnROb2RlKGUsICEwKSk7CiAgICAgICAgfSksIHcgPSAiQk9EWSIgIT09IHcubm9kZU5hbWUgPyBiLmJvZHkuZmlyc3RDaGlsZCA6IGIuYm9keSwgdiA9IHguZG9jLCB4LmRvYyA9IGIpLCB5ID0gcCwgQyA9IF9lMihfZTIoe30sIGgpLCB7CiAgICAgICAgICBub2RlOiB3CiAgICAgICAgfSksIHkuZmlyZSgiUHJlUHJvY2VzcyIsIEMpLCB2ICYmICh4LmRvYyA9IHYpLCB3KSA6IG0pLCBvID0gd28oKHIgPSBUKS5nZXRJbm5lciA/IG4uaW5uZXJIVE1MIDogTS5nZXRPdXRlckhUTUwobikpLCByLnNlbGVjdGlvbiB8fCB2byhOdC5mcm9tRG9tKG4pKSA/IG8gOiBFdC50cmltKG8pKSwKICAgICAgICAgICAgQiA9IChpID0gVSwgYSA9IE8sIHMgPSAodSA9IFQpLnNlbGVjdGlvbiA/IF9lMih7CiAgICAgICAgICBmb3JjZWRfcm9vdF9ibG9jazogITEKICAgICAgICB9LCB1KSA6IHUsIGMgPSBpLnBhcnNlKGEsIHMpLCAhUChmID0gYy5sYXN0Q2hpbGQpIHx8IFAobCA9IGYucHJldikgJiYgKGYucmVtb3ZlKCksIGwucmVtb3ZlKCkpLCBjKTsKCiAgICAgICAgZnVuY3Rpb24gUChlKSB7CiAgICAgICAgICByZXR1cm4gZSAmJiAiYnIiID09PSBlLm5hbWU7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gInRyZWUiID09PSBULmZvcm1hdCA/IEIgOiAoTiA9IEksIGsgPSBULCBfID0gQiwgRCA9IG5tKEwsIEYpLnNlcmlhbGl6ZShfKSwgay5ub19ldmVudHMgfHwgIU4gPyBEIDogKEEgPSBOLCBSID0gX2UyKF9lMih7fSwgayksIHsKICAgICAgICAgIGNvbnRlbnQ6IEQKICAgICAgICB9KSwgQS5maXJlKCJQb3N0UHJvY2VzcyIsIFIpLmNvbnRlbnQpKTsKICAgICAgfSwKICAgICAgYWRkUnVsZXM6IEYuYWRkVmFsaWRFbGVtZW50cywKICAgICAgc2V0UnVsZXM6IEYuc2V0VmFsaWRFbGVtZW50cywKICAgICAgYWRkVGVtcEF0dHI6IEEoV2gsIFUsIGUpLAogICAgICBnZXRUZW1wQXR0cnM6IEooZSksCiAgICAgIGdldE5vZGVGaWx0ZXJzOiBVLmdldE5vZGVGaWx0ZXJzLAogICAgICBnZXRBdHRyaWJ1dGVGaWx0ZXJzOiBVLmdldEF0dHJpYnV0ZUZpbHRlcnMKICAgIH07CiAgfQoKICBmdW5jdGlvbiBYaChlLCB0KSB7CiAgICB2YXIgbiA9IEtoKGUsIHQpOwogICAgcmV0dXJuIHsKICAgICAgc2NoZW1hOiBuLnNjaGVtYSwKICAgICAgYWRkTm9kZUZpbHRlcjogbi5hZGROb2RlRmlsdGVyLAogICAgICBhZGRBdHRyaWJ1dGVGaWx0ZXI6IG4uYWRkQXR0cmlidXRlRmlsdGVyLAogICAgICBzZXJpYWxpemU6IG4uc2VyaWFsaXplLAogICAgICBhZGRSdWxlczogbi5hZGRSdWxlcywKICAgICAgc2V0UnVsZXM6IG4uc2V0UnVsZXMsCiAgICAgIGFkZFRlbXBBdHRyOiBuLmFkZFRlbXBBdHRyLAogICAgICBnZXRUZW1wQXR0cnM6IG4uZ2V0VGVtcEF0dHJzLAogICAgICBnZXROb2RlRmlsdGVyczogbi5nZXROb2RlRmlsdGVycywKICAgICAgZ2V0QXR0cmlidXRlRmlsdGVyczogbi5nZXRBdHRyaWJ1dGVGaWx0ZXJzCiAgICB9OwogIH0KCiAgZnVuY3Rpb24gWWgoZSwgdCwgbikgewogICAgcmV0dXJuIHIgPSBuID0gdm9pZCAwID09PSBuID8ge30gOiBuLCBwaChlKS5lZGl0b3Iuc2V0Q29udGVudCh0LCByKTsKICAgIHZhciByOwogIH0KCiAgZnVuY3Rpb24gR2goZSkgewogICAgcmV0dXJuIHZlLmZyb20oZSkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gZS5kZXN0cm95KCk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIEpoKGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIsCiAgICAgICAgbywKICAgICAgICBpLAogICAgICAgIGEsCiAgICAgICAgdSwKICAgICAgICBzLAogICAgICAgIGMgPSAobiA9IGUsIHIgPSBVKGJ2LCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gTmUobiwgZSk7CiAgICB9KSwgITEgIT09IChvID0gbi5mb3JjZWRfcm9vdF9ibG9jaykgJiYgIiIgIT09IG8gfHwgci5wdXNoKCJmb3JjZWRfcm9vdF9ibG9jayAoZmFsc2Ugb25seSkiKSwgVyhyKSksCiAgICAgICAgbCA9IChzID0gRXQubWFrZU1hcCh0LnBsdWdpbnMsICIgIiksIFcoQWUoQWUoW10sIFUoeXYsIGcpLCAhMCksIEgoQ3YsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBnKGUpID8gW2UgKyAiIChtb3ZpbmcgdG8gcHJlbWl1bSkiXSA6IFtdOwogICAgfSksICEwKSkpLAogICAgICAgIGYgPSAwIDwgbC5sZW5ndGgsCiAgICAgICAgZCA9IDAgPCBjLmxlbmd0aCwKICAgICAgICBtID0gIm1vYmlsZSIgPT09IHQudGhlbWU7CgogICAgZnVuY3Rpb24gZyhlKSB7CiAgICAgIHJldHVybiBOZShzLCBlKTsKICAgIH0KCiAgICAoZiB8fCBkIHx8IG0pICYmIChpID0gbSA/ICJcblxuVGhlbWVzOlxuLSBtb2JpbGUiIDogIiIsIGEgPSBmID8gIlxuXG5QbHVnaW5zOlxuLSAiICsgbC5qb2luKCJcbi0gIikgOiAiIiwgdSA9IGQgPyAiXG5cblNldHRpbmdzOlxuLSAiICsgYy5qb2luKCJcbi0gIikgOiAiIiwgY29uc29sZS53YXJuKCJUaGUgZm9sbG93aW5nIGRlcHJlY2F0ZWQgZmVhdHVyZXMgYXJlIGN1cnJlbnRseSBlbmFibGVkLCB0aGVzZSB3aWxsIGJlIHJlbW92ZWQgaW4gVGlueU1DRSA2LjAuIFNlZSBodHRwczovL3d3dy50aW55LmNsb3VkL2RvY3MvcmVsZWFzZS1ub3Rlcy82LjAtdXBjb21pbmctY2hhbmdlcy8gZm9yIG1vcmUgaW5mb3JtYXRpb24uIiArIGkgKyBhICsgdSkpOwogIH0KCiAgZnVuY3Rpb24gUWgoZSkgewogICAgdmFyIHQgPSBTKGUpID8gZS5qb2luKCIgIikgOiBlOwogICAgcmV0dXJuIFUoVChYKHQpID8gdC5zcGxpdCgiICIpIDogW10sIEplKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIDAgPCBlLmxlbmd0aDsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gWmgoZSwgdCkgewogICAgcmV0dXJuIE5lKGUuc2VjdGlvbnMoKSwgdCk7CiAgfQoKICBmdW5jdGlvbiBldihlLCB0KSB7CiAgICByZXR1cm4gdWUoZSwgInRvb2xiYXJfbW9kZSIpLm9yVGh1bmsoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdWUoZSwgInRvb2xiYXJfZHJhd2VyIikubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuICExID09PSBlID8gIndyYXAiIDogZTsKICAgICAgfSk7CiAgICB9KS5nZXRPcih0KTsKICB9CgogIGZ1bmN0aW9uIHR2KGUsIHQsIG4sIHIpIHsKICAgIHZhciBvLAogICAgICAgIGksCiAgICAgICAgYSwKICAgICAgICB1LAogICAgICAgIHMsCiAgICAgICAgYywKICAgICAgICBsLAogICAgICAgIGYsCiAgICAgICAgZCA9IFFoKG4uZm9yY2VkX3BsdWdpbnMpLAogICAgICAgIG0gPSBRaChyLnBsdWdpbnMpLAogICAgICAgIGcgPSBaaChvID0gdCwgIm1vYmlsZSIpID8gby5zZWN0aW9ucygpLm1vYmlsZSA6IHt9LAogICAgICAgIHAgPSBnLnBsdWdpbnMgPyBRaChnLnBsdWdpbnMpIDogbSwKICAgICAgICBoID0gKGkgPSAodSA9IHQsIHMgPSBtLCBjID0gcCwgKGEgPSBlKSAmJiAoMCwgZiA9IChsID0gdSkuc2VjdGlvbnMoKSwgWmgobCwgIm1vYmlsZSIpICYmICJtb2JpbGUiID09PSBmLm1vYmlsZS50aGVtZSkgPyBVKGMsIEEoRCwgTnYpKSA6IGEgJiYgWmgodSwgIm1vYmlsZSIpID8gYyA6IHMpLCBbXS5jb25jYXQoUWgoZCkpLmNvbmNhdChRaChpKSkpOwogICAgaWYgKHh0LmJyb3dzZXIuaXNJRSgpICYmIEQoaCwgInJ0YyIpKSB0aHJvdyBuZXcgRXJyb3IoIlJUQyBwbHVnaW4gaXMgbm90IHN1cHBvcnRlZCBvbiBJRSAxMS4iKTsKICAgIHJldHVybiBFdC5leHRlbmQociwgewogICAgICBwbHVnaW5zOiBoLmpvaW4oIiAiKQogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBudihlLCB0LCBuLCByLCBvKSB7CiAgICB2YXIgaSwKICAgICAgICBhLAogICAgICAgIHUsCiAgICAgICAgcywKICAgICAgICBjLAogICAgICAgIGwsCiAgICAgICAgZiwKICAgICAgICBkLAogICAgICAgIG0gPSBlID8gewogICAgICBtb2JpbGU6IChpID0gdCwgYSA9IHsKICAgICAgICByZXNpemU6ICExLAogICAgICAgIHRvb2xiYXJfbW9kZTogZXYoby5tb2JpbGUgfHwge30sICJzY3JvbGxpbmciKSwKICAgICAgICB0b29sYmFyX3N0aWNreTogITEKICAgICAgfSwgX2UyKF9lMihfZTIoe30sIGt2KSwgYSksIGkgPyB7CiAgICAgICAgbWVudWJhcjogITEKICAgICAgfSA6IHt9KSkKICAgIH0gOiB7fSwKICAgICAgICBnID0gKGMgPSBbIm1vYmlsZSJdLCBpZSh2dihtLCBvKSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgcmV0dXJuIEQoYywgdCk7CiAgICB9LCBvZShsID0ge30pLCBvZShmID0ge30pKSwgewogICAgICBzZWN0aW9uczogSigoZCA9IHsKICAgICAgICB0OiBsLAogICAgICAgIGY6IGYKICAgICAgfSkudCksCiAgICAgIHNldHRpbmdzOiBKKGQuZikKICAgIH0pLAogICAgICAgIHAgPSBFdC5leHRlbmQobiwgciwgZy5zZXR0aW5ncygpLCBlICYmIFpoKGcsICJtb2JpbGUiKSA/IGZ1bmN0aW9uIChlKSB7CiAgICAgIHZvaWQgMCA9PT0gZSAmJiAoZSA9IHt9KTsKICAgICAgdmFyIHQgPSB1ZShnLnNlY3Rpb25zKCksICJtb2JpbGUiKS5nZXRPcih7fSk7CiAgICAgIHJldHVybiBFdC5leHRlbmQoe30sIGUsIHQpOwogICAgfSgpIDoge30sIHsKICAgICAgdmFsaWRhdGU6ICEwLAogICAgICBleHRlcm5hbF9wbHVnaW5zOiAodSA9IHIsIHMgPSBnLnNldHRpbmdzKCkuZXh0ZXJuYWxfcGx1Z2lucyB8fCB7fSwgdSAmJiB1LmV4dGVybmFsX3BsdWdpbnMgPyBFdC5leHRlbmQoe30sIHUuZXh0ZXJuYWxfcGx1Z2lucywgcykgOiBzKQogICAgfSk7CiAgICByZXR1cm4gdHYoZSwgZywgciwgcCk7CiAgfQoKICBmdW5jdGlvbiBydihlLCB0LCBuKSB7CiAgICByZXR1cm4gdmUuZnJvbSh0LnNldHRpbmdzW25dKS5maWx0ZXIoZSk7CiAgfQoKICBmdW5jdGlvbiBvdihlLCB0KSB7CiAgICByZXR1cm4gdC5kb21bZV07CiAgfQoKICBmdW5jdGlvbiBpdihlLCB0KSB7CiAgICByZXR1cm4gcGFyc2VJbnQoeG4odCwgZSksIDEwKTsKICB9CgogIGZ1bmN0aW9uIGF2KGUsIHQsIG4pIHsKICAgIHZhciByLAogICAgICAgIG8sCiAgICAgICAgaSwKICAgICAgICBhLAogICAgICAgIHUsCiAgICAgICAgcywKICAgICAgICBjID0gTnQuZnJvbURvbShlLmdldEJvZHkoKSksCiAgICAgICAgbCA9IGUuaW5saW5lID8gYyA6IE50LmZyb21Eb20oRHQoYykuZG9tLmRvY3VtZW50RWxlbWVudCksCiAgICAgICAgZiA9IChyID0gZS5pbmxpbmUsIGkgPSB0LCBhID0gbiwgdSA9IChvID0gbCkuZG9tLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCB7CiAgICAgIHg6IGkgLSAociA/IHUubGVmdCArIG8uZG9tLmNsaWVudExlZnQgKyBUdihvKSA6IDApLAogICAgICB5OiBhIC0gKHIgPyB1LnRvcCArIG8uZG9tLmNsaWVudFRvcCArIER2KG8pIDogMCkKICAgIH0pLAogICAgICAgIGQgPSBmLngsCiAgICAgICAgbSA9IGYueSwKICAgICAgICBnID0gQXYocyA9IGwpLAogICAgICAgIHAgPSBSdihzKTsKICAgIHJldHVybiAwIDw9IGQgJiYgMCA8PSBtICYmIGQgPD0gZyAmJiBtIDw9IHA7CiAgfQoKICBmdW5jdGlvbiB1dihvKSB7CiAgICBmdW5jdGlvbiBpKCkgewogICAgICB2YXIgZSA9IG8udGhlbWU7CiAgICAgIHJldHVybiBlICYmIGUuZ2V0Tm90aWZpY2F0aW9uTWFuYWdlckltcGwgPyBlLmdldE5vdGlmaWNhdGlvbk1hbmFnZXJJbXBsKCkgOiB7CiAgICAgICAgb3BlbjogdCwKICAgICAgICBjbG9zZTogdCwKICAgICAgICByZXBvc2l0aW9uOiB0LAogICAgICAgIGdldEFyZ3M6IHQKICAgICAgfTsKCiAgICAgIGZ1bmN0aW9uIHQoKSB7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJUaGVtZSBkaWQgbm90IHByb3ZpZGUgYSBOb3RpZmljYXRpb25NYW5hZ2VyIGltcGxlbWVudGF0aW9uLiIpOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gYSgpIHsKICAgICAgcmV0dXJuIHZlLmZyb20oY1swXSk7CiAgICB9CgogICAgZnVuY3Rpb24gdSgpIHsKICAgICAgMCA8IGMubGVuZ3RoICYmIGkoKS5yZXBvc2l0aW9uKGMpOwogICAgfQoKICAgIGZ1bmN0aW9uIHModCkgewogICAgICB6KGMsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUgPT09IHQ7CiAgICAgIH0pLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBjLnNwbGljZShlLCAxKTsKICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gdChuLCBlKSB7CiAgICAgIGlmICh2b2lkIDAgPT09IGUgJiYgKGUgPSAhMCksICFvLnJlbW92ZWQgJiYgKHIgPSAodCA9IG8pLmlubGluZSA/IHQuZ2V0Qm9keSgpIDogdC5nZXRDb250ZW50QXJlYUNvbnRhaW5lcigpLCB2ZS5mcm9tKHIpLm1hcChOdC5mcm9tRG9tKS5tYXAoSW4pLmdldE9yKCExKSkpIHJldHVybiBlICYmIG8uZmlyZSgiQmVmb3JlT3Blbk5vdGlmaWNhdGlvbiIsIHsKICAgICAgICBub3RpZmljYXRpb246IG4KICAgICAgfSksIE0oYywgZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gISgodCA9IGkoKS5nZXRBcmdzKGUpKS50eXBlICE9PSBuLnR5cGUgfHwgdC50ZXh0ICE9PSBuLnRleHQgfHwgdC5wcm9ncmVzc0JhciB8fCB0LnRpbWVvdXQgfHwgbi5wcm9ncmVzc0JhciB8fCBuLnRpbWVvdXQpOwogICAgICAgIHZhciB0OwogICAgICB9KS5nZXRPclRodW5rKGZ1bmN0aW9uICgpIHsKICAgICAgICBvLmVkaXRvck1hbmFnZXIuc2V0QWN0aXZlKG8pOwogICAgICAgIHZhciBlID0gaSgpLm9wZW4obiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgcyhlKSwgdSgpLCBhKCkuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBvLmZvY3VzKCk7CiAgICAgICAgICB9LCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICByZXR1cm4gTnQuZnJvbURvbShlLmdldEVsKCkpLmRvbS5mb2N1cygpOwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGMucHVzaChlKSwgdSgpLCBvLmZpcmUoIk9wZW5Ob3RpZmljYXRpb24iLCB7CiAgICAgICAgICBub3RpZmljYXRpb246IF9lMih7fSwgZSkKICAgICAgICB9KSwgZTsKICAgICAgfSk7CiAgICAgIHZhciB0LCByOwogICAgfQoKICAgIHZhciBuLAogICAgICAgIGMgPSBbXSwKICAgICAgICBlID0gSihjKTsKICAgIHJldHVybiAobiA9IG8pLm9uKCJTa2luTG9hZGVkIiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgZSA9IG4uZ2V0UGFyYW0oInNlcnZpY2VfbWVzc2FnZSIpOwogICAgICBlICYmIHQoewogICAgICAgIHRleHQ6IGUsCiAgICAgICAgdHlwZTogIndhcm5pbmciLAogICAgICAgIHRpbWVvdXQ6IDAKICAgICAgfSwgITEpLCB1KCk7CiAgICB9KSwgbi5vbigic2hvdyBSZXNpemVFZGl0b3IgUmVzaXplV2luZG93IE5vZGVDaGFuZ2UiLCBmdW5jdGlvbiAoKSB7CiAgICAgIF9yLnJlcXVlc3RBbmltYXRpb25GcmFtZSh1KTsKICAgIH0pLCBuLm9uKCJyZW1vdmUiLCBmdW5jdGlvbiAoKSB7CiAgICAgIFkoYy5zbGljZSgpLCBmdW5jdGlvbiAoZSkgewogICAgICAgIGkoKS5jbG9zZShlKTsKICAgICAgfSk7CiAgICB9KSwgewogICAgICBvcGVuOiB0LAogICAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgICAgYSgpLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGkoKS5jbG9zZShlKSwgcyhlKSwgdSgpOwogICAgICAgIH0pOwogICAgICB9LAogICAgICBnZXROb3RpZmljYXRpb25zOiBlCiAgICB9OwogIH0KCiAgdmFyIHN2LAogICAgICBjdiwKICAgICAgbHYgPSAwLAogICAgICBmdiA9IGZ1bmN0aW9uIGZ2KGUsIHQpIHsKICAgIHJldHVybiBlICYmIGUuZmlyc3RDaGlsZCAmJiBlLmZpcnN0Q2hpbGQgPT09IGUubGFzdENoaWxkICYmIGUuZmlyc3RDaGlsZC5uYW1lID09PSB0OwogIH0sCiAgICAgIGR2ID0gRXQubWFrZU1hcCwKICAgICAgbXYgPSBFdC5lYWNoLAogICAgICBndiA9IEV0LmV4cGxvZGUsCiAgICAgIHB2ID0gRXQuZXh0ZW5kLAogICAgICBodiA9IEphLkRPTSwKICAgICAgdnYgPSAoc3YgPSBmdW5jdGlvbiBzdihlLCB0KSB7CiAgICByZXR1cm4gaChlKSAmJiBoKHQpID8gdnYoZSwgdCkgOiB0OwogIH0sIGZ1bmN0aW9uICgpIHsKICAgIGZvciAodmFyIGUgPSBbXSwgdCA9IDA7IHQgPCBhcmd1bWVudHMubGVuZ3RoOyB0KyspIHsKICAgICAgZVt0XSA9IGFyZ3VtZW50c1t0XTsKICAgIH0KCiAgICBpZiAoMCA9PT0gZS5sZW5ndGgpIHRocm93IG5ldyBFcnJvcigiQ2FuJ3QgbWVyZ2UgemVybyBvYmplY3RzIik7CgogICAgZm9yICh2YXIgbiA9IHt9LCByID0gMDsgciA8IGUubGVuZ3RoOyByKyspIHsKICAgICAgdmFyIG8sCiAgICAgICAgICBpID0gZVtyXTsKCiAgICAgIGZvciAobyBpbiBpKSB7CiAgICAgICAgTmUoaSwgbykgJiYgKG5bb10gPSBzdihuW29dLCBpW29dKSk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gbjsKICB9KSwKICAgICAgYnYgPSAiYXV0b3Jlc2l6ZV9vbl9pbml0LGNvbnRlbnRfZWRpdGFibGVfc3RhdGUsY29udmVydF9mb250c190b19zcGFucyxpbmxpbmVfc3R5bGVzLHBhZGRfZW1wdHlfd2l0aF9icixibG9ja19lbGVtZW50cyxib29sZWFuX2F0dHJpYnV0ZXMsZWRpdG9yX2Rlc2VsZWN0b3IsZWRpdG9yX3NlbGVjdG9yLGVsZW1lbnRzLGZpbGVfYnJvd3Nlcl9jYWxsYmFja190eXBlcyxmaWxlcGlja2VyX3ZhbGlkYXRvcl9oYW5kbGVyLGZvcmNlX2hleF9zdHlsZV9jb2xvcnMsZm9yY2VfcF9uZXdsaW5lcyxnZWNrb19zcGVsbGNoZWNrLGltYWdlc19kYXRhaW1nX2ZpbHRlcixtZWRpYV9zY3JpcHRzLG1vZGUsbW92ZV9jYXJldF9iZWZvcmVfb25fZW50ZXJfZWxlbWVudHMsbm9uX2VtcHR5X2VsZW1lbnRzLHNlbGZfY2xvc2luZ19lbGVtZW50cyxzaG9ydF9lbmRlZF9lbGVtZW50cyxzcGVjaWFsLHNwZWxsY2hlY2tlcl9zZWxlY3RfbGFuZ3VhZ2VzLHNwZWxsY2hlY2tlcl93aGl0ZWxpc3QsdGFiX2ZvY3VzLHRhYmxlX3Jlc3BvbnNpdmVfd2lkdGgsdGV4dF9ibG9ja19lbGVtZW50cyx0ZXh0X2lubGluZV9lbGVtZW50cyx0b29sYmFyX2RyYXdlcix0eXBlcyx2YWxpZGF0ZSx3aGl0ZXNwYWNlX2VsZW1lbnRzLHBhc3RlX3dvcmRfdmFsaWRfZWxlbWVudHMscGFzdGVfcmV0YWluX3N0eWxlX3Byb3BlcnRpZXMscGFzdGVfY29udmVydF93b3JkX2Zha2VfbGlzdHMiLnNwbGl0KCIsIiksCiAgICAgIHl2ID0gImJiY29kZSxjb2xvcnBpY2tlcixjb250ZXh0bWVudSxmdWxscGFnZSxsZWdhY3lvdXRwdXQsc3BlbGxjaGVja2VyLHRleHRjb2xvciIuc3BsaXQoIiwiKSwKICAgICAgQ3YgPSAiaW1hZ2V0b29scyx0b2MiLnNwbGl0KCIsIiksCiAgICAgIHh2ID0gZHQoKS5kZXZpY2VUeXBlLAogICAgICB3diA9IHh2LmlzVG91Y2goKSwKICAgICAgU3YgPSB4di5pc1Bob25lKCksCiAgICAgIEV2ID0geHYuaXNUYWJsZXQoKSwKICAgICAgTnYgPSBbImxpc3RzIiwgImF1dG9saW5rIiwgImF1dG9zYXZlIl0sCiAgICAgIGt2ID0gewogICAgdGFibGVfZ3JpZDogITEsCiAgICBvYmplY3RfcmVzaXppbmc6ICExLAogICAgcmVzaXplOiAhMQogIH0sCiAgICAgIF92ID0gKGN2ID0ge30sIHsKICAgIGFkZDogZnVuY3Rpb24gYWRkKGUsIHQpIHsKICAgICAgY3ZbZV0gPSB0OwogICAgfSwKICAgIGdldDogZnVuY3Rpb24gZ2V0KGUpIHsKICAgICAgcmV0dXJuIGN2W2VdIHx8IHsKICAgICAgICBpY29uczoge30KICAgICAgfTsKICAgIH0sCiAgICBoYXM6IGZ1bmN0aW9uIGhhcyhlKSB7CiAgICAgIHJldHVybiBOZShjdiwgZSk7CiAgICB9CiAgfSksCiAgICAgIEF2ID0gQShvdiwgImNsaWVudFdpZHRoIiksCiAgICAgIFJ2ID0gQShvdiwgImNsaWVudEhlaWdodCIpLAogICAgICBEdiA9IEEoaXYsICJtYXJnaW4tdG9wIiksCiAgICAgIFR2ID0gQShpdiwgIm1hcmdpbi1sZWZ0IiksCiAgICAgIE92ID0gc3UuUGx1Z2luTWFuYWdlciwKICAgICAgQnYgPSBzdS5UaGVtZU1hbmFnZXI7CgogIGZ1bmN0aW9uIFB2KHIpIHsKICAgIGZ1bmN0aW9uIG8oKSB7CiAgICAgIHZhciBlID0gci50aGVtZTsKICAgICAgcmV0dXJuIGUgJiYgZS5nZXRXaW5kb3dNYW5hZ2VySW1wbCA/IGUuZ2V0V2luZG93TWFuYWdlckltcGwoKSA6IHsKICAgICAgICBvcGVuOiB0LAogICAgICAgIG9wZW5Vcmw6IHQsCiAgICAgICAgYWxlcnQ6IHQsCiAgICAgICAgY29uZmlybTogdCwKICAgICAgICBjbG9zZTogdCwKICAgICAgICBnZXRQYXJhbXM6IHQsCiAgICAgICAgc2V0UGFyYW1zOiB0CiAgICAgIH07CgogICAgICBmdW5jdGlvbiB0KCkgewogICAgICAgIHRocm93IG5ldyBFcnJvcigiVGhlbWUgZGlkIG5vdCBwcm92aWRlIGEgV2luZG93TWFuYWdlciBpbXBsZW1lbnRhdGlvbi4iKTsKICAgICAgfQogICAgfQoKICAgIGZ1bmN0aW9uIGkobiwgcikgewogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIGZvciAodmFyIGUgPSBbXSwgdCA9IDA7IHQgPCBhcmd1bWVudHMubGVuZ3RoOyB0KyspIHsKICAgICAgICAgIGVbdF0gPSBhcmd1bWVudHNbdF07CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gciA/IHIuYXBwbHkobiwgZSkgOiB2b2lkIDA7CiAgICAgIH07CiAgICB9CgogICAgZnVuY3Rpb24gbih0KSB7CiAgICAgIHIuZmlyZSgiQ2xvc2VXaW5kb3ciLCB7CiAgICAgICAgZGlhbG9nOiB0CiAgICAgIH0pLCAwID09PSAodSA9IFUodSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZSAhPT0gdDsKICAgICAgfSkpLmxlbmd0aCAmJiByLmZvY3VzKCk7CiAgICB9CgogICAgZnVuY3Rpb24gYShlKSB7CiAgICAgIHIuZWRpdG9yTWFuYWdlci5zZXRBY3RpdmUociksIGNkKHIpOwogICAgICB2YXIgdCwKICAgICAgICAgIG4gPSBlKCk7CiAgICAgIHJldHVybiB0ID0gbiwgdS5wdXNoKHQpLCByLmZpcmUoIk9wZW5XaW5kb3ciLCB7CiAgICAgICAgZGlhbG9nOiB0CiAgICAgIH0pLCBuOwogICAgfQoKICAgIHZhciB1ID0gW107CiAgICByZXR1cm4gci5vbigicmVtb3ZlIiwgZnVuY3Rpb24gKCkgewogICAgICBZKHUsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgbygpLmNsb3NlKGUpOwogICAgICB9KTsKICAgIH0pLCB7CiAgICAgIG9wZW46IGZ1bmN0aW9uIG9wZW4oZSwgdCkgewogICAgICAgIHJldHVybiBhKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBvKCkub3BlbihlLCB0LCBuKTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgb3BlblVybDogZnVuY3Rpb24gb3BlblVybChlKSB7CiAgICAgICAgcmV0dXJuIGEoZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIG8oKS5vcGVuVXJsKGUsIG4pOwogICAgICAgIH0pOwogICAgICB9LAogICAgICBhbGVydDogZnVuY3Rpb24gYWxlcnQoZSwgdCwgbikgewogICAgICAgIHZhciByID0gbygpOwogICAgICAgIHIuYWxlcnQoZSwgaShuIHx8IHIsIHQpKTsKICAgICAgfSwKICAgICAgY29uZmlybTogZnVuY3Rpb24gY29uZmlybShlLCB0LCBuKSB7CiAgICAgICAgdmFyIHIgPSBvKCk7CiAgICAgICAgci5jb25maXJtKGUsIGkobiB8fCByLCB0KSk7CiAgICAgIH0sCiAgICAgIGNsb3NlOiBmdW5jdGlvbiBjbG9zZSgpIHsKICAgICAgICB2ZS5mcm9tKHVbdS5sZW5ndGggLSAxXSkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgbygpLmNsb3NlKGUpLCBuKGUpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gTHYoZSwgdCkgewogICAgZS5ub3RpZmljYXRpb25NYW5hZ2VyLm9wZW4oewogICAgICB0eXBlOiAiZXJyb3IiLAogICAgICB0ZXh0OiB0CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIEl2KGUsIHQpIHsKICAgIGUuX3NraW5Mb2FkZWQgPyBMdihlLCB0KSA6IGUub24oIlNraW5Mb2FkZWQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIEx2KGUsIHQpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBNdihlLCB0LCBuKSB7CiAgICB2ZihlLCB0LCB7CiAgICAgIG1lc3NhZ2U6IG4KICAgIH0pLCBjb25zb2xlLmVycm9yKG4pOwogIH0KCiAgZnVuY3Rpb24gRnYoZSwgdCwgbikgewogICAgcmV0dXJuIG4gPyAiRmFpbGVkIHRvIGxvYWQgIiArIGUgKyAiOiAiICsgbiArICIgZnJvbSB1cmwgIiArIHQgOiAiRmFpbGVkIHRvIGxvYWQgIiArIGUgKyAiIHVybDogIiArIHQ7CiAgfQoKICBmdW5jdGlvbiBVdihlLCB0LCBuKSB7CiAgICBNdihlLCAiUGx1Z2luTG9hZEVycm9yIiwgRnYoInBsdWdpbiIsIHQsIG4pKTsKICB9CgogIGZ1bmN0aW9uIHp2KGUpIHsKICAgIHZhciB0LCBuOwogICAgZS5jb250ZW50Q1NTID0gZS5jb250ZW50Q1NTLmNvbmNhdChjeShlLCAobiA9ICh0ID0gZSkuZ2V0UGFyYW0oImNvbnRlbnRfY3NzIiksIFgobikgPyBUKG4uc3BsaXQoIiwiKSwgSmUpIDogUyhuKSA/IG4gOiAhMSA9PT0gbiB8fCB0LmlubGluZSA/IFtdIDogWyJkZWZhdWx0Il0pKSwgY3koZSwgRHMoZSkpKTsKICB9CgogIGZ1bmN0aW9uIEh2KCkgewogICAgZnVuY3Rpb24gbihlLCB0KSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgc3RhdHVzOiBlLAogICAgICAgIHJlc3VsdFVyaTogdAogICAgICB9OwogICAgfQoKICAgIGZ1bmN0aW9uIHQoZSkgewogICAgICByZXR1cm4gZSBpbiByOwogICAgfQoKICAgIHZhciByID0ge307CiAgICByZXR1cm4gewogICAgICBoYXNCbG9iVXJpOiB0LAogICAgICBnZXRSZXN1bHRVcmk6IGZ1bmN0aW9uIGdldFJlc3VsdFVyaShlKSB7CiAgICAgICAgdmFyIHQgPSByW2VdOwogICAgICAgIHJldHVybiB0ID8gdC5yZXN1bHRVcmkgOiBudWxsOwogICAgICB9LAogICAgICBpc1BlbmRpbmc6IGZ1bmN0aW9uIGlzUGVuZGluZyhlKSB7CiAgICAgICAgcmV0dXJuICEhdChlKSAmJiAxID09PSByW2VdLnN0YXR1czsKICAgICAgfSwKICAgICAgaXNVcGxvYWRlZDogZnVuY3Rpb24gaXNVcGxvYWRlZChlKSB7CiAgICAgICAgcmV0dXJuICEhdChlKSAmJiAyID09PSByW2VdLnN0YXR1czsKICAgICAgfSwKICAgICAgbWFya1BlbmRpbmc6IGZ1bmN0aW9uIG1hcmtQZW5kaW5nKGUpIHsKICAgICAgICByW2VdID0gbigxLCBudWxsKTsKICAgICAgfSwKICAgICAgbWFya1VwbG9hZGVkOiBmdW5jdGlvbiBtYXJrVXBsb2FkZWQoZSwgdCkgewogICAgICAgIHJbZV0gPSBuKDIsIHQpOwogICAgICB9LAogICAgICByZW1vdmVGYWlsZWQ6IGZ1bmN0aW9uIHJlbW92ZUZhaWxlZChlKSB7CiAgICAgICAgZGVsZXRlIHJbZV07CiAgICAgIH0sCiAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7CiAgICAgICAgciA9IHt9OwogICAgICB9CiAgICB9OwogIH0KCiAgZnVuY3Rpb24ganYoZSkgewogICAgcmV0dXJuIGUgKyBseSsrICsgKCJzIiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpLnRvU3RyaW5nKDM2KSArIHQoKSArIHQoKSArIHQoKSk7CgogICAgZnVuY3Rpb24gdCgpIHsKICAgICAgcmV0dXJuIE1hdGgucm91bmQoNDI5NDk2NzI5NSAqIE1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKDM2KTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIFZ2KCkgewogICAgZnVuY3Rpb24gZShlKSB7CiAgICAgIHJldHVybiBNKG4sIGUpLmdldE9yVW5kZWZpbmVkKCk7CiAgICB9CgogICAgZnVuY3Rpb24gaShlKSB7CiAgICAgIGlmICghZS5ibG9iIHx8ICFlLmJhc2U2NCkgdGhyb3cgbmV3IEVycm9yKCJibG9iIGFuZCBiYXNlNjQgcmVwcmVzZW50YXRpb25zIG9mIHRoZSBpbWFnZSBhcmUgcmVxdWlyZWQgZm9yIEJsb2JJbmZvIHRvIGJlIGNyZWF0ZWQiKTsKICAgICAgdmFyIHQgPSBlLmlkIHx8IGp2KCJibG9iaWQiKSwKICAgICAgICAgIG4gPSBlLm5hbWUgfHwgdCwKICAgICAgICAgIHIgPSBlLmJsb2I7CiAgICAgIHJldHVybiB7CiAgICAgICAgaWQ6IEoodCksCiAgICAgICAgbmFtZTogSihuKSwKICAgICAgICBmaWxlbmFtZTogSihlLmZpbGVuYW1lIHx8IG4gKyAiLiIgKyAoewogICAgICAgICAgImltYWdlL2pwZWciOiAianBnIiwKICAgICAgICAgICJpbWFnZS9qcGciOiAianBnIiwKICAgICAgICAgICJpbWFnZS9naWYiOiAiZ2lmIiwKICAgICAgICAgICJpbWFnZS9wbmciOiAicG5nIiwKICAgICAgICAgICJpbWFnZS9hcG5nIjogImFwbmciLAogICAgICAgICAgImltYWdlL2F2aWYiOiAiYXZpZiIsCiAgICAgICAgICAiaW1hZ2Uvc3ZnK3htbCI6ICJzdmciLAogICAgICAgICAgImltYWdlL3dlYnAiOiAid2VicCIsCiAgICAgICAgICAiaW1hZ2UvYm1wIjogImJtcCIsCiAgICAgICAgICAiaW1hZ2UvdGlmZiI6ICJ0aWZmIgogICAgICAgIH1bci50eXBlLnRvTG93ZXJDYXNlKCldIHx8ICJkYXQiKSksCiAgICAgICAgYmxvYjogSihyKSwKICAgICAgICBiYXNlNjQ6IEooZS5iYXNlNjQpLAogICAgICAgIGJsb2JVcmk6IEooZS5ibG9iVXJpIHx8IFVSTC5jcmVhdGVPYmplY3RVUkwocikpLAogICAgICAgIHVyaTogSihlLnVyaSkKICAgICAgfTsKICAgIH0KCiAgICBmdW5jdGlvbiB0KHQpIHsKICAgICAgcmV0dXJuIGUoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS5pZCgpID09PSB0OwogICAgICB9KTsKICAgIH0KCiAgICB2YXIgbiA9IFtdOwogICAgcmV0dXJuIHsKICAgICAgY3JlYXRlOiBmdW5jdGlvbiBjcmVhdGUoZSwgdCwgbiwgciwgbykgewogICAgICAgIGlmIChYKGUpKSByZXR1cm4gaSh7CiAgICAgICAgICBpZDogZSwKICAgICAgICAgIG5hbWU6IHIsCiAgICAgICAgICBmaWxlbmFtZTogbywKICAgICAgICAgIGJsb2I6IHQsCiAgICAgICAgICBiYXNlNjQ6IG4KICAgICAgICB9KTsKICAgICAgICBpZiAoaChlKSkgcmV0dXJuIGkoZSk7CiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGlucHV0IHR5cGUiKTsKICAgICAgfSwKICAgICAgYWRkOiBmdW5jdGlvbiBhZGQoZSkgewogICAgICAgIHQoZS5pZCgpKSB8fCBuLnB1c2goZSk7CiAgICAgIH0sCiAgICAgIGdldDogdCwKICAgICAgZ2V0QnlVcmk6IGZ1bmN0aW9uIGdldEJ5VXJpKHQpIHsKICAgICAgICByZXR1cm4gZShmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIGUuYmxvYlVyaSgpID09PSB0OwogICAgICAgIH0pOwogICAgICB9LAogICAgICBnZXRCeURhdGE6IGZ1bmN0aW9uIGdldEJ5RGF0YSh0LCBuKSB7CiAgICAgICAgcmV0dXJuIGUoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBlLmJhc2U2NCgpID09PSB0ICYmIGUuYmxvYigpLnR5cGUgPT09IG47CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGZpbmRGaXJzdDogZSwKICAgICAgcmVtb3ZlQnlVcmk6IGZ1bmN0aW9uIHJlbW92ZUJ5VXJpKHQpIHsKICAgICAgICBuID0gVShuLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIGUuYmxvYlVyaSgpICE9PSB0IHx8IHZvaWQgVVJMLnJldm9rZU9iamVjdFVSTChlLmJsb2JVcmkoKSk7CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7CiAgICAgICAgWShuLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgVVJMLnJldm9rZU9iamVjdFVSTChlLmJsb2JVcmkoKSk7CiAgICAgICAgfSksIG4gPSBbXTsKICAgICAgfQogICAgfTsKICB9CgogIGZ1bmN0aW9uIHF2KHUsIHMpIHsKICAgIGZ1bmN0aW9uIG8oZSwgciwgbywgdCkgewogICAgICB2YXIgaSA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICBpLm9wZW4oIlBPU1QiLCBzLnVybCksIGkud2l0aENyZWRlbnRpYWxzID0gcy5jcmVkZW50aWFscywgaS51cGxvYWQub25wcm9ncmVzcyA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdChlLmxvYWRlZCAvIGUudG90YWwgKiAxMDApOwogICAgICB9LCBpLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgbygiSW1hZ2UgdXBsb2FkIGZhaWxlZCBkdWUgdG8gYSBYSFIgVHJhbnNwb3J0IGVycm9yLiBDb2RlOiAiICsgaS5zdGF0dXMpOwogICAgICB9LCBpLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgZSwgdCwgbjsKICAgICAgICBpLnN0YXR1cyA8IDIwMCB8fCAzMDAgPD0gaS5zdGF0dXMgPyBvKCJIVFRQIEVycm9yOiAiICsgaS5zdGF0dXMpIDogKGUgPSBKU09OLnBhcnNlKGkucmVzcG9uc2VUZXh0KSkgJiYgInN0cmluZyIgPT0gdHlwZW9mIGUubG9jYXRpb24gPyByKCh0ID0gcy5iYXNlUGF0aCwgbiA9IGUubG9jYXRpb24sIHQgPyB0LnJlcGxhY2UoL1wvJC8sICIiKSArICIvIiArIG4ucmVwbGFjZSgvXlwvLywgIiIpIDogbikpIDogbygiSW52YWxpZCBKU09OOiAiICsgaS5yZXNwb25zZVRleHQpOwogICAgICB9OwogICAgICB2YXIgbiA9IG5ldyBGb3JtRGF0YSgpOwogICAgICBuLmFwcGVuZCgiZmlsZSIsIGUuYmxvYigpLCBlLmZpbGVuYW1lKCkpLCBpLnNlbmQobik7CiAgICB9CgogICAgZnVuY3Rpb24gYyhlLCB0KSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgdXJsOiB0LAogICAgICAgIGJsb2JJbmZvOiBlLAogICAgICAgIHN0YXR1czogITAKICAgICAgfTsKICAgIH0KCiAgICBmdW5jdGlvbiBsKGUsIHQsIG4pIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB1cmw6ICIiLAogICAgICAgIGJsb2JJbmZvOiBlLAogICAgICAgIHN0YXR1czogITEsCiAgICAgICAgZXJyb3I6IHsKICAgICAgICAgIG1lc3NhZ2U6IHQsCiAgICAgICAgICBvcHRpb25zOiBuCiAgICAgICAgfQogICAgICB9OwogICAgfQoKICAgIGZ1bmN0aW9uIGYoZSwgdCkgewogICAgICBFdC5lYWNoKGRbZV0sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgZSh0KTsKICAgICAgfSksIGRlbGV0ZSBkW2VdOwogICAgfQoKICAgIHZhciBkID0ge307CiAgICByZXR1cm4gITEgPT09IHkocy5oYW5kbGVyKSAmJiAocy5oYW5kbGVyID0gbyksIHsKICAgICAgdXBsb2FkOiBmdW5jdGlvbiB1cGxvYWQoZSwgdCkgewogICAgICAgIHJldHVybiBzLnVybCB8fCBzLmhhbmRsZXIgIT09IG8gPyAobiA9IGUsIHIgPSB0LCBuID0gRXQuZ3JlcChlLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuICF1LmlzVXBsb2FkZWQoZS5ibG9iVXJpKCkpOwogICAgICAgIH0pLCBrci5hbGwoRXQubWFwKG4sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gdS5pc1BlbmRpbmcoZS5ibG9iVXJpKCkpID8gKG4gPSBlLmJsb2JVcmkoKSwgbmV3IGtyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIGRbbl0gPSBkW25dIHx8IFtdLCBkW25dLnB1c2goZSk7CiAgICAgICAgICB9KSkgOiAoaSA9IGUsIHQgPSBzLmhhbmRsZXIsIGEgPSByLCB1Lm1hcmtQZW5kaW5nKGkuYmxvYlVyaSgpKSwgbmV3IGtyKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgICAgIHZhciBuOwoKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICB2YXIgbyA9IGZ1bmN0aW9uIG8oKSB7CiAgICAgICAgICAgICAgICBuICYmIG4uY2xvc2UoKTsKICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICB0KGksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICBvKCksIHUubWFya1VwbG9hZGVkKGkuYmxvYlVyaSgpLCBlKSwgZihpLmJsb2JVcmkoKSwgYyhpLCBlKSksIHIoYyhpLCBlKSk7CiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgICAgICAgIHZhciBuID0gdCB8fCB7fTsKICAgICAgICAgICAgICAgIG8oKSwgdS5yZW1vdmVGYWlsZWQoaS5ibG9iVXJpKCkpLCBmKGkuYmxvYlVyaSgpLCBsKGksIGUsIG4pKSwgcihsKGksIGUsIG4pKTsKICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAodCkgewogICAgICAgICAgICAgICAgdCA8IDAgfHwgMTAwIDwgdCB8fCB2ZS5mcm9tKG4pLm9yVGh1bmsoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICByZXR1cm4gdmUuZnJvbShhKS5tYXAoQyk7CiAgICAgICAgICAgICAgICB9KS5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgIChuID0gZSkucHJvZ3Jlc3NCYXIudmFsdWUodCk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgICAgIHIobChpLCBlLm1lc3NhZ2UsIHt9KSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pKTsKICAgICAgICAgIHZhciBpLCB0LCBhLCBuOwogICAgICAgIH0pKSkgOiBuZXcga3IoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGUoW10pOwogICAgICAgIH0pOwogICAgICAgIHZhciBuLCByOwogICAgICB9CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gJHYoZSkgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGUubm90aWZpY2F0aW9uTWFuYWdlci5vcGVuKHsKICAgICAgICB0ZXh0OiBlLnRyYW5zbGF0ZSgiSW1hZ2UgdXBsb2FkaW5nLi4uIiksCiAgICAgICAgdHlwZTogImluZm8iLAogICAgICAgIHRpbWVvdXQ6IC0xLAogICAgICAgIHByb2dyZXNzQmFyOiAhMAogICAgICB9KTsKICAgIH07CiAgfQoKICBmdW5jdGlvbiBXdihlLCB0KSB7CiAgICByZXR1cm4gcXYodCwgewogICAgICB1cmw6IGUuZ2V0UGFyYW0oImltYWdlc191cGxvYWRfdXJsIiwgIiIsICJzdHJpbmciKSwKICAgICAgYmFzZVBhdGg6IGUuZ2V0UGFyYW0oImltYWdlc191cGxvYWRfYmFzZV9wYXRoIiwgIiIsICJzdHJpbmciKSwKICAgICAgY3JlZGVudGlhbHM6IGUuZ2V0UGFyYW0oImltYWdlc191cGxvYWRfY3JlZGVudGlhbHMiLCAhMSwgImJvb2xlYW4iKSwKICAgICAgaGFuZGxlcjogZS5nZXRQYXJhbSgiaW1hZ2VzX3VwbG9hZF9oYW5kbGVyIiwgbnVsbCwgImZ1bmN0aW9uIikKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gS3YobCkgewogICAgZnVuY3Rpb24gdCh0KSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBsLnNlbGVjdGlvbiA/IHQoZSkgOiBbXTsKICAgICAgfTsKICAgIH0KCiAgICBmdW5jdGlvbiByKGUsIHQsIG4pIHsKICAgICAgZm9yICh2YXIgciA9IDA7IC0xICE9PSAociA9IGUuaW5kZXhPZih0LCByKSkgJiYgKGUgPSBlLnN1YnN0cmluZygwLCByKSArIG4gKyBlLnN1YnN0cihyICsgdC5sZW5ndGgpLCByICs9IG4ubGVuZ3RoIC0gdC5sZW5ndGggKyAxKSwgLTEgIT09IHI7KSB7CiAgICAgICAgOwogICAgICB9CgogICAgICByZXR1cm4gZTsKICAgIH0KCiAgICBmdW5jdGlvbiBvKGUsIHQsIG4pIHsKICAgICAgcmV0dXJuIGUgPSByKGUsICdzcmM9IicgKyB0ICsgJyInLCAnc3JjPSInICsgbiArICciJyArIChuID09PSB4dC50cmFuc3BhcmVudFNyYyA/ICcgZGF0YS1tY2UtcGxhY2Vob2xkZXI9IjEiJyA6ICIiKSksIHIoZSwgJ2RhdGEtbWNlLXNyYz0iJyArIHQgKyAnIicsICdkYXRhLW1jZS1zcmM9IicgKyBuICsgJyInKTsKICAgIH0KCiAgICBmdW5jdGlvbiBmKHQsIG4pIHsKICAgICAgWShsLnVuZG9NYW5hZ2VyLmRhdGEsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgImZyYWdtZW50ZWQiID09PSBlLnR5cGUgPyBlLmZyYWdtZW50cyA9IFQoZS5mcmFnbWVudHMsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gbyhlLCB0LCBuKTsKICAgICAgICB9KSA6IGUuY29udGVudCA9IG8oZS5jb250ZW50LCB0LCBuKTsKICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gbihuKSB7CiAgICAgIHJldHVybiB1ID0gdSB8fCBXdihsLCBnKSwgdigpLnRoZW4odChmdW5jdGlvbiAoYykgewogICAgICAgIHZhciBlID0gVChjLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIGUuYmxvYkluZm87CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHUudXBsb2FkKGUsICR2KGwpKS50aGVuKHQoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciBzID0gW10sCiAgICAgICAgICAgICAgdCA9IFQoZSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgICAgdmFyIG4sCiAgICAgICAgICAgICAgICByLAogICAgICAgICAgICAgICAgbywKICAgICAgICAgICAgICAgIGksCiAgICAgICAgICAgICAgICBhID0gY1t0XS5ibG9iSW5mbywKICAgICAgICAgICAgICAgIHUgPSBjW3RdLmltYWdlOwogICAgICAgICAgICByZXR1cm4gZS5zdGF0dXMgJiYgbC5nZXRQYXJhbSgiaW1hZ2VzX3JlcGxhY2VfYmxvYl91cmlzIiwgITAsICJib29sZWFuIikgPyAobS5yZW1vdmVCeVVyaSh1LnNyYyksIG1oKGwpIHx8IChyID0gdSwgbyA9IGUudXJsLCBpID0gbC5jb252ZXJ0VVJMKG8sICJzcmMiKSwgZihyLnNyYywgbyksIGwuJChyKS5hdHRyKHsKICAgICAgICAgICAgICBzcmM6IGwuZ2V0UGFyYW0oImltYWdlc19yZXVzZV9maWxlbmFtZSIsICExLCAiYm9vbGVhbiIpID8gbyArICgtMSA9PT0gby5pbmRleE9mKCI/IikgPyAiPyIgOiAiJiIpICsgbmV3IERhdGUoKS5nZXRUaW1lKCkgOiBvLAogICAgICAgICAgICAgICJkYXRhLW1jZS1zcmMiOiBpCiAgICAgICAgICAgIH0pKSkgOiBlLmVycm9yICYmIChlLmVycm9yLm9wdGlvbnMucmVtb3ZlICYmIChmKHUuZ2V0QXR0cmlidXRlKCJzcmMiKSwgeHQudHJhbnNwYXJlbnRTcmMpLCBzLnB1c2godSkpLCBuID0gZS5lcnJvci5tZXNzYWdlLCBJdihsLCB1dS50cmFuc2xhdGUoWyJGYWlsZWQgdG8gdXBsb2FkIGltYWdlOiB7MH0iLCBuXSkpKSwgewogICAgICAgICAgICAgIGVsZW1lbnQ6IHUsCiAgICAgICAgICAgICAgc3RhdHVzOiBlLnN0YXR1cywKICAgICAgICAgICAgICB1cGxvYWRVcmk6IGUudXJsLAogICAgICAgICAgICAgIGJsb2JJbmZvOiBhCiAgICAgICAgICAgIH07CiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiAwIDwgdC5sZW5ndGggJiYgaC5maXJlSWZDaGFuZ2VkKCksIDAgPCBzLmxlbmd0aCAmJiAobWgobCkgPyBjb25zb2xlLmVycm9yKCJSZW1vdmluZyBpbWFnZXMgb24gZmFpbGVkIHVwbG9hZHMgaXMgY3VycmVudGx5IHVuc3VwcG9ydGVkIGZvciBSVEMiKSA6IGwudW5kb01hbmFnZXIudHJhbnNhY3QoZnVuY3Rpb24gKCkgewogICAgICAgICAgICBZKHMsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgbC5kb20ucmVtb3ZlKGUpLCBtLnJlbW92ZUJ5VXJpKGUuc3JjKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KSksIG4gJiYgbih0KSwgdDsKICAgICAgICB9KSk7CiAgICAgIH0pKTsKICAgIH0KCiAgICBmdW5jdGlvbiBlKGUpIHsKICAgICAgaWYgKE5zKGwpKSByZXR1cm4gbihlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBpKHQpIHsKICAgICAgcmV0dXJuICExICE9PSBqKHAsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUodCk7CiAgICAgIH0pICYmICgwICE9PSB0LmdldEF0dHJpYnV0ZSgic3JjIikuaW5kZXhPZigiZGF0YToiKSB8fCBsLmdldFBhcmFtKCJpbWFnZXNfZGF0YWltZ19maWx0ZXIiLCB3LCAiZnVuY3Rpb24iKSh0KSk7CiAgICB9CgogICAgZnVuY3Rpb24gYShlKSB7CiAgICAgIHJldHVybiBlLnJlcGxhY2UoL3NyYz0iKGJsb2I6W14iXSspIi9nLCBmdW5jdGlvbiAoZSwgbikgewogICAgICAgIHZhciB0ID0gZy5nZXRSZXN1bHRVcmkobik7CiAgICAgICAgaWYgKHQpIHJldHVybiAnc3JjPSInICsgdCArICciJzsKICAgICAgICB2YXIgciA9IChyID0gbS5nZXRCeVVyaShuKSkgfHwgTChsLmVkaXRvck1hbmFnZXIuZ2V0KCksIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgICByZXR1cm4gZSB8fCB0LmVkaXRvclVwbG9hZCAmJiB0LmVkaXRvclVwbG9hZC5ibG9iQ2FjaGUuZ2V0QnlVcmkobik7CiAgICAgICAgfSwgbnVsbCk7CiAgICAgICAgcmV0dXJuIHIgPyAnc3JjPSJkYXRhOicgKyByLmJsb2IoKS50eXBlICsgIjtiYXNlNjQsIiArIHIuYmFzZTY0KCkgKyAnIicgOiBlOwogICAgICB9KTsKICAgIH0KCiAgICB2YXIgdSwKICAgICAgICBzLAogICAgICAgIGMsCiAgICAgICAgZCwKICAgICAgICBtID0gVnYoKSwKICAgICAgICBnID0gSHYoKSwKICAgICAgICBwID0gW10sCiAgICAgICAgaCA9IChkID0gcnUobnVsbCksIChjID0gbCkub24oImNoYW5nZSBBZGRVbmRvIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgZC5zZXQoX2UyKHt9LCBlLmxldmVsKSk7CiAgICB9KSwgewogICAgICBmaXJlSWZDaGFuZ2VkOiBmdW5jdGlvbiBmaXJlSWZDaGFuZ2VkKCkgewogICAgICAgIHZhciB0ID0gYy51bmRvTWFuYWdlci5kYXRhOwogICAgICAgIFoodCkuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gIXNoKGQuZ2V0KCksIGUpOwogICAgICAgIH0pLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGMuc2V0RGlydHkoITApLCBjLmZpcmUoImNoYW5nZSIsIHsKICAgICAgICAgICAgbGV2ZWw6IGUsCiAgICAgICAgICAgIGxhc3RMZXZlbDogRyh0LCB0Lmxlbmd0aCAtIDIpLmdldE9yTnVsbCgpCiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSksCiAgICAgICAgdiA9IGZ1bmN0aW9uIHYoKSB7CiAgICAgIHJldHVybiAocyA9IHMgfHwgSGgoZywgbSkpLmZpbmRBbGwobC5nZXRCb2R5KCksIGkpLnRoZW4odChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlID0gVShlLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuICJzdHJpbmciICE9IHR5cGVvZiBlIHx8IHZvaWQgSXYobCwgZSk7CiAgICAgICAgfSksIG1oKGwpIHx8IFkoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGYoZS5pbWFnZS5zcmMsIGUuYmxvYkluZm8uYmxvYlVyaSgpKSwgZS5pbWFnZS5zcmMgPSBlLmJsb2JJbmZvLmJsb2JVcmkoKSwgZS5pbWFnZS5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtbWNlLXNyYyIpOwogICAgICAgIH0pLCBlOwogICAgICB9KSk7CiAgICB9OwoKICAgIHJldHVybiBsLm9uKCJTZXRDb250ZW50IiwgZnVuY3Rpb24gKCkgewogICAgICAoTnMobCkgPyBlIDogdikoKTsKICAgIH0pLCBsLm9uKCJSYXdTYXZlQ29udGVudCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGUuY29udGVudCA9IGEoZS5jb250ZW50KTsKICAgIH0pLCBsLm9uKCJHZXRDb250ZW50IiwgZnVuY3Rpb24gKGUpIHsKICAgICAgZS5zb3VyY2VfdmlldyB8fCAicmF3IiA9PT0gZS5mb3JtYXQgfHwgInRyZWUiID09PSBlLmZvcm1hdCB8fCAoZS5jb250ZW50ID0gYShlLmNvbnRlbnQpKTsKICAgIH0pLCBsLm9uKCJQb3N0UmVuZGVyIiwgZnVuY3Rpb24gKCkgewogICAgICBsLnBhcnNlci5hZGROb2RlRmlsdGVyKCJpbWciLCBmdW5jdGlvbiAoZSkgewogICAgICAgIFkoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciB0LAogICAgICAgICAgICAgIG4gPSBlLmF0dHIoInNyYyIpOwogICAgICAgICAgbS5nZXRCeVVyaShuKSB8fCAodCA9IGcuZ2V0UmVzdWx0VXJpKG4pKSAmJiBlLmF0dHIoInNyYyIsIHQpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0pLCB7CiAgICAgIGJsb2JDYWNoZTogbSwKICAgICAgYWRkRmlsdGVyOiBmdW5jdGlvbiBhZGRGaWx0ZXIoZSkgewogICAgICAgIHAucHVzaChlKTsKICAgICAgfSwKICAgICAgdXBsb2FkSW1hZ2VzOiBuLAogICAgICB1cGxvYWRJbWFnZXNBdXRvOiBlLAogICAgICBzY2FuRm9ySW1hZ2VzOiB2LAogICAgICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkgewogICAgICAgIG0uZGVzdHJveSgpLCBnLmRlc3Ryb3koKSwgcyA9IHUgPSBudWxsOwogICAgICB9CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gWHYoZSwgdCkgewogICAgZnVuY3Rpb24gbShlKSB7CiAgICAgIG8gPSAic3RyaW5nIiA9PSB0eXBlb2YgZSA/IHsKICAgICAgICBuYW1lOiBlLAogICAgICAgIGNsYXNzZXM6IFtdLAogICAgICAgIGF0dHJzOiB7fQogICAgICB9IDogZTsKICAgICAgdmFyIHQsCiAgICAgICAgICBuID0gZHkuY3JlYXRlKG8ubmFtZSksCiAgICAgICAgICByID0gbjsKICAgICAgcmV0dXJuICh0ID0gbykuY2xhc3Nlcy5sZW5ndGggJiYgZHkuYWRkQ2xhc3MociwgdC5jbGFzc2VzLmpvaW4oIiAiKSksIGR5LnNldEF0dHJpYnMociwgdC5hdHRycyksIG47CiAgICB9CgogICAgdmFyIG4sCiAgICAgICAgbywKICAgICAgICByLAogICAgICAgIGcgPSB0ICYmIHQuc2NoZW1hIHx8IHRvKHt9KSwKICAgICAgICBwID0gZnVuY3Rpb24gcChuLCBlLCB0KSB7CiAgICAgIHZhciByLAogICAgICAgICAgbywKICAgICAgICAgIGksCiAgICAgICAgICBhLAogICAgICAgICAgdSwKICAgICAgICAgIHMsCiAgICAgICAgICBjLAogICAgICAgICAgbCA9IDAgPCBlLmxlbmd0aCAmJiBlWzBdLAogICAgICAgICAgZiA9IGwgJiYgbC5uYW1lLAogICAgICAgICAgZCA9IChhID0gZiwgdSA9ICJzdHJpbmciICE9IHR5cGVvZiAoaSA9IG4pID8gaS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIDogaSwgISghKGMgPSAocyA9IGcuZ2V0RWxlbWVudFJ1bGUodSkpICYmIHMucGFyZW50c1JlcXVpcmVkKSB8fCAhYy5sZW5ndGgpICYmIChhICYmIC0xICE9PSBFdC5pbkFycmF5KGMsIGEpID8gYSA6IGNbMF0pKTsKICAgICAgaWYgKGQpIGYgPT09IGQgPyAobyA9IGVbMF0sIGUgPSBlLnNsaWNlKDEpKSA6IG8gPSBkO2Vsc2UgaWYgKGwpIG8gPSBlWzBdLCBlID0gZS5zbGljZSgxKTtlbHNlIGlmICghdCkgcmV0dXJuIG47CiAgICAgIHJldHVybiBvICYmIChyID0gbShvKSkuYXBwZW5kQ2hpbGQobiksIHQgJiYgKHIgfHwgKHIgPSBkeS5jcmVhdGUoImRpdiIpKS5hcHBlbmRDaGlsZChuKSwgRXQuZWFjaCh0LCBmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciB0ID0gbShlKTsKICAgICAgICByLmluc2VydEJlZm9yZSh0LCBuKTsKICAgICAgfSkpLCBwKHIsIGUsIG8gJiYgby5zaWJsaW5ncyk7CiAgICB9OwoKICAgIHJldHVybiBlICYmIGUubGVuZ3RoID8gKG4gPSBtKG8gPSBlWzBdKSwgKHIgPSBkeS5jcmVhdGUoImRpdiIpKS5hcHBlbmRDaGlsZChwKG4sIGUuc2xpY2UoMSksIG8uc2libGluZ3MpKSwgcikgOiAiIjsKICB9CgogIGZ1bmN0aW9uIFl2KGUpIHsKICAgIHZhciB0LAogICAgICAgIGEgPSB7CiAgICAgIGNsYXNzZXM6IFtdLAogICAgICBhdHRyczoge30KICAgIH07CiAgICByZXR1cm4gIioiICE9PSAoZSA9IGEuc2VsZWN0b3IgPSBFdC50cmltKGUpKSAmJiAodCA9IGUucmVwbGFjZSgvKD86KFsjXC5dfDo6PykoW1x3XC1dKyl8KFxbKShbXlxdXSspXF0/KS9nLCBmdW5jdGlvbiAoZSwgdCwgbiwgciwgbykgewogICAgICBzd2l0Y2ggKHQpIHsKICAgICAgICBjYXNlICIjIjoKICAgICAgICAgIGEuYXR0cnMuaWQgPSBuOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgIi4iOgogICAgICAgICAgYS5jbGFzc2VzLnB1c2gobik7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAiOiI6CiAgICAgICAgICAtMSAhPT0gRXQuaW5BcnJheSgiY2hlY2tlZCBkaXNhYmxlZCBlbmFibGVkIHJlYWQtb25seSByZXF1aXJlZCIuc3BsaXQoIiAiKSwgbikgJiYgKGEuYXR0cnNbbl0gPSBuKTsKICAgICAgfQoKICAgICAgdmFyIGk7CiAgICAgIHJldHVybiAiWyIgIT09IHIgfHwgKGkgPSBvLm1hdGNoKC8oW1x3XC1dKykoPzpcPVwiKFteXCJdKykpPy8pKSAmJiAoYS5hdHRyc1tpWzFdXSA9IGlbMl0pLCAiIjsKICAgIH0pKSwgYS5uYW1lID0gdCB8fCAiZGl2IiwgYTsKICB9CgogIGZ1bmN0aW9uIEd2KG4sIGUpIHsKICAgIHZhciByLAogICAgICAgIHQsCiAgICAgICAgbyA9ICIiLAogICAgICAgIGkgPSAodCA9IG4uZ2V0UGFyYW0oInByZXZpZXdfc3R5bGVzIiwgImZvbnQtZmFtaWx5IGZvbnQtc2l6ZSBmb250LXdlaWdodCBmb250LXN0eWxlIHRleHQtZGVjb3JhdGlvbiB0ZXh0LXRyYW5zZm9ybSBjb2xvciBiYWNrZ3JvdW5kLWNvbG9yIGJvcmRlciBib3JkZXItcmFkaXVzIG91dGxpbmUgdGV4dC1zaGFkb3ciKSwgWCh0KSA/IHQgOiAiIik7CiAgICBpZiAoIiIgPT09IGkpIHJldHVybiAiIjsKCiAgICBmdW5jdGlvbiBhKGUpIHsKICAgICAgcmV0dXJuIGUucmVwbGFjZSgvJShcdyspL2csICIiKTsKICAgIH0KCiAgICBpZiAoInN0cmluZyIgPT0gdHlwZW9mIGUpIHsKICAgICAgaWYgKCEoZSA9IG4uZm9ybWF0dGVyLmdldChlKSkpIHJldHVybjsKICAgICAgZSA9IGVbMF07CiAgICB9CgogICAgaWYgKCJwcmV2aWV3IiBpbiBlKSB7CiAgICAgIHZhciB1ID0gdWUoZSwgInByZXZpZXciKTsKICAgICAgaWYgKGZuKHUsICExKSkgcmV0dXJuICIiOwogICAgICBpID0gdS5nZXRPcihpKTsKICAgIH0KCiAgICB2YXIgcywKICAgICAgICBjID0gZS5ibG9jayB8fCBlLmlubGluZSB8fCAic3BhbiIsCiAgICAgICAgbCA9IChzID0gZS5zZWxlY3RvcikgJiYgInN0cmluZyIgPT0gdHlwZW9mIHMgPyAocyA9IChzID0gcy5zcGxpdCgvXHMqLFxzKi8pWzBdKS5yZXBsYWNlKC9ccyooflwrfH58XCt8PilccyovZywgIiQxIiksIEV0Lm1hcChzLnNwbGl0KC8oPzo+fFxzKyg/IVteXFtcXV0rXF0pKS8pLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9IEV0Lm1hcChlLnNwbGl0KC8oPzp+XCt8fnxcKykvKSwgWXYpLAogICAgICAgICAgbiA9IHQucG9wKCk7CiAgICAgIHJldHVybiB0Lmxlbmd0aCAmJiAobi5zaWJsaW5ncyA9IHQpLCBuOwogICAgfSkucmV2ZXJzZSgpKSA6IFtdLAogICAgICAgIGYgPSBsLmxlbmd0aCA/IChsWzBdLm5hbWUgfHwgKGxbMF0ubmFtZSA9IGMpLCBjID0gZS5zZWxlY3RvciwgWHYobCwgbikpIDogWHYoW2NdLCBuKSwKICAgICAgICBkID0gZHkuc2VsZWN0KGMsIGYpWzBdIHx8IGYuZmlyc3RDaGlsZDsKICAgIHJldHVybiBmeShlLnN0eWxlcywgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgdmFyIG4gPSBhKGUpOwogICAgICBuICYmIGR5LnNldFN0eWxlKGQsIHQsIG4pOwogICAgfSksIGZ5KGUuYXR0cmlidXRlcywgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgdmFyIG4gPSBhKGUpOwogICAgICBuICYmIGR5LnNldEF0dHJpYihkLCB0LCBuKTsKICAgIH0pLCBmeShlLmNsYXNzZXMsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gYShlKTsKICAgICAgZHkuaGFzQ2xhc3MoZCwgdCkgfHwgZHkuYWRkQ2xhc3MoZCwgdCk7CiAgICB9KSwgbi5maXJlKCJQcmV2aWV3Rm9ybWF0cyIpLCBkeS5zZXRTdHlsZXMoZiwgewogICAgICBwb3NpdGlvbjogImFic29sdXRlIiwKICAgICAgbGVmdDogLTY1NTM1CiAgICB9KSwgbi5nZXRCb2R5KCkuYXBwZW5kQ2hpbGQoZiksIHIgPSBkeS5nZXRTdHlsZShuLmdldEJvZHkoKSwgImZvbnRTaXplIiwgITApLCByID0gL3B4JC8udGVzdChyKSA/IHBhcnNlSW50KHIsIDEwKSA6IDAsIGZ5KGkuc3BsaXQoIiAiKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQgPSBkeS5nZXRTdHlsZShkLCBlLCAhMCk7CgogICAgICBpZiAoISgiYmFja2dyb3VuZC1jb2xvciIgPT09IGUgJiYgL3RyYW5zcGFyZW50fHJnYmFccypcKFteKV0rLFxzKjBcKS8udGVzdCh0KSAmJiAodCA9IGR5LmdldFN0eWxlKG4uZ2V0Qm9keSgpLCBlLCAhMCksICIjZmZmZmZmIiA9PT0gZHkudG9IZXgodCkudG9Mb3dlckNhc2UoKSkgfHwgImNvbG9yIiA9PT0gZSAmJiAiIzAwMDAwMCIgPT09IGR5LnRvSGV4KHQpLnRvTG93ZXJDYXNlKCkpKSB7CiAgICAgICAgaWYgKCJmb250LXNpemUiID09PSBlICYmIC9lbXwlJC8udGVzdCh0KSkgewogICAgICAgICAgaWYgKDAgPT09IHIpIHJldHVybjsKICAgICAgICAgIHQgPSBwYXJzZUZsb2F0KHQpIC8gKC8lJC8udGVzdCh0KSA/IDEwMCA6IDEpICogciArICJweCI7CiAgICAgICAgfQoKICAgICAgICAiYm9yZGVyIiA9PT0gZSAmJiB0ICYmIChvICs9ICJwYWRkaW5nOjAgMnB4OyIpLCBvICs9IGUgKyAiOiIgKyB0ICsgIjsiOwogICAgICB9CiAgICB9KSwgbi5maXJlKCJBZnRlclByZXZpZXdGb3JtYXRzIiksIGR5LnJlbW92ZShmKSwgbzsKICB9CgogIGZ1bmN0aW9uIEp2KGMpIHsKICAgIHZhciBlLAogICAgICAgIHIsCiAgICAgICAgdCwKICAgICAgICBuLAogICAgICAgIF9vMiwKICAgICAgICBpLAogICAgICAgIGEgPSAobiA9IHt9LCAoX28yID0gZnVuY3Rpb24gbyhlLCB0KSB7CiAgICAgIGUgJiYgKFgoZSkgPyAoWSh0ID0gIVModCkgPyBbdF0gOiB0LCBmdW5jdGlvbiAoZSkgewogICAgICAgIGIoZS5kZWVwKSAmJiAoZS5kZWVwID0gIWZsKGUpKSwgYihlLnNwbGl0KSAmJiAoZS5zcGxpdCA9ICFmbChlKSB8fCBkbChlKSksIGIoZS5yZW1vdmUpICYmIGZsKGUpICYmICFkbChlKSAmJiAoZS5yZW1vdmUgPSAibm9uZSIpLCBmbChlKSAmJiBkbChlKSAmJiAoZS5taXhlZCA9ICEwLCBlLmJsb2NrX2V4cGFuZCA9ICEwKSwgWChlLmNsYXNzZXMpICYmIChlLmNsYXNzZXMgPSBlLmNsYXNzZXMuc3BsaXQoL1xzKy8pKTsKICAgICAgfSksIG5bZV0gPSB0KSA6IG5lKGUsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgX28yKHQsIGUpOwogICAgICB9KSk7CiAgICB9KSgociA9IChlID0gYykuZG9tLCB0ID0gewogICAgICB2YWxpZ250b3A6IFt7CiAgICAgICAgc2VsZWN0b3I6ICJ0ZCx0aCIsCiAgICAgICAgc3R5bGVzOiB7CiAgICAgICAgICB2ZXJ0aWNhbEFsaWduOiAidG9wIgogICAgICAgIH0KICAgICAgfV0sCiAgICAgIHZhbGlnbm1pZGRsZTogW3sKICAgICAgICBzZWxlY3RvcjogInRkLHRoIiwKICAgICAgICBzdHlsZXM6IHsKICAgICAgICAgIHZlcnRpY2FsQWxpZ246ICJtaWRkbGUiCiAgICAgICAgfQogICAgICB9XSwKICAgICAgdmFsaWduYm90dG9tOiBbewogICAgICAgIHNlbGVjdG9yOiAidGQsdGgiLAogICAgICAgIHN0eWxlczogewogICAgICAgICAgdmVydGljYWxBbGlnbjogImJvdHRvbSIKICAgICAgICB9CiAgICAgIH1dLAogICAgICBhbGlnbmxlZnQ6IFt7CiAgICAgICAgc2VsZWN0b3I6ICJmaWd1cmUuaW1hZ2UiLAogICAgICAgIGNvbGxhcHNlZDogITEsCiAgICAgICAgY2xhc3NlczogImFsaWduLWxlZnQiLAogICAgICAgIGNlRmFsc2VPdmVycmlkZTogITAsCiAgICAgICAgcHJldmlldzogImZvbnQtZmFtaWx5IGZvbnQtc2l6ZSIKICAgICAgfSwgewogICAgICAgIHNlbGVjdG9yOiAiZmlndXJlLHAsaDEsaDIsaDMsaDQsaDUsaDYsdGQsdGgsdHIsZGl2LHVsLG9sLGxpIiwKICAgICAgICBzdHlsZXM6IHsKICAgICAgICAgIHRleHRBbGlnbjogImxlZnQiCiAgICAgICAgfSwKICAgICAgICBpbmhlcml0OiAhMSwKICAgICAgICBwcmV2aWV3OiAhMSwKICAgICAgICBkZWZhdWx0QmxvY2s6ICJkaXYiCiAgICAgIH0sIHsKICAgICAgICBzZWxlY3RvcjogImltZyx0YWJsZSxhdWRpbyx2aWRlbyIsCiAgICAgICAgY29sbGFwc2VkOiAhMSwKICAgICAgICBzdHlsZXM6IHsKICAgICAgICAgIGZsb2F0OiAibGVmdCIKICAgICAgICB9LAogICAgICAgIHByZXZpZXc6ICJmb250LWZhbWlseSBmb250LXNpemUiCiAgICAgIH1dLAogICAgICBhbGlnbmNlbnRlcjogW3sKICAgICAgICBzZWxlY3RvcjogImZpZ3VyZSxwLGgxLGgyLGgzLGg0LGg1LGg2LHRkLHRoLHRyLGRpdix1bCxvbCxsaSIsCiAgICAgICAgc3R5bGVzOiB7CiAgICAgICAgICB0ZXh0QWxpZ246ICJjZW50ZXIiCiAgICAgICAgfSwKICAgICAgICBpbmhlcml0OiAhMSwKICAgICAgICBwcmV2aWV3OiAiZm9udC1mYW1pbHkgZm9udC1zaXplIiwKICAgICAgICBkZWZhdWx0QmxvY2s6ICJkaXYiCiAgICAgIH0sIHsKICAgICAgICBzZWxlY3RvcjogImZpZ3VyZS5pbWFnZSIsCiAgICAgICAgY29sbGFwc2VkOiAhMSwKICAgICAgICBjbGFzc2VzOiAiYWxpZ24tY2VudGVyIiwKICAgICAgICBjZUZhbHNlT3ZlcnJpZGU6ICEwLAogICAgICAgIHByZXZpZXc6ICJmb250LWZhbWlseSBmb250LXNpemUiCiAgICAgIH0sIHsKICAgICAgICBzZWxlY3RvcjogImltZyxhdWRpbyx2aWRlbyIsCiAgICAgICAgY29sbGFwc2VkOiAhMSwKICAgICAgICBzdHlsZXM6IHsKICAgICAgICAgIGRpc3BsYXk6ICJibG9jayIsCiAgICAgICAgICBtYXJnaW5MZWZ0OiAiYXV0byIsCiAgICAgICAgICBtYXJnaW5SaWdodDogImF1dG8iCiAgICAgICAgfSwKICAgICAgICBwcmV2aWV3OiAhMQogICAgICB9LCB7CiAgICAgICAgc2VsZWN0b3I6ICJ0YWJsZSIsCiAgICAgICAgY29sbGFwc2VkOiAhMSwKICAgICAgICBzdHlsZXM6IHsKICAgICAgICAgIG1hcmdpbkxlZnQ6ICJhdXRvIiwKICAgICAgICAgIG1hcmdpblJpZ2h0OiAiYXV0byIKICAgICAgICB9LAogICAgICAgIHByZXZpZXc6ICJmb250LWZhbWlseSBmb250LXNpemUiCiAgICAgIH1dLAogICAgICBhbGlnbnJpZ2h0OiBbewogICAgICAgIHNlbGVjdG9yOiAiZmlndXJlLmltYWdlIiwKICAgICAgICBjb2xsYXBzZWQ6ICExLAogICAgICAgIGNsYXNzZXM6ICJhbGlnbi1yaWdodCIsCiAgICAgICAgY2VGYWxzZU92ZXJyaWRlOiAhMCwKICAgICAgICBwcmV2aWV3OiAiZm9udC1mYW1pbHkgZm9udC1zaXplIgogICAgICB9LCB7CiAgICAgICAgc2VsZWN0b3I6ICJmaWd1cmUscCxoMSxoMixoMyxoNCxoNSxoNix0ZCx0aCx0cixkaXYsdWwsb2wsbGkiLAogICAgICAgIHN0eWxlczogewogICAgICAgICAgdGV4dEFsaWduOiAicmlnaHQiCiAgICAgICAgfSwKICAgICAgICBpbmhlcml0OiAhMSwKICAgICAgICBwcmV2aWV3OiAiZm9udC1mYW1pbHkgZm9udC1zaXplIiwKICAgICAgICBkZWZhdWx0QmxvY2s6ICJkaXYiCiAgICAgIH0sIHsKICAgICAgICBzZWxlY3RvcjogImltZyx0YWJsZSxhdWRpbyx2aWRlbyIsCiAgICAgICAgY29sbGFwc2VkOiAhMSwKICAgICAgICBzdHlsZXM6IHsKICAgICAgICAgIGZsb2F0OiAicmlnaHQiCiAgICAgICAgfSwKICAgICAgICBwcmV2aWV3OiAiZm9udC1mYW1pbHkgZm9udC1zaXplIgogICAgICB9XSwKICAgICAgYWxpZ25qdXN0aWZ5OiBbewogICAgICAgIHNlbGVjdG9yOiAiZmlndXJlLHAsaDEsaDIsaDMsaDQsaDUsaDYsdGQsdGgsdHIsZGl2LHVsLG9sLGxpIiwKICAgICAgICBzdHlsZXM6IHsKICAgICAgICAgIHRleHRBbGlnbjogImp1c3RpZnkiCiAgICAgICAgfSwKICAgICAgICBpbmhlcml0OiAhMSwKICAgICAgICBkZWZhdWx0QmxvY2s6ICJkaXYiLAogICAgICAgIHByZXZpZXc6ICJmb250LWZhbWlseSBmb250LXNpemUiCiAgICAgIH1dLAogICAgICBib2xkOiBbewogICAgICAgIGlubGluZTogInN0cm9uZyIsCiAgICAgICAgcmVtb3ZlOiAiYWxsIiwKICAgICAgICBwcmVzZXJ2ZV9hdHRyaWJ1dGVzOiBbImNsYXNzIiwgInN0eWxlIl0KICAgICAgfSwgewogICAgICAgIGlubGluZTogInNwYW4iLAogICAgICAgIHN0eWxlczogewogICAgICAgICAgZm9udFdlaWdodDogImJvbGQiCiAgICAgICAgfQogICAgICB9LCB7CiAgICAgICAgaW5saW5lOiAiYiIsCiAgICAgICAgcmVtb3ZlOiAiYWxsIiwKICAgICAgICBwcmVzZXJ2ZV9hdHRyaWJ1dGVzOiBbImNsYXNzIiwgInN0eWxlIl0KICAgICAgfV0sCiAgICAgIGl0YWxpYzogW3sKICAgICAgICBpbmxpbmU6ICJlbSIsCiAgICAgICAgcmVtb3ZlOiAiYWxsIiwKICAgICAgICBwcmVzZXJ2ZV9hdHRyaWJ1dGVzOiBbImNsYXNzIiwgInN0eWxlIl0KICAgICAgfSwgewogICAgICAgIGlubGluZTogInNwYW4iLAogICAgICAgIHN0eWxlczogewogICAgICAgICAgZm9udFN0eWxlOiAiaXRhbGljIgogICAgICAgIH0KICAgICAgfSwgewogICAgICAgIGlubGluZTogImkiLAogICAgICAgIHJlbW92ZTogImFsbCIsCiAgICAgICAgcHJlc2VydmVfYXR0cmlidXRlczogWyJjbGFzcyIsICJzdHlsZSJdCiAgICAgIH1dLAogICAgICB1bmRlcmxpbmU6IFt7CiAgICAgICAgaW5saW5lOiAic3BhbiIsCiAgICAgICAgc3R5bGVzOiB7CiAgICAgICAgICB0ZXh0RGVjb3JhdGlvbjogInVuZGVybGluZSIKICAgICAgICB9LAogICAgICAgIGV4YWN0OiAhMAogICAgICB9LCB7CiAgICAgICAgaW5saW5lOiAidSIsCiAgICAgICAgcmVtb3ZlOiAiYWxsIiwKICAgICAgICBwcmVzZXJ2ZV9hdHRyaWJ1dGVzOiBbImNsYXNzIiwgInN0eWxlIl0KICAgICAgfV0sCiAgICAgIHN0cmlrZXRocm91Z2g6IFt7CiAgICAgICAgaW5saW5lOiAic3BhbiIsCiAgICAgICAgc3R5bGVzOiB7CiAgICAgICAgICB0ZXh0RGVjb3JhdGlvbjogImxpbmUtdGhyb3VnaCIKICAgICAgICB9LAogICAgICAgIGV4YWN0OiAhMAogICAgICB9LCB7CiAgICAgICAgaW5saW5lOiAic3RyaWtlIiwKICAgICAgICByZW1vdmU6ICJhbGwiLAogICAgICAgIHByZXNlcnZlX2F0dHJpYnV0ZXM6IFsiY2xhc3MiLCAic3R5bGUiXQogICAgICB9LCB7CiAgICAgICAgaW5saW5lOiAicyIsCiAgICAgICAgcmVtb3ZlOiAiYWxsIiwKICAgICAgICBwcmVzZXJ2ZV9hdHRyaWJ1dGVzOiBbImNsYXNzIiwgInN0eWxlIl0KICAgICAgfV0sCiAgICAgIGZvcmVjb2xvcjogewogICAgICAgIGlubGluZTogInNwYW4iLAogICAgICAgIHN0eWxlczogewogICAgICAgICAgY29sb3I6ICIldmFsdWUiCiAgICAgICAgfSwKICAgICAgICBsaW5rczogITAsCiAgICAgICAgcmVtb3ZlX3NpbWlsYXI6ICEwLAogICAgICAgIGNsZWFyX2NoaWxkX3N0eWxlczogITAKICAgICAgfSwKICAgICAgaGlsaXRlY29sb3I6IHsKICAgICAgICBpbmxpbmU6ICJzcGFuIiwKICAgICAgICBzdHlsZXM6IHsKICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogIiV2YWx1ZSIKICAgICAgICB9LAogICAgICAgIGxpbmtzOiAhMCwKICAgICAgICByZW1vdmVfc2ltaWxhcjogITAsCiAgICAgICAgY2xlYXJfY2hpbGRfc3R5bGVzOiAhMAogICAgICB9LAogICAgICBmb250bmFtZTogewogICAgICAgIGlubGluZTogInNwYW4iLAogICAgICAgIHRvZ2dsZTogITEsCiAgICAgICAgc3R5bGVzOiB7CiAgICAgICAgICBmb250RmFtaWx5OiAiJXZhbHVlIgogICAgICAgIH0sCiAgICAgICAgY2xlYXJfY2hpbGRfc3R5bGVzOiAhMAogICAgICB9LAogICAgICBmb250c2l6ZTogewogICAgICAgIGlubGluZTogInNwYW4iLAogICAgICAgIHRvZ2dsZTogITEsCiAgICAgICAgc3R5bGVzOiB7CiAgICAgICAgICBmb250U2l6ZTogIiV2YWx1ZSIKICAgICAgICB9LAogICAgICAgIGNsZWFyX2NoaWxkX3N0eWxlczogITAKICAgICAgfSwKICAgICAgbGluZWhlaWdodDogewogICAgICAgIHNlbGVjdG9yOiAiaDEsaDIsaDMsaDQsaDUsaDYscCxsaSx0ZCx0aCxkaXYiLAogICAgICAgIGRlZmF1bHRCbG9jazogInAiLAogICAgICAgIHN0eWxlczogewogICAgICAgICAgbGluZUhlaWdodDogIiV2YWx1ZSIKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGZvbnRzaXplX2NsYXNzOiB7CiAgICAgICAgaW5saW5lOiAic3BhbiIsCiAgICAgICAgYXR0cmlidXRlczogewogICAgICAgICAgY2xhc3M6ICIldmFsdWUiCiAgICAgICAgfQogICAgICB9LAogICAgICBibG9ja3F1b3RlOiB7CiAgICAgICAgYmxvY2s6ICJibG9ja3F1b3RlIiwKICAgICAgICB3cmFwcGVyOiAhMCwKICAgICAgICByZW1vdmU6ICJhbGwiCiAgICAgIH0sCiAgICAgIHN1YnNjcmlwdDogewogICAgICAgIGlubGluZTogInN1YiIKICAgICAgfSwKICAgICAgc3VwZXJzY3JpcHQ6IHsKICAgICAgICBpbmxpbmU6ICJzdXAiCiAgICAgIH0sCiAgICAgIGNvZGU6IHsKICAgICAgICBpbmxpbmU6ICJjb2RlIgogICAgICB9LAogICAgICBsaW5rOiB7CiAgICAgICAgaW5saW5lOiAiYSIsCiAgICAgICAgc2VsZWN0b3I6ICJhIiwKICAgICAgICByZW1vdmU6ICJhbGwiLAogICAgICAgIHNwbGl0OiAhMCwKICAgICAgICBkZWVwOiAhMCwKICAgICAgICBvbm1hdGNoOiBmdW5jdGlvbiBvbm1hdGNoKGUsIHQsIG4pIHsKICAgICAgICAgIHJldHVybiB6bihlKSAmJiBlLmhhc0F0dHJpYnV0ZSgiaHJlZiIpOwogICAgICAgIH0sCiAgICAgICAgb25mb3JtYXQ6IGZ1bmN0aW9uIG9uZm9ybWF0KG4sIGUsIHQpIHsKICAgICAgICAgIEV0LmVhY2godCwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgICAgci5zZXRBdHRyaWIobiwgdCwgZSk7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGxhbmc6IHsKICAgICAgICBpbmxpbmU6ICJzcGFuIiwKICAgICAgICBjbGVhcl9jaGlsZF9zdHlsZXM6ICEwLAogICAgICAgIHJlbW92ZV9zaW1pbGFyOiAhMCwKICAgICAgICBhdHRyaWJ1dGVzOiB7CiAgICAgICAgICBsYW5nOiAiJXZhbHVlIiwKICAgICAgICAgICJkYXRhLW1jZS1sYW5nIjogZnVuY3Rpb24gZGF0YU1jZUxhbmcoZSkgewogICAgICAgICAgICB2YXIgdDsKICAgICAgICAgICAgcmV0dXJuIG51bGwgIT09ICh0ID0gbnVsbCA9PSBlID8gdm9pZCAwIDogZS5jdXN0b21WYWx1ZSkgJiYgdm9pZCAwICE9PSB0ID8gdCA6IG51bGw7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LAogICAgICByZW1vdmVmb3JtYXQ6IFt7CiAgICAgICAgc2VsZWN0b3I6ICJiLHN0cm9uZyxlbSxpLGZvbnQsdSxzdHJpa2UscyxzdWIsc3VwLGRmbixjb2RlLHNhbXAsa2JkLHZhcixjaXRlLG1hcmsscSxkZWwsaW5zLHNtYWxsIiwKICAgICAgICByZW1vdmU6ICJhbGwiLAogICAgICAgIHNwbGl0OiAhMCwKICAgICAgICBleHBhbmQ6ICExLAogICAgICAgIGJsb2NrX2V4cGFuZDogITAsCiAgICAgICAgZGVlcDogITAKICAgICAgfSwgewogICAgICAgIHNlbGVjdG9yOiAic3BhbiIsCiAgICAgICAgYXR0cmlidXRlczogWyJzdHlsZSIsICJjbGFzcyJdLAogICAgICAgIHJlbW92ZTogImVtcHR5IiwKICAgICAgICBzcGxpdDogITAsCiAgICAgICAgZXhwYW5kOiAhMSwKICAgICAgICBkZWVwOiAhMAogICAgICB9LCB7CiAgICAgICAgc2VsZWN0b3I6ICIqIiwKICAgICAgICBhdHRyaWJ1dGVzOiBbInN0eWxlIiwgImNsYXNzIl0sCiAgICAgICAgc3BsaXQ6ICExLAogICAgICAgIGV4cGFuZDogITEsCiAgICAgICAgZGVlcDogITAKICAgICAgfV0KICAgIH0sIEV0LmVhY2goInAgaDEgaDIgaDMgaDQgaDUgaDYgZGl2IGFkZHJlc3MgcHJlIGR0IGRkIHNhbXAiLnNwbGl0KC9ccy8pLCBmdW5jdGlvbiAoZSkgewogICAgICB0W2VdID0gewogICAgICAgIGJsb2NrOiBlLAogICAgICAgIHJlbW92ZTogImFsbCIKICAgICAgfTsKICAgIH0pLCB0KSksIF9vMihlLmdldFBhcmFtKCJmb3JtYXRzIikpLCB7CiAgICAgIGdldDogZnVuY3Rpb24gZ2V0KGUpIHsKICAgICAgICByZXR1cm4gVihlKSA/IG5bZV0gOiBuOwogICAgICB9LAogICAgICBoYXM6IGZ1bmN0aW9uIGhhcyhlKSB7CiAgICAgICAgcmV0dXJuIE5lKG4sIGUpOwogICAgICB9LAogICAgICByZWdpc3RlcjogX28yLAogICAgICB1bnJlZ2lzdGVyOiBmdW5jdGlvbiB1bnJlZ2lzdGVyKGUpIHsKICAgICAgICByZXR1cm4gZSAmJiBuW2VdICYmIGRlbGV0ZSBuW2VdLCBuOwogICAgICB9CiAgICB9KSwKICAgICAgICBsID0gcnUobnVsbCk7CgogICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgIGUuYWRkU2hvcnRjdXQoIm1ldGErYiIsICIiLCAiQm9sZCIpLCBlLmFkZFNob3J0Y3V0KCJtZXRhK2kiLCAiIiwgIkl0YWxpYyIpLCBlLmFkZFNob3J0Y3V0KCJtZXRhK3UiLCAiIiwgIlVuZGVybGluZSIpOwoKICAgICAgZm9yICh2YXIgdCA9IDE7IHQgPD0gNjsgdCsrKSB7CiAgICAgICAgZS5hZGRTaG9ydGN1dCgiYWNjZXNzKyIgKyB0LCAiIiwgWyJGb3JtYXRCbG9jayIsICExLCAiaCIgKyB0XSk7CiAgICAgIH0KCiAgICAgIGUuYWRkU2hvcnRjdXQoImFjY2Vzcys3IiwgIiIsIFsiRm9ybWF0QmxvY2siLCAhMSwgInAiXSksIGUuYWRkU2hvcnRjdXQoImFjY2Vzcys4IiwgIiIsIFsiRm9ybWF0QmxvY2siLCAhMSwgImRpdiJdKSwgZS5hZGRTaG9ydGN1dCgiYWNjZXNzKzkiLCAiIiwgWyJGb3JtYXRCbG9jayIsICExLCAiYWRkcmVzcyJdKTsKICAgIH0oYyksIChpID0gYykub24oIm1vdXNldXAga2V5ZG93biIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gaSwKICAgICAgICAgIG4gPSBlLmtleUNvZGUsCiAgICAgICAgICByID0gdC5zZWxlY3Rpb24sCiAgICAgICAgICBvID0gdC5nZXRCb2R5KCk7CiAgICAgIEZnKHQsIG51bGwsICExKSwgOCAhPT0gbiAmJiA0NiAhPT0gbiB8fCAhci5pc0NvbGxhcHNlZCgpIHx8IHIuZ2V0U3RhcnQoKS5pbm5lckhUTUwgIT09IHZwIHx8IEZnKHQsIEhjKG8sIHIuZ2V0U3RhcnQoKSkpLCAzNyAhPT0gbiAmJiAzOSAhPT0gbiB8fCBGZyh0LCBIYyhvLCByLmdldFN0YXJ0KCkpKTsKICAgIH0pLCB7CiAgICAgIGdldDogYS5nZXQsCiAgICAgIGhhczogYS5oYXMsCiAgICAgIHJlZ2lzdGVyOiBhLnJlZ2lzdGVyLAogICAgICB1bnJlZ2lzdGVyOiBhLnVucmVnaXN0ZXIsCiAgICAgIGFwcGx5OiBmdW5jdGlvbiBhcHBseShlLCB0LCBuKSB7CiAgICAgICAgdmFyIHIgPSBlLAogICAgICAgICAgICBvID0gdCwKICAgICAgICAgICAgaSA9IG47CiAgICAgICAgaGgoYykuZm9ybWF0dGVyLmFwcGx5KHIsIG8sIGkpOwogICAgICB9LAogICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShlLCB0LCBuLCByKSB7CiAgICAgICAgdmFyIG8gPSBlLAogICAgICAgICAgICBpID0gdCwKICAgICAgICAgICAgYSA9IG4sCiAgICAgICAgICAgIHUgPSByOwogICAgICAgIGhoKGMpLmZvcm1hdHRlci5yZW1vdmUobywgaSwgYSwgdSk7CiAgICAgIH0sCiAgICAgIHRvZ2dsZTogZnVuY3Rpb24gdG9nZ2xlKGUsIHQsIG4pIHsKICAgICAgICB2YXIgciA9IGUsCiAgICAgICAgICAgIG8gPSB0LAogICAgICAgICAgICBpID0gbjsKICAgICAgICBoaChjKS5mb3JtYXR0ZXIudG9nZ2xlKHIsIG8sIGkpOwogICAgICB9LAogICAgICBtYXRjaDogZnVuY3Rpb24gbWF0Y2goZSwgdCwgbiwgcikgewogICAgICAgIHJldHVybiBvID0gZSwgaSA9IHQsIGEgPSBuLCB1ID0gciwgaGgoYykuZm9ybWF0dGVyLm1hdGNoKG8sIGksIGEsIHUpOwogICAgICAgIHZhciBvLCBpLCBhLCB1OwogICAgICB9LAogICAgICBjbG9zZXN0OiBmdW5jdGlvbiBjbG9zZXN0KGUpIHsKICAgICAgICByZXR1cm4gdCA9IGUsIGhoKGMpLmZvcm1hdHRlci5jbG9zZXN0KHQpOwogICAgICAgIHZhciB0OwogICAgICB9LAogICAgICBtYXRjaEFsbDogZnVuY3Rpb24gbWF0Y2hBbGwoZSwgdCkgewogICAgICAgIHJldHVybiBuID0gZSwgciA9IHQsIGhoKGMpLmZvcm1hdHRlci5tYXRjaEFsbChuLCByKTsKICAgICAgICB2YXIgbiwgcjsKICAgICAgfSwKICAgICAgbWF0Y2hOb2RlOiBmdW5jdGlvbiBtYXRjaE5vZGUoZSwgdCwgbiwgcikgewogICAgICAgIHJldHVybiBvID0gZSwgaSA9IHQsIGEgPSBuLCB1ID0gciwgaGgoYykuZm9ybWF0dGVyLm1hdGNoTm9kZShvLCBpLCBhLCB1KTsKICAgICAgICB2YXIgbywgaSwgYSwgdTsKICAgICAgfSwKICAgICAgY2FuQXBwbHk6IGZ1bmN0aW9uIGNhbkFwcGx5KGUpIHsKICAgICAgICByZXR1cm4gdCA9IGUsIGhoKGMpLmZvcm1hdHRlci5jYW5BcHBseSh0KTsKICAgICAgICB2YXIgdDsKICAgICAgfSwKICAgICAgZm9ybWF0Q2hhbmdlZDogZnVuY3Rpb24gZm9ybWF0Q2hhbmdlZChlLCB0LCBuLCByKSB7CiAgICAgICAgcmV0dXJuIG8gPSBsLCBpID0gZSwgYSA9IHQsIHUgPSBuLCBzID0gciwgaGgoYykuZm9ybWF0dGVyLmZvcm1hdENoYW5nZWQobywgaSwgYSwgdSwgcyk7CiAgICAgICAgdmFyIG8sIGksIGEsIHUsIHM7CiAgICAgIH0sCiAgICAgIGdldENzc1RleHQ6IEEoR3YsIGMpCiAgICB9OwogIH0KCiAgZnVuY3Rpb24gUXYoZSkgewogICAgc3dpdGNoIChlLnRvTG93ZXJDYXNlKCkpIHsKICAgICAgY2FzZSAidW5kbyI6CiAgICAgIGNhc2UgInJlZG8iOgogICAgICBjYXNlICJtY2VyZXBhaW50IjoKICAgICAgY2FzZSAibWNlZm9jdXMiOgogICAgICAgIHJldHVybiAxOwoKICAgICAgZGVmYXVsdDoKICAgICAgICByZXR1cm47CiAgICB9CiAgfQoKICBmdW5jdGlvbiBadihzKSB7CiAgICB2YXIgZSwKICAgICAgICBuLAogICAgICAgIHIsCiAgICAgICAgbywKICAgICAgICBpLAogICAgICAgIGMgPSBjdSgpLAogICAgICAgIGwgPSBydSgwKSwKICAgICAgICBmID0gcnUoMCksCiAgICAgICAgZCA9IHsKICAgICAgZGF0YTogW10sCiAgICAgIHR5cGluZzogITEsCiAgICAgIGJlZm9yZUNoYW5nZTogZnVuY3Rpb24gYmVmb3JlQ2hhbmdlKCkgewogICAgICAgIHZhciBlID0gbCwKICAgICAgICAgICAgdCA9IGM7CiAgICAgICAgaGgocykudW5kb01hbmFnZXIuYmVmb3JlQ2hhbmdlKGUsIHQpOwogICAgICB9LAogICAgICBhZGQ6IGZ1bmN0aW9uIGFkZChlLCB0KSB7CiAgICAgICAgcmV0dXJuIG4gPSBkLCByID0gZiwgbyA9IGwsIGkgPSBjLCBhID0gZSwgdSA9IHQsIGhoKHMpLnVuZG9NYW5hZ2VyLmFkZChuLCByLCBvLCBpLCBhLCB1KTsKICAgICAgICB2YXIgbiwgciwgbywgaSwgYSwgdTsKICAgICAgfSwKICAgICAgdW5kbzogZnVuY3Rpb24gdW5kbygpIHsKICAgICAgICByZXR1cm4gZSA9IGQsIHQgPSBsLCBuID0gZiwgaGgocykudW5kb01hbmFnZXIudW5kbyhlLCB0LCBuKTsKICAgICAgICB2YXIgZSwgdCwgbjsKICAgICAgfSwKICAgICAgcmVkbzogZnVuY3Rpb24gcmVkbygpIHsKICAgICAgICByZXR1cm4gZSA9IGYsIHQgPSBkLmRhdGEsIGhoKHMpLnVuZG9NYW5hZ2VyLnJlZG8oZSwgdCk7CiAgICAgICAgdmFyIGUsIHQ7CiAgICAgIH0sCiAgICAgIGNsZWFyOiBmdW5jdGlvbiBjbGVhcigpIHsKICAgICAgICB2YXIgZSA9IGQsCiAgICAgICAgICAgIHQgPSBmOwogICAgICAgIGhoKHMpLnVuZG9NYW5hZ2VyLmNsZWFyKGUsIHQpOwogICAgICB9LAogICAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgICAgdmFyIGUgPSBkOwogICAgICAgIGhoKHMpLnVuZG9NYW5hZ2VyLnJlc2V0KGUpOwogICAgICB9LAogICAgICBoYXNVbmRvOiBmdW5jdGlvbiBoYXNVbmRvKCkgewogICAgICAgIHJldHVybiBlID0gZCwgdCA9IGYsIGhoKHMpLnVuZG9NYW5hZ2VyLmhhc1VuZG8oZSwgdCk7CiAgICAgICAgdmFyIGUsIHQ7CiAgICAgIH0sCiAgICAgIGhhc1JlZG86IGZ1bmN0aW9uIGhhc1JlZG8oKSB7CiAgICAgICAgcmV0dXJuIGUgPSBkLCB0ID0gZiwgaGgocykudW5kb01hbmFnZXIuaGFzUmVkbyhlLCB0KTsKICAgICAgICB2YXIgZSwgdDsKICAgICAgfSwKICAgICAgdHJhbnNhY3Q6IGZ1bmN0aW9uIHRyYW5zYWN0KGUpIHsKICAgICAgICByZXR1cm4gdCA9IGQsIG4gPSBsLCByID0gZSwgaGgocykudW5kb01hbmFnZXIudHJhbnNhY3QodCwgbiwgcik7CiAgICAgICAgdmFyIHQsIG4sIHI7CiAgICAgIH0sCiAgICAgIGlnbm9yZTogZnVuY3Rpb24gaWdub3JlKGUpIHsKICAgICAgICB2YXIgdCA9IGwsCiAgICAgICAgICAgIG4gPSBlOwogICAgICAgIGhoKHMpLnVuZG9NYW5hZ2VyLmlnbm9yZSh0LCBuKTsKICAgICAgfSwKICAgICAgZXh0cmE6IGZ1bmN0aW9uIGV4dHJhKGUsIHQpIHsKICAgICAgICB2YXIgbiA9IGQsCiAgICAgICAgICAgIHIgPSBmLAogICAgICAgICAgICBvID0gZSwKICAgICAgICAgICAgaSA9IHQ7CiAgICAgICAgaGgocykudW5kb01hbmFnZXIuZXh0cmEobiwgciwgbywgaSk7CiAgICAgIH0KICAgIH07CiAgICByZXR1cm4gbWgocykgfHwgKHIgPSBkLCBvID0gbCwgaSA9IHJ1KCExKSwgKG4gPSBzKS5vbigiaW5pdCIsIGZ1bmN0aW9uICgpIHsKICAgICAgci5hZGQoKTsKICAgIH0pLCBuLm9uKCJCZWZvcmVFeGVjQ29tbWFuZCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIFF2KGUuY29tbWFuZCkgfHwgKGZoKHIsIG8pLCByLmJlZm9yZUNoYW5nZSgpKTsKICAgIH0pLCBuLm9uKCJFeGVjQ29tbWFuZCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIFF2KGUuY29tbWFuZCkgfHwgYShlKTsKICAgIH0pLCBuLm9uKCJPYmplY3RSZXNpemVTdGFydCBjdXQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHIuYmVmb3JlQ2hhbmdlKCk7CiAgICB9KSwgbi5vbigiU2F2ZUNvbnRlbnQgT2JqZWN0UmVzaXplZCBibHVyIiwgYSksIG4ub24oImRyYWdlbmQiLCBhKSwgbi5vbigia2V5dXAiLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9IGUua2V5Q29kZTsKICAgICAgZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCAoKDMzIDw9IHQgJiYgdCA8PSAzNiB8fCAzNyA8PSB0ICYmIHQgPD0gNDAgfHwgNDUgPT09IHQgfHwgZS5jdHJsS2V5KSAmJiAoYSgpLCBuLm5vZGVDaGFuZ2VkKCkpLCA0NiAhPT0gdCAmJiA4ICE9PSB0IHx8IG4ubm9kZUNoYW5nZWQoKSwgaS5nZXQoKSAmJiByLnR5cGluZyAmJiAhMSA9PT0gc2gob2gobiksIHIuZGF0YVswXSkgJiYgKCExID09PSBuLmlzRGlydHkoKSAmJiAobi5zZXREaXJ0eSghMCksIG4uZmlyZSgiY2hhbmdlIiwgewogICAgICAgIGxldmVsOiByLmRhdGFbMF0sCiAgICAgICAgbGFzdExldmVsOiBudWxsCiAgICAgIH0pKSwgbi5maXJlKCJUeXBpbmdVbmRvIiksIGkuc2V0KCExKSwgbi5ub2RlQ2hhbmdlZCgpKSk7CiAgICB9KSwgbi5vbigia2V5ZG93biIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0LAogICAgICAgICAgbiA9IGUua2V5Q29kZTsKICAgICAgZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCAoMzMgPD0gbiAmJiBuIDw9IDM2IHx8IDM3IDw9IG4gJiYgbiA8PSA0MCB8fCA0NSA9PT0gbiA/IHIudHlwaW5nICYmIGEoZSkgOiAodCA9IGUuY3RybEtleSAmJiAhZS5hbHRLZXkgfHwgZS5tZXRhS2V5LCAhKG4gPCAxNiB8fCAyMCA8IG4pIHx8IDIyNCA9PT0gbiB8fCA5MSA9PT0gbiB8fCByLnR5cGluZyB8fCB0IHx8IChyLmJlZm9yZUNoYW5nZSgpLCBsaChyLCAhMCwgbyksIHIuYWRkKHt9LCBlKSwgaS5zZXQoITApKSkpOwogICAgfSksIG4ub24oIm1vdXNlZG93biIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHIudHlwaW5nICYmIGEoZSk7CiAgICB9KSwgbi5vbigiaW5wdXQiLCBmdW5jdGlvbiAoZSkgewogICAgICBlLmlucHV0VHlwZSAmJiAoImluc2VydFJlcGxhY2VtZW50VGV4dCIgPT09IGUuaW5wdXRUeXBlIHx8ICJpbnNlcnRUZXh0IiA9PT0gZS5pbnB1dFR5cGUgJiYgbnVsbCA9PT0gZS5kYXRhIHx8ICJpbnNlcnRGcm9tUGFzdGUiID09PSBlLmlucHV0VHlwZSB8fCAiaW5zZXJ0RnJvbURyb3AiID09PSBlLmlucHV0VHlwZSkgJiYgYShlKTsKICAgIH0pLCBuLm9uKCJBZGRVbmRvIFVuZG8gUmVkbyBDbGVhclVuZG9zIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCBuLm5vZGVDaGFuZ2VkKCk7CiAgICB9KSksIChlID0gcykuYWRkU2hvcnRjdXQoIm1ldGEreiIsICIiLCAiVW5kbyIpLCBlLmFkZFNob3J0Y3V0KCJtZXRhK3ksbWV0YStzaGlmdCt6IiwgIiIsICJSZWRvIiksIGQ7CgogICAgZnVuY3Rpb24gYShlKSB7CiAgICAgIGxoKHIsICExLCBvKSwgci5hZGQoe30sIGUpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gZWIoZSkgewogICAgcmV0dXJuICJrZXlkb3duIiA9PT0gZS50eXBlIHx8ICJrZXl1cCIgPT09IGUudHlwZTsKICB9CgogIGZ1bmN0aW9uIHRiKGUpIHsKICAgIHZhciB0ID0gZS5rZXlDb2RlOwogICAgcmV0dXJuIHQgPT09IEJmLkJBQ0tTUEFDRSB8fCB0ID09PSBCZi5ERUxFVEU7CiAgfQoKICBmdW5jdGlvbiBuYihlLCB0KSB7CiAgICByZXR1cm4gemUoTnQuZnJvbURvbSh0KSwgZS5nZXRQYXJhbSgiaW5saW5lX2JvdW5kYXJpZXNfc2VsZWN0b3IiLCAiYVtocmVmXSxjb2RlLC5tY2UtYW5ub3RhdGlvbiIsICJzdHJpbmciKSk7CiAgfQoKICBmdW5jdGlvbiByYihlLCB0LCBuKSB7CiAgICB2YXIgciwKICAgICAgICBvLAogICAgICAgIGkgPSAociA9IGUsIG8gPSB0LCBVKEphLkRPTS5nZXRQYXJlbnRzKG4uY29udGFpbmVyKCksICIqIiwgbyksIHIpKTsKICAgIHJldHVybiB2ZS5mcm9tKGlbaS5sZW5ndGggLSAxXSk7CiAgfQoKICBmdW5jdGlvbiBvYihlLCB0KSB7CiAgICBpZiAoIXQpIHJldHVybiB0OwogICAgdmFyIG4gPSB0LmNvbnRhaW5lcigpLAogICAgICAgIHIgPSB0Lm9mZnNldCgpOwogICAgcmV0dXJuIGUgPyBMcihuKSA/IGpuKG4ubmV4dFNpYmxpbmcpID8gYXMobi5uZXh0U2libGluZywgMCkgOiBhcy5hZnRlcihuKSA6IEZyKHQpID8gYXMobiwgciArIDEpIDogdCA6IExyKG4pID8gam4obi5wcmV2aW91c1NpYmxpbmcpID8gYXMobi5wcmV2aW91c1NpYmxpbmcsIG4ucHJldmlvdXNTaWJsaW5nLmRhdGEubGVuZ3RoKSA6IGFzLmJlZm9yZShuKSA6IFVyKHQpID8gYXMobiwgciAtIDEpIDogdDsKICB9CgogIGZ1bmN0aW9uIGliKGUpIHsKICAgIHJldHVybiBmbyhlKSB8fCBnbyhlKTsKICB9CgogIGZ1bmN0aW9uIGFiKGUsIHQpIHsKICAgIHJldHVybiBWZShlLCB0KSA/IHByKHQsIGliLCAobiA9IGUsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBqZShuLCBOdC5mcm9tRG9tKGUuZG9tLnBhcmVudE5vZGUpKTsKICAgIH0pKSA6IHZlLm5vbmUoKTsKICAgIHZhciBuOwogIH0KCiAgZnVuY3Rpb24gdWIoZSkgewogICAgdmFyIHQsIG4sIHI7CiAgICBlLmRvbS5pc0VtcHR5KGUuZ2V0Qm9keSgpKSAmJiAoZS5zZXRDb250ZW50KCIiKSwgciA9IChuID0gKHQgPSBlKS5nZXRCb2R5KCkpLmZpcnN0Q2hpbGQgJiYgdC5kb20uaXNCbG9jayhuLmZpcnN0Q2hpbGQpID8gbi5maXJzdENoaWxkIDogbiwgdC5zZWxlY3Rpb24uc2V0Q3Vyc29yTG9jYXRpb24ociwgMCkpOwogIH0KCiAgZnVuY3Rpb24gc2IoZSwgdCkgewogICAgcmV0dXJuIHsKICAgICAgZnJvbTogZSwKICAgICAgdG86IHQKICAgIH07CiAgfQoKICBmdW5jdGlvbiBjYihlLCB0KSB7CiAgICByZXR1cm4gYWIoTnQuZnJvbURvbShlKSwgTnQuZnJvbURvbSh0LmNvbnRhaW5lcigpKSkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgYmxvY2s6IGUsCiAgICAgICAgcG9zaXRpb246IHQKICAgICAgfTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gbGIoZSkgewogICAgdmFyIHQsCiAgICAgICAgbiA9IHoodCA9IERuKGUpLCBsbykuZm9sZChKKHQpLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gdC5zbGljZSgwLCBlKTsKICAgIH0pOwogICAgcmV0dXJuIFkobiwgTG4pLCBuOwogIH0KCiAgZnVuY3Rpb24gZmIoZSwgdCkgewogICAgcmV0dXJuIE0oaG0odCwgZSkucmV2ZXJzZSgpLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gV3IoZSk7CiAgICB9KS5lYWNoKExuKTsKICB9CgogIGZ1bmN0aW9uIGRiKGUsIHQsIG4sIHIpIHsKICAgIGlmIChXcihuKSkgcmV0dXJuIG1tKG4pLCBlZihuLmRvbSk7CiAgICAwID09PSBVKEx0KHIpLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gIVdyKGUpOwogICAgfSkubGVuZ3RoICYmIFdyKHQpICYmIHF0KHIsIE50LmZyb21UYWcoImJyIikpOwogICAgdmFyIG8gPSBabChuLmRvbSwgYXMuYmVmb3JlKHIuZG9tKSk7CiAgICByZXR1cm4gWShsYih0KSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcXQociwgZSk7CiAgICB9KSwgZmIoZSwgdCksIG87CiAgfQoKICBmdW5jdGlvbiBtYihlLCB0LCBuKSB7CiAgICBpZiAoV3IobikpIHJldHVybiBMbihuKSwgV3IodCkgJiYgbW0odCksIGVmKHQuZG9tKTsKICAgIHZhciByID0gdGYobi5kb20pOwogICAgcmV0dXJuIFkobGIodCksIGZ1bmN0aW9uIChlKSB7CiAgICAgIFBuKG4sIGUpOwogICAgfSksIGZiKGUsIHQpLCByOwogIH0KCiAgZnVuY3Rpb24gZ2IoZSwgdCkgewogICAgVWMoZSwgdC5kb20pLm1hcChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gZS5nZXROb2RlKCk7CiAgICB9KS5tYXAoTnQuZnJvbURvbSkuZmlsdGVyKEJyKS5lYWNoKExuKTsKICB9CgogIGZ1bmN0aW9uIHBiKGUsIHQsIG4pIHsKICAgIHJldHVybiBnYighMCwgdCksIGdiKCExLCBuKSwgKFZlKG8gPSBuLCByID0gdCkgPyAoaSA9IGhtKHIsIG8pLCB2ZS5mcm9tKGlbaS5sZW5ndGggLSAxXSkpIDogdmUubm9uZSgpKS5mb2xkKEEobWIsIGUsIHQsIG4pLCBBKGRiLCBlLCB0LCBuKSk7CiAgICB2YXIgciwgbywgaTsKICB9CgogIGZ1bmN0aW9uIGhiKGUsIHQsIG4sIHIpIHsKICAgIHJldHVybiB0ID8gcGIoZSwgciwgbikgOiBwYihlLCBuLCByKTsKICB9CgogIGZ1bmN0aW9uIHZiKHQsIG4pIHsKICAgIHZhciBlLAogICAgICAgIHIsCiAgICAgICAgbywKICAgICAgICBpLAogICAgICAgIGEsCiAgICAgICAgdSwKICAgICAgICBzLAogICAgICAgIGMgPSBOdC5mcm9tRG9tKHQuZ2V0Qm9keSgpKSwKICAgICAgICBsID0gKGUgPSBjLmRvbSwgciA9IG4sICgobyA9IHQuc2VsZWN0aW9uLmdldFJuZygpKS5jb2xsYXBzZWQgPyAoYSA9IHIsIHUgPSBjYihpID0gZSwgYXMuZnJvbVJhbmdlU3RhcnQobykpLCBzID0gdS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBHbChhLCBpLCBlLnBvc2l0aW9uKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGNiKGksIGUpLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIHQgPSBpLCBuID0gYSwgV24oKHIgPSBlKS5wb3NpdGlvbi5nZXROb2RlKCkpICYmICExID09PSBXcihyLmJsb2NrKSA/IFVjKCExLCByLmJsb2NrLmRvbSkuYmluZChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICByZXR1cm4gZS5pc0VxdWFsKHIucG9zaXRpb24pID8gR2wobiwgdCwgZSkuYmluZChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIHJldHVybiBjYih0LCBlKTsKICAgICAgICAgICAgfSkgOiB2ZS5zb21lKHIpOwogICAgICAgICAgfSkuZ2V0T3IocikgOiByOwogICAgICAgICAgdmFyIHQsIG4sIHI7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSksIGRuKHUsIHMsIHNiKS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuICExID09PSBqZShlLmZyb20uYmxvY2ssIGUudG8uYmxvY2spICYmIE90KChuID0gZSkuZnJvbS5ibG9jaykuYmluZChmdW5jdGlvbiAodCkgewogICAgICAgIHJldHVybiBPdChuLnRvLmJsb2NrKS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBqZSh0LCBlKTsKICAgICAgICB9KTsKICAgICAgfSkuaXNTb21lKCkgJiYgITEgPT09IFluKCh0ID0gZSkuZnJvbS5ibG9jay5kb20pICYmICExID09PSBZbih0LnRvLmJsb2NrLmRvbSk7CiAgICAgIHZhciB0LCBuOwogICAgfSkpIDogdmUubm9uZSgpKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBoYihjLCBuLCBlLmZyb20uYmxvY2ssIGUudG8uYmxvY2spOwogICAgfSkpOwogICAgcmV0dXJuIGwuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICB0LnNlbGVjdGlvbi5zZXRSbmcoZS50b1JhbmdlKCkpOwogICAgfSksIGwuaXNTb21lKCk7CiAgfQoKICBmdW5jdGlvbiBiYihlLCB0KSB7CiAgICB2YXIgbiA9IE50LmZyb21Eb20odCksCiAgICAgICAgciA9IEEoamUsIGUpOwogICAgcmV0dXJuIGdyKG4sIGhvLCByKS5pc1NvbWUoKTsKICB9CgogIGZ1bmN0aW9uIHliKGUpIHsKICAgIHZhciBuLAogICAgICAgIHIsCiAgICAgICAgbywKICAgICAgICB0LAogICAgICAgIGksCiAgICAgICAgYSwKICAgICAgICB1LAogICAgICAgIHMsCiAgICAgICAgYywKICAgICAgICBsLAogICAgICAgIGYgPSBOdC5mcm9tRG9tKGUuZ2V0Qm9keSgpKSwKICAgICAgICBkID0gZS5zZWxlY3Rpb24uZ2V0Um5nKCk7CiAgICByZXR1cm4gYSA9IGQsIGMgPSBabCgoaSA9IGYpLmRvbSwgYXMuZnJvbVJhbmdlU3RhcnQoYSkpLmlzTm9uZSgpLCBsID0gUWwoaS5kb20sIGFzLmZyb21SYW5nZUVuZChhKSkuaXNOb25lKCksICFiYih1ID0gaSwgKHMgPSBhKS5zdGFydENvbnRhaW5lcikgJiYgIWJiKHUsIHMuZW5kQ29udGFpbmVyKSAmJiBjICYmIGwgPyAoKHQgPSBlKS5zZXRDb250ZW50KCIiKSwgdC5zZWxlY3Rpb24uc2V0Q3Vyc29yTG9jYXRpb24oKSwgITApIDogKG4gPSBmLCByID0gZS5zZWxlY3Rpb24sIG8gPSByLmdldFJuZygpLCBkbihhYihuLCBOdC5mcm9tRG9tKG8uc3RhcnRDb250YWluZXIpKSwgYWIobiwgTnQuZnJvbURvbShvLmVuZENvbnRhaW5lcikpLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICByZXR1cm4gITEgPT09IGplKGUsIHQpICYmIChvLmRlbGV0ZUNvbnRlbnRzKCksIGhiKG4sICEwLCBlLCB0KS5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgci5zZXRSbmcoZS50b1JhbmdlKCkpOwogICAgICB9KSwgITApOwogICAgfSkuZ2V0T3IoITEpKTsKICB9CgogIGZ1bmN0aW9uIENiKGUsIHQpIHsKICAgIHJldHVybiAhZS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSAmJiB5YihlKTsKICB9CgogIGZ1bmN0aW9uIHhiKGUsIHQsIG4sIHIsIG8pIHsKICAgIHJldHVybiB2ZS5mcm9tKHQuX3NlbGVjdGlvbk92ZXJyaWRlcy5zaG93Q2FyZXQoZSwgbiwgciwgbykpOwogIH0KCiAgZnVuY3Rpb24gd2IoZSwgdCkgewogICAgdmFyIG4sIHI7CiAgICByZXR1cm4gZS5maXJlKCJCZWZvcmVPYmplY3RTZWxlY3RlZCIsIHsKICAgICAgdGFyZ2V0OiB0CiAgICB9KS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSA/IHZlLm5vbmUoKSA6IHZlLnNvbWUoKChyID0gKG4gPSB0KS5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCkpLnNlbGVjdE5vZGUobiksIHIpKTsKICB9CgogIGZ1bmN0aW9uIFNiKGUsIHQsIG4pIHsKICAgIHZhciByID0gWnMoMSwgZS5nZXRCb2R5KCksIHQpLAogICAgICAgIG8gPSBhcy5mcm9tUmFuZ2VTdGFydChyKSwKICAgICAgICBpID0gby5nZXROb2RlKCk7CiAgICBpZiAod2MoaSkpIHJldHVybiB4YigxLCBlLCBpLCAhby5pc0F0RW5kKCksICExKTsKICAgIHZhciBhID0gby5nZXROb2RlKCEwKTsKICAgIGlmICh3YyhhKSkgcmV0dXJuIHhiKDEsIGUsIGEsICExLCAhMSk7CiAgICB2YXIgdSA9IGUuZG9tLmdldFBhcmVudChvLmdldE5vZGUoKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHl5KGUpIHx8IGJ5KGUpOwogICAgfSk7CiAgICByZXR1cm4gd2ModSkgPyB4YigxLCBlLCB1LCAhMSwgbikgOiB2ZS5ub25lKCk7CiAgfQoKICBmdW5jdGlvbiBFYihlLCB0LCBuKSB7CiAgICByZXR1cm4gdC5jb2xsYXBzZWQgPyBTYihlLCB0LCBuKS5nZXRPcih0KSA6IHQ7CiAgfQoKICBmdW5jdGlvbiBOYihlKSB7CiAgICByZXR1cm4gZXAoZSkgfHwgR2coZSk7CiAgfQoKICBmdW5jdGlvbiBrYihlKSB7CiAgICByZXR1cm4gdHAoZSkgfHwgSmcoZSk7CiAgfQoKICBmdW5jdGlvbiBfYihuLCByLCBlLCB0LCBvLCBpKSB7CiAgICB2YXIgYSwgdTsKICAgIHJldHVybiB4Yih0LCBuLCBpLmdldE5vZGUoIW8pLCBvLCAhMCkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdDsKICAgICAgci5jb2xsYXBzZWQgPyAodCA9IHIuY2xvbmVSYW5nZSgpLCBvID8gdC5zZXRFbmQoZS5zdGFydENvbnRhaW5lciwgZS5zdGFydE9mZnNldCkgOiB0LnNldFN0YXJ0KGUuZW5kQ29udGFpbmVyLCBlLmVuZE9mZnNldCksIHQuZGVsZXRlQ29udGVudHMoKSkgOiByLmRlbGV0ZUNvbnRlbnRzKCksIG4uc2VsZWN0aW9uLnNldFJuZyhlKTsKICAgIH0pLCBhID0gbi5kb20sIGpuKHUgPSBlKSAmJiAwID09PSB1LmRhdGEubGVuZ3RoICYmIGEucmVtb3ZlKHUpLCAhMDsKICB9CgogIGZ1bmN0aW9uIEFiKGUsIHQpIHsKICAgIHZhciBuID0gZS5zZWxlY3Rpb24uZ2V0Um5nKCk7CiAgICBpZiAoIWpuKG4uY29tbW9uQW5jZXN0b3JDb250YWluZXIpKSByZXR1cm4gITE7CiAgICB2YXIgciA9IHQgPyBpYy5Gb3J3YXJkcyA6IGljLkJhY2t3YXJkcywKICAgICAgICBvID0gUGMoZS5nZXRCb2R5KCkpLAogICAgICAgIGkgPSBBKHJjLCB0ID8gby5uZXh0IDogby5wcmV2KSwKICAgICAgICBhID0gdCA/IE5iIDoga2IsCiAgICAgICAgdSA9IHRjKHIsIGUuZ2V0Qm9keSgpLCBuKSwKICAgICAgICBzID0gb2IodCwgaSh1KSk7CiAgICBpZiAoIXMgfHwgIW9jKHUsIHMpKSByZXR1cm4gITE7CiAgICBpZiAoYShzKSkgcmV0dXJuIF9iKGUsIG4sIHUuZ2V0Tm9kZSgpLCByLCB0LCBzKTsKICAgIHZhciBjID0gaShzKTsKICAgIHJldHVybiAhIShjICYmIGEoYykgJiYgb2MocywgYykpICYmIF9iKGUsIG4sIHUuZ2V0Tm9kZSgpLCByLCB0LCBjKTsKICB9CgogIGZ1bmN0aW9uIFJiKGwsIGYsIGQpIHsKICAgIHJldHVybiBHbChmLCBsLCBkKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBzID0gZS5nZXROb2RlKCksIGhvKE50LmZyb21Eb20ocykpIHx8IGdvKE50LmZyb21Eb20ocykpIHx8IChvID0gbCwgdSA9IGUsIGVjKCEoaSA9IGYpLCBhID0gZCkuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIGVjKGksIHUpLmZvbGQoUiwgYyk7CiAgICAgIH0sIGMpKSA/IHZlLm5vbmUoKSA6IGYgJiYgWW4oZS5nZXROb2RlKCkpIHx8ICExID09PSBmICYmIFluKGUuZ2V0Tm9kZSghMCkpID8gKHQgPSBsLCBuID0gZCwgciA9IGUuZ2V0Tm9kZSghMSA9PT0gZiksIGFiKE50LmZyb21Eb20odCksIE50LmZyb21Eb20obi5nZXROb2RlKCkpKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gV3IoZSkgPyBDeS5yZW1vdmUoZS5kb20pIDogQ3kubW92ZVRvRWxlbWVudChyKTsKICAgICAgfSkub3JUaHVuayhmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHZlLnNvbWUoQ3kubW92ZVRvRWxlbWVudChyKSk7CiAgICAgIH0pKSA6IGYgJiYgdHAoZCkgfHwgITEgPT09IGYgJiYgZXAoZCkgPyB2ZS5zb21lKEN5Lm1vdmVUb1Bvc2l0aW9uKGUpKSA6IHZlLm5vbmUoKTsKICAgICAgdmFyIHQsIG4sIHIsIG8sIGksIGEsIHUsIHM7CgogICAgICBmdW5jdGlvbiBjKGUpIHsKICAgICAgICByZXR1cm4gT3IoTnQuZnJvbURvbShlKSkgJiYgIVlzKGEsIHUsIG8pOwogICAgICB9CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIERiKGUsIHQpIHsKICAgIHJldHVybiB2ZS5mcm9tKHBmKGUuZ2V0Qm9keSgpLCB0KSk7CiAgfQoKICBmdW5jdGlvbiBUYihtLCBnKSB7CiAgICB2YXIgZSA9IG0uc2VsZWN0aW9uLmdldE5vZGUoKTsKICAgIHJldHVybiBEYihtLCBlKS5maWx0ZXIoWW4pLmZvbGQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gcyA9IG0uZ2V0Qm9keSgpLCBsID0gWnMoKGMgPSBnKSA/IDEgOiAtMSwgcywgbS5zZWxlY3Rpb24uZ2V0Um5nKCkpLCBmID0gYXMuZnJvbVJhbmdlU3RhcnQobCksIGQgPSBOdC5mcm9tRG9tKHMpLCAoITEgPT09IGMgJiYgdHAoZikgPyB2ZS5zb21lKEN5LnJlbW92ZShmLmdldE5vZGUoITApKSkgOiBjICYmIGVwKGYpID8gdmUuc29tZShDeS5yZW1vdmUoZi5nZXROb2RlKCkpKSA6ICExID09PSBjICYmIGVwKGYpICYmIEVtKGQsIGYpID8gYXAoZCwgZikubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIEN5LnJlbW92ZShlLmdldE5vZGUoKSk7CiAgICAgIH0pIDogYyAmJiB0cChmKSAmJiBTbShkLCBmKSA/IHVwKGQsIGYpLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBDeS5yZW1vdmUoZS5nZXROb2RlKCkpOwogICAgICB9KSA6IChyID0gcywgZSA9IGMsIGEgPSAobyA9IGYpLmdldE5vZGUoITEgPT09IChpID0gZSkpLCB1ID0gaSA/ICJhZnRlciIgOiAiYmVmb3JlIiwgem4oYSkgJiYgYS5nZXRBdHRyaWJ1dGUoImRhdGEtbWNlLWNhcmV0IikgPT09IHUgPyAobiA9IG8uZ2V0Tm9kZSghMSA9PT0gKHQgPSBlKSksICh0ICYmIFluKG4ubmV4dFNpYmxpbmcpID8gdmUuc29tZShDeS5tb3ZlVG9FbGVtZW50KG4ubmV4dFNpYmxpbmcpKSA6ICExID09PSB0ICYmIFluKG4ucHJldmlvdXNTaWJsaW5nKSA/IHZlLnNvbWUoQ3kubW92ZVRvRWxlbWVudChuLnByZXZpb3VzU2libGluZykpIDogdmUubm9uZSgpKS5mb2xkKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gUmIociwgZSwgbyk7CiAgICAgIH0sIHZlLnNvbWUpKSA6IFJiKHIsIGUsIG8pLmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gdCA9IHIsIG4gPSBvLCBlLmZvbGQoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiB2ZS5zb21lKEN5LnJlbW92ZShlKSk7CiAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiB2ZS5zb21lKEN5Lm1vdmVUb0VsZW1lbnQoZSkpOwogICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gWXMobiwgZSwgdCkgPyB2ZS5ub25lKCkgOiB2ZS5zb21lKEN5Lm1vdmVUb1Bvc2l0aW9uKGUpKTsKICAgICAgICB9KTsKICAgICAgICB2YXIgdCwgbjsKICAgICAgfSkpKS5leGlzdHMoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS5mb2xkKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gby5fc2VsZWN0aW9uT3ZlcnJpZGVzLmhpZGVGYWtlQ2FyZXQoKSwgWW0obywgaSwgTnQuZnJvbURvbShlKSksICEwOwogICAgICAgIH0sIChyID0gaSA9IGcsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgdCA9IHIgPyBhcy5iZWZvcmUoZSkgOiBhcy5hZnRlcihlKTsKICAgICAgICAgIHJldHVybiBuLnNlbGVjdGlvbi5zZXRSbmcodC50b1JhbmdlKCkpLCAhMDsKICAgICAgICB9KSwgKHQgPSBuID0gbyA9IG0sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gdC5zZWxlY3Rpb24uc2V0Um5nKGUudG9SYW5nZSgpKSwgITA7CiAgICAgICAgfSkpOwogICAgICAgIHZhciB0LCBuLCByLCBvLCBpOwogICAgICB9KTsKICAgICAgdmFyIHIsIGUsIG8sIHQsIG4sIGksIGEsIHUsIHMsIGMsIGwsIGYsIGQ7CiAgICB9LCB3KTsKICB9CgogIGZ1bmN0aW9uIE9iKGUsIHQpIHsKICAgIHZhciBuID0gZS5zZWxlY3Rpb24uZ2V0Tm9kZSgpOwogICAgcmV0dXJuICEoIVluKG4pIHx8IEduKG4pKSAmJiBEYihlLCBuLnBhcmVudE5vZGUpLmZpbHRlcihZbikuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBZKGh1KE50LmZyb21Eb20oZS5nZXRCb2R5KCkpLCAiLm1jZS1vZmZzY3JlZW4tc2VsZWN0aW9uIiksIExuKSwgWW0oZSwgdCwgTnQuZnJvbURvbShlLnNlbGVjdGlvbi5nZXROb2RlKCkpKSwgdWIoZSksICEwOwogICAgfSwgdyk7CiAgfQoKICBmdW5jdGlvbiBCYihlKSB7CiAgICB2YXIgdCwKICAgICAgICBuID0gZS5kb20sCiAgICAgICAgciA9IGUuc2VsZWN0aW9uLAogICAgICAgIG8gPSBwZihlLmdldEJvZHkoKSwgci5nZXROb2RlKCkpOwogICAgcmV0dXJuIFhuKG8pICYmIG4uaXNCbG9jayhvKSAmJiBuLmlzRW1wdHkobykgJiYgKHQgPSBuLmNyZWF0ZSgiYnIiLCB7CiAgICAgICJkYXRhLW1jZS1ib2d1cyI6ICIxIgogICAgfSksIG4uc2V0SFRNTChvLCAiIiksIG8uYXBwZW5kQ2hpbGQodCksIHIuc2V0Um5nKGFzLmJlZm9yZSh0KS50b1JhbmdlKCkpKSwgITA7CiAgfQoKICBmdW5jdGlvbiBQYihlLCB0KSB7CiAgICByZXR1cm4gKGUuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkgPyBUYiA6IE9iKShlLCB0KTsKICB9CgogIGZ1bmN0aW9uIExiKGUsIHQpIHsKICAgIHJldHVybiAhIWUuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkgJiYgKG4gPSBlLCByID0gdCwgbyA9IGFzLmZyb21SYW5nZVN0YXJ0KG4uc2VsZWN0aW9uLmdldFJuZygpKSwgR2wociwgbi5nZXRCb2R5KCksIG8pLmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gKHIgPyBYZyA6IFlnKShlKTsKICAgIH0pLmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHZlLmZyb20oR3MociA/IDAgOiAtMSwgZSkpOwogICAgfSkuZXhpc3RzKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBuLnNlbGVjdGlvbi5zZWxlY3QoZSksICEwOwogICAgfSkpOwogICAgdmFyIG4sIHIsIG87CiAgfQoKICBmdW5jdGlvbiBJYihlKSB7CiAgICByZXR1cm4geHkoZSkgJiYgZS5kYXRhWzBdID09PSBDbzsKICB9CgogIGZ1bmN0aW9uIE1iKGUpIHsKICAgIHJldHVybiB4eShlKSAmJiBlLmRhdGFbZS5kYXRhLmxlbmd0aCAtIDFdID09PSBDbzsKICB9CgogIGZ1bmN0aW9uIEZiKGUpIHsKICAgIHJldHVybiBlLm93bmVyRG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoQ28pOwogIH0KCiAgZnVuY3Rpb24gVWIoZSwgdCkgewogICAgcmV0dXJuIChlID8gZnVuY3Rpb24gKGUpIHsKICAgICAgaWYgKHh5KGUucHJldmlvdXNTaWJsaW5nKSkgcmV0dXJuIE1iKGUucHJldmlvdXNTaWJsaW5nKSB8fCBlLnByZXZpb3VzU2libGluZy5hcHBlbmREYXRhKENvKSwgZS5wcmV2aW91c1NpYmxpbmc7CiAgICAgIGlmICh4eShlKSkgcmV0dXJuIEliKGUpIHx8IGUuaW5zZXJ0RGF0YSgwLCBDbyksIGU7CiAgICAgIHZhciB0ID0gRmIoZSk7CiAgICAgIHJldHVybiBlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHQsIGUpLCB0OwogICAgfSA6IGZ1bmN0aW9uIChlKSB7CiAgICAgIGlmICh4eShlLm5leHRTaWJsaW5nKSkgcmV0dXJuIEliKGUubmV4dFNpYmxpbmcpIHx8IGUubmV4dFNpYmxpbmcuaW5zZXJ0RGF0YSgwLCBDbyksIGUubmV4dFNpYmxpbmc7CiAgICAgIGlmICh4eShlKSkgcmV0dXJuIE1iKGUpIHx8IGUuYXBwZW5kRGF0YShDbyksIGU7CiAgICAgIHZhciB0ID0gRmIoZSk7CiAgICAgIHJldHVybiBlLm5leHRTaWJsaW5nID8gZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0LCBlLm5leHRTaWJsaW5nKSA6IGUucGFyZW50Tm9kZS5hcHBlbmRDaGlsZCh0KSwgdDsKICAgIH0pKHQpOwogIH0KCiAgZnVuY3Rpb24gemIoZSwgdCkgewogICAgcmV0dXJuIGpuKGUuY29udGFpbmVyKCkpID8gVWIodCwgZS5jb250YWluZXIoKSkgOiBVYih0LCBlLmdldE5vZGUoKSk7CiAgfQoKICBmdW5jdGlvbiBIYihlLCB0KSB7CiAgICB2YXIgbiA9IHQuZ2V0KCk7CiAgICByZXR1cm4gbiAmJiBlLmNvbnRhaW5lcigpID09PSBuICYmIExyKG4pOwogIH0KCiAgZnVuY3Rpb24gamIobiwgZSkgewogICAgcmV0dXJuIGUuZm9sZChmdW5jdGlvbiAoZSkgewogICAgICB2YyhuLmdldCgpKTsKICAgICAgdmFyIHQgPSB3eShlKTsKICAgICAgcmV0dXJuIG4uc2V0KHQpLCB2ZS5zb21lKGFzKHQsIHQubGVuZ3RoIC0gMSkpOwogICAgfSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGVmKGUpLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIGlmIChIYihlLCBuKSkgcmV0dXJuIGFzKG4uZ2V0KCksIDEpOwogICAgICAgIHZjKG4uZ2V0KCkpOwogICAgICAgIHZhciB0ID0gemIoZSwgITApOwogICAgICAgIHJldHVybiBuLnNldCh0KSwgYXModCwgMSk7CiAgICAgIH0pOwogICAgfSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHRmKGUpLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIGlmIChIYihlLCBuKSkgcmV0dXJuIGFzKG4uZ2V0KCksIG4uZ2V0KCkubGVuZ3RoIC0gMSk7CiAgICAgICAgdmMobi5nZXQoKSk7CiAgICAgICAgdmFyIHQgPSB6YihlLCAhMSk7CiAgICAgICAgcmV0dXJuIG4uc2V0KHQpLCBhcyh0LCB0Lmxlbmd0aCAtIDEpOwogICAgICB9KTsKICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZjKG4uZ2V0KCkpOwogICAgICB2YXIgdCA9IFN5KGUpOwogICAgICByZXR1cm4gbi5zZXQodCksIHZlLnNvbWUoYXModCwgMSkpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBWYihlLCB0KSB7CiAgICBmb3IgKHZhciBuID0gMDsgbiA8IGUubGVuZ3RoOyBuKyspIHsKICAgICAgdmFyIHIgPSBlW25dLmFwcGx5KG51bGwsIHQpOwogICAgICBpZiAoci5pc1NvbWUoKSkgcmV0dXJuIHI7CiAgICB9CgogICAgcmV0dXJuIHZlLm5vbmUoKTsKICB9CgogIGZ1bmN0aW9uIHFiKGUsIHQpIHsKICAgIHJldHVybiBYcyh0LCBlKSB8fCBlOwogIH0KCiAgZnVuY3Rpb24gJGIoZSwgdCwgbikgewogICAgdmFyIHIgPSBoeShuKSwKICAgICAgICBvID0gcWIodCwgci5jb250YWluZXIoKSk7CiAgICByZXR1cm4gcmIoZSwgbywgcikuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBRbChvLCByKS5iaW5kKEEocmIsIGUsIG8pKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gRXkuYmVmb3JlKGUpOwogICAgICB9KTsKICAgIH0sIHZlLm5vbmUpOwogIH0KCiAgZnVuY3Rpb24gV2IoZSwgdCkgewogICAgcmV0dXJuIG51bGwgPT09IEhjKGUsIHQpOwogIH0KCiAgZnVuY3Rpb24gS2IoZSwgdCwgbikgewogICAgcmV0dXJuIHJiKGUsIHQsIG4pLmZpbHRlcihBKFdiLCB0KSk7CiAgfQoKICBmdW5jdGlvbiBYYihlLCB0LCBuKSB7CiAgICB2YXIgciA9IHZ5KG4pOwogICAgcmV0dXJuIEtiKGUsIHQsIHIpLmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIFpsKGUsIHIpLmlzTm9uZSgpID8gdmUuc29tZShFeS5zdGFydChlKSkgOiB2ZS5ub25lKCk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIFliKGUsIHQsIG4pIHsKICAgIHZhciByID0gaHkobik7CiAgICByZXR1cm4gS2IoZSwgdCwgcikuYmluZChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gUWwoZSwgcikuaXNOb25lKCkgPyB2ZS5zb21lKEV5LmVuZChlKSkgOiB2ZS5ub25lKCk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIEdiKGUsIHQsIG4pIHsKICAgIHZhciByID0gdnkobiksCiAgICAgICAgbyA9IHFiKHQsIHIuY29udGFpbmVyKCkpOwogICAgcmV0dXJuIHJiKGUsIG8sIHIpLmZvbGQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gWmwobywgcikuYmluZChBKHJiLCBlLCBvKSkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIEV5LmFmdGVyKGUpOwogICAgICB9KTsKICAgIH0sIHZlLm5vbmUpOwogIH0KCiAgZnVuY3Rpb24gSmIoZSkgewogICAgcmV0dXJuICExID09PSAodCA9IE55KGUpLCAicnRsIiA9PT0gSmEuRE9NLmdldFN0eWxlKHQsICJkaXJlY3Rpb24iLCAhMCkgfHwgKG4gPSB0LnRleHRDb250ZW50LCBweS50ZXN0KG4pKSk7CiAgICB2YXIgdCwgbjsKICB9CgogIGZ1bmN0aW9uIFFiKGUsIHQsIG4pIHsKICAgIHJldHVybiBWYihbJGIsIFhiLCBZYiwgR2JdLCBbZSwgdCwgbl0pLmZpbHRlcihKYik7CiAgfQoKICBmdW5jdGlvbiBaYihlKSB7CiAgICByZXR1cm4gZS5mb2xkKEooImJlZm9yZSIpLCBKKCJzdGFydCIpLCBKKCJlbmQiKSwgSigiYWZ0ZXIiKSk7CiAgfQoKICBmdW5jdGlvbiBleShlKSB7CiAgICByZXR1cm4gZS5mb2xkKEV5LmJlZm9yZSwgRXkuYmVmb3JlLCBFeS5hZnRlciwgRXkuYWZ0ZXIpOwogIH0KCiAgZnVuY3Rpb24gdHkoZSkgewogICAgcmV0dXJuIGUuZm9sZChFeS5zdGFydCwgRXkuc3RhcnQsIEV5LmVuZCwgRXkuZW5kKTsKICB9CgogIGZ1bmN0aW9uIG55KGEsIGUsIHUsIHQsIG4sIHMpIHsKICAgIHJldHVybiBkbihyYihlLCB1LCB0KSwgcmIoZSwgdSwgbiksIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHJldHVybiBlICE9PSB0ICYmIChyID0gdCwgbyA9IFhzKGUsIG4gPSB1KSwgaSA9IFhzKHIsIG4pLCBvICYmIG8gPT09IGkpID8gRXkuYWZ0ZXIoYSA/IGUgOiB0KSA6IHM7CiAgICAgIHZhciBuLCByLCBvLCBpOwogICAgfSkuZ2V0T3Iocyk7CiAgfQoKICBmdW5jdGlvbiByeShlLCByKSB7CiAgICByZXR1cm4gZS5mb2xkKHcsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBuID0gciwgIShaYih0ID0gZSkgPT09IFpiKG4pICYmIE55KHQpID09PSBOeShuKSk7CiAgICAgIHZhciB0LCBuOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBveShlLCB0KSB7CiAgICByZXR1cm4gZSA/IHQuZm9sZChpKHZlLnNvbWUsIEV5LnN0YXJ0KSwgdmUubm9uZSwgaSh2ZS5zb21lLCBFeS5hZnRlciksIHZlLm5vbmUpIDogdC5mb2xkKHZlLm5vbmUsIGkodmUuc29tZSwgRXkuYmVmb3JlKSwgdmUubm9uZSwgaSh2ZS5zb21lLCBFeS5lbmQpKTsKICB9CgogIGZ1bmN0aW9uIGl5KGUsIGEsIHUsIHMpIHsKICAgIHZhciB0ID0gb2IoZSwgcyksCiAgICAgICAgYyA9IFFiKGEsIHUsIHQpOwogICAgcmV0dXJuIFFiKGEsIHUsIHQpLmJpbmQoQShveSwgZSkpLm9yVGh1bmsoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gbiA9IGEsIHIgPSB1LCBvID0gYywgaSA9IG9iKHQgPSBlLCBzKSwgR2wodCwgciwgaSkubWFwKEEob2IsIHQpKS5mb2xkKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gby5tYXAoZXkpOwogICAgICB9LCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBRYihuLCByLCBlKS5tYXAoQShueSwgdCwgbiwgciwgaSwgZSkpLmZpbHRlcihBKHJ5LCBvKSk7CiAgICAgIH0pLmZpbHRlcihKYik7CiAgICAgIHZhciB0LCBuLCByLCBvLCBpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBheShlKSB7CiAgICBmb3IgKHZhciB0ID0gW10sIG4gPSAxOyBuIDwgYXJndW1lbnRzLmxlbmd0aDsgbisrKSB7CiAgICAgIHRbbiAtIDFdID0gYXJndW1lbnRzW25dOwogICAgfQoKICAgIHZhciByID0gd2luZG93LmNvbnNvbGU7CiAgICByICYmIChyLmVycm9yIHx8IHIubG9nKS5hcHBseShyLCBBZShbZV0sIHQsICExKSk7CiAgfQoKICB2YXIgdXksCiAgICAgIHN5LAogICAgICBjeSA9IGZ1bmN0aW9uIGN5KHQsIGUpIHsKICAgIHZhciBuID0gdC5lZGl0b3JNYW5hZ2VyLmJhc2VVUkwgKyAiL3NraW5zL2NvbnRlbnQiLAogICAgICAgIHIgPSAiY29udGVudCIgKyB0LmVkaXRvck1hbmFnZXIuc3VmZml4ICsgIi5jc3MiLAogICAgICAgIG8gPSAhMCA9PT0gdC5pbmxpbmU7CiAgICByZXR1cm4gVChlLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gL15bYS16MC05XC1dKyQvaS50ZXN0KGUpICYmICFvID8gbiArICIvIiArIGUgKyAiLyIgKyByIDogdC5kb2N1bWVudEJhc2VVUkkudG9BYnNvbHV0ZShlKTsKICAgIH0pOwogIH0sCiAgICAgIGx5ID0gMCwKICAgICAgZnkgPSBFdC5lYWNoLAogICAgICBkeSA9IEphLkRPTSwKICAgICAgbXkgPSBbOSwgMjcsIEJmLkhPTUUsIEJmLkVORCwgMTksIDIwLCA0NCwgMTQ0LCAxNDUsIDMzLCAzNCwgNDUsIDE2LCAxNywgMTgsIDkxLCA5MiwgOTMsIEJmLkRPV04sIEJmLlVQLCBCZi5MRUZULCBCZi5SSUdIVF0uY29uY2F0KHh0LmJyb3dzZXIuaXNGaXJlZm94KCkgPyBbMjI0XSA6IFtdKSwKICAgICAgZ3kgPSAiZGF0YS1tY2UtcGxhY2Vob2xkZXIiLAogICAgICBweSA9IC9bXHUwNTkxLVx1MDdGRlx1RkIxRC1cdUZERkZcdUZFNzAtXHVGRUZDXS8sCiAgICAgIGh5ID0gQShvYiwgITApLAogICAgICB2eSA9IEEob2IsICExKSwKICAgICAgYnkgPSBYbiwKICAgICAgeXkgPSBZbiwKICAgICAgQ3kgPSBvcihbewogICAgcmVtb3ZlOiBbImVsZW1lbnQiXQogIH0sIHsKICAgIG1vdmVUb0VsZW1lbnQ6IFsiZWxlbWVudCJdCiAgfSwgewogICAgbW92ZVRvUG9zaXRpb246IFsicG9zaXRpb24iXQogIH1dKSwKICAgICAgeHkgPSBqbiwKICAgICAgd3kgPSBBKFViLCAhMCksCiAgICAgIFN5ID0gQShVYiwgITEpLAogICAgICBFeSA9IG9yKFt7CiAgICBiZWZvcmU6IFsiZWxlbWVudCJdCiAgfSwgewogICAgc3RhcnQ6IFsiZWxlbWVudCJdCiAgfSwgewogICAgZW5kOiBbImVsZW1lbnQiXQogIH0sIHsKICAgIGFmdGVyOiBbImVsZW1lbnQiXQogIH1dKSwKICAgICAgTnkgPSBmdW5jdGlvbiBOeShlKSB7CiAgICByZXR1cm4gZS5mb2xkKHUsIHUsIHUsIHUpOwogIH07CgogIGZ1bmN0aW9uIGt5KGUsIHQsIG4pIHsKICAgIHZhciByID0gZSA/IDEgOiAtMTsKICAgIHJldHVybiB0LnNldFJuZyhhcyhuLmNvbnRhaW5lcigpLCBuLm9mZnNldCgpICsgcikudG9SYW5nZSgpKSwgdC5nZXRTZWwoKS5tb2RpZnkoIm1vdmUiLCBlID8gImZvcndhcmQiIDogImJhY2t3YXJkIiwgIndvcmQiKSwgITA7CiAgfQoKICBmdW5jdGlvbiBfeShlLCB0KSB7CiAgICByZXR1cm4gZSA9PT0gaWMuQmFja3dhcmRzID8gcSh0KSA6IHQ7CiAgfQoKICBmdW5jdGlvbiBBeShlLCB0LCBuLCByKSB7CiAgICBmb3IgKHZhciBvLCBpLCBhLCB1LCBzID0gUGMobiksIGMgPSByLCBsID0gW107IGM7KSB7CiAgICAgIHZhciBmID0gKGEgPSBzLCB1ID0gYywgdCA9PT0gaWMuRm9yd2FyZHMgPyBhLm5leHQodSkgOiBhLnByZXYodSkpOwogICAgICBpZiAoIWYpIGJyZWFrOwogICAgICBpZiAoV24oZi5nZXROb2RlKCExKSkpIHJldHVybiB0ID09PSBpYy5Gb3J3YXJkcyA/IHsKICAgICAgICBwb3NpdGlvbnM6IF95KHQsIGwpLmNvbmNhdChbZl0pLAogICAgICAgIGJyZWFrVHlwZTogdXkuQnIsCiAgICAgICAgYnJlYWtBdDogdmUuc29tZShmKQogICAgICB9IDogewogICAgICAgIHBvc2l0aW9uczogX3kodCwgbCksCiAgICAgICAgYnJlYWtUeXBlOiB1eS5CciwKICAgICAgICBicmVha0F0OiB2ZS5zb21lKGYpCiAgICAgIH07CgogICAgICBpZiAoZi5pc1Zpc2libGUoKSkgewogICAgICAgIGlmIChlKGMsIGYpKSB7CiAgICAgICAgICB2YXIgZCA9IChvID0gYywgV24oKGkgPSBmKS5nZXROb2RlKHQgPT09IGljLkZvcndhcmRzKSkgPyB1eS5CciA6ICExID09PSBZcyhvLCBpKSA/IHV5LkJsb2NrIDogdXkuV3JhcCk7CiAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICBwb3NpdGlvbnM6IF95KHQsIGwpLAogICAgICAgICAgICBicmVha1R5cGU6IGQsCiAgICAgICAgICAgIGJyZWFrQXQ6IHZlLnNvbWUoZikKICAgICAgICAgIH07CiAgICAgICAgfQoKICAgICAgICBsLnB1c2goZiksIGMgPSBmOwogICAgICB9IGVsc2UgYyA9IGY7CiAgICB9CgogICAgcmV0dXJuIHsKICAgICAgcG9zaXRpb25zOiBfeSh0LCBsKSwKICAgICAgYnJlYWtUeXBlOiB1eS5Fb2wsCiAgICAgIGJyZWFrQXQ6IHZlLm5vbmUoKQogICAgfTsKICB9CgogIGZ1bmN0aW9uIFJ5KG4sIHIsIG8sIGUpIHsKICAgIHJldHVybiByKG8sIGUpLmJyZWFrQXQubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gcihvLCBlKS5wb3NpdGlvbnM7CiAgICAgIHJldHVybiBuID09PSBpYy5CYWNrd2FyZHMgPyB0LmNvbmNhdChlKSA6IFtlXS5jb25jYXQodCk7CiAgICB9KS5nZXRPcihbXSk7CiAgfQoKICBmdW5jdGlvbiBEeShlLCBpKSB7CiAgICByZXR1cm4gTChlLCBmdW5jdGlvbiAoZSwgbykgewogICAgICByZXR1cm4gZS5mb2xkKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdmUuc29tZShvKTsKICAgICAgfSwgZnVuY3Rpb24gKHIpIHsKICAgICAgICByZXR1cm4gZG4oUShyLmdldENsaWVudFJlY3RzKCkpLCBRKG8uZ2V0Q2xpZW50UmVjdHMoKSksIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgICB2YXIgbiA9IE1hdGguYWJzKGkgLSBlLmxlZnQpOwogICAgICAgICAgcmV0dXJuIE1hdGguYWJzKGkgLSB0LmxlZnQpIDw9IG4gPyBvIDogcjsKICAgICAgICB9KS5vcihlKTsKICAgICAgfSk7CiAgICB9LCB2ZS5ub25lKCkpOwogIH0KCiAgZnVuY3Rpb24gVHkodCwgZSkgewogICAgcmV0dXJuIFEoZS5nZXRDbGllbnRSZWN0cygpKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBEeSh0LCBlLmxlZnQpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBPeShuKSB7CiAgICBmdW5jdGlvbiBlKGUpIHsKICAgICAgcmV0dXJuIFQoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgdCA9IGt1KGUpOwogICAgICAgIHJldHVybiB0Lm5vZGUgPSBuLCB0OwogICAgICB9KTsKICAgIH0KCiAgICBpZiAoem4obikpIHJldHVybiBlKG4uZ2V0Q2xpZW50UmVjdHMoKSk7CgogICAgaWYgKGpuKG4pKSB7CiAgICAgIHZhciB0ID0gbi5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7CiAgICAgIHJldHVybiB0LnNldFN0YXJ0KG4sIDApLCB0LnNldEVuZChuLCBuLmRhdGEubGVuZ3RoKSwgZSh0LmdldENsaWVudFJlY3RzKCkpOwogICAgfQogIH0KCiAgZnVuY3Rpb24gQnkoZSkgewogICAgcmV0dXJuIEgoZSwgT3kpOwogIH0KCiAgQShpeSwgITEpLCBBKGl5LCAhMCksIChzeSA9IHV5ID0ge30pW3N5LkJyID0gMF0gPSAiQnIiLCBzeVtzeS5CbG9jayA9IDFdID0gIkJsb2NrIiwgc3lbc3kuV3JhcCA9IDJdID0gIldyYXAiLCBzeVtzeS5Fb2wgPSAzXSA9ICJFb2wiOwogIHZhciBQeSwKICAgICAgTHksCiAgICAgIEl5ID0gQShBeSwgYXMuaXNBYm92ZSwgLTEpLAogICAgICBNeSA9IEEoQXksIGFzLmlzQmVsb3csIDEpLAogICAgICBGeSA9IEEoUnksIC0xLCBJeSksCiAgICAgIFV5ID0gQShSeSwgMSwgTXkpOwoKICBmdW5jdGlvbiB6eShvLCBpLCBhLCBlLCB1LCB0KSB7CiAgICBmdW5jdGlvbiBuKGUpIHsKICAgICAgdmFyIHQgPSBCeShbZV0pOwogICAgICAtMSA9PT0gbyAmJiAodCA9IHQucmV2ZXJzZSgpKTsKCiAgICAgIGZvciAodmFyIG4gPSAwOyBuIDwgdC5sZW5ndGg7IG4rKykgewogICAgICAgIHZhciByID0gdFtuXTsKCiAgICAgICAgaWYgKCFhKHIsIGwpKSB7CiAgICAgICAgICBpZiAoMCA8IGMubGVuZ3RoICYmIGkociwgcGUoYykpICYmIHMrKywgci5saW5lID0gcywgdShyKSkgcmV0dXJuICEwOwogICAgICAgICAgYy5wdXNoKHIpOwogICAgICAgIH0KICAgICAgfQogICAgfQoKICAgIHZhciBzID0gMCwKICAgICAgICBjID0gW10sCiAgICAgICAgbCA9IHBlKHQuZ2V0Q2xpZW50UmVjdHMoKSk7CiAgICBpZiAoIWwpIHJldHVybiBjOwogICAgdmFyIHIgPSB0LmdldE5vZGUoKTsKICAgIHJldHVybiBuKHIpLCBmdW5jdGlvbiAoZSwgdCwgbiwgcikgewogICAgICBmb3IgKDsgciA9IEtzKHIsIGUsIFZyLCB0KTspIHsKICAgICAgICBpZiAobihyKSkgcmV0dXJuOwogICAgICB9CiAgICB9KG8sIGUsIG4sIHIpLCBjOwogIH0KCiAgZnVuY3Rpb24gSHkodCkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBlLmxpbmUgPiB0OwogICAgfTsKICB9CgogIGZ1bmN0aW9uIGp5KHQpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gZS5saW5lID09PSB0OwogICAgfTsKICB9CgogIGZ1bmN0aW9uIFZ5KGUsIHQpIHsKICAgIHJldHVybiBNYXRoLmFicyhlLmxlZnQgLSB0KTsKICB9CgogIGZ1bmN0aW9uIHF5KGUsIHQpIHsKICAgIHJldHVybiBNYXRoLmFicyhlLnJpZ2h0IC0gdCk7CiAgfQoKICBmdW5jdGlvbiAkeShlLCB0KSB7CiAgICByZXR1cm4gZSA+PSB0LmxlZnQgJiYgZSA8PSB0LnJpZ2h0OwogIH0KCiAgZnVuY3Rpb24gV3koZSwgdCkgewogICAgcmV0dXJuIGUgPj0gdC50b3AgJiYgZSA8PSB0LmJvdHRvbTsKICB9CgogIGZ1bmN0aW9uIEt5KGUsIG8sIGkpIHsKICAgIHJldHVybiB2b2lkIDAgPT09IGkgJiYgKGkgPSB3KSwgbWUoZSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgaWYgKCR5KG8sIHQpKSByZXR1cm4gaSh0KSA/IHQgOiBlOwogICAgICBpZiAoJHkobywgZSkpIHJldHVybiBpKGUpID8gZSA6IHQ7CiAgICAgIHZhciBuID0gTWF0aC5taW4oVnkoZSwgbyksIHF5KGUsIG8pKSwKICAgICAgICAgIHIgPSBNYXRoLm1pbihWeSh0LCBvKSwgcXkodCwgbykpOwogICAgICByZXR1cm4gciA9PT0gbiAmJiBzZSh0LCAibm9kZSIpICYmIE1DKHQubm9kZSkgfHwgciA8IG4gPyB0IDogZTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gWHkoZSwgdCwgbiwgciwgbykgewogICAgdmFyIGkgPSBGQyhyLCBlLCBWciwgdCwgIW8pOwoKICAgIGRvIHsKICAgICAgaWYgKCFpIHx8IG4oaSkpIHJldHVybjsKICAgIH0gd2hpbGUgKGkgPSBGQyhpLCBlLCBWciwgdCkpOwogIH0KCiAgZnVuY3Rpb24gWXkoZSwgdCwgbikgewogICAgZnVuY3Rpb24gcihlKSB7CiAgICAgIHJldHVybiAhY24oZS5ub2RlKSAmJiAhSm4oZS5ub2RlKTsKICAgIH0KCiAgICB2YXIgbywKICAgICAgICBpLAogICAgICAgIGEsCiAgICAgICAgdSA9IEJ5KFUoeGUoZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpKSwgJHMpKSwKICAgICAgICBzID0gVSh1LCBBKFd5LCBuKSk7CiAgICBpZiAoKGEgPSBLeShzLCB0LCByKSkgJiYgKGEgPSBLeShmdW5jdGlvbiAoZSwgciwgdCkgewogICAgICBmdW5jdGlvbiBuKHQsIGUpIHsKICAgICAgICB2YXIgbiA9IFUoQnkoW2VdKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiAhdChlLCByKTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gbyA9IG8uY29uY2F0KG4pLCAwID09PSBuLmxlbmd0aDsKICAgICAgfQoKICAgICAgdm9pZCAwID09PSB0ICYmICh0ID0gITApOwogICAgICB2YXIgbyA9IFtdOwogICAgICByZXR1cm4gby5wdXNoKHIpLCBYeShQeS5VcCwgZSwgQShuLCBSdSksIHIubm9kZSwgdCksIFh5KFB5LkRvd24sIGUsIEEobiwgRHUpLCByLm5vZGUsIHQpLCBvOwogICAgfShlLCBhLCByKGEpKSwgdCwgcikpICYmICRzKGEubm9kZSkpIHJldHVybiB7CiAgICAgIG5vZGU6IChvID0gYSkubm9kZSwKICAgICAgYmVmb3JlOiBWeShvLCBpID0gdCkgPCBxeShvLCBpKQogICAgfTsKICAgIHJldHVybiBudWxsOwogIH0KCiAgZnVuY3Rpb24gR3koZSwgdCkgewogICAgZS5zZWxlY3Rpb24uc2V0Um5nKHQpLCBaZihlLCBlLnNlbGVjdGlvbi5nZXRSbmcoKSk7CiAgfQoKICBmdW5jdGlvbiBKeShlLCB0LCBuKSB7CiAgICByZXR1cm4gdmUuc29tZShFYihlLCB0LCBuKSk7CiAgfQoKICBmdW5jdGlvbiBReShlLCB0LCBuLCByLCBvLCBpKSB7CiAgICB2YXIgYSA9IHQgPT09IGljLkZvcndhcmRzLAogICAgICAgIHUgPSBQYyhlLmdldEJvZHkoKSksCiAgICAgICAgcyA9IEEocmMsIGEgPyB1Lm5leHQgOiB1LnByZXYpLAogICAgICAgIGMgPSBhID8gciA6IG87CgogICAgaWYgKCFuLmNvbGxhcHNlZCkgewogICAgICB2YXIgbCA9IE91KG4pOwogICAgICBpZiAoaShsKSkgcmV0dXJuIHhiKHQsIGUsIGwsIHQgPT09IGljLkJhY2t3YXJkcywgITEpOwogICAgfQoKICAgIHZhciBmID0gdGModCwgZS5nZXRCb2R5KCksIG4pOwogICAgaWYgKGMoZikpIHJldHVybiB3YihlLCBmLmdldE5vZGUoIWEpKTsKICAgIHZhciBkID0gb2IoYSwgcyhmKSksCiAgICAgICAgbSA9IEhyKG4pOwogICAgaWYgKCFkKSByZXR1cm4gbSA/IHZlLnNvbWUobikgOiB2ZS5ub25lKCk7CiAgICBpZiAoYyhkKSkgcmV0dXJuIHhiKHQsIGUsIGQuZ2V0Tm9kZSghYSksIGEsICExKTsKICAgIHZhciBnID0gcyhkKTsKICAgIHJldHVybiBnICYmIGMoZykgJiYgb2MoZCwgZykgPyB4Yih0LCBlLCBnLmdldE5vZGUoIWEpLCBhLCAhMSkgOiBtID8gSnkoZSwgZC50b1JhbmdlKCksICExKSA6IHZlLm5vbmUoKTsKICB9CgogIGZ1bmN0aW9uIFp5KHQsIGUsIG4sIHIsIG8sIGkpIHsKICAgIHZhciBhID0gdGMoZSwgdC5nZXRCb2R5KCksIG4pLAogICAgICAgIHUgPSBwZShhLmdldENsaWVudFJlY3RzKCkpLAogICAgICAgIHMgPSBlID09PSBQeS5Eb3duOwogICAgaWYgKCF1KSByZXR1cm4gdmUubm9uZSgpOwogICAgdmFyIGMsCiAgICAgICAgbCA9IFUoKHMgPyBJQyA6IExDKSh0LmdldEJvZHkoKSwgSHkoMSksIGEpLCBqeSgxKSksCiAgICAgICAgZiA9IHUubGVmdCwKICAgICAgICBkID0gS3kobCwgZik7CgogICAgaWYgKGQgJiYgaShkLm5vZGUpKSB7CiAgICAgIHZhciBtID0gTWF0aC5hYnMoZiAtIGQubGVmdCksCiAgICAgICAgICBnID0gTWF0aC5hYnMoZiAtIGQucmlnaHQpOwogICAgICByZXR1cm4geGIoZSwgdCwgZC5ub2RlLCBtIDwgZywgITEpOwogICAgfQoKICAgIGlmIChjID0gcihhKSA/IGEuZ2V0Tm9kZSgpIDogbyhhKSA/IGEuZ2V0Tm9kZSghMCkgOiBPdShuKSkgewogICAgICB2YXIgcCA9IGZ1bmN0aW9uIChlLCB0LCBuLCByKSB7CiAgICAgICAgZnVuY3Rpb24gbyhlKSB7CiAgICAgICAgICByZXR1cm4gcGUoZS5nZXRDbGllbnRSZWN0cygpKTsKICAgICAgICB9CgogICAgICAgIHZhciBpLAogICAgICAgICAgICBhLAogICAgICAgICAgICB1LAogICAgICAgICAgICBzID0gUGModCksCiAgICAgICAgICAgIGMgPSBbXSwKICAgICAgICAgICAgbCA9IDAsCiAgICAgICAgICAgIGYgPSAxID09PSBlID8gKGkgPSBzLm5leHQsIGEgPSBEdSwgdSA9IFJ1LCBhcy5hZnRlcihyKSkgOiAoaSA9IHMucHJldiwgYSA9IFJ1LCB1ID0gRHUsIGFzLmJlZm9yZShyKSksCiAgICAgICAgICAgIGQgPSBvKGYpOwoKICAgICAgICBkbyB7CiAgICAgICAgICBpZiAoZi5pc1Zpc2libGUoKSkgewogICAgICAgICAgICB2YXIgbSA9IG8oZik7CgogICAgICAgICAgICBpZiAoIXUobSwgZCkpIHsKICAgICAgICAgICAgICAwIDwgYy5sZW5ndGggJiYgYShtLCBwZShjKSkgJiYgbCsrOwogICAgICAgICAgICAgIHZhciBnID0ga3UobSk7CiAgICAgICAgICAgICAgaWYgKGcucG9zaXRpb24gPSBmLCBnLmxpbmUgPSBsLCBuKGcpKSByZXR1cm4gYzsKICAgICAgICAgICAgICBjLnB1c2goZyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9IHdoaWxlIChmID0gaShmKSk7CgogICAgICAgIHJldHVybiBjOwogICAgICB9KGUsIHQuZ2V0Qm9keSgpLCBIeSgxKSwgYyksCiAgICAgICAgICBoID0gS3koVShwLCBqeSgxKSksIGYpOwoKICAgICAgaWYgKGgpIHJldHVybiBKeSh0LCBoLnBvc2l0aW9uLnRvUmFuZ2UoKSwgITEpOwogICAgICBpZiAoaCA9IHBlKFUocCwgankoMCkpKSkgcmV0dXJuIEp5KHQsIGgucG9zaXRpb24udG9SYW5nZSgpLCAhMSk7CiAgICB9CgogICAgcmV0dXJuIDAgPT09IGwubGVuZ3RoID8gVUModCwgcykuZmlsdGVyKHMgPyBvIDogcikubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBFYih0LCBlLnRvUmFuZ2UoKSwgITEpOwogICAgfSkgOiB2ZS5ub25lKCk7CiAgfQoKICBmdW5jdGlvbiBlMCh0LCBlLCBuKSB7CiAgICByZXR1cm4gVUModCwgZSkuZmlsdGVyKG4pLmV4aXN0cyhmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gdC5zZWxlY3Rpb24uc2V0Um5nKGUudG9SYW5nZSgpKSwgITA7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIHQwKGUsIHQpIHsKICAgIHZhciBuID0gZS5kb20uY3JlYXRlUm5nKCk7CiAgICBuLnNldFN0YXJ0KHQuY29udGFpbmVyKCksIHQub2Zmc2V0KCkpLCBuLnNldEVuZCh0LmNvbnRhaW5lcigpLCB0Lm9mZnNldCgpKSwgZS5zZWxlY3Rpb24uc2V0Um5nKG4pOwogIH0KCiAgZnVuY3Rpb24gbjAoZSwgdCkgewogICAgZSA/IHQuc2V0QXR0cmlidXRlKCJkYXRhLW1jZS1zZWxlY3RlZCIsICJpbmxpbmUtYm91bmRhcnkiKSA6IHQucmVtb3ZlQXR0cmlidXRlKCJkYXRhLW1jZS1zZWxlY3RlZCIpOwogIH0KCiAgZnVuY3Rpb24gcjAodCwgZSwgbikgewogICAgcmV0dXJuIGpiKGUsIG4pLm1hcChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gdDAodCwgZSksIG47CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIG8wKGUsIHQsIG4pIHsKICAgIHJldHVybiAhIVBzKGUpICYmIChvID0gdCwgaSA9IG4sIGEgPSAociA9IGUpLmdldEJvZHkoKSwgdSA9IGFzLmZyb21SYW5nZVN0YXJ0KHIuc2VsZWN0aW9uLmdldFJuZygpKSwgaXkoaSwgQShuYiwgciksIGEsIHUpLmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHIwKHIsIG8sIGUpOwogICAgfSkuaXNTb21lKCkpOwogICAgdmFyIHIsIG8sIGksIGEsIHU7CiAgfQoKICBmdW5jdGlvbiBpMChlLCB0LCBuKSB7CiAgICByZXR1cm4gISFQcyh0KSAmJiAociA9IGUsIGkgPSAobyA9IHQpLnNlbGVjdGlvbi5nZXRSbmcoKSwgYSA9IHIgPyBhcy5mcm9tUmFuZ2VFbmQoaSkgOiBhcy5mcm9tUmFuZ2VTdGFydChpKSwgISF5KG8uc2VsZWN0aW9uLmdldFNlbCgpLm1vZGlmeSkgJiYgKHIgJiYgRnIoYSkgPyBreSghMCwgby5zZWxlY3Rpb24sIGEpIDogIShyIHx8ICFVcihhKSkgJiYga3koITEsIG8uc2VsZWN0aW9uLCBhKSkpOwogICAgdmFyIHIsIG8sIGksIGE7CiAgfQoKICBmdW5jdGlvbiBhMChnKSB7CiAgICB2YXIgcCA9IHJ1KG51bGwpLAogICAgICAgIGggPSBBKG5iLCBnKTsKICAgIHJldHVybiBnLm9uKCJOb2RlQ2hhbmdlIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIG4sIHIsIG8sIHQsIGksIGEsIHUsIHMsIGMsIGwsIGYsIGQsIG07CiAgICAgICFQcyhnKSB8fCB4dC5icm93c2VyLmlzSUUoKSAmJiBlLmluaXRpYWwgfHwgKGkgPSBoLCBhID0gZy5kb20sIHUgPSBlLnBhcmVudHMsIFkoJChzID0gVShUKGh1KE50LmZyb21Eb20oYS5nZXRSb290KCkpLCAnKltkYXRhLW1jZS1zZWxlY3RlZD0iaW5saW5lLWJvdW5kYXJ5Il0nKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS5kb207CiAgICAgIH0pLCBpKSwgYyA9IFUodSwgaSkpLCBBKG4wLCAhMSkpLCBZKCQoYywgcyksIEEobjAsICEwKSksIGYgPSBwLCAobCA9IGcpLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpICYmICEwICE9PSBsLmNvbXBvc2luZyAmJiBmLmdldCgpICYmIChkID0gYXMuZnJvbVJhbmdlU3RhcnQobC5zZWxlY3Rpb24uZ2V0Um5nKCkpLCBhcy5pc1RleHRQb3NpdGlvbihkKSAmJiAhMSA9PT0gKEZyKG0gPSBkKSB8fCBVcihtKSkgJiYgKHQwKGwsIEhzKGYuZ2V0KCksIGQpKSwgZi5zZXQobnVsbCkpKSwgbiA9IGgsIHIgPSBnLCBvID0gcCwgdCA9IGUucGFyZW50cywgci5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSAmJiBZKFUodCwgbiksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHQgPSBhcy5mcm9tUmFuZ2VTdGFydChyLnNlbGVjdGlvbi5nZXRSbmcoKSk7CiAgICAgICAgUWIobiwgci5nZXRCb2R5KCksIHQpLmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiByMChyLCBvLCBlKTsKICAgICAgICB9KTsKICAgICAgfSkpOwogICAgfSksIHA7CiAgfQoKICBmdW5jdGlvbiB1MChuLCB0LCByKSB7CiAgICBpZiAoUHMobikpIHsKICAgICAgdmFyIGUgPSBVQyhuLCB0KS5nZXRPclRodW5rKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgZSA9IG4uc2VsZWN0aW9uLmdldFJuZygpOwogICAgICAgIHJldHVybiB0ID8gYXMuZnJvbVJhbmdlRW5kKGUpIDogYXMuZnJvbVJhbmdlU3RhcnQoZSk7CiAgICAgIH0pOwogICAgICByZXR1cm4gUWIoQShuYiwgbiksIG4uZ2V0Qm9keSgpLCBlKS5leGlzdHMoZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgdCA9IGV5KGUpOwogICAgICAgIHJldHVybiBqYihyLCB0KS5leGlzdHMoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiB0MChuLCBlKSwgITA7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQoKICAgIHJldHVybiAhMTsKICB9CgogIGZ1bmN0aW9uIHMwKHQsIG4pIHsKICAgIHJldHVybiBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gamIobiwgZSkuZXhpc3RzKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIHQwKHQsIGUpLCAhMDsKICAgICAgfSk7CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gYzAociwgbywgaSwgYSkgewogICAgdmFyIHUgPSByLmdldEJvZHkoKSwKICAgICAgICBzID0gQShuYiwgcik7CiAgICByLnVuZG9NYW5hZ2VyLmlnbm9yZShmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBlLCB0LCBuOwogICAgICByLnNlbGVjdGlvbi5zZXRSbmcoKGUgPSBpLCB0ID0gYSwgKG4gPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpKS5zZXRTdGFydChlLmNvbnRhaW5lcigpLCBlLm9mZnNldCgpKSwgbi5zZXRFbmQodC5jb250YWluZXIoKSwgdC5vZmZzZXQoKSksIG4pKSwgci5leGVjQ29tbWFuZCgiRGVsZXRlIiksIFFiKHMsIHUsIGFzLmZyb21SYW5nZVN0YXJ0KHIuc2VsZWN0aW9uLmdldFJuZygpKSkubWFwKHR5KS5tYXAoczAociwgbykpOwogICAgfSksIHIubm9kZUNoYW5nZWQoKTsKICB9CgogIGZ1bmN0aW9uIGwwKGUsIHQsIG4pIHsKICAgIGlmIChlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpICYmIFBzKGUpKSB7CiAgICAgIHZhciByID0gYXMuZnJvbVJhbmdlU3RhcnQoZS5zZWxlY3Rpb24uZ2V0Um5nKCkpOwogICAgICByZXR1cm4gbyA9IHQsIGEgPSBuLCB1ID0gciwgcyA9IChpID0gZSkuZ2V0Qm9keSgpLCBjID0gWHModS5jb250YWluZXIoKSwgcykgfHwgcywgbCA9IEEobmIsIGkpLCAoZiA9IFFiKGwsIGMsIHUpKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGEgPyBlLmZvbGQoSih2ZS5zb21lKHR5KGUpKSksIHZlLm5vbmUsIEoodmUuc29tZShleShlKSkpLCB2ZS5ub25lKSA6IGUuZm9sZCh2ZS5ub25lLCBKKHZlLnNvbWUoZXkoZSkpKSwgdmUubm9uZSwgSih2ZS5zb21lKHR5KGUpKSkpOwogICAgICB9KS5tYXAoczAoaSwgbykpLmdldE9yVGh1bmsoZnVuY3Rpb24gKCkgewogICAgICAgIHZhciB0ID0gRmMoYSwgYywgdSksCiAgICAgICAgICAgIGUgPSB0LmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiBRYihsLCBjLCBlKTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZG4oZiwgZSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIHJiKGwsIGMsIHUpLmV4aXN0cyhmdW5jdGlvbiAoZSkgewogICAgICAgICAgICByZXR1cm4gISFkbihlZihvID0gZSksIHRmKG8pLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgICAgICAgIHZhciBuID0gb2IoITAsIGUpLAogICAgICAgICAgICAgICAgICByID0gb2IoITEsIHQpOwogICAgICAgICAgICAgIHJldHVybiBRbChvLCBuKS5mb3JhbGwoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgIHJldHVybiBlLmlzRXF1YWwocik7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pLmdldE9yKCEwKSAmJiAoWW0oaSwgYSwgTnQuZnJvbURvbShlKSksICEwKTsKICAgICAgICAgICAgdmFyIG87CiAgICAgICAgICB9KTsKICAgICAgICB9KS5vclRodW5rKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBlLmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgcmV0dXJuIHQubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGEgPyBjMChpLCBvLCB1LCBlKSA6IGMwKGksIG8sIGUsIHUpLCAhMDsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9KS5nZXRPcighMSk7CiAgICAgIH0pOwogICAgfQoKICAgIHZhciBpLCBvLCBhLCB1LCBzLCBjLCBsLCBmOwogICAgcmV0dXJuICExOwogIH0KCiAgZnVuY3Rpb24gZjAoZSkgewogICAgcmV0dXJuIDEgPT09IHp0KGUpOwogIH0KCiAgZnVuY3Rpb24gZDAoZywgcCkgewogICAgdmFyIHQsCiAgICAgICAgZSA9IE50LmZyb21Eb20oZy5nZXRCb2R5KCkpLAogICAgICAgIG4gPSBOdC5mcm9tRG9tKGcuc2VsZWN0aW9uLmdldFN0YXJ0KCkpLAogICAgICAgIGggPSBVKHoodCA9IGhtKG4sIGUpLCBsbykuZm9sZChKKHQpLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gdC5zbGljZSgwLCBlKTsKICAgIH0pLCBmMCk7CiAgICByZXR1cm4gWihoKS5leGlzdHMoZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQsCiAgICAgICAgICBuLAogICAgICAgICAgciwKICAgICAgICAgIG8sCiAgICAgICAgICBpLAogICAgICAgICAgYSwKICAgICAgICAgIHUsCiAgICAgICAgICBzLAogICAgICAgICAgYywKICAgICAgICAgIGwgPSBhcy5mcm9tUmFuZ2VTdGFydChnLnNlbGVjdGlvbi5nZXRSbmcoKSksCiAgICAgICAgICBmID0gcCwKICAgICAgICAgIGQgPSBsLAogICAgICAgICAgbSA9IGUuZG9tOwogICAgICByZXR1cm4gISghZG4oZWYobSksIHRmKG0pLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIHZhciBuID0gb2IoITAsIGUpLAogICAgICAgICAgICByID0gb2IoITEsIHQpLAogICAgICAgICAgICBvID0gb2IoITEsIGQpOwogICAgICAgIHJldHVybiBmID8gUWwobSwgbykuZXhpc3RzKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gZS5pc0VxdWFsKHIpICYmIGQuaXNFcXVhbChuKTsKICAgICAgICB9KSA6IFpsKG0sIG8pLmV4aXN0cyhmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIGUuaXNFcXVhbChuKSAmJiBkLmlzRXF1YWwocik7CiAgICAgICAgfSk7CiAgICAgIH0pLmdldE9yKCEwKSB8fCB6YygodCA9IGUpLmRvbSkgJiYgUGcodC5kb20pIHx8IChuID0gcCwgbyA9IGUsIDAgPT09IChjID0gVChVKGgsIEEoVmcsIHIgPSBnKSksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUuZG9tOwogICAgICB9KSkubGVuZ3RoID8gWW0ociwgbiwgbykgOiAoYSA9IG8uZG9tLCBzID0gemcoYywgKHUgPSBJZyghMSkpLmRvbSksIHF0KE50LmZyb21Eb20oYSksIHUpLCBMbihOdC5mcm9tRG9tKGEpKSwgaSA9IGFzKHMsIDApLCByLnNlbGVjdGlvbi5zZXRSbmcoaS50b1JhbmdlKCkpKSwgMCkpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBtMChlLCB0KSB7CiAgICByZXR1cm4gISFlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpICYmIGQwKGUsIHQpOwogIH0KCiAgZnVuY3Rpb24gZzAoZSwgdCwgbikgewogICAgcmV0dXJuIGUuX3NlbGVjdGlvbk92ZXJyaWRlcy5oaWRlRmFrZUNhcmV0KCksIFltKGUsIHQsIE50LmZyb21Eb20obikpLCAhMDsKICB9CgogIGZ1bmN0aW9uIHAwKGUsIHQpIHsKICAgIHJldHVybiBlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpID8gKGkgPSBlLCB1ID0gKGEgPSB0KSA/IEdnIDogSmcsIHMgPSBhID8gaWMuRm9yd2FyZHMgOiBpYy5CYWNrd2FyZHMsIGMgPSB0YyhzLCBpLmdldEJvZHkoKSwgaS5zZWxlY3Rpb24uZ2V0Um5nKCkpLCB1KGMpID8gZzAoaSwgYSwgYy5nZXROb2RlKCFhKSkgOiB2ZS5mcm9tKG9iKGEsIGMpKS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHUoZSkgJiYgb2MoYywgZSk7CiAgICB9KS5leGlzdHMoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGcwKGksIGEsIGUuZ2V0Tm9kZSghYSkpOwogICAgfSkpIDogKHIgPSB0LCBvID0gKG4gPSBlKS5zZWxlY3Rpb24uZ2V0Tm9kZSgpLCAhIUpuKG8pICYmIGcwKG4sIHIsIG8pKTsKICAgIHZhciBuLCByLCBvLCBpLCBhLCB1LCBzLCBjOwogIH0KCiAgZnVuY3Rpb24gaDAoZSkgewogICAgdmFyIHQgPSBwYXJzZUludChlLCAxMCk7CiAgICByZXR1cm4gaXNOYU4odCkgPyAwIDogdDsKICB9CgogIGZ1bmN0aW9uIHYwKGUsIHQpIHsKICAgIHJldHVybiAoZSB8fCAidGFibGUiID09PSBrdCh0KSA/ICJtYXJnaW4iIDogInBhZGRpbmciKSArICgicnRsIiA9PT0geG4odCwgImRpcmVjdGlvbiIpID8gIi1yaWdodCIgOiAiLWxlZnQiKTsKICB9CgogIGZ1bmN0aW9uIGIwKGUpIHsKICAgIHZhciBuLAogICAgICAgIHQgPSBqQyhlKTsKICAgIHJldHVybiAhZS5tb2RlLmlzUmVhZE9ubHkoKSAmJiAoMSA8IHQubGVuZ3RoIHx8IChuID0gZSwgaih0LCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9IHduKGUsIHYwKFJzKG4pLCBlKSkubWFwKGgwKS5nZXRPcigwKTsKICAgICAgcmV0dXJuICJmYWxzZSIgIT09IG4uZG9tLmdldENvbnRlbnRFZGl0YWJsZShlLmRvbSkgJiYgMCA8IHQ7CiAgICB9KSkpOwogIH0KCiAgZnVuY3Rpb24geTAoZSkgewogICAgcmV0dXJuIG1vKGUpIHx8IGdvKGUpOwogIH0KCiAgZnVuY3Rpb24gQzAoZSwgcykgewogICAgdmFyIGMgPSBlLmRvbSwKICAgICAgICB0ID0gZS5zZWxlY3Rpb24sCiAgICAgICAgbiA9IGUuZm9ybWF0dGVyLAogICAgICAgIHIgPSBlLmdldFBhcmFtKCJpbmRlbnRhdGlvbiIsICI0MHB4IiwgInN0cmluZyIpLAogICAgICAgIGwgPSAvW2EteiVdKyQvaS5leGVjKHIpWzBdLAogICAgICAgIGYgPSBwYXJzZUludChyLCAxMCksCiAgICAgICAgZCA9IFJzKGUpLAogICAgICAgIG8gPSBTcyhlKTsKICAgIGUucXVlcnlDb21tYW5kU3RhdGUoIkluc2VydFVub3JkZXJlZExpc3QiKSB8fCBlLnF1ZXJ5Q29tbWFuZFN0YXRlKCJJbnNlcnRPcmRlcmVkTGlzdCIpIHx8ICIiICE9PSBvIHx8IGMuZ2V0UGFyZW50KHQuZ2V0Tm9kZSgpLCBjLmlzQmxvY2spIHx8IG4uYXBwbHkoImRpdiIpLCBZKGpDKGUpLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCwKICAgICAgICAgIG4gPSBjLAogICAgICAgICAgciA9IHMsCiAgICAgICAgICBvID0gZiwKICAgICAgICAgIGkgPSBsLAogICAgICAgICAgYSA9IGUuZG9tLAogICAgICAgICAgdSA9IHYwKGQsIE50LmZyb21Eb20oYSkpOwogICAgICAib3V0ZGVudCIgPT09IHIgPyAodCA9IE1hdGgubWF4KDAsIGgwKGEuc3R5bGVbdV0pIC0gbyksIG4uc2V0U3R5bGUoYSwgdSwgdCA/IHQgKyBpIDogIiIpKSA6ICh0ID0gaDAoYS5zdHlsZVt1XSkgKyBvICsgaSwgbi5zZXRTdHlsZShhLCB1LCB0KSk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIHgwKGUsIHQpIHsKICAgIGlmIChlLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpICYmIGIwKGUpKSB7CiAgICAgIHZhciBuID0gZS5kb20sCiAgICAgICAgICByID0gZS5zZWxlY3Rpb24uZ2V0Um5nKCksCiAgICAgICAgICBvID0gYXMuZnJvbVJhbmdlU3RhcnQociksCiAgICAgICAgICBpID0gbi5nZXRQYXJlbnQoci5zdGFydENvbnRhaW5lciwgbi5pc0Jsb2NrKTsKICAgICAgaWYgKG51bGwgIT09IGkgJiYgbnAoTnQuZnJvbURvbShpKSwgbykpIHJldHVybiBDMChlLCAib3V0ZGVudCIpLCAhMDsKICAgIH0KCiAgICByZXR1cm4gITE7CiAgfQoKICBmdW5jdGlvbiB3MChlLCB0KSB7CiAgICBlLmdldERvYygpLmV4ZWNDb21tYW5kKHQsICExLCBudWxsKTsKICB9CgogIGZ1bmN0aW9uIFMwKGUpIHsKICAgIHJldHVybiB2b2lkIDAgPT09IGUudG91Y2hlcyB8fCAxICE9PSBlLnRvdWNoZXMubGVuZ3RoID8gdmUubm9uZSgpIDogdmUuc29tZShlLnRvdWNoZXNbMF0pOwogIH0KCiAgZnVuY3Rpb24gRTAoZSwgdCkgewogICAgcmV0dXJuIE5lKGUsIHQubm9kZU5hbWUpOwogIH0KCiAgZnVuY3Rpb24gTjAoZSkgewogICAgdmFyIHQsCiAgICAgICAgbiwKICAgICAgICByLAogICAgICAgIG8gPSBlLmRvbSwKICAgICAgICBpID0gZS5zZWxlY3Rpb24sCiAgICAgICAgYSA9IGUuc2NoZW1hLAogICAgICAgIHUgPSBhLmdldEJsb2NrRWxlbWVudHMoKSwKICAgICAgICBzID0gaS5nZXRTdGFydCgpLAogICAgICAgIGMgPSBlLmdldEJvZHkoKSwKICAgICAgICBsID0gU3MoZSk7CgogICAgaWYgKHMgJiYgem4ocykgJiYgbCkgewogICAgICB2YXIgZiA9IGMubm9kZU5hbWUudG9Mb3dlckNhc2UoKTsKCiAgICAgIGlmIChhLmlzVmFsaWRDaGlsZChmLCBsLnRvTG93ZXJDYXNlKCkpICYmIChkID0gdSwgbSA9IGMsIGcgPSBzLCAhRihwbShOdC5mcm9tRG9tKGcpLCBOdC5mcm9tRG9tKG0pKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gRTAoZCwgZS5kb20pOwogICAgICB9KSkpIHsKICAgICAgICBmb3IgKHZhciBkLCBtLCBnLCBwLCBoLCB2ID0gaS5nZXRSbmcoKSwgYiA9IHYuc3RhcnRDb250YWluZXIsIHkgPSB2LnN0YXJ0T2Zmc2V0LCBDID0gdi5lbmRDb250YWluZXIsIHggPSB2LmVuZE9mZnNldCwgdyA9IHZkKGUpLCBzID0gYy5maXJzdENoaWxkOyBzOykgewogICAgICAgICAgcCA9IHUsIGpuKGggPSBzKSB8fCB6bihoKSAmJiAhRTAocCwgaCkgJiYgIVljKGgpID8gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICAgICAgaWYgKGpuKHQpKSB7CiAgICAgICAgICAgICAgaWYgKDAgPT09IHQubm9kZVZhbHVlLmxlbmd0aCkgcmV0dXJuIDE7CiAgICAgICAgICAgICAgaWYgKC9eXHMrJC8udGVzdCh0Lm5vZGVWYWx1ZSkgJiYgKCF0Lm5leHRTaWJsaW5nIHx8IEUwKGUsIHQubmV4dFNpYmxpbmcpKSkgcmV0dXJuIDE7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0odSwgcykgPyAocyA9IChuID0gcykubmV4dFNpYmxpbmcsIG8ucmVtb3ZlKG4pKSA6ICh0IHx8ICh0ID0gby5jcmVhdGUobCwgRXMoZSkpLCBzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHQsIHMpLCByID0gITApLCBzID0gKG4gPSBzKS5uZXh0U2libGluZywgdC5hcHBlbmRDaGlsZChuKSkgOiAodCA9IG51bGwsIHMgPSBzLm5leHRTaWJsaW5nKTsKICAgICAgICB9CgogICAgICAgIHIgJiYgdyAmJiAodi5zZXRTdGFydChiLCB5KSwgdi5zZXRFbmQoQywgeCksIGkuc2V0Um5nKHYpLCBlLm5vZGVDaGFuZ2VkKCkpOwogICAgICB9CiAgICB9CiAgfQoKICBmdW5jdGlvbiBrMChlLCB0KSB7CiAgICB0Lmhhc0F0dHJpYnV0ZSgiZGF0YS1tY2UtY2FyZXQiKSAmJiAoenIodCksIGUuc2VsZWN0aW9uLnNldFJuZyhlLnNlbGVjdGlvbi5nZXRSbmcoKSksIGUuc2VsZWN0aW9uLnNjcm9sbEludG9WaWV3KHQpKTsKICB9CgogIGZ1bmN0aW9uIF8wKGUsIHQpIHsKICAgIHZhciBuID0gdnIoTnQuZnJvbURvbShlLmdldEJvZHkoKSksICIqW2RhdGEtbWNlLWNhcmV0XSIpLm1hcChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gZS5kb207CiAgICB9KS5nZXRPck51bGwoKTsKICAgIGlmIChuKSByZXR1cm4gImNvbXBvc2l0aW9uc3RhcnQiID09PSB0LnR5cGUgPyAodC5wcmV2ZW50RGVmYXVsdCgpLCB0LnN0b3BQcm9wYWdhdGlvbigpLCB2b2lkIGswKGUsIG4pKSA6IHZvaWQgKE1yKG4pICYmIChrMChlLCBuKSwgZS51bmRvTWFuYWdlci5hZGQoKSkpOwogIH0KCiAgZnVuY3Rpb24gQTAoZSwgdCwgbikgewogICAgdmFyIHIsCiAgICAgICAgbywKICAgICAgICBpLAogICAgICAgIGEgPSBQYyhlLmdldEJvZHkoKSksCiAgICAgICAgdSA9IEEocmMsIDEgPT09IHQgPyBhLm5leHQgOiBhLnByZXYpOwogICAgIW4uY29sbGFwc2VkIHx8ICIiID09PSBTcyhlKSB8fCAociA9IGUuZG9tLmdldFBhcmVudChuLnN0YXJ0Q29udGFpbmVyLCAiUFJFIikpICYmICh1KGFzLmZyb21SYW5nZVN0YXJ0KG4pKSB8fCAoaSA9IGUuZG9tLmNyZWF0ZShTcyhlKSksICgheHQuaWUgfHwgMTEgPD0geHQuaWUpICYmIChpLmlubmVySFRNTCA9ICc8YnIgZGF0YS1tY2UtYm9ndXM9IjEiPicpLCBvID0gaSwgMSA9PT0gdCA/IGUuJChyKS5hZnRlcihvKSA6IGUuJChyKS5iZWZvcmUobyksIGUuc2VsZWN0aW9uLnNlbGVjdChvLCAhMCksIGUuc2VsZWN0aW9uLmNvbGxhcHNlKCkpKTsKICB9CgogIGZ1bmN0aW9uIFIwKHQsIGUpIHsKICAgIHJldHVybiBuID0gdCwgciA9IGUgPyBpYy5Gb3J3YXJkcyA6IGljLkJhY2t3YXJkcywgbyA9IG4uc2VsZWN0aW9uLmdldFJuZygpLCBReShuLCByLCBvLCBlcCwgdHAsIFZDKS5vclRodW5rKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIEEwKG4sIHIsIG8pLCB2ZS5ub25lKCk7CiAgICB9KS5leGlzdHMoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIEd5KHQsIGUpLCAhMDsKICAgIH0pOwogICAgdmFyIG4sIHIsIG87CiAgfQoKICBmdW5jdGlvbiBEMCh0LCBlKSB7CiAgICByZXR1cm4gciA9IGUgPyAxIDogLTEsIG8gPSAobiA9IHQpLnNlbGVjdGlvbi5nZXRSbmcoKSwgWnkobiwgciwgbywgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGVwKGUpIHx8IFFnKGUpOwogICAgfSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHRwKGUpIHx8IFpnKGUpOwogICAgfSwgVkMpLm9yVGh1bmsoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQTAobiwgciwgbyksIHZlLm5vbmUoKTsKICAgIH0pLmV4aXN0cyhmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gR3kodCwgZSksICEwOwogICAgfSk7CiAgICB2YXIgbiwgciwgbzsKICB9CgogIGZ1bmN0aW9uIFQwKGUsIHQpIHsKICAgIHJldHVybiBlMChlLCB0LCB0ID8gdHAgOiBlcCk7CiAgfQoKICBmdW5jdGlvbiBPMChlKSB7CiAgICByZXR1cm4gRChbImZpZ2NhcHRpb24iXSwga3QoZSkpOwogIH0KCiAgZnVuY3Rpb24gQjAoZSkgewogICAgdmFyIHQgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpOwogICAgcmV0dXJuIHQuc2V0U3RhcnRCZWZvcmUoZS5kb20pLCB0LnNldEVuZEJlZm9yZShlLmRvbSksIHQ7CiAgfQoKICBmdW5jdGlvbiBQMChlLCB0LCBuKSB7CiAgICAobiA/IFBuIDogV3QpKGUsIHQpOwogIH0KCiAgZnVuY3Rpb24gTDAoaCwgdikgewogICAgdmFyIGIgPSBOdC5mcm9tRG9tKGguZ2V0Qm9keSgpKSwKICAgICAgICB5ID0gYXMuZnJvbVJhbmdlU3RhcnQoaC5zZWxlY3Rpb24uZ2V0Um5nKCkpLAogICAgICAgIEMgPSBTcyhoKSwKICAgICAgICB4ID0gRXMoaCksCiAgICAgICAgZSA9IHksCiAgICAgICAgdCA9IEEoamUsIGIpOwogICAgcmV0dXJuIHByKE50LmZyb21Eb20oZS5jb250YWluZXIoKSksIGxvLCB0KS5maWx0ZXIoTzApLmV4aXN0cyhmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChkID0gYiwgbSA9IHksIHYgPyAocCA9IGQuZG9tLCBNeShwLCBtKS5icmVha0F0LmlzTm9uZSgpKSA6IChnID0gZC5kb20sIEl5KGcsIG0pLmJyZWFrQXQuaXNOb25lKCkpKSB7CiAgICAgICAgdmFyIGUgPSAodCA9IGIsIHIgPSB4LCBvID0gdiwgIiIgPT09IChuID0gQykgPyAobCA9IG8sIFAwKHQsIGYgPSBOdC5mcm9tVGFnKCJiciIpLCBsKSwgQjAoZikpIDogKGkgPSB0LCBhID0gbywgdSA9IHIsIHMgPSBOdC5mcm9tVGFnKG4pLCBjID0gTnQuZnJvbVRhZygiYnIiKSwgaG4ocywgdSksIFBuKHMsIGMpLCBQMChpLCBzLCBhKSwgQjAoYykpKTsKICAgICAgICByZXR1cm4gaC5zZWxlY3Rpb24uc2V0Um5nKGUpLCAhMDsKICAgICAgfQoKICAgICAgdmFyIHQsIG4sIHIsIG8sIGksIGEsIHUsIHMsIGMsIGwsIGYsIGQsIG0sIGcsIHA7CiAgICAgIHJldHVybiAhMTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gSTAoZSwgdCkgewogICAgcmV0dXJuICEhZS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQoKSAmJiBMMChlLCB0KTsKICB9CgogIGZ1bmN0aW9uIE0wKGUpIHsKICAgIGZvciAodmFyIHQgPSBbXSwgbiA9IDE7IG4gPCBhcmd1bWVudHMubGVuZ3RoOyBuKyspIHsKICAgICAgdFtuIC0gMV0gPSBhcmd1bWVudHNbbl07CiAgICB9CgogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGUuYXBwbHkobnVsbCwgdCk7CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gRjAoZSwgdCkgewogICAgcmV0dXJuIE0oKG4gPSB0LCBIKFQoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIF9lMih7CiAgICAgICAgc2hpZnRLZXk6ICExLAogICAgICAgIGFsdEtleTogITEsCiAgICAgICAgY3RybEtleTogITEsCiAgICAgICAgbWV0YUtleTogITEsCiAgICAgICAga2V5Q29kZTogMCwKICAgICAgICBhY3Rpb246IHRlCiAgICAgIH0sIGUpOwogICAgfSksIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBuLmtleUNvZGUgPT09IGUua2V5Q29kZSAmJiBuLnNoaWZ0S2V5ID09PSBlLnNoaWZ0S2V5ICYmIG4uYWx0S2V5ID09PSBlLmFsdEtleSAmJiBuLmN0cmxLZXkgPT09IGUuY3RybEtleSAmJiBuLm1ldGFLZXkgPT09IGUubWV0YUtleSA/IFtlXSA6IFtdOwogICAgfSkpLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gZS5hY3Rpb24oKTsKICAgIH0pOwogICAgdmFyIG47CiAgfQoKICBmdW5jdGlvbiBVMCh0LCBlKSB7CiAgICB2YXIgbiA9IGUgPyBpYy5Gb3J3YXJkcyA6IGljLkJhY2t3YXJkcywKICAgICAgICByID0gdC5zZWxlY3Rpb24uZ2V0Um5nKCk7CiAgICByZXR1cm4gUXkodCwgbiwgciwgR2csIEpnLCBKbikuZXhpc3RzKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBHeSh0LCBlKSwgITA7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIHowKHQsIGUpIHsKICAgIHZhciBuID0gZSA/IDEgOiAtMSwKICAgICAgICByID0gdC5zZWxlY3Rpb24uZ2V0Um5nKCk7CiAgICByZXR1cm4gWnkodCwgbiwgciwgR2csIEpnLCBKbikuZXhpc3RzKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBHeSh0LCBlKSwgITA7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIEgwKGUsIHQpIHsKICAgIHJldHVybiBlMChlLCB0LCB0ID8gSmcgOiBHZyk7CiAgfQoKICBmdW5jdGlvbiBqMChlLCB0LCBuLCByLCBvKSB7CiAgICB2YXIgaSwKICAgICAgICBhID0gaHUoTnQuZnJvbURvbShuKSwgInRkLHRoLGNhcHRpb24iKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGUuZG9tOwogICAgfSksCiAgICAgICAgdSA9IFUoKGkgPSBlLCBIKGEsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0LAogICAgICAgICAgbiA9IHsKICAgICAgICBsZWZ0OiAodCA9IGt1KGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpKS5sZWZ0IC0gLTEsCiAgICAgICAgdG9wOiB0LnRvcCAtIC0xLAogICAgICAgIHJpZ2h0OiB0LnJpZ2h0ICsgLTIsCiAgICAgICAgYm90dG9tOiB0LmJvdHRvbSArIC0yLAogICAgICAgIHdpZHRoOiB0LndpZHRoICsgLTEsCiAgICAgICAgaGVpZ2h0OiB0LmhlaWdodCArIC0xCiAgICAgIH07CiAgICAgIHJldHVybiBbewogICAgICAgIHg6IG4ubGVmdCwKICAgICAgICB5OiBpKG4pLAogICAgICAgIGNlbGw6IGUKICAgICAgfSwgewogICAgICAgIHg6IG4ucmlnaHQsCiAgICAgICAgeTogaShuKSwKICAgICAgICBjZWxsOiBlCiAgICAgIH1dOwogICAgfSkpLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gdChlLCBvKTsKICAgIH0pLAogICAgICAgIHMgPSByLAogICAgICAgIGMgPSBvOwogICAgcmV0dXJuIEwodSwgZnVuY3Rpb24gKGUsIHIpIHsKICAgICAgcmV0dXJuIGUuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHZlLnNvbWUocik7CiAgICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHQgPSBNYXRoLnNxcnQoTWF0aC5hYnMoZS54IC0gcykgKyBNYXRoLmFicyhlLnkgLSBjKSksCiAgICAgICAgICAgIG4gPSBNYXRoLnNxcnQoTWF0aC5hYnMoci54IC0gcykgKyBNYXRoLmFicyhyLnkgLSBjKSk7CiAgICAgICAgcmV0dXJuIHZlLnNvbWUobiA8IHQgPyByIDogZSk7CiAgICAgIH0pOwogICAgfSwgdmUubm9uZSgpKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGUuY2VsbDsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gVjAoZSwgdCwgbikgewogICAgdmFyIHIsCiAgICAgICAgbywKICAgICAgICBpID0gZSh0LCBuKTsKICAgIHJldHVybiBpLmJyZWFrVHlwZSA9PT0gdXkuV3JhcCAmJiAwID09PSBpLnBvc2l0aW9ucy5sZW5ndGggfHwgIVduKG4uZ2V0Tm9kZSgpKSAmJiBpLmJyZWFrVHlwZSA9PT0gdXkuQnIgJiYgMSA9PT0gaS5wb3NpdGlvbnMubGVuZ3RoID8gKHIgPSBlLCBvID0gdCwgIWkuYnJlYWtBdC5leGlzdHMoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHIobywgZSkuYnJlYWtBdC5pc1NvbWUoKTsKICAgIH0pKSA6IGkuYnJlYWtBdC5pc05vbmUoKTsKICB9CgogIGZ1bmN0aW9uIHEwKHQsIGUsIG4sIHIpIHsKICAgIHZhciBvLAogICAgICAgIGksCiAgICAgICAgYSwKICAgICAgICB1ID0gdC5zZWxlY3Rpb24uZ2V0Um5nKCksCiAgICAgICAgcyA9IGUgPyAxIDogLTE7CiAgICByZXR1cm4gISghcXMoKSB8fCAobyA9IGUsIGkgPSBuLCBhID0gYXMuZnJvbVJhbmdlU3RhcnQodSksICFVYyghbywgaSkuZXhpc3RzKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBlLmlzRXF1YWwoYSk7CiAgICB9KSkgfHwgKHhiKHMsIHQsIG4sICFlLCAhMSkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICBHeSh0LCBlKTsKICAgIH0pLCAwKSk7CiAgfQoKICBmdW5jdGlvbiAkMCh1LCBzLCBjKSB7CiAgICB2YXIgZSwKICAgICAgICB0LAogICAgICAgIG4gPSAoZSA9ICEhcywgdCA9IGMuZ2V0Tm9kZShlKSwgem4odCkgJiYgIlRBQkxFIiA9PT0gdC5ub2RlTmFtZSA/IHZlLnNvbWUodCkgOiB2ZS5ub25lKCkpLAogICAgICAgIHIgPSAhMSA9PT0gczsKICAgIG4uZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBHeSh1LCBjLnRvUmFuZ2UoKSk7CiAgICB9LCBmdW5jdGlvbiAoYSkgewogICAgICByZXR1cm4gVWMociwgdS5nZXRCb2R5KCkpLmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlLmlzRXF1YWwoYyk7CiAgICAgIH0pLmZvbGQoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBHeSh1LCBjLnRvUmFuZ2UoKSk7CiAgICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIG4sCiAgICAgICAgICAgIHIsCiAgICAgICAgICAgIG8gPSBzLAogICAgICAgICAgICBpID0gYSwKICAgICAgICAgICAgdCA9IGM7CiAgICAgICAgKHIgPSBTcyhuID0gdSkpID8gbi51bmRvTWFuYWdlci50cmFuc2FjdChmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2YXIgZSA9IE50LmZyb21UYWcocik7CiAgICAgICAgICBobihlLCBFcyhuKSksIFBuKGUsIE50LmZyb21UYWcoImJyIikpLCAobyA/ICR0IDogcXQpKE50LmZyb21Eb20oaSksIGUpOwogICAgICAgICAgdmFyIHQgPSBuLmRvbS5jcmVhdGVSbmcoKTsKICAgICAgICAgIHQuc2V0U3RhcnQoZS5kb20sIDApLCB0LnNldEVuZChlLmRvbSwgMCksIEd5KG4sIHQpOwogICAgICAgIH0pIDogR3kobiwgdC50b1JhbmdlKCkpOwogICAgICB9KTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gVzAoZSwgdCwgbiwgcikgewogICAgdmFyIG8sCiAgICAgICAgaSwKICAgICAgICBhLAogICAgICAgIHUsCiAgICAgICAgcywKICAgICAgICBjLAogICAgICAgIGwsCiAgICAgICAgZiwKICAgICAgICBkLAogICAgICAgIG0sCiAgICAgICAgZyA9IGUuc2VsZWN0aW9uLmdldFJuZygpLAogICAgICAgIHAgPSBhcy5mcm9tUmFuZ2VTdGFydChnKSwKICAgICAgICBoID0gZS5nZXRCb2R5KCk7CiAgICBpZiAodCB8fCAhV0MociwgcCkpIHJldHVybiAhKCF0IHx8ICFLQyhyLCBwKSkgJiYgKG8gPSBoLCBkID0gaSA9IG4sICQwKGUsIHQsIHYgPSBaKChtID0gYSA9IHApLmdldENsaWVudFJlY3RzKCkpLmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuICRDKGQsIGUubGVmdCwgZS50b3ApOwogICAgfSkuYmluZChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gVHkoZWYodCA9IGUpLm1hcChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBbZV0uY29uY2F0KE15KHQsIGUpLnBvc2l0aW9ucyk7CiAgICAgIH0pLmdldE9yKFtdKSwgbSk7CiAgICAgIHZhciB0OwogICAgfSkub3JUaHVuayhmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBRKGEuZ2V0Q2xpZW50UmVjdHMoKSkuYmluZChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBEeShVeShvLCBhcy5hZnRlcihpKSksIGUubGVmdCk7CiAgICAgIH0pOwogICAgfSkuZ2V0T3IoYXMuYWZ0ZXIoaSkpKSwgITApOwogICAgdmFyIHYgPSAodSA9IGgsIGwgPSBzID0gbiwgUSgoZiA9IGMgPSBwKS5nZXRDbGllbnRSZWN0cygpKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiBxQyhsLCBlLmxlZnQsIGUudG9wKTsKICAgIH0pLmJpbmQoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIFR5KHRmKHQgPSBlKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gSXkodCwgZSkucG9zaXRpb25zLmNvbmNhdChlKTsKICAgICAgfSkuZ2V0T3IoW10pLCBmKTsKICAgICAgdmFyIHQ7CiAgICB9KS5vclRodW5rKGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIFEoYy5nZXRDbGllbnRSZWN0cygpKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIER5KEZ5KHUsIGFzLmJlZm9yZShzKSksIGUubGVmdCk7CiAgICAgIH0pOwogICAgfSkuZ2V0T3IoYXMuYmVmb3JlKHMpKSk7CiAgICByZXR1cm4gJDAoZSwgdCwgdiksICEwOwogIH0KCiAgZnVuY3Rpb24gSzAobiwgciwgbykgewogICAgcmV0dXJuIHZlLmZyb20obi5kb20uZ2V0UGFyZW50KG4uc2VsZWN0aW9uLmdldE5vZGUoKSwgInRkLHRoIikpLmJpbmQoZnVuY3Rpb24gKHQpIHsKICAgICAgcmV0dXJuIHZlLmZyb20obi5kb20uZ2V0UGFyZW50KHQsICJ0YWJsZSIpKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gbyhuLCByLCBlLCB0KTsKICAgICAgfSk7CiAgICB9KS5nZXRPcighMSk7CiAgfQoKICBmdW5jdGlvbiBYMChlLCB0KSB7CiAgICByZXR1cm4gSzAoZSwgdCwgcTApOwogIH0KCiAgZnVuY3Rpb24gWTAoZSwgdCkgewogICAgcmV0dXJuIEswKGUsIHQsIFcwKTsKICB9CgogIGZ1bmN0aW9uIEcwKGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIsCiAgICAgICAgbyA9IHQsCiAgICAgICAgaSA9IGUuZG9tLAogICAgICAgIGEgPSBlLnNjaGVtYS5nZXRNb3ZlQ2FyZXRCZWZvcmVPbkVudGVyRWxlbWVudHMoKTsKCiAgICBpZiAodCkgewogICAgICAhL14oTEl8RFR8REQpJC8udGVzdCh0Lm5vZGVOYW1lKSB8fCAociA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgZm9yICg7IGU7KSB7CiAgICAgICAgICBpZiAoMSA9PT0gZS5ub2RlVHlwZSB8fCAzID09PSBlLm5vZGVUeXBlICYmIGUuZGF0YSAmJiAvW1xyXG5cc10vLnRlc3QoZS5kYXRhKSkgcmV0dXJuIGU7CiAgICAgICAgICBlID0gZS5uZXh0U2libGluZzsKICAgICAgICB9CiAgICAgIH0odC5maXJzdENoaWxkKSkgJiYgL14oVUx8T0x8REwpJC8udGVzdChyLm5vZGVOYW1lKSAmJiB0Lmluc2VydEJlZm9yZShpLmRvYy5jcmVhdGVUZXh0Tm9kZSh5byksIHQuZmlyc3RDaGlsZCk7CiAgICAgIHZhciB1ID0gaS5jcmVhdGVSbmcoKTsKCiAgICAgIGlmICh0Lm5vcm1hbGl6ZSgpLCB0Lmhhc0NoaWxkTm9kZXMoKSkgewogICAgICAgIGZvciAodmFyIHMgPSBuZXcgUnIodCwgdCk7IG4gPSBzLmN1cnJlbnQoKTspIHsKICAgICAgICAgIGlmIChqbihuKSkgewogICAgICAgICAgICB1LnNldFN0YXJ0KG4sIDApLCB1LnNldEVuZChuLCAwKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKGFbbi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSkgewogICAgICAgICAgICB1LnNldFN0YXJ0QmVmb3JlKG4pLCB1LnNldEVuZEJlZm9yZShuKTsKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICB9CgogICAgICAgICAgbyA9IG4sIG4gPSBzLm5leHQoKTsKICAgICAgICB9CgogICAgICAgIG4gfHwgKHUuc2V0U3RhcnQobywgMCksIHUuc2V0RW5kKG8sIDApKTsKICAgICAgfSBlbHNlIFduKHQpID8gdC5uZXh0U2libGluZyAmJiBpLmlzQmxvY2sodC5uZXh0U2libGluZykgPyAodS5zZXRTdGFydEJlZm9yZSh0KSwgdS5zZXRFbmRCZWZvcmUodCkpIDogKHUuc2V0U3RhcnRBZnRlcih0KSwgdS5zZXRFbmRBZnRlcih0KSkgOiAodS5zZXRTdGFydCh0LCAwKSwgdS5zZXRFbmQodCwgMCkpOwoKICAgICAgZS5zZWxlY3Rpb24uc2V0Um5nKHUpLCBaZihlLCB1KTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIEowKGUpIHsKICAgIHJldHVybiB2ZS5mcm9tKGUuZG9tLmdldFBhcmVudChlLnNlbGVjdGlvbi5nZXRTdGFydCghMCksIGUuZG9tLmlzQmxvY2spKTsKICB9CgogIGZ1bmN0aW9uIFEwKGUsIHQpIHsKICAgIHJldHVybiBlICYmIGUucGFyZW50Tm9kZSAmJiBlLnBhcmVudE5vZGUubm9kZU5hbWUgPT09IHQ7CiAgfQoKICBmdW5jdGlvbiBaMChlKSB7CiAgICByZXR1cm4gZSAmJiAvXihPTHxVTHxMSSkkLy50ZXN0KGUubm9kZU5hbWUpOwogIH0KCiAgZnVuY3Rpb24gZUMoZSkgewogICAgdmFyIHQgPSBlLnBhcmVudE5vZGU7CiAgICByZXR1cm4gL14oTEl8RFR8REQpJC8udGVzdCh0Lm5vZGVOYW1lKSA/IHQgOiBlOwogIH0KCiAgZnVuY3Rpb24gdEMoZSwgdCwgbikgewogICAgZm9yICh2YXIgciA9IGVbbiA/ICJmaXJzdENoaWxkIiA6ICJsYXN0Q2hpbGQiXTsgciAmJiAhem4ocik7KSB7CiAgICAgIHIgPSByW24gPyAibmV4dFNpYmxpbmciIDogInByZXZpb3VzU2libGluZyJdOwogICAgfQoKICAgIHJldHVybiByID09PSB0OwogIH0KCiAgZnVuY3Rpb24gbkMoZSkgewogICAgZS5pbm5lckhUTUwgPSAnPGJyIGRhdGEtbWNlLWJvZ3VzPSIxIj4nOwogIH0KCiAgZnVuY3Rpb24gckMoZSwgdCkgewogICAgcmV0dXJuIGUubm9kZU5hbWUgPT09IHQgfHwgZS5wcmV2aW91c1NpYmxpbmcgJiYgZS5wcmV2aW91c1NpYmxpbmcubm9kZU5hbWUgPT09IHQ7CiAgfQoKICBmdW5jdGlvbiBvQyhlLCB0KSB7CiAgICByZXR1cm4gdCAmJiBlLmlzQmxvY2sodCkgJiYgIS9eKFREfFRIfENBUFRJT058Rk9STSkkLy50ZXN0KHQubm9kZU5hbWUpICYmICEvXihmaXhlZHxhYnNvbHV0ZSkvaS50ZXN0KHQuc3R5bGUucG9zaXRpb24pICYmICJ0cnVlIiAhPT0gZS5nZXRDb250ZW50RWRpdGFibGUodCk7CiAgfQoKICBmdW5jdGlvbiBpQyhlLCB0LCBuKSB7CiAgICByZXR1cm4gITEgPT09IGpuKHQpID8gbiA6IGUgPyAxID09PSBuICYmIHQuZGF0YS5jaGFyQXQobiAtIDEpID09PSBDbyA/IDAgOiBuIDogbiA9PT0gdC5kYXRhLmxlbmd0aCAtIDEgJiYgdC5kYXRhLmNoYXJBdChuKSA9PT0gQ28gPyB0LmRhdGEubGVuZ3RoIDogbjsKICB9CgogIGZ1bmN0aW9uIGFDKGUsIHQpIHsKICAgIGZvciAodmFyIG4sIHIgPSBlLmdldFJvb3QoKSwgbyA9IHQ7IG8gIT09IHIgJiYgImZhbHNlIiAhPT0gZS5nZXRDb250ZW50RWRpdGFibGUobyk7KSB7CiAgICAgICJ0cnVlIiA9PT0gZS5nZXRDb250ZW50RWRpdGFibGUobykgJiYgKG4gPSBvKSwgbyA9IG8ucGFyZW50Tm9kZTsKICAgIH0KCiAgICByZXR1cm4gbyAhPT0gciA/IG4gOiByOwogIH0KCiAgZnVuY3Rpb24gdUMoZSwgdCkgewogICAgdmFyIG4gPSBTcyhlKTsKICAgIG4gJiYgbi50b0xvd2VyQ2FzZSgpID09PSB0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSAmJiBmdW5jdGlvbiAoZSwgbywgdCkgewogICAgICB2YXIgaSA9IGUuZG9tOwogICAgICB2ZS5mcm9tKHQuc3R5bGUpLm1hcChpLnBhcnNlU3R5bGUpLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgdCA9IFNuKE50LmZyb21Eb20obykpLAogICAgICAgICAgICBuID0gX2UyKF9lMih7fSwgdCksIGUpOwoKICAgICAgICBpLnNldFN0eWxlcyhvLCBuKTsKICAgICAgfSksIGRuKHZlLmZyb20odC5jbGFzcykubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUuc3BsaXQoL1xzKy8pOwogICAgICB9KSwgdmUuZnJvbShvLmNsYXNzTmFtZSkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIFUoZS5zcGxpdCgvXHMrLyksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gIiIgIT09IGU7CiAgICAgICAgfSk7CiAgICAgIH0pLCBmdW5jdGlvbiAodCwgZSkgewogICAgICAgIHZhciBuID0gVShlLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuICFEKHQsIGUpOwogICAgICAgIH0pLAogICAgICAgICAgICByID0gQWUoQWUoW10sIHQsICEwKSwgbiwgITApOwogICAgICAgIGkuc2V0QXR0cmliKG8sICJjbGFzcyIsIHIuam9pbigiICIpKTsKICAgICAgfSk7CiAgICAgIHZhciBuID0gWyJzdHlsZSIsICJjbGFzcyJdLAogICAgICAgICAgciA9IGFlKHQsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgcmV0dXJuICFEKG4sIHQpOwogICAgICB9KTsKICAgICAgaS5zZXRBdHRyaWJzKG8sIHIpOwogICAgfShlLCB0LCBFcyhlKSk7CiAgfQoKICBmdW5jdGlvbiBzQyhhLCBlKSB7CiAgICBmdW5jdGlvbiB0KGUpIHsKICAgICAgdmFyIHQsCiAgICAgICAgICBuID0gbSwKICAgICAgICAgIHIgPSBsLmdldFRleHRJbmxpbmVFbGVtZW50cygpLAogICAgICAgICAgbyA9IGUgfHwgIlRBQkxFIiA9PT0gQyB8fCAiSFIiID09PSBDID8gYy5jcmVhdGUoZSB8fCBwKSA6IGIuY2xvbmVOb2RlKCExKSwKICAgICAgICAgIGkgPSBvOwogICAgICBpZiAoITEgPT09IGEuZ2V0UGFyYW0oImtlZXBfc3R5bGVzIiwgITApKSBjLnNldEF0dHJpYihvLCAic3R5bGUiLCBudWxsKSwgYy5zZXRBdHRyaWIobywgImNsYXNzIiwgbnVsbCk7ZWxzZSBmb3IgKDsgcltuLm5vZGVOYW1lXSAmJiAoemMobikgfHwgWWMobikgfHwgKHQgPSBuLmNsb25lTm9kZSghMSksIGMuc2V0QXR0cmliKHQsICJpZCIsICIiKSwgby5oYXNDaGlsZE5vZGVzKCkgPyB0LmFwcGVuZENoaWxkKG8uZmlyc3RDaGlsZCkgOiBpID0gdCwgby5hcHBlbmRDaGlsZCh0KSkpLCAobiA9IG4ucGFyZW50Tm9kZSkgJiYgbiAhPT0gRjspIHsKICAgICAgICA7CiAgICAgIH0KICAgICAgcmV0dXJuIHVDKGEsIG8pLCBuQyhpKSwgbzsKICAgIH0KCiAgICBmdW5jdGlvbiBuKGUpIHsKICAgICAgdmFyIHQsCiAgICAgICAgICBuLAogICAgICAgICAgciA9IGlDKGUsIG0sIGcpOwoKICAgICAgaWYgKCFqbihtKSB8fCAhKGUgPyAwIDwgciA6IHIgPCBtLm5vZGVWYWx1ZS5sZW5ndGgpKSB7CiAgICAgICAgaWYgKG0ucGFyZW50Tm9kZSA9PT0gYiAmJiBzICYmICFlKSByZXR1cm4gMTsKICAgICAgICBpZiAoZSAmJiB6bihtKSAmJiBtID09PSBiLmZpcnN0Q2hpbGQpIHJldHVybiAxOwogICAgICAgIGlmIChyQyhtLCAiVEFCTEUiKSB8fCByQyhtLCAiSFIiKSkgcmV0dXJuIHMgJiYgIWUgfHwgIXMgJiYgZTsKICAgICAgICB2YXIgbyA9IG5ldyBScihtLCBiKTsKCiAgICAgICAgZm9yIChqbihtKSAmJiAoZSAmJiAwID09PSByID8gby5wcmV2KCkgOiBlIHx8IHIgIT09IG0ubm9kZVZhbHVlLmxlbmd0aCB8fCBvLm5leHQoKSk7IHQgPSBvLmN1cnJlbnQoKTspIHsKICAgICAgICAgIGlmICh6bih0KSkgewogICAgICAgICAgICBpZiAoIXQuZ2V0QXR0cmlidXRlKCJkYXRhLW1jZS1ib2d1cyIpICYmIChuID0gdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLCBmW25dICYmICJiciIgIT09IG4pKSByZXR1cm47CiAgICAgICAgICB9IGVsc2UgaWYgKGpuKHQpICYmICFxcih0Lm5vZGVWYWx1ZSkpIHJldHVybjsKCiAgICAgICAgICBlID8gby5wcmV2KCkgOiBvLm5leHQoKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiAxOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gcigpIHsKICAgICAgdSA9IC9eKEhbMS02XXxQUkV8RklHVVJFKSQvLnRlc3QoQykgJiYgIkhHUk9VUCIgIT09IHggPyB0KHApIDogdCgpLCBhLmdldFBhcmFtKCJlbmRfY29udGFpbmVyX29uX2VtcHR5X2Jsb2NrIiwgITEpICYmIG9DKGMsIHkpICYmIGMuaXNFbXB0eShiKSA/IHUgPSBjLnNwbGl0KHksIGIpIDogYy5pbnNlcnRBZnRlcih1LCBiKSwgRzAoYSwgdSk7CiAgICB9CgogICAgdmFyIG8sCiAgICAgICAgdSwKICAgICAgICBpLAogICAgICAgIHMsCiAgICAgICAgYyA9IGEuZG9tLAogICAgICAgIGwgPSBhLnNjaGVtYSwKICAgICAgICBmID0gbC5nZXROb25FbXB0eUVsZW1lbnRzKCksCiAgICAgICAgZCA9IGEuc2VsZWN0aW9uLmdldFJuZygpOwogICAgUmYoYywgZCkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICBkLnNldFN0YXJ0KGUuc3RhcnRDb250YWluZXIsIGUuc3RhcnRPZmZzZXQpLCBkLnNldEVuZChlLmVuZENvbnRhaW5lciwgZS5lbmRPZmZzZXQpOwogICAgfSk7CiAgICB2YXIgbSA9IGQuc3RhcnRDb250YWluZXIsCiAgICAgICAgZyA9IGQuc3RhcnRPZmZzZXQsCiAgICAgICAgcCA9IFNzKGEpLAogICAgICAgIGggPSAhKCFlIHx8ICFlLnNoaWZ0S2V5KSwKICAgICAgICB2ID0gISghZSB8fCAhZS5jdHJsS2V5KTsKICAgIHpuKG0pICYmIG0uaGFzQ2hpbGROb2RlcygpICYmIChzID0gZyA+IG0uY2hpbGROb2Rlcy5sZW5ndGggLSAxLCBtID0gbS5jaGlsZE5vZGVzW01hdGgubWluKGcsIG0uY2hpbGROb2Rlcy5sZW5ndGggLSAxKV0gfHwgbSwgZyA9IHMgJiYgam4obSkgPyBtLm5vZGVWYWx1ZS5sZW5ndGggOiAwKTsKCiAgICB2YXIgYiwKICAgICAgICB5LAogICAgICAgIEMsCiAgICAgICAgeCwKICAgICAgICB3LAogICAgICAgIFMsCiAgICAgICAgcCwKICAgICAgICBFLAogICAgICAgIE4sCiAgICAgICAgaywKICAgICAgICBfLAogICAgICAgIEEsCiAgICAgICAgUiwKICAgICAgICBELAogICAgICAgIFQsCiAgICAgICAgTywKICAgICAgICBCLAogICAgICAgIFAsCiAgICAgICAgTCwKICAgICAgICBJLAogICAgICAgIE0sCiAgICAgICAgRiA9IGFDKGMsIG0pOwoKICAgIEYgJiYgKChwICYmICFoIHx8ICFwICYmIGgpICYmIChtID0gZnVuY3Rpb24gKGUsIHQsIG4sIHIpIHsKICAgICAgdmFyIG8sCiAgICAgICAgICBpLAogICAgICAgICAgYSwKICAgICAgICAgIHUsCiAgICAgICAgICBzLAogICAgICAgICAgYywKICAgICAgICAgIGwgPSBwIHx8ICJQIiwKICAgICAgICAgIGYgPSBlLmRvbSwKICAgICAgICAgIGQgPSBhQyhmLCBuKSwKICAgICAgICAgIG0gPSBmLmdldFBhcmVudChuLCBmLmlzQmxvY2spOwoKICAgICAgaWYgKCFtIHx8ICFvQyhmLCBtKSkgewogICAgICAgIGlmIChzID0gKChtID0gbSB8fCBkKSA9PT0gZS5nZXRCb2R5KCkgfHwgKGMgPSBtKSAmJiAvXihURHxUSHxDQVBUSU9OKSQvLnRlc3QoYy5ub2RlTmFtZSkgPyBtIDogbS5wYXJlbnROb2RlKS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLCAhbS5oYXNDaGlsZE5vZGVzKCkpIHJldHVybiB1QyhlLCBvID0gZi5jcmVhdGUobCkpLCBtLmFwcGVuZENoaWxkKG8pLCB0LnNldFN0YXJ0KG8sIDApLCB0LnNldEVuZChvLCAwKSwgbzsKCiAgICAgICAgZm9yIChhID0gbjsgYS5wYXJlbnROb2RlICE9PSBtOykgewogICAgICAgICAgYSA9IGEucGFyZW50Tm9kZTsKICAgICAgICB9CgogICAgICAgIGZvciAoOyBhICYmICFmLmlzQmxvY2soYSk7KSB7CiAgICAgICAgICBhID0gKGkgPSBhKS5wcmV2aW91c1NpYmxpbmc7CiAgICAgICAgfQoKICAgICAgICBpZiAoaSAmJiBlLnNjaGVtYS5pc1ZhbGlkQ2hpbGQocywgbC50b0xvd2VyQ2FzZSgpKSkgewogICAgICAgICAgZm9yICh1QyhlLCBvID0gZi5jcmVhdGUobCkpLCBpLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKG8sIGkpLCBhID0gaTsgYSAmJiAhZi5pc0Jsb2NrKGEpOykgewogICAgICAgICAgICB1ID0gYS5uZXh0U2libGluZywgby5hcHBlbmRDaGlsZChhKSwgYSA9IHU7CiAgICAgICAgICB9CgogICAgICAgICAgdC5zZXRTdGFydChuLCByKSwgdC5zZXRFbmQobiwgcik7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gbjsKICAgIH0oYSwgZCwgbSwgZykpLCB5ID0gKGIgPSBjLmdldFBhcmVudChtLCBjLmlzQmxvY2spKSA/IGMuZ2V0UGFyZW50KGIucGFyZW50Tm9kZSwgYy5pc0Jsb2NrKSA6IG51bGwsIEMgPSBiID8gYi5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpIDogIiIsICJMSSIgIT09ICh4ID0geSA/IHkubm9kZU5hbWUudG9VcHBlckNhc2UoKSA6ICIiKSB8fCB2IHx8ICh5ID0gKGIgPSB5KS5wYXJlbnROb2RlLCBDID0geCksIC9eKExJfERUfEREKSQvLnRlc3QoQykgJiYgYy5pc0VtcHR5KGIpID8gKE4gPSB0LCBrID0geSwgXyA9IGIsIEEgPSBwLCBJID0gKEUgPSBhKS5kb20sIE0gPSBFLnNlbGVjdGlvbi5nZXRSbmcoKSwgayAhPT0gRS5nZXRCb2R5KCkgJiYgKEQgPSAoQSA9IFowKFIgPSBrKSAmJiBaMChSLnBhcmVudE5vZGUpID8gIkxJIiA6IEEpID8gTihBKSA6IEkuY3JlYXRlKCJCUiIpLCB0QyhrLCBfLCAhMCkgJiYgdEMoaywgXywgITEpID8gUTAoaywgIkxJIikgPyAoVCA9IGVDKGspLCBJLmluc2VydEFmdGVyKEQsIFQpLCAobnVsbCA9PT0gKEwgPSAoUCA9IGspLnBhcmVudE5vZGUpIHx8IHZvaWQgMCA9PT0gTCA/IHZvaWQgMCA6IEwuZmlyc3RDaGlsZCkgPT09IFAgPyBJLnJlbW92ZShUKSA6IEkucmVtb3ZlKGspKSA6IEkucmVwbGFjZShELCBrKSA6ICh0QyhrLCBfLCAhMCkgPyBRMChrLCAiTEkiKSA/IChJLmluc2VydEFmdGVyKEQsIGVDKGspKSwgRC5hcHBlbmRDaGlsZChJLmRvYy5jcmVhdGVUZXh0Tm9kZSgiICIpKSwgRC5hcHBlbmRDaGlsZChrKSkgOiBrLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKEQsIGspIDogdEMoaywgXywgITEpID8gSS5pbnNlcnRBZnRlcihELCBlQyhrKSkgOiAoayA9IGVDKGspLCAoTyA9IE0uY2xvbmVSYW5nZSgpKS5zZXRTdGFydEFmdGVyKF8pLCBPLnNldEVuZEFmdGVyKGspLCBCID0gTy5leHRyYWN0Q29udGVudHMoKSwgIkxJIiA9PT0gQSAmJiBCLmZpcnN0Q2hpbGQgJiYgIkxJIiA9PT0gQi5maXJzdENoaWxkLm5vZGVOYW1lID8gKEQgPSBCLmZpcnN0Q2hpbGQsIEkuaW5zZXJ0QWZ0ZXIoQiwgaykpIDogKEkuaW5zZXJ0QWZ0ZXIoQiwgayksIEkuaW5zZXJ0QWZ0ZXIoRCwgaykpKSwgSS5yZW1vdmUoXykpLCBHMChFLCBEKSkpIDogcCAmJiBiID09PSBhLmdldEJvZHkoKSB8fCAocCA9IHAgfHwgIlAiLCBQcihiKSA/ICh1ID0genIoYiksIGMuaXNFbXB0eShiKSAmJiBuQyhiKSwgdUMoYSwgdSksIEcwKGEsIHUpKSA6IG4oKSA/IHIoKSA6IG4oITApID8gKHUgPSBiLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHQoKSwgYiksIEcwKGEsIHJDKGIsICJIUiIpID8gdSA6IGIpKSA6ICgoUyA9ICh3ID0gZCkuY2xvbmVSYW5nZSgpKS5zZXRTdGFydCh3LnN0YXJ0Q29udGFpbmVyLCBpQyghMCwgdy5zdGFydENvbnRhaW5lciwgdy5zdGFydE9mZnNldCkpLCBTLnNldEVuZCh3LmVuZENvbnRhaW5lciwgaUMoITEsIHcuZW5kQ29udGFpbmVyLCB3LmVuZE9mZnNldCkpLCAobyA9IFMuY2xvbmVSYW5nZSgpKS5zZXRFbmRBZnRlcihiKSwgaSA9IG8uZXh0cmFjdENvbnRlbnRzKCksIFkoSHUoTnQuZnJvbURvbShpKSwgX24pLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9IGUuZG9tOwogICAgICB0Lm5vZGVWYWx1ZSA9IHdvKHQubm9kZVZhbHVlKTsKICAgIH0pLCBmdW5jdGlvbiAoZSkgewogICAgICBmb3IgKDsgam4oZSkgJiYgKGUubm9kZVZhbHVlID0gZS5ub2RlVmFsdWUucmVwbGFjZSgvXltcclxuXSsvLCAiIikpLCBlID0gZS5maXJzdENoaWxkOykgewogICAgICAgIDsKICAgICAgfQogICAgfShpKSwgdSA9IGkuZmlyc3RDaGlsZCwgYy5pbnNlcnRBZnRlcihpLCBiKSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgdmFyIG4sCiAgICAgICAgICByLAogICAgICAgICAgbyA9IHUsCiAgICAgICAgICBpID0gW107CgogICAgICBpZiAobykgewogICAgICAgIGZvciAoOyBvID0gby5maXJzdENoaWxkOykgewogICAgICAgICAgaWYgKGUuaXNCbG9jayhvKSkgcmV0dXJuOwogICAgICAgICAgem4obykgJiYgIXRbby5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSAmJiBpLnB1c2gobyk7CiAgICAgICAgfQoKICAgICAgICBmb3IgKG4gPSBpLmxlbmd0aDsgbi0tOykgewogICAgICAgICAgIShvID0gaVtuXSkuaGFzQ2hpbGROb2RlcygpIHx8IG8uZmlyc3RDaGlsZCA9PT0gby5sYXN0Q2hpbGQgJiYgIiIgPT09IG8uZmlyc3RDaGlsZC5ub2RlVmFsdWUgPyBlLnJlbW92ZShvKSA6IChyID0gbykgJiYgIkEiID09PSByLm5vZGVOYW1lICYmIGUuaXNFbXB0eShyKSAmJiBlLnJlbW92ZShvKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0oYywgZiksIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHQubm9ybWFsaXplKCk7CiAgICAgIHZhciBuID0gdC5sYXN0Q2hpbGQ7CiAgICAgIG4gJiYgIS9eKGxlZnR8cmlnaHQpJC9naS50ZXN0KGUuZ2V0U3R5bGUobiwgImZsb2F0IiwgITApKSB8fCBlLmFkZCh0LCAiYnIiKTsKICAgIH0oYywgYiksIGMuaXNFbXB0eShiKSAmJiBuQyhiKSwgdS5ub3JtYWxpemUoKSwgYy5pc0VtcHR5KHUpID8gKGMucmVtb3ZlKHUpLCByKCkpIDogKHVDKGEsIHUpLCBHMChhLCB1KSkpLCBjLnNldEF0dHJpYih1LCAiaWQiLCAiIiksIGEuZmlyZSgiTmV3QmxvY2siLCB7CiAgICAgIG5ld0Jsb2NrOiB1CiAgICB9KSkpOwogIH0KCiAgZnVuY3Rpb24gY0MoZSwgdCwgbikgewogICAgdmFyIHIgPSBlLmRvbS5jcmVhdGVSbmcoKTsKICAgIG4gPyAoci5zZXRTdGFydEJlZm9yZSh0KSwgci5zZXRFbmRCZWZvcmUodCkpIDogKHIuc2V0U3RhcnRBZnRlcih0KSwgci5zZXRFbmRBZnRlcih0KSksIGUuc2VsZWN0aW9uLnNldFJuZyhyKSwgWmYoZSwgcik7CiAgfQoKICBmdW5jdGlvbiBsQyhlLCB0KSB7CiAgICB2YXIgbiA9IE50LmZyb21UYWcoImJyIik7CiAgICBxdChOdC5mcm9tRG9tKHQpLCBuKSwgZS51bmRvTWFuYWdlci5hZGQoKTsKICB9CgogIGZ1bmN0aW9uIGZDKGUsIHQpIHsKICAgIFhDKGUuZ2V0Qm9keSgpLCB0KSB8fCAkdChOdC5mcm9tRG9tKHQpLCBOdC5mcm9tVGFnKCJiciIpKTsKICAgIHZhciBuID0gTnQuZnJvbVRhZygiYnIiKTsKICAgICR0KE50LmZyb21Eb20odCksIG4pLCBjQyhlLCBuLmRvbSwgITEpLCBlLnVuZG9NYW5hZ2VyLmFkZCgpOwogIH0KCiAgZnVuY3Rpb24gZEMoZSkgewogICAgcmV0dXJuIGUgJiYgIkEiID09PSBlLm5vZGVOYW1lICYmICJocmVmIiBpbiBlOwogIH0KCiAgZnVuY3Rpb24gbUMoZSkgewogICAgcmV0dXJuIGUuZm9sZChSLCBkQywgZEMsIFIpOwogIH0KCiAgZnVuY3Rpb24gZ0MoZSwgdCkgewogICAgdC5mb2xkKHRlLCBBKGxDLCBlKSwgQShmQywgZSksIHRlKTsKICB9CgogIGZ1bmN0aW9uIHBDKGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIsCiAgICAgICAgbywKICAgICAgICBpID0gKHIgPSBBKG5iLCBuID0gZSksIG8gPSBhcy5mcm9tUmFuZ2VTdGFydChuLnNlbGVjdGlvbi5nZXRSbmcoKSksIFFiKHIsIG4uZ2V0Qm9keSgpLCBvKS5maWx0ZXIobUMpKTsKICAgIGkuaXNTb21lKCkgPyBpLmVhY2goQShnQywgZSkpIDogZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgdmFyIG4sCiAgICAgICAgICByLAogICAgICAgICAgbyA9IGUuc2VsZWN0aW9uLAogICAgICAgICAgaSA9IGUuZG9tLAogICAgICAgICAgYSA9IG8uZ2V0Um5nKCk7CiAgICAgIFJmKGksIGEpLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBhLnNldFN0YXJ0KGUuc3RhcnRDb250YWluZXIsIGUuc3RhcnRPZmZzZXQpLCBhLnNldEVuZChlLmVuZENvbnRhaW5lciwgZS5lbmRPZmZzZXQpOwogICAgICB9KTsKICAgICAgdmFyIHUsCiAgICAgICAgICBzID0gYS5zdGFydE9mZnNldCwKICAgICAgICAgIGMgPSBhLnN0YXJ0Q29udGFpbmVyOwogICAgICAxID09PSBjLm5vZGVUeXBlICYmIGMuaGFzQ2hpbGROb2RlcygpICYmICh1ID0gcyA+IGMuY2hpbGROb2Rlcy5sZW5ndGggLSAxLCBjID0gYy5jaGlsZE5vZGVzW01hdGgubWluKHMsIGMuY2hpbGROb2Rlcy5sZW5ndGggLSAxKV0gfHwgYywgcyA9IHUgJiYgMyA9PT0gYy5ub2RlVHlwZSA/IGMubm9kZVZhbHVlLmxlbmd0aCA6IDApOwogICAgICB2YXIgbCA9IGkuZ2V0UGFyZW50KGMsIGkuaXNCbG9jayksCiAgICAgICAgICBmID0gbCA/IGkuZ2V0UGFyZW50KGwucGFyZW50Tm9kZSwgaS5pc0Jsb2NrKSA6IG51bGwsCiAgICAgICAgICBkID0gZiA/IGYubm9kZU5hbWUudG9VcHBlckNhc2UoKSA6ICIiLAogICAgICAgICAgbSA9ICEoIXQgfHwgIXQuY3RybEtleSk7CiAgICAgICJMSSIgIT09IGQgfHwgbSB8fCAobCA9IGYpLCBjICYmIDMgPT09IGMubm9kZVR5cGUgJiYgcyA+PSBjLm5vZGVWYWx1ZS5sZW5ndGggJiYgIWZ1bmN0aW9uIChlKSB7CiAgICAgICAgZm9yICh2YXIgdCwgbiA9IG5ldyBScihjLCBsKSwgciA9IGUuZ2V0Tm9uRW1wdHlFbGVtZW50cygpOyB0ID0gbi5uZXh0KCk7KSB7CiAgICAgICAgICBpZiAoclt0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldIHx8IDAgPCB0Lmxlbmd0aCkgcmV0dXJuIDE7CiAgICAgICAgfQogICAgICB9KGUuc2NoZW1hKSAmJiAobiA9IGkuY3JlYXRlKCJiciIpLCBhLmluc2VydE5vZGUobiksIGEuc2V0U3RhcnRBZnRlcihuKSwgYS5zZXRFbmRBZnRlcihuKSwgciA9ICEwKSwgbiA9IGkuY3JlYXRlKCJiciIpLCBzcyhpLCBhLCBuKSwgY0MoZSwgbiwgciksIGUudW5kb01hbmFnZXIuYWRkKCk7CiAgICB9KGUsIHQpOwogIH0KCiAgZnVuY3Rpb24gaEMoZSwgdCkgewogICAgcmV0dXJuIEowKGUpLmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gMCA8IHQubGVuZ3RoICYmIHplKE50LmZyb21Eb20oZSksIHQpOwogICAgfSkuaXNTb21lKCk7CiAgfQoKICBmdW5jdGlvbiB2QyhlLCB0KSB7CiAgICByZXR1cm4gaEMoZSwgZS5nZXRQYXJhbSgibm9fbmV3bGluZV9zZWxlY3RvciIsICIiKSk7CiAgfQoKICBmdW5jdGlvbiBiQyhuKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgcmV0dXJuICIiID09PSBTcyhlKSA9PT0gbjsKICAgIH07CiAgfQoKICBmdW5jdGlvbiB5QyhuKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgcmV0dXJuIEowKGUpLmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBnbyhOdC5mcm9tRG9tKGUpKTsKICAgICAgfSkuaXNTb21lKCkgPT09IG47CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gQ0MobiwgcikgewogICAgcmV0dXJuIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIHJldHVybiBKMChlKS5mb2xkKEooIiIpLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk7CiAgICAgIH0pID09PSBuLnRvVXBwZXJDYXNlKCkgPT09IHI7CiAgICB9OwogIH0KCiAgZnVuY3Rpb24geEMoZSkgewogICAgcmV0dXJuIENDKCJwcmUiLCBlKTsKICB9CgogIGZ1bmN0aW9uIHdDKG4pIHsKICAgIHJldHVybiBmdW5jdGlvbiAoZSwgdCkgewogICAgICByZXR1cm4gZS5nZXRQYXJhbSgiYnJfaW5fcHJlIiwgITApID09PSBuOwogICAgfTsKICB9CgogIGZ1bmN0aW9uIFNDKGUsIHQpIHsKICAgIHJldHVybiBoQyhlLCBlLmdldFBhcmFtKCJicl9uZXdsaW5lX3NlbGVjdG9yIiwgIi5tY2UtdG9jIGgyLGZpZ2NhcHRpb24sY2FwdGlvbiIpKTsKICB9CgogIGZ1bmN0aW9uIEVDKGUsIHQpIHsKICAgIHJldHVybiB0OwogIH0KCiAgZnVuY3Rpb24gTkMoZSkgewogICAgdmFyIHQgPSBTcyhlKSwKICAgICAgICBuID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgZm9yICh2YXIgbiwgciA9IGUuZ2V0Um9vdCgpLCBvID0gdDsgbyAhPT0gciAmJiAiZmFsc2UiICE9PSBlLmdldENvbnRlbnRFZGl0YWJsZShvKTspIHsKICAgICAgICAidHJ1ZSIgPT09IGUuZ2V0Q29udGVudEVkaXRhYmxlKG8pICYmIChuID0gbyksIG8gPSBvLnBhcmVudE5vZGU7CiAgICAgIH0KCiAgICAgIHJldHVybiBvICE9PSByID8gbiA6IHI7CiAgICB9KGUuZG9tLCBlLnNlbGVjdGlvbi5nZXRTdGFydCgpKTsKCiAgICByZXR1cm4gbiAmJiBlLnNjaGVtYS5pc1ZhbGlkQ2hpbGQobi5ub2RlTmFtZSwgdCB8fCAiUCIpOwogIH0KCiAgZnVuY3Rpb24ga0MoZSwgdCkgewogICAgcmV0dXJuIGZ1bmN0aW9uIChuLCByKSB7CiAgICAgIHJldHVybiBMKGUsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgcmV0dXJuIGUgJiYgdChuLCByKTsKICAgICAgfSwgITApID8gdmUuc29tZSh0KSA6IHZlLm5vbmUoKTsKICAgIH07CiAgfQoKICBmdW5jdGlvbiBfQyhlLCB0KSB7CiAgICB2YXIgbiwgcjsKICAgIG4gPSBlLCByID0gdCwgVmIoW2tDKFt2Q10sIFlDLm5vbmUoKSksIGtDKFtDQygic3VtbWFyeSIsICEwKV0sIFlDLmJyKCkpLCBrQyhbeEMoITApLCB3QyghMSksIEVDXSwgWUMuYnIoKSksIGtDKFt4QyghMCksIHdDKCExKV0sIFlDLmJsb2NrKCkpLCBrQyhbeEMoITApLCB3QyghMCksIEVDXSwgWUMuYmxvY2soKSksIGtDKFt4QyghMCksIHdDKCEwKV0sIFlDLmJyKCkpLCBrQyhbeUMoITApLCBFQ10sIFlDLmJyKCkpLCBrQyhbeUMoITApXSwgWUMuYmxvY2soKSksIGtDKFtiQyghMCksIEVDLCBOQ10sIFlDLmJsb2NrKCkpLCBrQyhbYkMoITApXSwgWUMuYnIoKSksIGtDKFtTQ10sIFlDLmJyKCkpLCBrQyhbYkMoITEpLCBFQ10sIFlDLmJyKCkpLCBrQyhbTkNdLCBZQy5ibG9jaygpKV0sIFtuLCAhKCFyIHx8ICFyLnNoaWZ0S2V5KV0pLmdldE9yKFlDLm5vbmUoKSkuZm9sZChmdW5jdGlvbiAoKSB7CiAgICAgIHBDKGUsIHQpOwogICAgfSwgZnVuY3Rpb24gKCkgewogICAgICBzQyhlLCB0KTsKICAgIH0sIHRlKTsKICB9CgogIGZ1bmN0aW9uIEFDKGUpIHsKICAgIHJldHVybiBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpOwogIH0KCiAgZnVuY3Rpb24gUkMoZSkgewogICAgcmV0dXJuIGUua2V5Q29kZSA9PT0gQmYuUEFHRV9VUCB8fCBlLmtleUNvZGUgPT09IEJmLlBBR0VfRE9XTjsKICB9CgogIGZ1bmN0aW9uIERDKGUsIHQsIG4pIHsKICAgIG4gJiYgIWUuZ2V0KCkgPyB0Lm9uKCJOb2RlQ2hhbmdlIiwgQUMsICEwKSA6ICFuICYmIGUuZ2V0KCkgJiYgdC5vZmYoIk5vZGVDaGFuZ2UiLCBBQyksIGUuc2V0KG4pOwogIH0KCiAgZnVuY3Rpb24gVEMobiwgcikgewogICAgdmFyIGUgPSByLmNvbnRhaW5lcigpLAogICAgICAgIHQgPSByLm9mZnNldCgpOwogICAgcmV0dXJuIGpuKGUpID8gKGUuaW5zZXJ0RGF0YSh0LCBuKSwgdmUuc29tZShhcyhlLCB0ICsgbi5sZW5ndGgpKSkgOiBuYyhyKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQgPSBOdC5mcm9tVGV4dChuKTsKICAgICAgcmV0dXJuIChyLmlzQXRFbmQoKSA/ICR0IDogcXQpKGUsIHQpLCBhcyh0LmRvbSwgbi5sZW5ndGgpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBPQyhpLCBhKSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHIgPSBpLCAoIVJtKG8gPSBlKSAmJiAobiA9IG8sIFpsKCh0ID0gcikuZG9tLCBuKS5pc05vbmUoKSB8fCBRbCh0LmRvbSwgbikuaXNOb25lKCkgfHwgbnAodCwgbikgfHwgcnAodCwgbikgfHwgRW0odCwgbikgfHwgU20odCwgbikgfHwgX20ociwgbykgfHwgQW0ociwgbykpID8gUUMgOiBaQykoYSk7CiAgICAgIHZhciB0LCBuLCByLCBvOwogICAgfTsKICB9CgogIGZ1bmN0aW9uIEJDKGUpIHsKICAgIHZhciB0LAogICAgICAgIG4sCiAgICAgICAgciA9IGFzLmZyb21SYW5nZVN0YXJ0KGUuc2VsZWN0aW9uLmdldFJuZygpKSwKICAgICAgICBvID0gTnQuZnJvbURvbShlLmdldEJvZHkoKSk7CgogICAgaWYgKGUuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkpIHsKICAgICAgdmFyIGkgPSBBKG5iLCBlKSwKICAgICAgICAgIGEgPSBhcy5mcm9tUmFuZ2VTdGFydChlLnNlbGVjdGlvbi5nZXRSbmcoKSk7CiAgICAgIHJldHVybiBRYihpLCBlLmdldEJvZHkoKSwgYSkuYmluZCgobiA9IG8sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUuZm9sZChmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIFpsKG4uZG9tLCBhcy5iZWZvcmUoZSkpOwogICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gZWYoZSk7CiAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiB0ZihlKTsKICAgICAgICB9LCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIFFsKG4uZG9tLCBhcy5hZnRlcihlKSk7CiAgICAgICAgfSk7CiAgICAgIH0pKS5iaW5kKE9DKG8sIHIpKS5leGlzdHMoKHQgPSBlLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiB0LnNlbGVjdGlvbi5zZXRSbmcoZS50b1JhbmdlKCkpLCB0Lm5vZGVDaGFuZ2VkKCksICEwOwogICAgICB9KSk7CiAgICB9CgogICAgcmV0dXJuICExOwogIH0KCiAgZnVuY3Rpb24gUEMoZSkgewogICAgdmFyIG8sCiAgICAgICAgaSwKICAgICAgICBhLAogICAgICAgIHUsCiAgICAgICAgcywKICAgICAgICB0LAogICAgICAgIG4sCiAgICAgICAgciwKICAgICAgICBjLAogICAgICAgIGwsCiAgICAgICAgZiwKICAgICAgICBkLAogICAgICAgIG0sCiAgICAgICAgZywKICAgICAgICBwID0gYTAoZSk7CiAgICByZXR1cm4gZS5vbigia2V5dXAgY29tcG9zaXRpb25zdGFydCIsIEEoXzAsIGUpKSwgZyA9IHAsIChtID0gZSkub24oImtleWRvd24iLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCwgbiwgciwgbzsKICAgICAgITEgPT09IGUuaXNEZWZhdWx0UHJldmVudGVkKCkgJiYgKHQgPSBtLCBuID0gZywgciA9IGUsIG8gPSBkdCgpLm9zLCBGMChbewogICAgICAgIGtleUNvZGU6IEJmLlJJR0hULAogICAgICAgIGFjdGlvbjogTTAoUjAsIHQsICEwKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogQmYuTEVGVCwKICAgICAgICBhY3Rpb246IE0wKFIwLCB0LCAhMSkKICAgICAgfSwgewogICAgICAgIGtleUNvZGU6IEJmLlVQLAogICAgICAgIGFjdGlvbjogTTAoRDAsIHQsICExKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogQmYuRE9XTiwKICAgICAgICBhY3Rpb246IE0wKEQwLCB0LCAhMCkKICAgICAgfSwgewogICAgICAgIGtleUNvZGU6IEJmLlJJR0hULAogICAgICAgIGFjdGlvbjogTTAoWDAsIHQsICEwKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogQmYuTEVGVCwKICAgICAgICBhY3Rpb246IE0wKFgwLCB0LCAhMSkKICAgICAgfSwgewogICAgICAgIGtleUNvZGU6IEJmLlVQLAogICAgICAgIGFjdGlvbjogTTAoWTAsIHQsICExKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogQmYuRE9XTiwKICAgICAgICBhY3Rpb246IE0wKFkwLCB0LCAhMCkKICAgICAgfSwgewogICAgICAgIGtleUNvZGU6IEJmLlJJR0hULAogICAgICAgIGFjdGlvbjogTTAoVTAsIHQsICEwKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogQmYuTEVGVCwKICAgICAgICBhY3Rpb246IE0wKFUwLCB0LCAhMSkKICAgICAgfSwgewogICAgICAgIGtleUNvZGU6IEJmLlVQLAogICAgICAgIGFjdGlvbjogTTAoejAsIHQsICExKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogQmYuRE9XTiwKICAgICAgICBhY3Rpb246IE0wKHowLCB0LCAhMCkKICAgICAgfSwgewogICAgICAgIGtleUNvZGU6IEJmLlJJR0hULAogICAgICAgIGFjdGlvbjogTTAobzAsIHQsIG4sICEwKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogQmYuTEVGVCwKICAgICAgICBhY3Rpb246IE0wKG8wLCB0LCBuLCAhMSkKICAgICAgfSwgewogICAgICAgIGtleUNvZGU6IEJmLlJJR0hULAogICAgICAgIGN0cmxLZXk6ICFvLmlzT1NYKCksCiAgICAgICAgYWx0S2V5OiBvLmlzT1NYKCksCiAgICAgICAgYWN0aW9uOiBNMCh6QywgdCwgbikKICAgICAgfSwgewogICAgICAgIGtleUNvZGU6IEJmLkxFRlQsCiAgICAgICAgY3RybEtleTogIW8uaXNPU1goKSwKICAgICAgICBhbHRLZXk6IG8uaXNPU1goKSwKICAgICAgICBhY3Rpb246IE0wKEhDLCB0LCBuKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogQmYuVVAsCiAgICAgICAgYWN0aW9uOiBNMChJMCwgdCwgITEpCiAgICAgIH0sIHsKICAgICAgICBrZXlDb2RlOiBCZi5ET1dOLAogICAgICAgIGFjdGlvbjogTTAoSTAsIHQsICEwKQogICAgICB9XSwgcikuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgIHIucHJldmVudERlZmF1bHQoKTsKICAgICAgfSkpOwogICAgfSksIGQgPSBwLCAoZiA9IGUpLm9uKCJrZXlkb3duIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQsIG4sIHI7CiAgICAgICExID09PSBlLmlzRGVmYXVsdFByZXZlbnRlZCgpICYmIChuID0gZCwgciA9IGUsIEYwKFt7CiAgICAgICAga2V5Q29kZTogQmYuQkFDS1NQQUNFLAogICAgICAgIGFjdGlvbjogTTAoeDAsIHQgPSBmLCAhMSkKICAgICAgfSwgewogICAgICAgIGtleUNvZGU6IEJmLkJBQ0tTUEFDRSwKICAgICAgICBhY3Rpb246IE0wKFBiLCB0LCAhMSkKICAgICAgfSwgewogICAgICAgIGtleUNvZGU6IEJmLkRFTEVURSwKICAgICAgICBhY3Rpb246IE0wKFBiLCB0LCAhMCkKICAgICAgfSwgewogICAgICAgIGtleUNvZGU6IEJmLkJBQ0tTUEFDRSwKICAgICAgICBhY3Rpb246IE0wKEFiLCB0LCAhMSkKICAgICAgfSwgewogICAgICAgIGtleUNvZGU6IEJmLkRFTEVURSwKICAgICAgICBhY3Rpb246IE0wKEFiLCB0LCAhMCkKICAgICAgfSwgewogICAgICAgIGtleUNvZGU6IEJmLkJBQ0tTUEFDRSwKICAgICAgICBhY3Rpb246IE0wKGwwLCB0LCBuLCAhMSkKICAgICAgfSwgewogICAgICAgIGtleUNvZGU6IEJmLkRFTEVURSwKICAgICAgICBhY3Rpb246IE0wKGwwLCB0LCBuLCAhMCkKICAgICAgfSwgewogICAgICAgIGtleUNvZGU6IEJmLkJBQ0tTUEFDRSwKICAgICAgICBhY3Rpb246IE0wKGhnLCB0LCAhMSkKICAgICAgfSwgewogICAgICAgIGtleUNvZGU6IEJmLkRFTEVURSwKICAgICAgICBhY3Rpb246IE0wKGhnLCB0LCAhMCkKICAgICAgfSwgewogICAgICAgIGtleUNvZGU6IEJmLkJBQ0tTUEFDRSwKICAgICAgICBhY3Rpb246IE0wKExiLCB0LCAhMSkKICAgICAgfSwgewogICAgICAgIGtleUNvZGU6IEJmLkRFTEVURSwKICAgICAgICBhY3Rpb246IE0wKExiLCB0LCAhMCkKICAgICAgfSwgewogICAgICAgIGtleUNvZGU6IEJmLkJBQ0tTUEFDRSwKICAgICAgICBhY3Rpb246IE0wKHAwLCB0LCAhMSkKICAgICAgfSwgewogICAgICAgIGtleUNvZGU6IEJmLkRFTEVURSwKICAgICAgICBhY3Rpb246IE0wKHAwLCB0LCAhMCkKICAgICAgfSwgewogICAgICAgIGtleUNvZGU6IEJmLkJBQ0tTUEFDRSwKICAgICAgICBhY3Rpb246IE0wKENiLCB0LCAhMSkKICAgICAgfSwgewogICAgICAgIGtleUNvZGU6IEJmLkRFTEVURSwKICAgICAgICBhY3Rpb246IE0wKENiLCB0LCAhMCkKICAgICAgfSwgewogICAgICAgIGtleUNvZGU6IEJmLkJBQ0tTUEFDRSwKICAgICAgICBhY3Rpb246IE0wKHZiLCB0LCAhMSkKICAgICAgfSwgewogICAgICAgIGtleUNvZGU6IEJmLkRFTEVURSwKICAgICAgICBhY3Rpb246IE0wKHZiLCB0LCAhMCkKICAgICAgfSwgewogICAgICAgIGtleUNvZGU6IEJmLkJBQ0tTUEFDRSwKICAgICAgICBhY3Rpb246IE0wKG0wLCB0LCAhMSkKICAgICAgfSwgewogICAgICAgIGtleUNvZGU6IEJmLkRFTEVURSwKICAgICAgICBhY3Rpb246IE0wKG0wLCB0LCAhMCkKICAgICAgfV0sIHIpLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICByLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIH0pKTsKICAgIH0pLCBmLm9uKCJrZXl1cCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0LCBuOwogICAgICAhMSA9PT0gZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSAmJiAobiA9IGUsIEYwKFt7CiAgICAgICAga2V5Q29kZTogQmYuQkFDS1NQQUNFLAogICAgICAgIGFjdGlvbjogTTAoQmIsIHQgPSBmKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogQmYuREVMRVRFLAogICAgICAgIGFjdGlvbjogTTAoQmIsIHQpCiAgICAgIH1dLCBuKSk7CiAgICB9KSwgKGwgPSBlKS5vbigia2V5ZG93biIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0LCBuLCByOwogICAgICBlLmtleUNvZGUgPT09IEJmLkVOVEVSICYmICh0ID0gbCwgKG4gPSBlKS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCAobi5wcmV2ZW50RGVmYXVsdCgpLCAociA9IHQudW5kb01hbmFnZXIpLnR5cGluZyAmJiAoci50eXBpbmcgPSAhMSwgci5hZGQoKSksIHQudW5kb01hbmFnZXIudHJhbnNhY3QoZnVuY3Rpb24gKCkgewogICAgICAgICExID09PSB0LnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpICYmIHQuZXhlY0NvbW1hbmQoIkRlbGV0ZSIpLCBfQyh0LCBuKTsKICAgICAgfSkpKTsKICAgIH0pLCAoYyA9IGUpLm9uKCJrZXlkb3duIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQ7CiAgICAgICExID09PSBlLmlzRGVmYXVsdFByZXZlbnRlZCgpICYmICh0ID0gZSwgRjAoW3sKICAgICAgICBrZXlDb2RlOiBCZi5TUEFDRUJBUiwKICAgICAgICBhY3Rpb246IE0wKEJDLCBjKQogICAgICB9XSwgdCkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgIHQucHJldmVudERlZmF1bHQoKTsKICAgICAgfSkpOwogICAgfSksIG4gPSB0ID0gZSwgciA9IGx1KGZ1bmN0aW9uICgpIHsKICAgICAgbi5jb21wb3NpbmcgfHwgSW0obik7CiAgICB9LCAwKSwgR0MuaXNJRSgpICYmIChuLm9uKCJrZXlwcmVzcyIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHIudGhyb3R0bGUoKTsKICAgIH0pLCBuLm9uKCJyZW1vdmUiLCBmdW5jdGlvbiAoZSkgewogICAgICByLmNhbmNlbCgpOwogICAgfSkpLCB0Lm9uKCJpbnB1dCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICExID09PSBlLmlzQ29tcG9zaW5nICYmIEltKHQpOwogICAgfSksIHMgPSBwLCAodSA9IGUpLm9uKCJrZXlkb3duIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQsIG4sIHI7CiAgICAgICExID09PSBlLmlzRGVmYXVsdFByZXZlbnRlZCgpICYmIChuID0gcywgciA9IGUsIEYwKFt7CiAgICAgICAga2V5Q29kZTogQmYuRU5ELAogICAgICAgIGFjdGlvbjogTTAoVDAsIHQgPSB1LCAhMCkKICAgICAgfSwgewogICAgICAgIGtleUNvZGU6IEJmLkhPTUUsCiAgICAgICAgYWN0aW9uOiBNMChUMCwgdCwgITEpCiAgICAgIH0sIHsKICAgICAgICBrZXlDb2RlOiBCZi5FTkQsCiAgICAgICAgYWN0aW9uOiBNMChIMCwgdCwgITApCiAgICAgIH0sIHsKICAgICAgICBrZXlDb2RlOiBCZi5IT01FLAogICAgICAgIGFjdGlvbjogTTAoSDAsIHQsICExKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogQmYuRU5ELAogICAgICAgIGFjdGlvbjogTTAodTAsIHQsICEwLCBuKQogICAgICB9LCB7CiAgICAgICAga2V5Q29kZTogQmYuSE9NRSwKICAgICAgICBhY3Rpb246IE0wKHUwLCB0LCAhMSwgbikKICAgICAgfV0sIHIpLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICByLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIH0pKTsKICAgIH0pLCBvID0gZSwgaSA9IHAsIEpDLm9zLmlzT1NYKCkgfHwgKGEgPSBydSghMSksIG8ub24oImtleWRvd24iLCBmdW5jdGlvbiAoZSkgewogICAgICBSQyhlKSAmJiBEQyhhLCBvLCAhMCk7CiAgICB9KSwgby5vbigia2V5dXAiLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCwgbiwgcjsKICAgICAgITEgPT09IGUuaXNEZWZhdWx0UHJldmVudGVkKCkgJiYgKHIgPSBlLCBGMChbewogICAgICAgIGtleUNvZGU6IEJmLlBBR0VfVVAsCiAgICAgICAgYWN0aW9uOiBNMCh1MCwgdCA9IG8sICExLCBuID0gaSkKICAgICAgfSwgewogICAgICAgIGtleUNvZGU6IEJmLlBBR0VfRE9XTiwKICAgICAgICBhY3Rpb246IE0wKHUwLCB0LCAhMCwgbikKICAgICAgfV0sIHIpKSwgUkMoZSkgJiYgYS5nZXQoKSAmJiAoREMoYSwgbywgITEpLCBvLm5vZGVDaGFuZ2VkKCkpOwogICAgfSkpLCBwOwogIH0KCiAgKEx5ID0gUHkgPSBQeSB8fCB7fSlbTHkuVXAgPSAtMV0gPSAiVXAiLCBMeVtMeS5Eb3duID0gMV0gPSAiRG93biI7CgogIHZhciBMQyA9IEEoenksIFB5LlVwLCBSdSwgRHUpLAogICAgICBJQyA9IEEoenksIFB5LkRvd24sIER1LCBSdSksCiAgICAgIE1DID0gWW4sCiAgICAgIEZDID0gS3MsCiAgICAgIFVDID0gZnVuY3Rpb24gVUMoZSwgdCkgewogICAgdmFyIG4gPSBlLnNlbGVjdGlvbi5nZXRSbmcoKSwKICAgICAgICByID0gZS5nZXRCb2R5KCk7CgogICAgaWYgKHQpIHsKICAgICAgdmFyIG8gPSBhcy5mcm9tUmFuZ2VFbmQobiksCiAgICAgICAgICBpID0gTXkociwgbyk7CiAgICAgIHJldHVybiBaKGkucG9zaXRpb25zKTsKICAgIH0KCiAgICByZXR1cm4gbyA9IGFzLmZyb21SYW5nZVN0YXJ0KG4pLCBRKChpID0gSXkociwgbykpLnBvc2l0aW9ucyk7CiAgfSwKICAgICAgekMgPSBBKGkwLCAhMCksCiAgICAgIEhDID0gQShpMCwgITEpLAogICAgICBqQyA9IGZ1bmN0aW9uIGpDKGUpIHsKICAgIHJldHVybiBVKFQoZS5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRCbG9ja3MoKSwgTnQuZnJvbURvbSksIGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiAheTAoZSkgJiYgIU90KGUpLmV4aXN0cyh5MCkgJiYgcHIoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gWG4oZS5kb20pIHx8IFluKGUuZG9tKTsKICAgICAgfSkuZXhpc3RzKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIFhuKGUuZG9tKTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogICAgICBWQyA9IFluLAogICAgICBxQyA9IEEoajAsIGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gZS5ib3R0b207CiAgfSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgIHJldHVybiBlLnkgPCB0OwogIH0pLAogICAgICAkQyA9IEEoajAsIGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gZS50b3A7CiAgfSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgIHJldHVybiBlLnkgPiB0OwogIH0pLAogICAgICBXQyA9IEEoVjAsIEl5KSwKICAgICAgS0MgPSBBKFYwLCBNeSksCiAgICAgIFhDID0gZnVuY3Rpb24gWEMoZSwgdCkgewogICAgcmV0dXJuIG4gPSBhcy5hZnRlcih0KSwgISFXbihuLmdldE5vZGUoKSkgfHwgUWwoZSwgYXMuYWZ0ZXIodCkpLm1hcChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gV24oZS5nZXROb2RlKCkpOwogICAgfSkuZ2V0T3IoITEpOwogICAgdmFyIG47CiAgfSwKICAgICAgWUMgPSBvcihbewogICAgYnI6IFtdCiAgfSwgewogICAgYmxvY2s6IFtdCiAgfSwgewogICAgbm9uZTogW10KICB9XSksCiAgICAgIEdDID0gZHQoKS5icm93c2VyLAogICAgICBKQyA9IGR0KCksCiAgICAgIFFDID0gQShUQywgeW8pLAogICAgICBaQyA9IEEoVEMsICIgIiksCiAgICAgIGUxID0gKHQxLnByb3RvdHlwZS5ub2RlQ2hhbmdlZCA9IGZ1bmN0aW9uIChlKSB7CiAgICB2YXIgdCwKICAgICAgICBuLAogICAgICAgIHIsCiAgICAgICAgbyA9IHRoaXMuZWRpdG9yLnNlbGVjdGlvbjsKICAgIHRoaXMuZWRpdG9yLmluaXRpYWxpemVkICYmIG8gJiYgIXRoaXMuZWRpdG9yLmdldFBhcmFtKCJkaXNhYmxlX25vZGVjaGFuZ2UiKSAmJiAhdGhpcy5lZGl0b3IubW9kZS5pc1JlYWRPbmx5KCkgJiYgKHIgPSB0aGlzLmVkaXRvci5nZXRCb2R5KCksICh0ID0gby5nZXRTdGFydCghMCkgfHwgcikub3duZXJEb2N1bWVudCA9PT0gdGhpcy5lZGl0b3IuZ2V0RG9jKCkgJiYgdGhpcy5lZGl0b3IuZG9tLmlzQ2hpbGRPZih0LCByKSB8fCAodCA9IHIpLCBuID0gW10sIHRoaXMuZWRpdG9yLmRvbS5nZXRQYXJlbnQodCwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGUgPT09IHIgfHwgdm9pZCBuLnB1c2goZSk7CiAgICB9KSwgKGUgPSBlIHx8IHt9KS5lbGVtZW50ID0gdCwgZS5wYXJlbnRzID0gbiwgdGhpcy5lZGl0b3IuZmlyZSgiTm9kZUNoYW5nZSIsIGUpKTsKICB9LCB0MS5wcm90b3R5cGUuaXNTYW1lRWxlbWVudFBhdGggPSBmdW5jdGlvbiAoZSkgewogICAgdmFyIHQsCiAgICAgICAgbiA9IHRoaXMuZWRpdG9yLiQoZSkucGFyZW50c1VudGlsKHRoaXMuZWRpdG9yLmdldEJvZHkoKSkuYWRkKGUpOwoKICAgIGlmIChuLmxlbmd0aCA9PT0gdGhpcy5sYXN0UGF0aC5sZW5ndGgpIHsKICAgICAgZm9yICh0ID0gbi5sZW5ndGg7IDAgPD0gdCAmJiBuW3RdID09PSB0aGlzLmxhc3RQYXRoW3RdOyB0LS0pIHsKICAgICAgICA7CiAgICAgIH0KCiAgICAgIGlmICgtMSA9PT0gdCkgcmV0dXJuIHRoaXMubGFzdFBhdGggPSBuLCAhMDsKICAgIH0KCiAgICByZXR1cm4gdGhpcy5sYXN0UGF0aCA9IG4sICExOwogIH0sIHQxKTsKCiAgZnVuY3Rpb24gdDEocikgewogICAgdmFyIG87CiAgICB0aGlzLmxhc3RQYXRoID0gW10sIHRoaXMuZWRpdG9yID0gcjsKICAgIHZhciB0ID0gdGhpczsKICAgICJvbnNlbGVjdGlvbmNoYW5nZSIgaW4gci5nZXREb2MoKSB8fCByLm9uKCJOb2RlQ2hhbmdlIGNsaWNrIG1vdXNldXAga2V5dXAgZm9jdXMiLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9IHIuc2VsZWN0aW9uLmdldFJuZygpLAogICAgICAgICAgbiA9IHsKICAgICAgICBzdGFydENvbnRhaW5lcjogdC5zdGFydENvbnRhaW5lciwKICAgICAgICBzdGFydE9mZnNldDogdC5zdGFydE9mZnNldCwKICAgICAgICBlbmRDb250YWluZXI6IHQuZW5kQ29udGFpbmVyLAogICAgICAgIGVuZE9mZnNldDogdC5lbmRPZmZzZXQKICAgICAgfTsKICAgICAgIm5vZGVjaGFuZ2UiICE9PSBlLnR5cGUgJiYgU2YobiwgbykgfHwgci5maXJlKCJTZWxlY3Rpb25DaGFuZ2UiKSwgbyA9IG47CiAgICB9KSwgci5vbigiY29udGV4dG1lbnUiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHIuZmlyZSgiU2VsZWN0aW9uQ2hhbmdlIik7CiAgICB9KSwgci5vbigiU2VsZWN0aW9uQ2hhbmdlIiwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgZSA9IHIuc2VsZWN0aW9uLmdldFN0YXJ0KCEwKTsKICAgICAgIWUgfHwgIXh0LnJhbmdlICYmIHIuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkgfHwgVGwocikgJiYgIXQuaXNTYW1lRWxlbWVudFBhdGgoZSkgJiYgci5kb20uaXNDaGlsZE9mKGUsIHIuZ2V0Qm9keSgpKSAmJiByLm5vZGVDaGFuZ2VkKHsKICAgICAgICBzZWxlY3Rpb25DaGFuZ2U6ICEwCiAgICAgIH0pOwogICAgfSksIHIub24oIm1vdXNldXAiLCBmdW5jdGlvbiAoZSkgewogICAgICAhZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSAmJiBUbChyKSAmJiAoIklNRyIgPT09IHIuc2VsZWN0aW9uLmdldE5vZGUoKS5ub2RlTmFtZSA/IF9yLnNldEVkaXRvclRpbWVvdXQociwgZnVuY3Rpb24gKCkgewogICAgICAgIHIubm9kZUNoYW5nZWQoKTsKICAgICAgfSkgOiByLm5vZGVDaGFuZ2VkKCkpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBuMShlKSB7CiAgICByZXR1cm4gem4oZSkgJiYgZm8oTnQuZnJvbURvbShlKSk7CiAgfQoKICBmdW5jdGlvbiByMShlKSB7CiAgICB2YXIgdCA9IGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksCiAgICAgICAgbiA9IGUub3duZXJEb2N1bWVudCwKICAgICAgICByID0gbi5kb2N1bWVudEVsZW1lbnQsCiAgICAgICAgbyA9IG4uZGVmYXVsdFZpZXc7CiAgICByZXR1cm4gewogICAgICB0b3A6IHQudG9wICsgby5wYWdlWU9mZnNldCAtIHIuY2xpZW50VG9wLAogICAgICBsZWZ0OiB0LmxlZnQgKyBvLnBhZ2VYT2Zmc2V0IC0gci5jbGllbnRMZWZ0CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gbzEoZSkgewogICAgZSAmJiBlLnBhcmVudE5vZGUgJiYgZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGUpOwogIH0KCiAgZnVuY3Rpb24gaTEoZSwgUykgewogICAgdmFyIEUgPSBfci50aHJvdHRsZShmdW5jdGlvbiAoZSwgdCkgewogICAgICBTLl9zZWxlY3Rpb25PdmVycmlkZXMuaGlkZUZha2VDYXJldCgpLCBTLnNlbGVjdGlvbi5wbGFjZUNhcmV0QXQoZSwgdCk7CiAgICB9LCAwKTsKCiAgICByZXR1cm4gUy5vbigicmVtb3ZlIiwgRS5zdG9wKSwgZnVuY3Rpb24gKHcpIHsKICAgICAgcmV0dXJuIGUub24oZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgdCwKICAgICAgICAgICAgbiwKICAgICAgICAgICAgciwKICAgICAgICAgICAgbywKICAgICAgICAgICAgaSwKICAgICAgICAgICAgYSwKICAgICAgICAgICAgdSwKICAgICAgICAgICAgcywKICAgICAgICAgICAgYywKICAgICAgICAgICAgbCwKICAgICAgICAgICAgZiwKICAgICAgICAgICAgZCwKICAgICAgICAgICAgbSwKICAgICAgICAgICAgZywKICAgICAgICAgICAgcCwKICAgICAgICAgICAgaCwKICAgICAgICAgICAgdiwKICAgICAgICAgICAgYiwKICAgICAgICAgICAgeSwKICAgICAgICAgICAgQywKICAgICAgICAgICAgeCA9IE1hdGgubWF4KE1hdGguYWJzKHcuc2NyZWVuWCAtIGUuc2NyZWVuWCksIE1hdGguYWJzKHcuc2NyZWVuWSAtIGUuc2NyZWVuWSkpOwoKICAgICAgICBpZiAoIWUuZHJhZ2dpbmcgJiYgMTAgPCB4KSB7CiAgICAgICAgICBpZiAoUy5maXJlKCJkcmFnc3RhcnQiLCB7CiAgICAgICAgICAgIHRhcmdldDogZS5lbGVtZW50CiAgICAgICAgICB9KS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuOwogICAgICAgICAgZS5kcmFnZ2luZyA9ICEwLCBTLmZvY3VzKCk7CiAgICAgICAgfQoKICAgICAgICBlLmRyYWdnaW5nICYmIChkID0gZSwgdCA9IHsKICAgICAgICAgIHBhZ2VYOiAocCA9IHcsIGggPSAoZyA9IFMpLmlubGluZSA/IHIxKGcuZ2V0Qm9keSgpKSA6IHsKICAgICAgICAgICAgbGVmdDogMCwKICAgICAgICAgICAgdG9wOiAwCiAgICAgICAgICB9LCBDID0gKHkgPSBnKS5nZXRCb2R5KCksIHYgPSB5LmlubGluZSA/IHsKICAgICAgICAgICAgbGVmdDogQy5zY3JvbGxMZWZ0LAogICAgICAgICAgICB0b3A6IEMuc2Nyb2xsVG9wCiAgICAgICAgICB9IDogewogICAgICAgICAgICBsZWZ0OiAwLAogICAgICAgICAgICB0b3A6IDAKICAgICAgICAgIH0sIChtID0gewogICAgICAgICAgICBwYWdlWDogKGIgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgICAgICAgIGlmICh0LnRhcmdldC5vd25lckRvY3VtZW50ID09PSBlLmdldERvYygpKSByZXR1cm4gewogICAgICAgICAgICAgICAgbGVmdDogdC5wYWdlWCwKICAgICAgICAgICAgICAgIHRvcDogdC5wYWdlWQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgdmFyIG4sCiAgICAgICAgICAgICAgICAgIHIsCiAgICAgICAgICAgICAgICAgIG8sCiAgICAgICAgICAgICAgICAgIGksCiAgICAgICAgICAgICAgICAgIGEsCiAgICAgICAgICAgICAgICAgIHUgPSByMShlLmdldENvbnRlbnRBcmVhQ29udGFpbmVyKCkpLAogICAgICAgICAgICAgICAgICBzID0gKHIgPSAobiA9IGUpLmdldEJvZHkoKSwgbyA9IG4uZ2V0RG9jKCkuZG9jdW1lbnRFbGVtZW50LCBpID0gewogICAgICAgICAgICAgICAgbGVmdDogci5zY3JvbGxMZWZ0LAogICAgICAgICAgICAgICAgdG9wOiByLnNjcm9sbFRvcAogICAgICAgICAgICAgIH0sIGEgPSB7CiAgICAgICAgICAgICAgICBsZWZ0OiByLnNjcm9sbExlZnQgfHwgby5zY3JvbGxMZWZ0LAogICAgICAgICAgICAgICAgdG9wOiByLnNjcm9sbFRvcCB8fCBvLnNjcm9sbFRvcAogICAgICAgICAgICAgIH0sIG4uaW5saW5lID8gaSA6IGEpOwogICAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBsZWZ0OiB0LnBhZ2VYIC0gdS5sZWZ0ICsgcy5sZWZ0LAogICAgICAgICAgICAgICAgdG9wOiB0LnBhZ2VZIC0gdS50b3AgKyBzLnRvcAogICAgICAgICAgICAgIH07CiAgICAgICAgICAgIH0oZywgcCkpLmxlZnQgLSBoLmxlZnQgKyB2LmxlZnQsCiAgICAgICAgICAgIHBhZ2VZOiBiLnRvcCAtIGgudG9wICsgdi50b3AKICAgICAgICAgIH0pLnBhZ2VYIC0gZC5yZWxYKSwKICAgICAgICAgIHBhZ2VZOiBtLnBhZ2VZICsgNQogICAgICAgIH0sIGwgPSBlLmdob3N0LCBmID0gUy5nZXRCb2R5KCksIGwucGFyZW50Tm9kZSAhPT0gZiAmJiBmLmFwcGVuZENoaWxkKGwpLCBuID0gZS5naG9zdCwgbyA9IGUud2lkdGgsIGkgPSBlLmhlaWdodCwgYSA9IGUubWF4WCwgdSA9IGUubWF4WSwgYyA9IHMgPSAwLCBuLnN0eWxlLmxlZnQgPSAociA9IHQpLnBhZ2VYICsgInB4Iiwgbi5zdHlsZS50b3AgPSByLnBhZ2VZICsgInB4IiwgdSA8IHIucGFnZVkgKyBpICYmIChjID0gci5wYWdlWSArIGkgLSB1KSwgbi5zdHlsZS53aWR0aCA9IG8gLSAocyA9IGEgPCByLnBhZ2VYICsgbyA/IHIucGFnZVggKyBvIC0gYSA6IHMpICsgInB4Iiwgbi5zdHlsZS5oZWlnaHQgPSBpIC0gYyArICJweCIsIEUody5jbGllbnRYLCB3LmNsaWVudFkpKTsKICAgICAgfSk7CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gYTEoZSkgewogICAgZnVuY3Rpb24gdChlKSB7CiAgICAgIHZhciB0LCBuLCByLCBvLCBpLCBhOwogICAgICAwID09PSBlLmJ1dHRvbiAmJiAodCA9IE0oYy5kb20uZ2V0UGFyZW50cyhlLnRhcmdldCksIGZ1bmN0aW9uICgpIHsKICAgICAgICBmb3IgKHZhciBuID0gW10sIGUgPSAwOyBlIDwgYXJndW1lbnRzLmxlbmd0aDsgZSsrKSB7CiAgICAgICAgICBuW2VdID0gYXJndW1lbnRzW2VdOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBmb3IgKHZhciB0ID0gMDsgdCA8IG4ubGVuZ3RoOyB0KyspIHsKICAgICAgICAgICAgaWYgKG5bdF0oZSkpIHJldHVybiAhMDsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gITE7CiAgICAgICAgfTsKICAgICAgfShEMSwgVDEpKS5nZXRPcihudWxsKSwgaSA9IGMuZ2V0Qm9keSgpLCBEMShhID0gdCkgJiYgYSAhPT0gaSAmJiAobiA9IGMuZG9tLmdldFBvcyh0KSwgciA9IGMuZ2V0Qm9keSgpLCBvID0gYy5nZXREb2MoKS5kb2N1bWVudEVsZW1lbnQsIHUuc2V0KHsKICAgICAgICBlbGVtZW50OiB0LAogICAgICAgIGRyYWdnaW5nOiAhMSwKICAgICAgICBzY3JlZW5YOiBlLnNjcmVlblgsCiAgICAgICAgc2NyZWVuWTogZS5zY3JlZW5ZLAogICAgICAgIG1heFg6IChjLmlubGluZSA/IHIuc2Nyb2xsV2lkdGggOiBvLm9mZnNldFdpZHRoKSAtIDIsCiAgICAgICAgbWF4WTogKGMuaW5saW5lID8gci5zY3JvbGxIZWlnaHQgOiBvLm9mZnNldEhlaWdodCkgLSAyLAogICAgICAgIHJlbFg6IGUucGFnZVggLSBuLngsCiAgICAgICAgcmVsWTogZS5wYWdlWSAtIG4ueSwKICAgICAgICB3aWR0aDogdC5vZmZzZXRXaWR0aCwKICAgICAgICBoZWlnaHQ6IHQub2Zmc2V0SGVpZ2h0LAogICAgICAgIGdob3N0OiBmdW5jdGlvbiAoZSwgdCwgbikgewogICAgICAgICAgdmFyIHIgPSBjLmRvbSwKICAgICAgICAgICAgICBvID0gZS5jbG9uZU5vZGUoITApOwogICAgICAgICAgci5zZXRTdHlsZXMobywgewogICAgICAgICAgICB3aWR0aDogdCwKICAgICAgICAgICAgaGVpZ2h0OiBuCiAgICAgICAgICB9KSwgci5zZXRBdHRyaWIobywgImRhdGEtbWNlLXNlbGVjdGVkIiwgbnVsbCk7CiAgICAgICAgICB2YXIgaSA9IHIuY3JlYXRlKCJkaXYiLCB7CiAgICAgICAgICAgIGNsYXNzOiAibWNlLWRyYWctY29udGFpbmVyIiwKICAgICAgICAgICAgImRhdGEtbWNlLWJvZ3VzIjogImFsbCIsCiAgICAgICAgICAgIHVuc2VsZWN0YWJsZTogIm9uIiwKICAgICAgICAgICAgY29udGVudGVkaXRhYmxlOiAiZmFsc2UiCiAgICAgICAgICB9KTsKICAgICAgICAgIHJldHVybiByLnNldFN0eWxlcyhpLCB7CiAgICAgICAgICAgIHBvc2l0aW9uOiAiYWJzb2x1dGUiLAogICAgICAgICAgICBvcGFjaXR5OiAuNSwKICAgICAgICAgICAgb3ZlcmZsb3c6ICJoaWRkZW4iLAogICAgICAgICAgICBib3JkZXI6IDAsCiAgICAgICAgICAgIHBhZGRpbmc6IDAsCiAgICAgICAgICAgIG1hcmdpbjogMCwKICAgICAgICAgICAgd2lkdGg6IHQsCiAgICAgICAgICAgIGhlaWdodDogbgogICAgICAgICAgfSksIHIuc2V0U3R5bGVzKG8sIHsKICAgICAgICAgICAgbWFyZ2luOiAwLAogICAgICAgICAgICBib3hTaXppbmc6ICJib3JkZXItYm94IgogICAgICAgICAgfSksIGkuYXBwZW5kQ2hpbGQobyksIGk7CiAgICAgICAgfSh0LCB0Lm9mZnNldFdpZHRoLCB0Lm9mZnNldEhlaWdodCkKICAgICAgfSkpKTsKICAgIH0KCiAgICBmdW5jdGlvbiBuKHUpIHsKICAgICAgaS5vbihmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciB0LCBuLCByLCBvLCBpLCBhOwogICAgICAgIGUuZHJhZ2dpbmcgJiYgKChvID0gMyA9PT0gKGEgPSAociA9IHMpLnNlbGVjdGlvbi5nZXRTZWwoKS5nZXRSYW5nZUF0KDApLnN0YXJ0Q29udGFpbmVyKS5ub2RlVHlwZSA/IGEucGFyZW50Tm9kZSA6IGEpID09PSAoaSA9IGUuZWxlbWVudCkgfHwgci5kb20uaXNDaGlsZE9mKG8sIGkpIHx8IEQxKG8pIHx8ICgobiA9IGUuZWxlbWVudC5jbG9uZU5vZGUoITApKS5yZW1vdmVBdHRyaWJ1dGUoImRhdGEtbWNlLXNlbGVjdGVkIiksIHQgPSBuLCBzLmZpcmUoImRyb3AiLCB7CiAgICAgICAgICBjbGllbnRYOiB1LmNsaWVudFgsCiAgICAgICAgICBjbGllbnRZOiB1LmNsaWVudFkKICAgICAgICB9KS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCBzLnVuZG9NYW5hZ2VyLnRyYW5zYWN0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIG8xKGUuZWxlbWVudCksIHMuaW5zZXJ0Q29udGVudChzLmRvbS5nZXRPdXRlckhUTUwodCkpLCBzLl9zZWxlY3Rpb25PdmVycmlkZXMuaGlkZUZha2VDYXJldCgpOwogICAgICAgIH0pKSwgcy5maXJlKCJkcmFnZW5kIikpOwogICAgICB9KSwgTzEoaSk7CiAgICB9CgogICAgdmFyIHIsCiAgICAgICAgbywKICAgICAgICBpLAogICAgICAgIHMsCiAgICAgICAgdSwKICAgICAgICBjLAogICAgICAgIGEgPSBjdSgpLAogICAgICAgIGwgPSBKYS5ET00sCiAgICAgICAgZiA9IGRvY3VtZW50LAogICAgICAgIGQgPSBpMSh1ID0gYSwgYyA9IGUpLAogICAgICAgIG0gPSAociA9IGkgPSBhLCBmdW5jdGlvbiAoKSB7CiAgICAgIHIub24oZnVuY3Rpb24gKGUpIHsKICAgICAgICBlLmRyYWdnaW5nICYmIG8uZmlyZSgiZHJhZ2VuZCIpOwogICAgICB9KSwgTzEocik7CiAgICB9KTsKICAgIChvID0gcyA9IGUpLm9uKCJtb3VzZWRvd24iLCB0KSwgZS5vbigibW91c2Vtb3ZlIiwgZCksIGUub24oIm1vdXNldXAiLCBuKSwgbC5iaW5kKGYsICJtb3VzZW1vdmUiLCBkKSwgbC5iaW5kKGYsICJtb3VzZXVwIiwgbSksIGUub24oInJlbW92ZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgbC51bmJpbmQoZiwgIm1vdXNlbW92ZSIsIGQpLCBsLnVuYmluZChmLCAibW91c2V1cCIsIG0pOwogICAgfSksIGUub24oImtleWRvd24iLCBmdW5jdGlvbiAoZSkgewogICAgICBlLmtleUNvZGUgPT09IEJmLkVTQyAmJiBtKCk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIHUxKGUpIHsKICAgIHZhciBuLCBpOwoKICAgIGZ1bmN0aW9uIGEoZSkgewogICAgICB2YXIgdDsKICAgICAgZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCAodCA9IGUuZGF0YVRyYW5zZmVyKSAmJiAoRCh0LnR5cGVzLCAiRmlsZXMiKSB8fCAwIDwgdC5maWxlcy5sZW5ndGgpICYmIChlLnByZXZlbnREZWZhdWx0KCksICJkcm9wIiA9PT0gZS50eXBlICYmIEl2KGksICJEcm9wcGVkIGZpbGUgdHlwZSBpcyBub3Qgc3VwcG9ydGVkIikpOwogICAgfQoKICAgIGZ1bmN0aW9uIHUoZSkgewogICAgICBkZChpLCBlLnRhcmdldCkgJiYgYShlKTsKICAgIH0KCiAgICBmdW5jdGlvbiB0KCkgewogICAgICB2YXIgdCA9IEphLkRPTSwKICAgICAgICAgIG4gPSBpLmRvbSwKICAgICAgICAgIHIgPSBkb2N1bWVudCwKICAgICAgICAgIG8gPSBpLmlubGluZSA/IGkuZ2V0Qm9keSgpIDogaS5nZXREb2MoKSwKICAgICAgICAgIGUgPSBbImRyb3AiLCAiZHJhZ292ZXIiXTsKICAgICAgWShlLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHQuYmluZChyLCBlLCB1KSwgbi5iaW5kKG8sIGUsIGEpOwogICAgICB9KSwgaS5vbigicmVtb3ZlIiwgZnVuY3Rpb24gKCkgewogICAgICAgIFkoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHQudW5iaW5kKHIsIGUsIHUpLCBuLnVuYmluZChvLCBlLCBhKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CgogICAgYTEoZSksIChuID0gZSkub24oImRyb3AiLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9IHZvaWQgMCAhPT0gZS5jbGllbnRYID8gbi5nZXREb2MoKS5lbGVtZW50RnJvbVBvaW50KGUuY2xpZW50WCwgZS5jbGllbnRZKSA6IG51bGw7CiAgICAgICFEMSh0KSAmJiAiZmFsc2UiICE9PSBuLmRvbS5nZXRDb250ZW50RWRpdGFibGVQYXJlbnQodCkgfHwgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgfSksIGUuZ2V0UGFyYW0oImJsb2NrX3Vuc3VwcG9ydGVkX2Ryb3AiLCAhMCwgImJvb2xlYW4iKSAmJiAoaSA9IGUpLm9uKCJpbml0IiwgZnVuY3Rpb24gKCkgewogICAgICBfci5zZXRFZGl0b3JUaW1lb3V0KGksIHQsIDApOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBzMShlLCB0KSB7CiAgICByZXR1cm4gcGYoZS5nZXRCb2R5KCksIHQpOwogIH0KCiAgZnVuY3Rpb24gYzEobCkgewogICAgZnVuY3Rpb24gZihlKSB7CiAgICAgIHJldHVybiBlICE9PSB4ICYmIChQMShlKSB8fCBKbihlKSkgJiYgeS5pc0NoaWxkT2YoZSwgeCk7CiAgICB9CgogICAgZnVuY3Rpb24gYyhlKSB7CiAgICAgIHJldHVybiBlcChlKSB8fCB0cChlKSB8fCBHZyhlKSB8fCBKZyhlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBkKGUpIHsKICAgICAgZSAmJiBiLnNldFJuZyhlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBtKGUsIHQsIG4sIHIpIHsKICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gciAmJiAociA9ICEwKSwgbC5maXJlKCJTaG93Q2FyZXQiLCB7CiAgICAgICAgdGFyZ2V0OiB0LAogICAgICAgIGRpcmVjdGlvbjogZSwKICAgICAgICBiZWZvcmU6IG4KICAgICAgfSkuaXNEZWZhdWx0UHJldmVudGVkKCkgPyBudWxsIDogKHIgJiYgYi5zY3JvbGxJbnRvVmlldyh0LCAtMSA9PT0gZSksIGkuc2hvdyhuLCB0KSk7CiAgICB9CgogICAgZnVuY3Rpb24gdChlKSB7CiAgICAgIHJldHVybiBJcihlKSB8fCBObyhlKSB8fCBrbyhlKTsKICAgIH0KCiAgICBmdW5jdGlvbiBnKGUpIHsKICAgICAgcmV0dXJuIHQoZS5zdGFydENvbnRhaW5lcikgfHwgdChlLmVuZENvbnRhaW5lcik7CiAgICB9CgogICAgZnVuY3Rpb24gcChlLCB0KSB7CiAgICAgIGlmICghZSkgcmV0dXJuIG51bGw7CgogICAgICBpZiAoZS5jb2xsYXBzZWQpIHsKICAgICAgICBpZiAoIWcoZSkpIHsKICAgICAgICAgIHZhciBuID0gdCA/IDEgOiAtMSwKICAgICAgICAgICAgICByID0gdGMobiwgeCwgZSksCiAgICAgICAgICAgICAgbyA9IHIuZ2V0Tm9kZSghdCk7CiAgICAgICAgICBpZiAoJHMobykpIHJldHVybiBtKG4sIG8sICEhdCAmJiAhci5pc0F0RW5kKCksICExKTsKICAgICAgICAgIHZhciBpID0gci5nZXROb2RlKHQpOwogICAgICAgICAgaWYgKCRzKGkpKSByZXR1cm4gbShuLCBpLCAhdCAmJiAhci5pc0F0RW5kKCksICExKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBudWxsOwogICAgICB9CgogICAgICB2YXIgYSA9IGUuc3RhcnRDb250YWluZXIsCiAgICAgICAgICB1ID0gZS5zdGFydE9mZnNldCwKICAgICAgICAgIHMgPSBlLmVuZE9mZnNldDsKICAgICAgaWYgKDMgPT09IGEubm9kZVR5cGUgJiYgMCA9PT0gdSAmJiBQMShhLnBhcmVudE5vZGUpICYmIChhID0gYS5wYXJlbnROb2RlLCB1ID0geS5ub2RlSW5kZXgoYSksIGEgPSBhLnBhcmVudE5vZGUpLCAxICE9PSBhLm5vZGVUeXBlKSByZXR1cm4gbnVsbDsKCiAgICAgIGlmIChzID09PSB1ICsgMSAmJiBhID09PSBlLmVuZENvbnRhaW5lcikgewogICAgICAgIHZhciBjID0gYS5jaGlsZE5vZGVzW3VdOwogICAgICAgIGlmIChmKGMpKSByZXR1cm4gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciB0ID0gZS5jbG9uZU5vZGUoITApLAogICAgICAgICAgICAgIG4gPSBsLmZpcmUoIk9iamVjdFNlbGVjdGVkIiwgewogICAgICAgICAgICB0YXJnZXQ6IGUsCiAgICAgICAgICAgIHRhcmdldENsb25lOiB0CiAgICAgICAgICB9KTsKICAgICAgICAgIGlmIChuLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm4gbnVsbDsKCiAgICAgICAgICB2YXIgciA9IGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICAgICAgICAgIHZhciByID0gbC4kLAogICAgICAgICAgICAgICAgbyA9IHZyKE50LmZyb21Eb20obC5nZXRCb2R5KCkpLCAiIyIgKyB3KS5mb2xkKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICByZXR1cm4gcihbXSk7CiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHIoW2UuZG9tXSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAwID09PSBvLmxlbmd0aCAmJiAobyA9IHIoJzxkaXYgZGF0YS1tY2UtYm9ndXM9ImFsbCIgY2xhc3M9Im1jZS1vZmZzY3JlZW4tc2VsZWN0aW9uIj48L2Rpdj4nKS5hdHRyKCJpZCIsIHcpKS5hcHBlbmRUbyhsLmdldEJvZHkoKSk7CiAgICAgICAgICAgIHZhciBpID0geS5jcmVhdGVSbmcoKTsKICAgICAgICAgICAgdCA9PT0gbiAmJiB4dC5pZSA/IChvLmVtcHR5KCkuYXBwZW5kKCc8cCBzdHlsZT0iZm9udC1zaXplOiAwIiBkYXRhLW1jZS1ib2d1cz0iYWxsIj5ceGEwPC9wPicpLmFwcGVuZCh0KSwgaS5zZXRTdGFydEFmdGVyKG9bMF0uZmlyc3RDaGlsZC5maXJzdENoaWxkKSwgaS5zZXRFbmRBZnRlcih0KSkgOiAoby5lbXB0eSgpLmFwcGVuZCh5bykuYXBwZW5kKHQpLmFwcGVuZCh5byksIGkuc2V0U3RhcnQob1swXS5maXJzdENoaWxkLCAxKSwgaS5zZXRFbmQob1swXS5sYXN0Q2hpbGQsIDApKSwgby5jc3MoewogICAgICAgICAgICAgIHRvcDogeS5nZXRQb3MoZSwgbC5nZXRCb2R5KCkpLnkKICAgICAgICAgICAgfSksIG9bMF0uZm9jdXMoKTsKICAgICAgICAgICAgdmFyIGEgPSBiLmdldFNlbCgpOwogICAgICAgICAgICByZXR1cm4gYS5yZW1vdmVBbGxSYW5nZXMoKSwgYS5hZGRSYW5nZShpKSwgaTsKICAgICAgICAgIH0oZSwgbi50YXJnZXRDbG9uZSwgdCksCiAgICAgICAgICAgICAgbyA9IE50LmZyb21Eb20oZSk7CgogICAgICAgICAgcmV0dXJuIFkoaHUoTnQuZnJvbURvbShsLmdldEJvZHkoKSksICIqW2RhdGEtbWNlLXNlbGVjdGVkXSIpLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBqZShvLCBlKSB8fCB5bihlLCBTKTsKICAgICAgICAgIH0pLCB5LmdldEF0dHJpYihlLCBTKSB8fCBlLnNldEF0dHJpYnV0ZShTLCAiMSIpLCB2ID0gZSwgRSgpLCByOwogICAgICAgIH0oYyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfQoKICAgIGZ1bmN0aW9uIGgoKSB7CiAgICAgIHYgJiYgdi5yZW1vdmVBdHRyaWJ1dGUoUyksIHZyKE50LmZyb21Eb20obC5nZXRCb2R5KCkpLCAiIyIgKyB3KS5lYWNoKExuKSwgdiA9IG51bGw7CiAgICB9CgogICAgdmFyIHYsCiAgICAgICAgbiwKICAgICAgICBlLAogICAgICAgIG8sCiAgICAgICAgYiA9IGwuc2VsZWN0aW9uLAogICAgICAgIHkgPSBsLmRvbSwKICAgICAgICBDID0geS5pc0Jsb2NrLAogICAgICAgIHggPSBsLmdldEJvZHkoKSwKICAgICAgICBpID0gVnMobCwgeCwgQywgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gdmQobCk7CiAgICB9KSwKICAgICAgICB3ID0gInNlbC0iICsgeS51bmlxdWVJZCgpLAogICAgICAgIFMgPSAiZGF0YS1tY2Utc2VsZWN0ZWQiLAogICAgICAgIHIgPSBiLmdldFJuZywKICAgICAgICBFID0gZnVuY3Rpb24gRSgpIHsKICAgICAgaS5oaWRlKCk7CiAgICB9OwoKICAgIHJldHVybiB4dC5jZUZhbHNlICYmICFtaChsKSAmJiAobC5vbigibW91c2V1cCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gcigpOwogICAgICB0LmNvbGxhcHNlZCAmJiBhdihsLCBlLmNsaWVudFgsIGUuY2xpZW50WSkgJiYgU2IobCwgdCwgITEpLmVhY2goZCk7CiAgICB9KSwgbC5vbigiY2xpY2siLCBmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9IHMxKGwsIGUudGFyZ2V0KTsKICAgICAgdCAmJiAoUDEodCkgJiYgKGUucHJldmVudERlZmF1bHQoKSwgbC5mb2N1cygpKSwgQjEodCkgJiYgeS5pc0NoaWxkT2YodCwgYi5nZXROb2RlKCkpICYmIGgoKSk7CiAgICB9KSwgbC5vbigiYmx1ciBOZXdCbG9jayIsIGgpLCBsLm9uKCJSZXNpemVXaW5kb3cgRnVsbHNjcmVlblN0YXRlQ2hhbmdlZCIsIGkucmVwb3NpdGlvbiksIGwub24oInRhcCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gZS50YXJnZXQsCiAgICAgICAgICBuID0gczEobCwgdCk7CiAgICAgIFAxKG4pID8gKGUucHJldmVudERlZmF1bHQoKSwgd2IobCwgbikuZWFjaChwKSkgOiBmKHQpICYmIHdiKGwsIHQpLmVhY2gocCk7CiAgICB9LCAhMCksIGwub24oIm1vdXNlZG93biIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0LAogICAgICAgICAgbiwKICAgICAgICAgIHIsCiAgICAgICAgICBvLAogICAgICAgICAgaSwKICAgICAgICAgIGEsCiAgICAgICAgICB1LAogICAgICAgICAgcyA9IGUudGFyZ2V0OwogICAgICBzICE9PSB4ICYmICJIVE1MIiAhPT0gcy5ub2RlTmFtZSAmJiAheS5pc0NoaWxkT2YocywgeCkgfHwgITEgPT09IGF2KGwsIGUuY2xpZW50WCwgZS5jbGllbnRZKSB8fCAoKHQgPSBzMShsLCBzKSkgPyBQMSh0KSA/IChlLnByZXZlbnREZWZhdWx0KCksIHdiKGwsIHQpLmVhY2gocCkpIDogKGgoKSwgQjEodCkgJiYgZS5zaGlmdEtleSB8fCBoZihlLmNsaWVudFgsIGUuY2xpZW50WSwgYi5nZXRSbmcoKSkgfHwgKEUoKSwgYi5wbGFjZUNhcmV0QXQoZS5jbGllbnRYLCBlLmNsaWVudFkpKSkgOiBmKHMpID8gd2IobCwgcykuZWFjaChwKSA6ICExID09PSAkcyhzKSAmJiAoaCgpLCBFKCksIChuID0gWXkoeCwgZS5jbGllbnRYLCBlLmNsaWVudFkpKSAmJiAociA9IHMsIG8gPSBuLm5vZGUsIGEgPSB5LmdldFBhcmVudChyLCBDKSwgdSA9IHkuZ2V0UGFyZW50KG8sIEMpLCAhSyhhKSAmJiAociAhPT0gdSAmJiB5LmlzQ2hpbGRPZihhLCB1KSAmJiAhMSA9PT0gUDEoczEobCwgYSkpIHx8ICF5LmlzQ2hpbGRPZih1LCBhKSAmJiAoaSA9IHUsIHkuZ2V0UGFyZW50KGEsIEMpICE9PSB5LmdldFBhcmVudChpLCBDKSkgJiYgZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgdCA9IGUuZmlyc3RDaGlsZDsKCiAgICAgICAgaWYgKCFLKHQpKSB7CiAgICAgICAgICB2YXIgbiA9IGFzLmJlZm9yZSh0KTsKICAgICAgICAgIGlmIChXbihuLmdldE5vZGUoKSkgJiYgMSA9PT0gZS5jaGlsZE5vZGVzLmxlbmd0aCkgcmV0dXJuICFjKG4pOwogICAgICAgICAgdmFyIHIgPSBQYyhlKS5uZXh0KG4pOwogICAgICAgICAgcmV0dXJuIHIgJiYgIWMocik7CiAgICAgICAgfQogICAgICB9KGEpKSB8fCAoZS5wcmV2ZW50RGVmYXVsdCgpLCBkKG0oMSwgbi5ub2RlLCBuLmJlZm9yZSwgITEpKSwgbC5nZXRCb2R5KCkuZm9jdXMoKSkpKSk7CiAgICB9KSwgbC5vbigia2V5cHJlc3MiLCBmdW5jdGlvbiAoZSkgewogICAgICBCZi5tb2RpZmllclByZXNzZWQoZSkgfHwgUDEoYi5nZXROb2RlKCkpICYmIGUucHJldmVudERlZmF1bHQoKTsKICAgIH0pLCBsLm9uKCJHZXRTZWxlY3Rpb25SYW5nZSIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gZS5yYW5nZTsKICAgICAgdiAmJiAodi5wYXJlbnROb2RlID8gKCh0ID0gdC5jbG9uZVJhbmdlKCkpLnNlbGVjdE5vZGUodiksIGUucmFuZ2UgPSB0KSA6IHYgPSBudWxsKTsKICAgIH0pLCBsLm9uKCJTZXRTZWxlY3Rpb25SYW5nZSIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0LCBuLCByLCBvLCBpLCBhLCB1OwogICAgICBlLnJhbmdlID0gKHQgPSBlLnJhbmdlLCBuID0gbC5zY2hlbWEuZ2V0U2hvcnRFbmRlZEVsZW1lbnRzKCksIHIgPSB5LmNyZWF0ZVJuZygpLCBvID0gdC5zdGFydENvbnRhaW5lciwgaSA9IHQuc3RhcnRPZmZzZXQsIGEgPSB0LmVuZENvbnRhaW5lciwgdSA9IHQuZW5kT2Zmc2V0LCBOZShuLCBvLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpID8gMCA9PT0gaSA/IHIuc2V0U3RhcnRCZWZvcmUobykgOiByLnNldFN0YXJ0QWZ0ZXIobykgOiByLnNldFN0YXJ0KG8sIGkpLCBOZShuLCBhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkpID8gMCA9PT0gdSA/IHIuc2V0RW5kQmVmb3JlKGEpIDogci5zZXRFbmRBZnRlcihhKSA6IHIuc2V0RW5kKGEsIHUpLCByKTsKICAgICAgdmFyIHMgPSBwKGUucmFuZ2UsIGUuZm9yd2FyZCk7CiAgICAgIHMgJiYgKGUucmFuZ2UgPSBzKTsKICAgIH0pLCBsLm9uKCJBZnRlclNldFNlbGVjdGlvblJhbmdlIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQgPSBlLnJhbmdlLAogICAgICAgICAgbiA9IHQuc3RhcnRDb250YWluZXIucGFyZW50Tm9kZTsKICAgICAgZyh0KSB8fCAibWNlcGFzdGViaW4iID09PSBuLmlkIHx8IEUoKSwgeS5oYXNDbGFzcyhuLCAibWNlLW9mZnNjcmVlbi1zZWxlY3Rpb24iKSB8fCBoKCk7CiAgICB9KSwgbC5vbigiY29weSIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0LAogICAgICAgICAgbiwKICAgICAgICAgIHIgPSBlLmNsaXBib2FyZERhdGE7CiAgICAgIGUuaXNEZWZhdWx0UHJldmVudGVkKCkgfHwgIWUuY2xpcGJvYXJkRGF0YSB8fCB4dC5pZSB8fCAodCA9IChuID0geS5nZXQodykpICYmIG4uZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKVswXSkgJiYgKGUucHJldmVudERlZmF1bHQoKSwgci5jbGVhckRhdGEoKSwgci5zZXREYXRhKCJ0ZXh0L2h0bWwiLCB0Lm91dGVySFRNTCksIHIuc2V0RGF0YSgidGV4dC9wbGFpbiIsIHQub3V0ZXJUZXh0IHx8IHQuaW5uZXJUZXh0KSk7CiAgICB9KSwgdTEobCksIGUgPSBsdShmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBlLCB0OwogICAgICBuLnJlbW92ZWQgfHwgIW4uZ2V0Qm9keSgpLmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpIHx8IChlID0gbi5zZWxlY3Rpb24uZ2V0Um5nKCkpLmNvbGxhcHNlZCAmJiAodCA9IEViKG4sIGUsICExKSwgbi5zZWxlY3Rpb24uc2V0Um5nKHQpKTsKICAgIH0sIDApLCAobiA9IGwpLm9uKCJmb2N1cyIsIGZ1bmN0aW9uICgpIHsKICAgICAgZS50aHJvdHRsZSgpOwogICAgfSksIG4ub24oImJsdXIiLCBmdW5jdGlvbiAoKSB7CiAgICAgIGUuY2FuY2VsKCk7CiAgICB9KSwgKG8gPSBsKS5vbigiaW5pdCIsIGZ1bmN0aW9uICgpIHsKICAgICAgby5vbigiZm9jdXNpbiIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHQsCiAgICAgICAgICAgIG4sCiAgICAgICAgICAgIHIgPSBlLnRhcmdldDsKICAgICAgICBKbihyKSAmJiAodCA9IHBmKG8uZ2V0Qm9keSgpLCByKSwgbiA9IFluKHQpID8gdCA6IHIsIG8uc2VsZWN0aW9uLmdldE5vZGUoKSAhPT0gbiAmJiB3YihvLCBuKS5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gby5zZWxlY3Rpb24uc2V0Um5nKGUpOwogICAgICAgIH0pKTsKICAgICAgfSk7CiAgICB9KSksIHsKICAgICAgc2hvd0NhcmV0OiBtLAogICAgICBzaG93QmxvY2tDYXJldENvbnRhaW5lcjogZnVuY3Rpb24gc2hvd0Jsb2NrQ2FyZXRDb250YWluZXIoZSkgewogICAgICAgIGUuaGFzQXR0cmlidXRlKCJkYXRhLW1jZS1jYXJldCIpICYmICh6cihlKSwgZChyKCkpLCBiLnNjcm9sbEludG9WaWV3KGUpKTsKICAgICAgfSwKICAgICAgaGlkZUZha2VDYXJldDogRSwKICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHsKICAgICAgICBpLmRlc3Ryb3koKSwgdiA9IG51bGw7CiAgICAgIH0KICAgIH07CiAgfQoKICBmdW5jdGlvbiBsMShhKSB7CiAgICBmdW5jdGlvbiBlKGUsIHQpIHsKICAgICAgdHJ5IHsKICAgICAgICBhLmdldERvYygpLmV4ZWNDb21tYW5kKGUsICExLCB0KTsKICAgICAgfSBjYXRjaCAoZSkge30KICAgIH0KCiAgICBmdW5jdGlvbiB1KGUpIHsKICAgICAgcmV0dXJuIGUuaXNEZWZhdWx0UHJldmVudGVkKCk7CiAgICB9CgogICAgZnVuY3Rpb24gdCgpIHsKICAgICAgYS5zaG9ydGN1dHMuYWRkKCJtZXRhK2EiLCBudWxsLCAiU2VsZWN0QWxsIik7CiAgICB9CgogICAgZnVuY3Rpb24gbigpIHsKICAgICAgYS5pbmxpbmUgfHwgYi5iaW5kKGEuZ2V0RG9jKCksICJtb3VzZWRvd24gbW91c2V1cCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHQ7CiAgICAgICAgZS50YXJnZXQgPT09IGEuZ2V0RG9jKCkuZG9jdW1lbnRFbGVtZW50ICYmICh0ID0geS5nZXRSbmcoKSwgYS5nZXRCb2R5KCkuZm9jdXMoKSwgIm1vdXNlZG93biIgPT09IGUudHlwZSA/IElyKHQuc3RhcnRDb250YWluZXIpIHx8IHkucGxhY2VDYXJldEF0KGUuY2xpZW50WCwgZS5jbGllbnRZKSA6IHkuc2V0Um5nKHQpKTsKICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gcigpIHsKICAgICAgUmFuZ2UucHJvdG90eXBlLmdldENsaWVudFJlY3RzIHx8IGEub24oIm1vdXNlZG93biIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHQ7CiAgICAgICAgdShlKSB8fCAiSFRNTCIgIT09IGUudGFyZ2V0Lm5vZGVOYW1lIHx8ICgodCA9IGEuZ2V0Qm9keSgpKS5ibHVyKCksIF9yLnNldEVkaXRvclRpbWVvdXQoYSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgdC5mb2N1cygpOwogICAgICAgIH0pKTsKICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gbygpIHsKICAgICAgYS5vbigiY2xpY2siLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciB0ID0gZS50YXJnZXQ7CiAgICAgICAgL14oSU1HfEhSKSQvLnRlc3QodC5ub2RlTmFtZSkgJiYgImZhbHNlIiAhPT0gYi5nZXRDb250ZW50RWRpdGFibGVQYXJlbnQodCkgJiYgKGUucHJldmVudERlZmF1bHQoKSwgYS5zZWxlY3Rpb24uc2VsZWN0KHQpLCBhLm5vZGVDaGFuZ2VkKCkpLCAiQSIgPT09IHQubm9kZU5hbWUgJiYgYi5oYXNDbGFzcyh0LCAibWNlLWl0ZW0tYW5jaG9yIikgJiYgKGUucHJldmVudERlZmF1bHQoKSwgeS5zZWxlY3QodCkpOwogICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiBpKCkgewogICAgICBhLm9uKCJrZXlkb3duIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBpZiAoIXUoZSkgJiYgZS5rZXlDb2RlID09PSBoICYmIHkuaXNDb2xsYXBzZWQoKSAmJiAwID09PSB5LmdldFJuZygpLnN0YXJ0T2Zmc2V0KSB7CiAgICAgICAgICB2YXIgdCA9IHkuZ2V0Tm9kZSgpLnByZXZpb3VzU2libGluZzsKICAgICAgICAgIGlmICh0ICYmIHQubm9kZU5hbWUgJiYgInRhYmxlIiA9PT0gdC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSByZXR1cm4gZS5wcmV2ZW50RGVmYXVsdCgpLCAhMTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uIHMoKSB7CiAgICAgIGEuZ2V0UGFyYW0oInJlYWRvbmx5IikgfHwgYS5vbigiQmVmb3JlRXhlY0NvbW1hbmQgbW91c2Vkb3duIiwgZnVuY3Rpb24gKCkgewogICAgICAgIGUoIlN0eWxlV2l0aENTUyIsICExKSwgZSgiZW5hYmxlSW5saW5lVGFibGVFZGl0aW5nIiwgITEpLCBUcyhhKSB8fCBlKCJlbmFibGVPYmplY3RSZXNpemluZyIsICExKTsKICAgICAgfSk7CiAgICB9CgogICAgZnVuY3Rpb24gYygpIHsKICAgICAgYS5jb250ZW50U3R5bGVzLnB1c2goImltZzotbW96LWJyb2tlbiB7LW1vei1mb3JjZS1icm9rZW4taW1hZ2UtaWNvbjoxO21pbi13aWR0aDoyNHB4O21pbi1oZWlnaHQ6MjRweH0iKTsKICAgIH0KCiAgICBmdW5jdGlvbiBsKCkgewogICAgICBhLmlubGluZSB8fCBhLm9uKCJrZXlkb3duIiwgZnVuY3Rpb24gKCkgewogICAgICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGRvY3VtZW50LmJvZHkgJiYgYS5nZXRXaW4oKS5mb2N1cygpOwogICAgICB9KTsKICAgIH0KCiAgICBmdW5jdGlvbiBmKCkgewogICAgICBhLmlubGluZSB8fCAoYS5jb250ZW50U3R5bGVzLnB1c2goImJvZHkge21pbi1oZWlnaHQ6IDE1MHB4fSIpLCBhLm9uKCJjbGljayIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHQ7CiAgICAgICAgIkhUTUwiID09PSBlLnRhcmdldC5ub2RlTmFtZSAmJiAoMTEgPCB4dC5pZSA/IGEuZ2V0Qm9keSgpLmZvY3VzKCkgOiAodCA9IGEuc2VsZWN0aW9uLmdldFJuZygpLCBhLmdldEJvZHkoKS5mb2N1cygpLCBhLnNlbGVjdGlvbi5zZXRSbmcodCksIGEuc2VsZWN0aW9uLm5vcm1hbGl6ZSgpLCBhLm5vZGVDaGFuZ2VkKCkpKTsKICAgICAgfSkpOwogICAgfQoKICAgIGZ1bmN0aW9uIGQoKSB7CiAgICAgIHh0Lm1hYyAmJiBhLm9uKCJrZXlkb3duIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAhQmYubWV0YUtleVByZXNzZWQoZSkgfHwgZS5zaGlmdEtleSB8fCAzNyAhPT0gZS5rZXlDb2RlICYmIDM5ICE9PSBlLmtleUNvZGUgfHwgKGUucHJldmVudERlZmF1bHQoKSwgYS5zZWxlY3Rpb24uZ2V0U2VsKCkubW9kaWZ5KCJtb3ZlIiwgMzcgPT09IGUua2V5Q29kZSA/ICJiYWNrd2FyZCIgOiAiZm9yd2FyZCIsICJsaW5lYm91bmRhcnkiKSk7CiAgICAgIH0pOwogICAgfQoKICAgIGZ1bmN0aW9uIG0oKSB7CiAgICAgIGEub24oImNsaWNrIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgdCA9IGUudGFyZ2V0OwoKICAgICAgICBkbyB7CiAgICAgICAgICBpZiAoIkEiID09PSB0LnRhZ05hbWUpIHJldHVybiB2b2lkIGUucHJldmVudERlZmF1bHQoKTsKICAgICAgICB9IHdoaWxlICh0ID0gdC5wYXJlbnROb2RlKTsKICAgICAgfSksIGEuY29udGVudFN0eWxlcy5wdXNoKCIubWNlLWNvbnRlbnQtYm9keSB7LXdlYmtpdC10b3VjaC1jYWxsb3V0OiBub25lfSIpOwogICAgfQoKICAgIGZ1bmN0aW9uIGcoKSB7CiAgICAgIGEub24oImluaXQiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgYS5kb20uYmluZChhLmdldEJvZHkoKSwgInN1Ym1pdCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQoKICAgIHZhciBwID0gRXQuZWFjaCwKICAgICAgICBoID0gQmYuQkFDS1NQQUNFLAogICAgICAgIHYgPSBCZi5ERUxFVEUsCiAgICAgICAgYiA9IGEuZG9tLAogICAgICAgIHkgPSBhLnNlbGVjdGlvbiwKICAgICAgICBDID0gYS5wYXJzZXIsCiAgICAgICAgeCA9IHh0LmdlY2tvLAogICAgICAgIHcgPSB4dC5pZSwKICAgICAgICBTID0geHQud2Via2l0LAogICAgICAgIEUgPSAiZGF0YTp0ZXh0L21jZS1pbnRlcm5hbCwiLAogICAgICAgIE4gPSB3ID8gIlRleHQiIDogIlVSTCIsCiAgICAgICAgayA9IHRlOwogICAgcmV0dXJuIG1oKGEpID8gKFMgJiYgKG4oKSwgbygpLCBnKCksIHQoKSwgeHQuaU9TICYmIChsKCksIGYoKSwgbSgpKSksIHggJiYgKHIoKSwgcygpLCBjKCksIGQoKSkpIDogKGEub24oImtleWRvd24iLCBmdW5jdGlvbiAoZSkgewogICAgICBpZiAoIXUoZSkgJiYgZS5rZXlDb2RlID09PSBCZi5CQUNLU1BBQ0UpIHsKICAgICAgICB2YXIgdCwKICAgICAgICAgICAgbiA9ICh0ID0geS5nZXRSbmcoKSkuc3RhcnRDb250YWluZXIsCiAgICAgICAgICAgIHIgPSB0LnN0YXJ0T2Zmc2V0LAogICAgICAgICAgICBvID0gYi5nZXRSb290KCksCiAgICAgICAgICAgIGkgPSBuOwoKICAgICAgICBpZiAodC5jb2xsYXBzZWQgJiYgMCA9PT0gcikgewogICAgICAgICAgZm9yICg7IGkgJiYgaS5wYXJlbnROb2RlICYmIGkucGFyZW50Tm9kZS5maXJzdENoaWxkID09PSBpICYmIGkucGFyZW50Tm9kZSAhPT0gbzspIHsKICAgICAgICAgICAgaSA9IGkucGFyZW50Tm9kZTsKICAgICAgICAgIH0KCiAgICAgICAgICAiQkxPQ0tRVU9URSIgPT09IGkudGFnTmFtZSAmJiAoYS5mb3JtYXR0ZXIudG9nZ2xlKCJibG9ja3F1b3RlIiwgbnVsbCwgaSksICh0ID0gYi5jcmVhdGVSbmcoKSkuc2V0U3RhcnQobiwgMCksIHQuc2V0RW5kKG4sIDApLCB5LnNldFJuZyh0KSk7CiAgICAgICAgfQogICAgICB9CiAgICB9KSwgYS5vbigia2V5ZG93biIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0LAogICAgICAgICAgbiwKICAgICAgICAgIHIsCiAgICAgICAgICBvLAogICAgICAgICAgaSA9IGUua2V5Q29kZTsKICAgICAgdShlKSB8fCBpICE9PSB2ICYmIGkgIT09IGggfHwgKHQgPSBhLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpLCBuID0gYS5nZXRCb2R5KCksIHQgJiYgIWIuaXNFbXB0eShuKSB8fCAhdCAmJiAociA9IFIoYS5zZWxlY3Rpb24uZ2V0Um5nKCkpLCAobyA9IGIuY3JlYXRlUm5nKCkpLnNlbGVjdE5vZGUoYS5nZXRCb2R5KCkpLCByICE9PSBSKG8pKSB8fCAoZS5wcmV2ZW50RGVmYXVsdCgpLCBhLnNldENvbnRlbnQoIiIpLCBuLmZpcnN0Q2hpbGQgJiYgYi5pc0Jsb2NrKG4uZmlyc3RDaGlsZCkgPyBhLnNlbGVjdGlvbi5zZXRDdXJzb3JMb2NhdGlvbihuLmZpcnN0Q2hpbGQsIDApIDogYS5zZWxlY3Rpb24uc2V0Q3Vyc29yTG9jYXRpb24obiwgMCksIGEubm9kZUNoYW5nZWQoKSkpOwogICAgfSksIHh0LndpbmRvd3NQaG9uZSB8fCBhLm9uKCJrZXl1cCBmb2N1c2luIG1vdXNldXAiLCBmdW5jdGlvbiAoZSkgewogICAgICBCZi5tb2RpZmllclByZXNzZWQoZSkgfHwgeS5ub3JtYWxpemUoKTsKICAgIH0sICEwKSwgUyAmJiAobigpLCBvKCksIFNzKGEpICYmIGEub24oImluaXQiLCBmdW5jdGlvbiAoKSB7CiAgICAgIGUoIkRlZmF1bHRQYXJhZ3JhcGhTZXBhcmF0b3IiLCBTcyhhKSk7CiAgICB9KSwgZygpLCBpKCksIEMuYWRkTm9kZUZpbHRlcigiYnIiLCBmdW5jdGlvbiAoZSkgewogICAgICBmb3IgKHZhciB0ID0gZS5sZW5ndGg7IHQtLTspIHsKICAgICAgICAiQXBwbGUtaW50ZXJjaGFuZ2UtbmV3bGluZSIgPT09IGVbdF0uYXR0cigiY2xhc3MiKSAmJiBlW3RdLnJlbW92ZSgpOwogICAgICB9CiAgICB9KSwgeHQuaU9TID8gKGwoKSwgZigpLCBtKCkpIDogdCgpKSwgMTEgPD0geHQuaWUgJiYgKGYoKSwgaSgpKSwgeHQuaWUgJiYgKHQoKSwgZSgiQXV0b1VybERldGVjdCIsICExKSwgYS5vbigiZHJhZ3N0YXJ0IiwgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQsIG4sIHI7CiAgICAgICh0ID0gZSkuZGF0YVRyYW5zZmVyICYmIChhLnNlbGVjdGlvbi5pc0NvbGxhcHNlZCgpICYmICJJTUciID09PSB0LnRhcmdldC50YWdOYW1lICYmIHkuc2VsZWN0KHQudGFyZ2V0KSwgMCA8IChuID0gYS5zZWxlY3Rpb24uZ2V0Q29udGVudCgpKS5sZW5ndGggJiYgKHIgPSBFICsgZXNjYXBlKGEuaWQpICsgIiwiICsgZXNjYXBlKG4pLCB0LmRhdGFUcmFuc2Zlci5zZXREYXRhKE4sIHIpKSk7CiAgICB9KSwgYS5vbigiZHJvcCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0LCBuLCByLCBvOwogICAgICB1KGUpIHx8ICh0ID0gZS5kYXRhVHJhbnNmZXIgJiYgKG8gPSBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKE4pKSAmJiAwIDw9IG8uaW5kZXhPZihFKSA/IChvID0gby5zdWJzdHIoRS5sZW5ndGgpLnNwbGl0KCIsIiksIHsKICAgICAgICBpZDogdW5lc2NhcGUob1swXSksCiAgICAgICAgaHRtbDogdW5lc2NhcGUob1sxXSkKICAgICAgfSkgOiBudWxsKSAmJiB0LmlkICE9PSBhLmlkICYmIChlLnByZXZlbnREZWZhdWx0KCksIG4gPSB3ZihlLngsIGUueSwgYS5nZXREb2MoKSksIHkuc2V0Um5nKG4pLCByID0gdC5odG1sLCBhLnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZCgibWNlSW5zZXJ0Q2xpcGJvYXJkQ29udGVudCIpID8gYS5leGVjQ29tbWFuZCgibWNlSW5zZXJ0Q2xpcGJvYXJkQ29udGVudCIsICExLCB7CiAgICAgICAgY29udGVudDogciwKICAgICAgICBpbnRlcm5hbDogITAKICAgICAgfSkgOiBhLmV4ZWNDb21tYW5kKCJtY2VJbnNlcnRDb250ZW50IiwgITEsIHIpKTsKICAgIH0pKSwgeCAmJiAoYS5vbigia2V5ZG93biIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGlmICghdShlKSAmJiBlLmtleUNvZGUgPT09IGggJiYgYS5nZXRCb2R5KCkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhyIikubGVuZ3RoICYmIHkuaXNDb2xsYXBzZWQoKSAmJiAwID09PSB5LmdldFJuZygpLnN0YXJ0T2Zmc2V0KSB7CiAgICAgICAgdmFyIHQgPSB5LmdldE5vZGUoKSwKICAgICAgICAgICAgbiA9IHQucHJldmlvdXNTaWJsaW5nOwogICAgICAgIGlmICgiSFIiID09PSB0Lm5vZGVOYW1lKSByZXR1cm4gYi5yZW1vdmUodCksIHZvaWQgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIG4gJiYgbi5ub2RlTmFtZSAmJiAiaHIiID09PSBuLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgJiYgKGIucmVtb3ZlKG4pLCBlLnByZXZlbnREZWZhdWx0KCkpOwogICAgICB9CiAgICB9KSwgcigpLCBhLm9uKCJrZXlwcmVzcyIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0OwogICAgICBpZiAoIXUoZSkgJiYgKDggPT09IGUua2V5Q29kZSB8fCA0NiA9PT0gZS5rZXlDb2RlKSAmJiBBKCkpIHJldHVybiB0ID0gXygpLCBhLmdldERvYygpLmV4ZWNDb21tYW5kKCJkZWxldGUiLCAhMSwgbnVsbCksIHQoKSwgZS5wcmV2ZW50RGVmYXVsdCgpLCAhMTsKICAgIH0pLCBiLmJpbmQoYS5nZXREb2MoKSwgImN1dCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0OwogICAgICAhdShlKSAmJiBBKCkgJiYgKHQgPSBfKCksIF9yLnNldEVkaXRvclRpbWVvdXQoYSwgZnVuY3Rpb24gKCkgewogICAgICAgIHQoKTsKICAgICAgfSkpOwogICAgfSksIHMoKSwgYS5vbigiU2V0Q29udGVudCBFeGVjQ29tbWFuZCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICJzZXRjb250ZW50IiAhPT0gZS50eXBlICYmICJtY2VJbnNlcnRMaW5rIiAhPT0gZS5jb21tYW5kIHx8IHAoYi5zZWxlY3QoImEiKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgdCA9IGUucGFyZW50Tm9kZSwKICAgICAgICAgICAgbiA9IGIuZ2V0Um9vdCgpOwoKICAgICAgICBpZiAodC5sYXN0Q2hpbGQgPT09IGUpIHsKICAgICAgICAgIGZvciAoOyB0ICYmICFiLmlzQmxvY2sodCk7KSB7CiAgICAgICAgICAgIGlmICh0LnBhcmVudE5vZGUubGFzdENoaWxkICE9PSB0IHx8IHQgPT09IG4pIHJldHVybjsKICAgICAgICAgICAgdCA9IHQucGFyZW50Tm9kZTsKICAgICAgICAgIH0KCiAgICAgICAgICBiLmFkZCh0LCAiYnIiLCB7CiAgICAgICAgICAgICJkYXRhLW1jZS1ib2d1cyI6IDEKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9KSwgYygpLCBkKCksIGkoKSkpLCB7CiAgICAgIHJlZnJlc2hDb250ZW50RWRpdGFibGU6IGssCiAgICAgIGlzSGlkZGVuOiBmdW5jdGlvbiBpc0hpZGRlbigpIHsKICAgICAgICBpZiAoIXggfHwgYS5yZW1vdmVkKSByZXR1cm4gITE7CiAgICAgICAgdmFyIGUgPSBhLnNlbGVjdGlvbi5nZXRTZWwoKTsKICAgICAgICByZXR1cm4gIWUgfHwgIWUucmFuZ2VDb3VudCB8fCAwID09PSBlLnJhbmdlQ291bnQ7CiAgICAgIH0KICAgIH07CgogICAgZnVuY3Rpb24gXygpIHsKICAgICAgdmFyIGUgPSBiLmdldEF0dHJpYnMoeS5nZXRTdGFydCgpLmNsb25lTm9kZSghMSkpOwogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgIHZhciB0ID0geS5nZXRTdGFydCgpOwogICAgICAgIHQgIT09IGEuZ2V0Qm9keSgpICYmIChiLnNldEF0dHJpYih0LCAic3R5bGUiLCBudWxsKSwgcChlLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgdC5zZXRBdHRyaWJ1dGVOb2RlKGUuY2xvbmVOb2RlKCEwKSk7CiAgICAgICAgfSkpOwogICAgICB9OwogICAgfQoKICAgIGZ1bmN0aW9uIEEoKSB7CiAgICAgIHJldHVybiAheS5pc0NvbGxhcHNlZCgpICYmIGIuZ2V0UGFyZW50KHkuZ2V0U3RhcnQoKSwgYi5pc0Jsb2NrKSAhPT0gYi5nZXRQYXJlbnQoeS5nZXRFbmQoKSwgYi5pc0Jsb2NrKTsKICAgIH0KCiAgICBmdW5jdGlvbiBSKGUpIHsKICAgICAgdmFyIHQgPSBiLmNyZWF0ZSgiYm9keSIpLAogICAgICAgICAgbiA9IGUuY2xvbmVDb250ZW50cygpOwogICAgICByZXR1cm4gdC5hcHBlbmRDaGlsZChuKSwgeS5zZXJpYWxpemVyLnNlcmlhbGl6ZSh0LCB7CiAgICAgICAgZm9ybWF0OiAiaHRtbCIKICAgICAgfSk7CiAgICB9CiAgfQoKICBmdW5jdGlvbiBmMShlKSB7CiAgICByZXR1cm4gYWUoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuICExID09PSBiKGUpOwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBkMShlKSB7CiAgICB2YXIgdCA9IGUuc2V0dGluZ3MsCiAgICAgICAgbiA9IGUuZWRpdG9yVXBsb2FkLmJsb2JDYWNoZTsKICAgIHJldHVybiBmMSh7CiAgICAgIGFsbG93X2NvbmRpdGlvbmFsX2NvbW1lbnRzOiB0LmFsbG93X2NvbmRpdGlvbmFsX2NvbW1lbnRzLAogICAgICBhbGxvd19odG1sX2RhdGFfdXJsczogdC5hbGxvd19odG1sX2RhdGFfdXJscywKICAgICAgYWxsb3dfc3ZnX2RhdGFfdXJsczogdC5hbGxvd19zdmdfZGF0YV91cmxzLAogICAgICBhbGxvd19odG1sX2luX25hbWVkX2FuY2hvcjogdC5hbGxvd19odG1sX2luX25hbWVkX2FuY2hvciwKICAgICAgYWxsb3dfc2NyaXB0X3VybHM6IHQuYWxsb3dfc2NyaXB0X3VybHMsCiAgICAgIGFsbG93X3Vuc2FmZV9saW5rX3RhcmdldDogdC5hbGxvd191bnNhZmVfbGlua190YXJnZXQsCiAgICAgIGNvbnZlcnRfZm9udHNfdG9fc3BhbnM6IHQuY29udmVydF9mb250c190b19zcGFucywKICAgICAgZml4X2xpc3RfZWxlbWVudHM6IHQuZml4X2xpc3RfZWxlbWVudHMsCiAgICAgIGZvbnRfc2l6ZV9sZWdhY3lfdmFsdWVzOiB0LmZvbnRfc2l6ZV9sZWdhY3lfdmFsdWVzLAogICAgICBmb3JjZWRfcm9vdF9ibG9jazogdC5mb3JjZWRfcm9vdF9ibG9jaywKICAgICAgZm9yY2VkX3Jvb3RfYmxvY2tfYXR0cnM6IHQuZm9yY2VkX3Jvb3RfYmxvY2tfYXR0cnMsCiAgICAgIHBhZGRfZW1wdHlfd2l0aF9icjogdC5wYWRkX2VtcHR5X3dpdGhfYnIsCiAgICAgIHByZXNlcnZlX2NkYXRhOiB0LnByZXNlcnZlX2NkYXRhLAogICAgICByZW1vdmVfdHJhaWxpbmdfYnJzOiB0LnJlbW92ZV90cmFpbGluZ19icnMsCiAgICAgIGlubGluZV9zdHlsZXM6IHQuaW5saW5lX3N0eWxlcywKICAgICAgcm9vdF9uYW1lOiBlLmlubGluZSA/IGUuZ2V0RWxlbWVudCgpLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgOiB2b2lkIDAsCiAgICAgIHZhbGlkYXRlOiAhMCwKICAgICAgYmxvYl9jYWNoZTogbiwKICAgICAgZG9jdW1lbnQ6IGUuZ2V0RG9jKCksCiAgICAgIGltYWdlc19kYXRhaW1nX2ZpbHRlcjogdC5pbWFnZXNfZGF0YWltZ19maWx0ZXIKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gbTEoZSkgewogICAgdmFyIHQsIHUsIG47CiAgICBlLmJpbmRQZW5kaW5nRXZlbnREZWxlZ2F0ZXMoKSwgZS5pbml0aWFsaXplZCA9ICEwLCBlLmZpcmUoIkluaXQiKSwgZS5mb2N1cyghMCksIG4gPSAodSA9IGUpLmRvbS5nZXRSb290KCksIHUuaW5saW5lIHx8IFRsKHUpICYmIHUuc2VsZWN0aW9uLmdldFN0YXJ0KCEwKSAhPT0gbiB8fCBlZihuKS5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0LAogICAgICAgICAgbiwKICAgICAgICAgIHIsCiAgICAgICAgICBvLAogICAgICAgICAgaSA9IGUuZ2V0Tm9kZSgpLAogICAgICAgICAgYSA9IGNuKGkpID8gZWYoaSkuZ2V0T3IoZSkgOiBlOwogICAgICB4dC5icm93c2VyLmlzSUUoKSA/ICh0ID0gdSwgbiA9IGEudG9SYW5nZSgpLCByID0gTnQuZnJvbURvbSh0LmdldEJvZHkoKSksIG8gPSAoYWQodCkgPyB2ZS5mcm9tKG4pIDogdmUubm9uZSgpKS5tYXAodWQpLmZpbHRlcihpZChyKSksIHQuYm9va21hcmsgPSBvLmlzU29tZSgpID8gbyA6IHQuYm9va21hcmspIDogdS5zZWxlY3Rpb24uc2V0Um5nKGEudG9SYW5nZSgpKTsKICAgIH0pLCBlLm5vZGVDaGFuZ2VkKHsKICAgICAgaW5pdGlhbDogITAKICAgIH0pLCBlLmV4ZWNDYWxsYmFjaygiaW5pdF9pbnN0YW5jZV9jYWxsYmFjayIsIGUpLCAodCA9IGUpLnNldHRpbmdzLmF1dG9fZm9jdXMgJiYgX3Iuc2V0RWRpdG9yVGltZW91dCh0LCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBlID0gITAgPT09IHQuc2V0dGluZ3MuYXV0b19mb2N1cyA/IHQgOiB0LmVkaXRvck1hbmFnZXIuZ2V0KHQuc2V0dGluZ3MuYXV0b19mb2N1cyk7CiAgICAgIGUuZGVzdHJveWVkIHx8IGUuZm9jdXMoKTsKICAgIH0sIDEwMCk7CiAgfQoKICBmdW5jdGlvbiBnMShlKSB7CiAgICByZXR1cm4gKGUuaW5saW5lID8gZS51aSA6IGUuZG9tKS5zdHlsZVNoZWV0TG9hZGVyOwogIH0KCiAgZnVuY3Rpb24gcDEoZSkgewogICAgZnVuY3Rpb24gdCgpIHsKICAgICAgby51bmxvYWRBbGwoYSksIGUuaW5saW5lIHx8IGUudWkuc3R5bGVTaGVldExvYWRlci51bmxvYWRBbGwoaSk7CiAgICB9CgogICAgZnVuY3Rpb24gbigpIHsKICAgICAgZS5yZW1vdmVkID8gdCgpIDogZS5vbigicmVtb3ZlIiwgdCk7CiAgICB9CgogICAgdmFyIHIsCiAgICAgICAgbyA9IGcxKGUpLAogICAgICAgIGkgPSBEcyhlKSwKICAgICAgICBhID0gZS5jb250ZW50Q1NTOwogICAgMCA8IGUuY29udGVudFN0eWxlcy5sZW5ndGggJiYgKHIgPSAiIiwgRXQuZWFjaChlLmNvbnRlbnRTdHlsZXMsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHIgKz0gZSArICJcclxuIjsKICAgIH0pLCBlLmRvbS5hZGRTdHlsZShyKSk7CiAgICB2YXIgdSwKICAgICAgICBzLAogICAgICAgIGMsCiAgICAgICAgbCwKICAgICAgICBmLAogICAgICAgIGQsCiAgICAgICAgbSwKICAgICAgICBnLAogICAgICAgIHAsCiAgICAgICAgaCA9IGtyLmFsbCgodSA9IGUsIHMgPSBhLCBjID0gaSwgbCA9IFtuZXcga3IoZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgcmV0dXJuIGcxKHUpLmxvYWRBbGwocywgZSwgdCk7CiAgICB9KV0sIHUuaW5saW5lID8gbCA6IGwuY29uY2F0KFtuZXcga3IoZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgcmV0dXJuIHUudWkuc3R5bGVTaGVldExvYWRlci5sb2FkQWxsKGMsIGUsIHQpOwogICAgfSldKSkpLnRoZW4obikuY2F0Y2gobik7CiAgICByZXR1cm4gZS5zZXR0aW5ncy5jb250ZW50X3N0eWxlICYmIChkID0gKGYgPSBlKS5zZXR0aW5ncy5jb250ZW50X3N0eWxlLCBtID0gTnQuZnJvbURvbShmLmdldEJvZHkoKSksIGcgPSBqdChCbihtKSksIHBuKHAgPSBOdC5mcm9tVGFnKCJzdHlsZSIpLCAidHlwZSIsICJ0ZXh0L2NzcyIpLCBQbihwLCBOdC5mcm9tVGV4dChkKSksIFBuKGcsIHApLCBmLm9uKCJyZW1vdmUiLCBmdW5jdGlvbiAoKSB7CiAgICAgIExuKHApOwogICAgfSkpLCBoOwogIH0KCiAgZnVuY3Rpb24gaDEoZSkgewogICAgdmFyIHQ7CiAgICAhMCAhPT0gZS5yZW1vdmVkICYmIChtaCh0ID0gZSkgfHwgdC5sb2FkKHsKICAgICAgaW5pdGlhbDogITAsCiAgICAgIGZvcm1hdDogImh0bWwiCiAgICB9KSwgdC5zdGFydENvbnRlbnQgPSB0LmdldENvbnRlbnQoewogICAgICBmb3JtYXQ6ICJyYXciCiAgICB9KSwgbTEoZSkpOwogIH0KCiAgZnVuY3Rpb24gdjEodCwgZSkgewogICAgdmFyIG4gPSB0LnNldHRpbmdzLAogICAgICAgIHIgPSB0LmdldEVsZW1lbnQoKSwKICAgICAgICBvID0gdC5nZXREb2MoKTsKICAgIG4uaW5saW5lIHx8ICh0LmdldEVsZW1lbnQoKS5zdHlsZS52aXNpYmlsaXR5ID0gdC5vcmdWaXNpYmlsaXR5KSwgZSB8fCB0LmlubGluZSB8fCAoby5vcGVuKCksIG8ud3JpdGUodC5pZnJhbWVIVE1MKSwgby5jbG9zZSgpKSwgdC5pbmxpbmUgJiYgKEwxLmFkZENsYXNzKHIsICJtY2UtY29udGVudC1ib2R5IiksIHQuY29udGVudERvY3VtZW50ID0gbyA9IGRvY3VtZW50LCB0LmNvbnRlbnRXaW5kb3cgPSB3aW5kb3csIHQuYm9keUVsZW1lbnQgPSByLCB0LmNvbnRlbnRBcmVhQ29udGFpbmVyID0gcik7CiAgICB2YXIgdSwKICAgICAgICBpLAogICAgICAgIGEsCiAgICAgICAgcywKICAgICAgICBjLAogICAgICAgIGwsCiAgICAgICAgZiwKICAgICAgICBkLAogICAgICAgIG0sCiAgICAgICAgZywKICAgICAgICBwLAogICAgICAgIGggPSB0LmdldEJvZHkoKTsKICAgIGguZGlzYWJsZWQgPSAhMCwgdC5yZWFkb25seSA9ICEhbi5yZWFkb25seSwgdC5yZWFkb25seSB8fCAodC5pbmxpbmUgJiYgInN0YXRpYyIgPT09IEwxLmdldFN0eWxlKGgsICJwb3NpdGlvbiIsICEwKSAmJiAoaC5zdHlsZS5wb3NpdGlvbiA9ICJyZWxhdGl2ZSIpLCBoLmNvbnRlbnRFZGl0YWJsZSA9IHQuZ2V0UGFyYW0oImNvbnRlbnRfZWRpdGFibGVfc3RhdGUiLCAhMCkpLCBoLmRpc2FibGVkID0gITEsIHQuZWRpdG9yVXBsb2FkID0gS3YodCksIHQuc2NoZW1hID0gdG8obiksIHQuZG9tID0gSmEobywgewogICAgICBrZWVwX3ZhbHVlczogITAsCiAgICAgIHVybF9jb252ZXJ0ZXI6IHQuY29udmVydFVSTCwKICAgICAgdXJsX2NvbnZlcnRlcl9zY29wZTogdCwKICAgICAgaGV4X2NvbG9yczogbi5mb3JjZV9oZXhfc3R5bGVfY29sb3JzLAogICAgICB1cGRhdGVfc3R5bGVzOiAhMCwKICAgICAgcm9vdF9lbGVtZW50OiB0LmlubGluZSA/IHQuZ2V0Qm9keSgpIDogbnVsbCwKICAgICAgY29sbGVjdDogZnVuY3Rpb24gY29sbGVjdCgpIHsKICAgICAgICByZXR1cm4gdC5pbmxpbmU7CiAgICAgIH0sCiAgICAgIHNjaGVtYTogdC5zY2hlbWEsCiAgICAgIGNvbnRlbnRDc3NDb3JzOiB0LmdldFBhcmFtKCJjb250ZW50X2Nzc19jb3JzIiwgITEsICJib29sZWFuIiksCiAgICAgIHJlZmVycmVyUG9saWN5OiBfcyh0KSwKICAgICAgb25TZXRBdHRyaWI6IGZ1bmN0aW9uIG9uU2V0QXR0cmliKGUpIHsKICAgICAgICB0LmZpcmUoIlNldEF0dHJpYiIsIGUpOwogICAgICB9CiAgICB9KSwgdC5wYXJzZXIgPSAoKGkgPSAkaChkMSh1ID0gdCksIHUuc2NoZW1hKSkuYWRkQXR0cmlidXRlRmlsdGVyKCJzcmMsaHJlZixzdHlsZSx0YWJpbmRleCIsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgIGZvciAodmFyIG4sIHIsIG8gPSBlLmxlbmd0aCwgaSA9IHUuZG9tLCBhID0gImRhdGEtbWNlLSIgKyB0OyBvLS07KSB7CiAgICAgICAgKHIgPSAobiA9IGVbb10pLmF0dHIodCkpICYmICFuLmF0dHIoYSkgJiYgMCAhPT0gci5pbmRleE9mKCJkYXRhOiIpICYmIDAgIT09IHIuaW5kZXhPZigiYmxvYjoiKSAmJiAoInN0eWxlIiA9PT0gdCA/ICgociA9IGkuc2VyaWFsaXplU3R5bGUoaS5wYXJzZVN0eWxlKHIpLCBuLm5hbWUpKS5sZW5ndGggfHwgKHIgPSBudWxsKSwgbi5hdHRyKGEsIHIpLCBuLmF0dHIodCwgcikpIDogInRhYmluZGV4IiA9PT0gdCA/IChuLmF0dHIoYSwgciksIG4uYXR0cih0LCBudWxsKSkgOiBuLmF0dHIoYSwgdS5jb252ZXJ0VVJMKHIsIHQsIG4ubmFtZSkpKTsKICAgICAgfQogICAgfSksIGkuYWRkTm9kZUZpbHRlcigic2NyaXB0IiwgZnVuY3Rpb24gKGUpIHsKICAgICAgZm9yICh2YXIgdCA9IGUubGVuZ3RoOyB0LS07KSB7CiAgICAgICAgdmFyIG4gPSBlW3RdLAogICAgICAgICAgICByID0gbi5hdHRyKCJ0eXBlIikgfHwgIm5vL3R5cGUiOwogICAgICAgIDAgIT09IHIuaW5kZXhPZigibWNlLSIpICYmIG4uYXR0cigidHlwZSIsICJtY2UtIiArIHIpOwogICAgICB9CiAgICB9KSwgdS5zZXR0aW5ncy5wcmVzZXJ2ZV9jZGF0YSAmJiBpLmFkZE5vZGVGaWx0ZXIoIiNjZGF0YSIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGZvciAodmFyIHQgPSBlLmxlbmd0aDsgdC0tOykgewogICAgICAgIHZhciBuID0gZVt0XTsKICAgICAgICBuLnR5cGUgPSA4LCBuLm5hbWUgPSAiI2NvbW1lbnQiLCBuLnZhbHVlID0gIltDREFUQVsiICsgdS5kb20uZW5jb2RlKG4udmFsdWUpICsgIl1dIjsKICAgICAgfQogICAgfSksIGkuYWRkTm9kZUZpbHRlcigicCxoMSxoMixoMyxoNCxoNSxoNixkaXYiLCBmdW5jdGlvbiAoZSkgewogICAgICBmb3IgKHZhciB0ID0gZS5sZW5ndGgsIG4gPSB1LnNjaGVtYS5nZXROb25FbXB0eUVsZW1lbnRzKCk7IHQtLTspIHsKICAgICAgICB2YXIgciA9IGVbdF07CiAgICAgICAgci5pc0VtcHR5KG4pICYmIDAgPT09IHIuZ2V0QWxsKCJiciIpLmxlbmd0aCAmJiAoci5hcHBlbmQobmV3IFVkKCJiciIsIDEpKS5zaG9ydEVuZGVkID0gITApOwogICAgICB9CiAgICB9KSwgaSksIHQuc2VyaWFsaXplciA9IFhoKChhID0gdC5zZXR0aW5ncywgX2UyKF9lMih7fSwgZDEodCkpLCBmMSh7CiAgICAgIHVybF9jb252ZXJ0ZXI6IGEudXJsX2NvbnZlcnRlciwKICAgICAgdXJsX2NvbnZlcnRlcl9zY29wZTogYS51cmxfY29udmVydGVyX3Njb3BlLAogICAgICBlbGVtZW50X2Zvcm1hdDogYS5lbGVtZW50X2Zvcm1hdCwKICAgICAgZW50aXRpZXM6IGEuZW50aXRpZXMsCiAgICAgIGVudGl0eV9lbmNvZGluZzogYS5lbnRpdHlfZW5jb2RpbmcsCiAgICAgIGluZGVudDogYS5pbmRlbnQsCiAgICAgIGluZGVudF9hZnRlcjogYS5pbmRlbnRfYWZ0ZXIsCiAgICAgIGluZGVudF9iZWZvcmU6IGEuaW5kZW50X2JlZm9yZSwKICAgICAgYmxvY2tfZWxlbWVudHM6IGEuYmxvY2tfZWxlbWVudHMsCiAgICAgIGJvb2xlYW5fYXR0cmlidXRlczogYS5ib29sZWFuX2F0dHJpYnV0ZXMsCiAgICAgIGN1c3RvbV9lbGVtZW50czogYS5jdXN0b21fZWxlbWVudHMsCiAgICAgIGV4dGVuZGVkX3ZhbGlkX2VsZW1lbnRzOiBhLmV4dGVuZGVkX3ZhbGlkX2VsZW1lbnRzLAogICAgICBpbnZhbGlkX2VsZW1lbnRzOiBhLmludmFsaWRfZWxlbWVudHMsCiAgICAgIGludmFsaWRfc3R5bGVzOiBhLmludmFsaWRfc3R5bGVzLAogICAgICBtb3ZlX2NhcmV0X2JlZm9yZV9vbl9lbnRlcl9lbGVtZW50czogYS5tb3ZlX2NhcmV0X2JlZm9yZV9vbl9lbnRlcl9lbGVtZW50cywKICAgICAgbm9uX2VtcHR5X2VsZW1lbnRzOiBhLm5vbl9lbXB0eV9lbGVtZW50cywKICAgICAgc2NoZW1hOiBhLnNjaGVtYSwKICAgICAgc2VsZl9jbG9zaW5nX2VsZW1lbnRzOiBhLnNlbGZfY2xvc2luZ19lbGVtZW50cywKICAgICAgc2hvcnRfZW5kZWRfZWxlbWVudHM6IGEuc2hvcnRfZW5kZWRfZWxlbWVudHMsCiAgICAgIHNwZWNpYWw6IGEuc3BlY2lhbCwKICAgICAgdGV4dF9ibG9ja19lbGVtZW50czogYS50ZXh0X2Jsb2NrX2VsZW1lbnRzLAogICAgICB0ZXh0X2lubGluZV9lbGVtZW50czogYS50ZXh0X2lubGluZV9lbGVtZW50cywKICAgICAgdmFsaWRfY2hpbGRyZW46IGEudmFsaWRfY2hpbGRyZW4sCiAgICAgIHZhbGlkX2NsYXNzZXM6IGEudmFsaWRfY2xhc3NlcywKICAgICAgdmFsaWRfZWxlbWVudHM6IGEudmFsaWRfZWxlbWVudHMsCiAgICAgIHZhbGlkX3N0eWxlczogYS52YWxpZF9zdHlsZXMsCiAgICAgIHZlcmlmeV9odG1sOiBhLnZlcmlmeV9odG1sLAogICAgICB3aGl0ZXNwYWNlX2VsZW1lbnRzOiBhLndoaXRlc3BhY2VfZWxlbWVudHMKICAgIH0pKSksIHQpLCB0LnNlbGVjdGlvbiA9IExoKHQuZG9tLCB0LmdldFdpbigpLCB0LnNlcmlhbGl6ZXIsIHQpLCB0LmFubm90YXRvciA9IE1sKHQpLCB0LmZvcm1hdHRlciA9IEp2KHQpLCB0LnVuZG9NYW5hZ2VyID0gWnYodCksIHQuX25vZGVDaGFuZ2VEaXNwYXRjaGVyID0gbmV3IGUxKHQpLCB0Ll9zZWxlY3Rpb25PdmVycmlkZXMgPSBjMSh0KSwgZCA9IHQsIG0gPSBjdSgpLCBnID0gcnUoITEpLCBwID0gZnUoZnVuY3Rpb24gKGUpIHsKICAgICAgZC5maXJlKCJsb25ncHJlc3MiLCBfZTIoX2UyKHt9LCBlKSwgewogICAgICAgIHR5cGU6ICJsb25ncHJlc3MiCiAgICAgIH0pKSwgZy5zZXQoITApOwogICAgfSwgNDAwKSwgZC5vbigidG91Y2hzdGFydCIsIGZ1bmN0aW9uIChuKSB7CiAgICAgIFMwKG4pLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICBwLmNhbmNlbCgpOwogICAgICAgIHZhciB0ID0gewogICAgICAgICAgeDogZS5jbGllbnRYLAogICAgICAgICAgeTogZS5jbGllbnRZLAogICAgICAgICAgdGFyZ2V0OiBuLnRhcmdldAogICAgICAgIH07CiAgICAgICAgcC50aHJvdHRsZShuKSwgZy5zZXQoITEpLCBtLnNldCh0KTsKICAgICAgfSk7CiAgICB9LCAhMCksIGQub24oInRvdWNobW92ZSIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIHAuY2FuY2VsKCksIFMwKGUpLmVhY2goZnVuY3Rpb24gKGkpIHsKICAgICAgICBtLm9uKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB2YXIgdCA9IGksCiAgICAgICAgICAgICAgbiA9IGUsCiAgICAgICAgICAgICAgciA9IE1hdGguYWJzKHQuY2xpZW50WCAtIG4ueCksCiAgICAgICAgICAgICAgbyA9IE1hdGguYWJzKHQuY2xpZW50WSAtIG4ueSk7CiAgICAgICAgICAoNSA8IHIgfHwgNSA8IG8pICYmIChtLmNsZWFyKCksIGcuc2V0KCExKSwgZC5maXJlKCJsb25ncHJlc3NjYW5jZWwiKSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwgITApLCBkLm9uKCJ0b3VjaGVuZCB0b3VjaGNhbmNlbCIsIGZ1bmN0aW9uICh0KSB7CiAgICAgIHAuY2FuY2VsKCksICJ0b3VjaGNhbmNlbCIgIT09IHQudHlwZSAmJiBtLmdldCgpLmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBlLnRhcmdldC5pc0VxdWFsTm9kZSh0LnRhcmdldCk7CiAgICAgIH0pLmVhY2goZnVuY3Rpb24gKCkgewogICAgICAgIGcuZ2V0KCkgPyB0LnByZXZlbnREZWZhdWx0KCkgOiBkLmZpcmUoInRhcCIsIF9lMihfZTIoe30sIHQpLCB7CiAgICAgICAgICB0eXBlOiAidGFwIgogICAgICAgIH0pKTsKICAgICAgfSk7CiAgICB9LCAhMCksIChsID0gYyA9IHQpLm9uKCJjbGljayIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIGwuZG9tLmdldFBhcmVudChlLnRhcmdldCwgImRldGFpbHMiKSAmJiBlLnByZXZlbnREZWZhdWx0KCk7CiAgICB9KSwgKGYgPSBjKS5wYXJzZXIuYWRkTm9kZUZpbHRlcigiZGV0YWlscyIsIGZ1bmN0aW9uIChlKSB7CiAgICAgIFkoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBlLmF0dHIoImRhdGEtbWNlLW9wZW4iLCBlLmF0dHIoIm9wZW4iKSksIGUuYXR0cigib3BlbiIsICJvcGVuIik7CiAgICAgIH0pOwogICAgfSksIGYuc2VyaWFsaXplci5hZGROb2RlRmlsdGVyKCJkZXRhaWxzIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgWShlLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHZhciB0ID0gZS5hdHRyKCJkYXRhLW1jZS1vcGVuIik7CiAgICAgICAgZS5hdHRyKCJvcGVuIiwgWCh0KSA/IHQgOiBudWxsKSwgZS5hdHRyKCJkYXRhLW1jZS1vcGVuIiwgbnVsbCk7CiAgICAgIH0pOwogICAgfSksIG1oKHQpIHx8IChzID0gdCkub24oImNsaWNrIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQsIG4sIHIsIG8sIGk7CiAgICAgIDMgPD0gZS5kZXRhaWwgJiYgKHIgPSAodCA9IHMpLnNlbGVjdGlvbi5nZXRSbmcoKSwgbyA9IGFzLmZyb21SYW5nZVN0YXJ0KHIpLCBpID0gYXMuZnJvbVJhbmdlRW5kKHIpLCAhYXMuaXNFbGVtZW50UG9zaXRpb24obykgfHwgbjEobiA9IG8uY29udGFpbmVyKCkpICYmIGVmKG4pLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gci5zZXRTdGFydChlLmNvbnRhaW5lcigpLCBlLm9mZnNldCgpKTsKICAgICAgfSksICFhcy5pc0VsZW1lbnRQb3NpdGlvbihpKSB8fCBuMShuID0gby5jb250YWluZXIoKSkgJiYgdGYobikuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiByLnNldEVuZChlLmNvbnRhaW5lcigpLCBlLm9mZnNldCgpKTsKICAgICAgfSksIHQuc2VsZWN0aW9uLnNldFJuZyh2ZyhyKSkpOwogICAgfSk7CgogICAgdmFyIHYsCiAgICAgICAgYiwKICAgICAgICB5LAogICAgICAgIEMsCiAgICAgICAgeCwKICAgICAgICB3LAogICAgICAgIF9TLAogICAgICAgIEUsCiAgICAgICAgTiwKICAgICAgICBrID0gbWgodiA9IHQpID8gcnUobnVsbCkgOiBQQyh2KTsKCiAgICBOID0gaywgKEUgPSB0KS5hZGRDb21tYW5kKCJkZWxldGUiLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBlLAogICAgICAgICAgdCA9IE47CiAgICAgIHgwKGUgPSBFKSB8fCBQYihlLCAhMSkgfHwgQWIoZSwgITEpIHx8IGwwKGUsIHQsICExKSB8fCB2YihlLCAhMSkgfHwgaGcoZSkgfHwgTGIoZSwgITEpIHx8IHAwKGUsICExKSB8fCBDYihlKSB8fCBtMChlLCAhMSkgfHwgKHcwKGUsICJEZWxldGUiKSwgdWIoZSkpOwogICAgfSksIEUuYWRkQ29tbWFuZCgiZm9yd2FyZERlbGV0ZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGUsCiAgICAgICAgICB0ID0gTjsKICAgICAgUGIoZSA9IEUsICEwKSB8fCBBYihlLCAhMCkgfHwgbDAoZSwgdCwgITApIHx8IHZiKGUsICEwKSB8fCBoZyhlKSB8fCBMYihlLCAhMCkgfHwgcDAoZSwgITApIHx8IENiKGUpIHx8IG0wKGUsICEwKSB8fCB3MChlLCAiRm9yd2FyZERlbGV0ZSIpOwogICAgfSksIFNzKGIgPSB0KSAmJiBiLm9uKCJOb2RlQ2hhbmdlIiwgQShOMCwgYikpLCBDID0gKHkgPSB0KS5kb20sIHggPSBTcyh5KSwgdyA9IHkuZ2V0UGFyYW0oInBsYWNlaG9sZGVyIiwgZ2MuZ2V0QXR0cmliKHkuZ2V0RWxlbWVudCgpLCAicGxhY2Vob2xkZXIiKSwgInN0cmluZyIpLCBfUyA9IGZ1bmN0aW9uIFMoZSwgdCkgewogICAgICB2YXIgbiwgciwgbzsKICAgICAgIWZ1bmN0aW9uIChlKSB7CiAgICAgICAgaWYgKGViKGUpKSB7CiAgICAgICAgICB2YXIgdCA9IGUua2V5Q29kZTsKICAgICAgICAgIHJldHVybiAhdGIoZSkgJiYgKEJmLm1ldGFLZXlQcmVzc2VkKGUpIHx8IGUuYWx0S2V5IHx8IDExMiA8PSB0ICYmIHQgPD0gMTIzIHx8IEQobXksIHQpKTsKICAgICAgICB9CiAgICAgIH0oZSkgJiYgKG4gPSB5LmdldEJvZHkoKSwgciA9ICEoZWIobyA9IGUpICYmICEodGIobykgfHwgImtleXVwIiA9PT0gby50eXBlICYmIDIyOSA9PT0gby5rZXlDb2RlKSkgJiYgZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgICBpZiAoV3IoTnQuZnJvbURvbSh0KSwgITEpKSB7CiAgICAgICAgICB2YXIgciA9ICIiID09PSBuLAogICAgICAgICAgICAgIG8gPSB0LmZpcnN0RWxlbWVudENoaWxkOwogICAgICAgICAgcmV0dXJuICFvIHx8ICFlLmdldFN0eWxlKHQuZmlyc3RFbGVtZW50Q2hpbGQsICJwYWRkaW5nLWxlZnQiKSAmJiAhZS5nZXRTdHlsZSh0LmZpcnN0RWxlbWVudENoaWxkLCAicGFkZGluZy1yaWdodCIpICYmIChyID8gIWUuaXNCbG9jayhvKSA6IG4gPT09IG8ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gITE7CiAgICAgIH0oQywgbiwgeCksICIiICE9PSBDLmdldEF0dHJpYihuLCBneSkgPT09IHIgJiYgIXQgfHwgKEMuc2V0QXR0cmliKG4sIGd5LCByID8gdyA6IG51bGwpLCBDLnNldEF0dHJpYihuLCAiYXJpYS1wbGFjZWhvbGRlciIsIHIgPyB3IDogbnVsbCksIHkuZmlyZSgiUGxhY2Vob2xkZXJUb2dnbGUiLCB7CiAgICAgICAgc3RhdGU6IHIKICAgICAgfSksIHkub24ociA/ICJrZXlkb3duIiA6ICJrZXl1cCIsIF9TKSwgeS5vZmYociA/ICJrZXl1cCIgOiAia2V5ZG93biIsIF9TKSkpOwogICAgfSwgdyAmJiB5Lm9uKCJpbml0IiwgZnVuY3Rpb24gKGUpIHsKICAgICAgX1MoZSwgITApLCB5Lm9uKCJjaGFuZ2UgU2V0Q29udGVudCBFeGVjQ29tbWFuZCIsIF9TKSwgeS5vbigicGFzdGUiLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBfci5zZXRFZGl0b3JUaW1lb3V0KHksIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHJldHVybiBfUyhlKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9KTsKCiAgICB2YXIgXyA9IGdoKHQpOwoKICAgIChmdW5jdGlvbiAodCkgewogICAgICB2YXIgZSA9IHQuc2V0dGluZ3MsCiAgICAgICAgICBuID0gdC5nZXREb2MoKSwKICAgICAgICAgIHIgPSB0LmdldEJvZHkoKTsKICAgICAgdC5maXJlKCJQcmVJbml0IiksIGUuYnJvd3Nlcl9zcGVsbGNoZWNrIHx8IGUuZ2Vja29fc3BlbGxjaGVjayB8fCAobi5ib2R5LnNwZWxsY2hlY2sgPSAhMSwgTDEuc2V0QXR0cmliKHIsICJzcGVsbGNoZWNrIiwgImZhbHNlIikpLCB0LnF1aXJrcyA9IGwxKHQpLCB0LmZpcmUoIlBvc3RSZW5kZXIiKTsKICAgICAgdmFyIG8gPSB0LmdldFBhcmFtKCJkaXJlY3Rpb25hbGl0eSIsIHV1LmlzUnRsKCkgPyAicnRsIiA6IHZvaWQgMCk7CiAgICAgIHZvaWQgMCAhPT0gbyAmJiAoci5kaXIgPSBvKSwgZS5wcm90ZWN0ICYmIHQub24oIkJlZm9yZVNldENvbnRlbnQiLCBmdW5jdGlvbiAodCkgewogICAgICAgIEV0LmVhY2goZS5wcm90ZWN0LCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgdC5jb250ZW50ID0gdC5jb250ZW50LnJlcGxhY2UoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgcmV0dXJuICJceDNjIS0tbWNlOnByb3RlY3RlZCAiICsgZXNjYXBlKGUpICsgIi0tXHgzZSI7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSksIHQub24oIlNldENvbnRlbnQiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdC5hZGRWaXN1YWwodC5nZXRCb2R5KCkpOwogICAgICB9KSwgdC5vbigiY29tcG9zaXRpb25zdGFydCBjb21wb3NpdGlvbmVuZCIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdC5jb21wb3NpbmcgPSAiY29tcG9zaXRpb25zdGFydCIgPT09IGUudHlwZTsKICAgICAgfSk7CiAgICB9KSh0KSwgXy5mb2xkKGZ1bmN0aW9uICgpIHsKICAgICAgcDEodCkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIGgxKHQpOwogICAgICB9KTsKICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgIHQuc2V0UHJvZ3Jlc3NTdGF0ZSghMCksIHAxKHQpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIGUoKS50aGVuKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB0LnNldFByb2dyZXNzU3RhdGUoITEpLCBoMSh0KTsKICAgICAgICB9LCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgdC5ub3RpZmljYXRpb25NYW5hZ2VyLm9wZW4oewogICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICB0ZXh0OiBTdHJpbmcoZSkKICAgICAgICAgIH0pLCBoMSh0KTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIGIxKGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIsCiAgICAgICAgbywKICAgICAgICBpLAogICAgICAgIGEgPSBlLnRyYW5zbGF0ZSgiUmljaCBUZXh0IEFyZWEiKSwKICAgICAgICB1ID0gKG4gPSBlLmlkLCByID0gYSwgdC5oZWlnaHQsIG8gPSBlLmdldFBhcmFtKCJpZnJhbWVfYXR0cnMiLCB7fSksIGhuKGkgPSBOdC5mcm9tVGFnKCJpZnJhbWUiKSwgbyksIGhuKGksIHsKICAgICAgaWQ6IG4gKyAiX2lmciIsCiAgICAgIGZyYW1lQm9yZGVyOiAiMCIsCiAgICAgIGFsbG93VHJhbnNwYXJlbmN5OiAidHJ1ZSIsCiAgICAgIHRpdGxlOiByCiAgICB9KSwgZ3UoaSwgInRveC1lZGl0LWFyZWFfX2lmcmFtZSIpLCBpLmRvbSk7CgogICAgdS5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHUub25sb2FkID0gbnVsbCwgZS5maXJlKCJsb2FkIik7CiAgICB9OwoKICAgIHZhciBzID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgaWYgKGRvY3VtZW50LmRvbWFpbiAhPT0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lICYmIHh0LmJyb3dzZXIuaXNJRSgpKSB7CiAgICAgICAgdmFyIG4gPSBqdigibWNlIik7CgogICAgICAgIGVbbl0gPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgICB2MShlKTsKICAgICAgICB9OwoKICAgICAgICB2YXIgciA9ICdqYXZhc2NyaXB0OihmdW5jdGlvbigpe2RvY3VtZW50Lm9wZW4oKTtkb2N1bWVudC5kb21haW49IicgKyBkb2N1bWVudC5kb21haW4gKyAnIjt2YXIgZWQgPSB3aW5kb3cucGFyZW50LnRpbnltY2UuZ2V0KCInICsgZS5pZCArICciKTtkb2N1bWVudC53cml0ZShlZC5pZnJhbWVIVE1MKTtkb2N1bWVudC5jbG9zZSgpO2VkLicgKyBuICsgIih0cnVlKTt9KSgpIjsKICAgICAgICByZXR1cm4gSTEuc2V0QXR0cmliKHQsICJzcmMiLCByKSwgITA7CiAgICAgIH0KCiAgICAgIHJldHVybiAhMTsKICAgIH0oZSwgdSk7CgogICAgcmV0dXJuIGUuY29udGVudEFyZWFDb250YWluZXIgPSB0LmlmcmFtZUNvbnRhaW5lciwgZS5pZnJhbWVFbGVtZW50ID0gdSwgZS5pZnJhbWVIVE1MID0gZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQgPSBlLmdldFBhcmFtKCJkb2N0eXBlIiwgIjwhRE9DVFlQRSBodG1sPiIpICsgIjxodG1sPjxoZWFkPiI7CiAgICAgIGUuZ2V0UGFyYW0oImRvY3VtZW50X2Jhc2VfdXJsIiwgIiIpICE9PSBlLmRvY3VtZW50QmFzZVVybCAmJiAodCArPSAnPGJhc2UgaHJlZj0iJyArIGUuZG9jdW1lbnRCYXNlVVJJLmdldFVSSSgpICsgJyIgLz4nKSwgdCArPSAnPG1ldGEgaHR0cC1lcXVpdj0iQ29udGVudC1UeXBlIiBjb250ZW50PSJ0ZXh0L2h0bWw7IGNoYXJzZXQ9VVRGLTgiIC8+JzsKICAgICAgdmFyIG4gPSB4cyhlLCAiYm9keV9pZCIsICJ0aW55bWNlIiksCiAgICAgICAgICByID0geHMoZSwgImJvZHlfY2xhc3MiLCAiIiksCiAgICAgICAgICBvID0gZS50cmFuc2xhdGUoZS5nZXRQYXJhbSgiaWZyYW1lX2FyaWFfdGV4dCIsICJSaWNoIFRleHQgQXJlYS4gUHJlc3MgQUxULTAgZm9yIGhlbHAuIiwgInN0cmluZyIpKTsKICAgICAgcmV0dXJuIHdzKGUpICYmICh0ICs9ICc8bWV0YSBodHRwLWVxdWl2PSJDb250ZW50LVNlY3VyaXR5LVBvbGljeSIgY29udGVudD0iJyArIHdzKGUpICsgJyIgLz4nKSwgdCArICgnPC9oZWFkPjxib2R5IGlkPSInICsgbiArICciIGNsYXNzPSJtY2UtY29udGVudC1ib2R5ICcgKyByICsgJyIgZGF0YS1pZD0iJyArIGUuaWQpICsgJyIgYXJpYS1sYWJlbD0iJyArIG8gKyAnIj48YnI+PC9ib2R5PjwvaHRtbD4nOwogICAgfShlKSwgSTEuYWRkKHQuaWZyYW1lQ29udGFpbmVyLCB1KSwgczsKICB9CgogIGZ1bmN0aW9uIHkxKGUpIHsKICAgIHJldHVybiBlLnJlcGxhY2UoL15cLS8sICIiKTsKICB9CgogIGZ1bmN0aW9uIEMxKGUpIHsKICAgIHJldHVybiB7CiAgICAgIGVkaXRvckNvbnRhaW5lcjogZSwKICAgICAgaWZyYW1lQ29udGFpbmVyOiBlLAogICAgICBhcGk6IHt9CiAgICB9OwogIH0KCiAgZnVuY3Rpb24geDEoZSkgewogICAgdmFyIHQsCiAgICAgICAgbiwKICAgICAgICByLAogICAgICAgIG8sCiAgICAgICAgaSwKICAgICAgICBhLAogICAgICAgIHUsCiAgICAgICAgcyA9IGUuZ2V0RWxlbWVudCgpOwogICAgcmV0dXJuIGUub3JnRGlzcGxheSA9IHMuc3R5bGUuZGlzcGxheSwgWChCcyhlKSkgPyBlLnRoZW1lLnJlbmRlclVJKCkgOiB5KEJzKGUpKSA/IChuID0gKHQgPSBlKS5nZXRFbGVtZW50KCksIChyID0gQnModCkodCwgbikpLmVkaXRvckNvbnRhaW5lci5ub2RlVHlwZSAmJiAoci5lZGl0b3JDb250YWluZXIuaWQgPSByLmVkaXRvckNvbnRhaW5lci5pZCB8fCB0LmlkICsgIl9wYXJlbnQiKSwgci5pZnJhbWVDb250YWluZXIgJiYgci5pZnJhbWVDb250YWluZXIubm9kZVR5cGUgJiYgKHIuaWZyYW1lQ29udGFpbmVyLmlkID0gci5pZnJhbWVDb250YWluZXIuaWQgfHwgdC5pZCArICJfaWZyYW1lY29udGFpbmVyIiksIHIuaGVpZ2h0ID0gci5pZnJhbWVIZWlnaHQgfHwgbi5vZmZzZXRIZWlnaHQsIHIpIDogKHUgPSAobyA9IGUpLmdldEVsZW1lbnQoKSwgby5pbmxpbmUgPyBDMShudWxsKSA6IChpID0gdSwgYSA9IE0xLmNyZWF0ZSgiZGl2IiksIE0xLmluc2VydEFmdGVyKGEsIGkpLCBDMShhKSkpOwogIH0KCiAgZnVuY3Rpb24gdzEoZSkgewogICAgdmFyIG4sIHQsIHIsIG8sIGksIGEsIHUsIHM7CiAgICBlLmZpcmUoIlNjcmlwdHNMb2FkZWQiKSwgbiA9IGUsIHQgPSBFdC50cmltKGtzKG4pKSwgciA9IG4udWkucmVnaXN0cnkuZ2V0QWxsKCkuaWNvbnMsIG5lKF9lMihfZTIoe30sIF92LmdldCgiZGVmYXVsdCIpLmljb25zKSwgX3YuZ2V0KHQpLmljb25zKSwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgTmUociwgdCkgfHwgbi51aS5yZWdpc3RyeS5hZGRJY29uKHQsIGUpOwogICAgfSksIGEgPSBCcyhvID0gZSksIFgoYSkgPyAoby5zZXR0aW5ncy50aGVtZSA9IHkxKGEpLCBpID0gQnYuZ2V0KGEpLCBvLnRoZW1lID0gbmV3IGkobywgQnYudXJsc1thXSksIG8udGhlbWUuaW5pdCAmJiBvLnRoZW1lLmluaXQobywgQnYudXJsc1thXSB8fCBvLmRvY3VtZW50QmFzZVVybC5yZXBsYWNlKC9cLyQvLCAiIiksIG8uJCkpIDogby50aGVtZSA9IHt9LCBzID0gW10sIEV0LmVhY2goTHModSA9IGUpLnNwbGl0KC9bICxdLyksIGZ1bmN0aW9uIChlKSB7CiAgICAgIEYxKHUsIHMsIHkxKGUpKTsKICAgIH0pOwogICAgdmFyIGMgPSB4MShlKSwKICAgICAgICBsID0gZSwKICAgICAgICBmID0gdmUuZnJvbShjLmFwaSkuZ2V0T3Ioe30pLAogICAgICAgIGQgPSB7CiAgICAgIHNob3c6IHZlLmZyb20oZi5zaG93KS5nZXRPcih0ZSksCiAgICAgIGhpZGU6IHZlLmZyb20oZi5oaWRlKS5nZXRPcih0ZSksCiAgICAgIGRpc2FibGU6IHZlLmZyb20oZi5kaXNhYmxlKS5nZXRPcih0ZSksCiAgICAgIGlzRGlzYWJsZWQ6IHZlLmZyb20oZi5pc0Rpc2FibGVkKS5nZXRPcihSKSwKICAgICAgZW5hYmxlOiBmdW5jdGlvbiBlbmFibGUoKSB7CiAgICAgICAgbC5tb2RlLmlzUmVhZE9ubHkoKSB8fCB2ZS5mcm9tKGYuZW5hYmxlKS5tYXAoeCk7CiAgICAgIH0KICAgIH07CiAgICBsLnVpID0gX2UyKF9lMih7fSwgbC51aSksIGQpOwogICAgdmFyIG0sCiAgICAgICAgZywKICAgICAgICBwLAogICAgICAgIGggPSB7CiAgICAgIGVkaXRvckNvbnRhaW5lcjogYy5lZGl0b3JDb250YWluZXIsCiAgICAgIGlmcmFtZUNvbnRhaW5lcjogYy5pZnJhbWVDb250YWluZXIKICAgIH07CiAgICByZXR1cm4gZS5lZGl0b3JDb250YWluZXIgPSBoLmVkaXRvckNvbnRhaW5lciB8fCBudWxsLCB6dihlKSwgZS5pbmxpbmUgPyB2MShlKSA6IChwID0gYjEobSA9IGUsIGcgPSBoKSwgZy5lZGl0b3JDb250YWluZXIgJiYgKEkxLmdldChnLmVkaXRvckNvbnRhaW5lcikuc3R5bGUuZGlzcGxheSA9IG0ub3JnRGlzcGxheSwgbS5oaWRkZW4gPSBJMS5pc0hpZGRlbihnLmVkaXRvckNvbnRhaW5lcikpLCBtLmdldEVsZW1lbnQoKS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiLCBJMS5zZXRBdHRyaWIobS5pZCwgImFyaWEtaGlkZGVuIiwgInRydWUiKSwgdm9pZCAocCB8fCB2MShtKSkpOwogIH0KCiAgZnVuY3Rpb24gUzEoZSkgewogICAgcmV0dXJuICItIiA9PT0gZS5jaGFyQXQoMCk7CiAgfQoKICBmdW5jdGlvbiBFMSh0LCBlLCBuKSB7CiAgICByZXR1cm4gdmUuZnJvbShlKS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIDAgPCBlLmxlbmd0aCAmJiAhX3YuaGFzKGUpOwogICAgfSkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgdXJsOiB0LmVkaXRvck1hbmFnZXIuYmFzZVVSTCArICIvaWNvbnMvIiArIGUgKyAiL2ljb25zIiArIG4gKyAiLmpzIiwKICAgICAgICBuYW1lOiB2ZS5zb21lKGUpCiAgICAgIH07CiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIE4xKGMsIGwpIHsKICAgIHZhciBlLAogICAgICAgIHQsCiAgICAgICAgZiA9IHR1LlNjcmlwdExvYWRlciwKICAgICAgICBuID0gZiwKICAgICAgICByID0gbCwKICAgICAgICBvID0gZnVuY3Rpb24gbygpIHsKICAgICAgdmFyIHIsIG8sIHQsIG4sIGUsIGksIGEsIHUsIHM7CiAgICAgIGUgPSBmLCB1ID0gQXMoaSA9IGMpLCBzID0gaS5nZXRQYXJhbSgibGFuZ3VhZ2VfdXJsIiwgIiIsICJzdHJpbmciKSwgITEgPT09IHV1Lmhhc0NvZGUodSkgJiYgImVuIiAhPT0gdSAmJiAoYSA9ICIiICE9PSBzID8gcyA6IGkuZWRpdG9yTWFuYWdlci5iYXNlVVJMICsgIi9sYW5ncy8iICsgdSArICIuanMiLCBlLmFkZChhLCB0ZSwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgTXYoaSwgIkxhbmd1YWdlTG9hZEVycm9yIiwgRnYoImxhbmd1YWdlIiwgYSwgdSkpOwogICAgICB9KSksIHQgPSBmLCBZKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgZm9yICh2YXIgdCA9IFtdLCBuID0gZnVuY3Rpb24gbihlKSB7CiAgICAgICAgICB0LnB1c2goZSk7CiAgICAgICAgfSwgciA9IDA7IHIgPCBlLmxlbmd0aDsgcisrKSB7CiAgICAgICAgICBlW3JdLmVhY2gobik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdDsKICAgICAgfShbRTEobiA9IGMsICJkZWZhdWx0IiwgbCksIHZlLmZyb20obi5nZXRQYXJhbSgiaWNvbnNfdXJsIiwgIiIsICJzdHJpbmciKSkuZmlsdGVyKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIDAgPCBlLmxlbmd0aDsKICAgICAgfSkubWFwKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHVybDogZSwKICAgICAgICAgIG5hbWU6IHZlLm5vbmUoKQogICAgICAgIH07CiAgICAgIH0pLm9yVGh1bmsoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBFMShuLCBrcyhuKSwgIiIpOwogICAgICB9KV0pLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHQuYWRkKGUudXJsLCB0ZSwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBNdihuLCAiSWNvbnNMb2FkRXJyb3IiLCBGdigiaWNvbnMiLCBlLnVybCwgZS5uYW1lLmdldE9yVW5kZWZpbmVkKCkpKTsKICAgICAgICB9KTsKICAgICAgfSksIHIgPSBjLCBvID0gbCwgRXQuZWFjaChyLmdldFBhcmFtKCJleHRlcm5hbF9wbHVnaW5zIiksIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgT3YubG9hZCh0LCBlLCB0ZSwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBVdihyLCBlLCB0KTsKICAgICAgICB9KSwgci5zZXR0aW5ncy5wbHVnaW5zICs9ICIgIiArIHQ7CiAgICAgIH0pLCBFdC5lYWNoKExzKHIpLnNwbGl0KC9bICxdLyksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgdmFyIHQsIG47CiAgICAgICAgKGUgPSBFdC50cmltKGUpKSAmJiAhT3YudXJsc1tlXSAmJiAoUzEoZSkgPyAoZSA9IGUuc3Vic3RyKDEsIGUubGVuZ3RoKSwgdCA9IE92LmRlcGVuZGVuY2llcyhlKSwgRXQuZWFjaCh0LCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgdmFyIHQgPSBPdi5jcmVhdGVVcmwoewogICAgICAgICAgICBwcmVmaXg6ICJwbHVnaW5zLyIsCiAgICAgICAgICAgIHJlc291cmNlOiBlLAogICAgICAgICAgICBzdWZmaXg6ICIvcGx1Z2luIiArIG8gKyAiLmpzIgogICAgICAgICAgfSwgZSk7CiAgICAgICAgICBPdi5sb2FkKHQucmVzb3VyY2UsIHQsIHRlLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgVXYociwgdC5wcmVmaXggKyB0LnJlc291cmNlICsgdC5zdWZmaXgsIHQucmVzb3VyY2UpOwogICAgICAgICAgfSk7CiAgICAgICAgfSkpIDogKG4gPSB7CiAgICAgICAgICBwcmVmaXg6ICJwbHVnaW5zLyIsCiAgICAgICAgICByZXNvdXJjZTogZSwKICAgICAgICAgIHN1ZmZpeDogIi9wbHVnaW4iICsgbyArICIuanMiCiAgICAgICAgfSwgT3YubG9hZChlLCBuLCB0ZSwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBVdihyLCBuLnByZWZpeCArIG4ucmVzb3VyY2UgKyBuLnN1ZmZpeCwgZSk7CiAgICAgICAgfSkpKTsKICAgICAgfSksIGYubG9hZFF1ZXVlKGZ1bmN0aW9uICgpIHsKICAgICAgICBjLnJlbW92ZWQgfHwgdzEoYyk7CiAgICAgIH0sIGMsIGZ1bmN0aW9uICgpIHsKICAgICAgICBjLnJlbW92ZWQgfHwgdzEoYyk7CiAgICAgIH0pOwogICAgfSwKICAgICAgICBpID0gQnMoZSA9IGMpOwoKICAgIFgoaSkgPyAoUzEoaSkgfHwgTmUoQnYudXJscywgaSkgfHwgKCh0ID0gZS5nZXRQYXJhbSgidGhlbWVfdXJsIikpID8gQnYubG9hZChpLCBlLmRvY3VtZW50QmFzZVVSSS50b0Fic29sdXRlKHQpKSA6IEJ2LmxvYWQoaSwgInRoZW1lcy8iICsgaSArICIvdGhlbWUiICsgciArICIuanMiKSksIG4ubG9hZFF1ZXVlKGZ1bmN0aW9uICgpIHsKICAgICAgQnYud2FpdEZvcihpLCBvKTsKICAgIH0pKSA6IG8oKTsKICB9CgogIGZ1bmN0aW9uIGsxKGEpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoaSwgZSkgewogICAgICByZXR1cm4gdmUuZnJvbShlKS5tYXAoTnQuZnJvbURvbSkuZmlsdGVyKGtuKS5iaW5kKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIG4gPSBhLCB0ID0gaSwgciA9IGUuZG9tLCBBZyhOdC5mcm9tRG9tKHIpLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIHduKHQgPSBlLCBuKS5vclRodW5rKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuICJmb250IiA9PT0ga3QodCkgPyB1ZSh6MSwgbikuYmluZChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgIHJldHVybiBibih0LCBlKTsKICAgICAgICAgICAgfSkgOiB2ZS5ub25lKCk7CiAgICAgICAgICB9KTsKICAgICAgICAgIHZhciB0OwogICAgICAgIH0sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gamUoTnQuZnJvbURvbSh0KSwgZSk7CiAgICAgICAgfSkub3IoKG8gPSBlLmRvbSwgdmUuZnJvbShKYS5ET00uZ2V0U3R5bGUobywgYSwgITApKSkpOwogICAgICAgIHZhciBuLCB0LCByLCBvOwogICAgICB9KS5nZXRPcigiIik7CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gXzEoZSkgewogICAgcmV0dXJuIGVmKGUuZ2V0Qm9keSgpKS5tYXAoZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQgPSBlLmNvbnRhaW5lcigpOwogICAgICByZXR1cm4gam4odCkgPyB0LnBhcmVudE5vZGUgOiB0OwogICAgfSk7CiAgfQoKICBmdW5jdGlvbiBBMShlLCB0KSB7CiAgICByZXR1cm4gbiA9IGUsIHIgPSBhKHZlLnNvbWUsIHQpLCBvID0gbiwgdmUuZnJvbShvLnNlbGVjdGlvbi5nZXRSbmcoKSkuYmluZChmdW5jdGlvbiAoZSkgewogICAgICB2YXIgdCA9IG8uZ2V0Qm9keSgpOwogICAgICByZXR1cm4gZS5zdGFydENvbnRhaW5lciA9PT0gdCAmJiAwID09PSBlLnN0YXJ0T2Zmc2V0ID8gdmUubm9uZSgpIDogdmUuZnJvbShvLnNlbGVjdGlvbi5nZXRTdGFydCghMCkpOwogICAgfSkub3JUaHVuayhBKF8xLCBuKSkubWFwKE50LmZyb21Eb20pLmZpbHRlcihrbikuYmluZChyKTsKICAgIHZhciBuLCByLCBvOwogIH0KCiAgZnVuY3Rpb24gUjEoZSwgdCkgewogICAgaWYgKC9eWzAtOS5dKyQvLnRlc3QodCkpIHsKICAgICAgdmFyIG4gPSBwYXJzZUludCh0LCAxMCk7CgogICAgICBpZiAoMSA8PSBuICYmIG4gPD0gNykgewogICAgICAgIHZhciByID0gRXQuZXhwbG9kZShlLmdldFBhcmFtKCJmb250X3NpemVfc3R5bGVfdmFsdWVzIiwgInh4LXNtYWxsLHgtc21hbGwsc21hbGwsbWVkaXVtLGxhcmdlLHgtbGFyZ2UseHgtbGFyZ2UiKSksCiAgICAgICAgICAgIG8gPSBFdC5leHBsb2RlKGUuZ2V0UGFyYW0oImZvbnRfc2l6ZV9jbGFzc2VzIiwgIiIpKTsKICAgICAgICByZXR1cm4gbyA/IG9bbiAtIDFdIHx8IHQgOiByW24gLSAxXSB8fCB0OwogICAgICB9CgogICAgICByZXR1cm4gdDsKICAgIH0KCiAgICByZXR1cm4gdDsKICB9CgogIHZhciBEMSA9IFluLAogICAgICBUMSA9IFhuLAogICAgICBPMSA9IGZ1bmN0aW9uIE8xKGUpIHsKICAgIGUub24oZnVuY3Rpb24gKGUpIHsKICAgICAgbzEoZS5naG9zdCk7CiAgICB9KSwgZS5jbGVhcigpOwogIH0sCiAgICAgIEIxID0gWG4sCiAgICAgIFAxID0gWW4sCiAgICAgIEwxID0gSmEuRE9NLAogICAgICBJMSA9IEphLkRPTSwKICAgICAgTTEgPSBKYS5ET00sCiAgICAgIEYxID0gZnVuY3Rpb24gRjEodCwgbiwgcikgewogICAgdmFyIG8sCiAgICAgICAgaSwKICAgICAgICBhLAogICAgICAgIHUsCiAgICAgICAgZSA9IE92LmdldChyKSwKICAgICAgICBzID0gT3YudXJsc1tyXSB8fCB0LmRvY3VtZW50QmFzZVVybC5yZXBsYWNlKC9cLyQvLCAiIik7CiAgICBpZiAociA9IEV0LnRyaW0ociksIGUgJiYgLTEgPT09IEV0LmluQXJyYXkobiwgcikgJiYgKEV0LmVhY2goT3YuZGVwZW5kZW5jaWVzKHIpLCBmdW5jdGlvbiAoZSkgewogICAgICBGMSh0LCBuLCBlKTsKICAgIH0pLCAhdC5wbHVnaW5zW3JdKSkgdHJ5IHsKICAgICAgdmFyIGMgPSBuZXcgZSh0LCBzLCB0LiQpOwogICAgICAodC5wbHVnaW5zW3JdID0gYykuaW5pdCAmJiAoYy5pbml0KHQsIHMpLCBuLnB1c2gocikpOwogICAgfSBjYXRjaCAoZSkgewogICAgICBpID0gciwgYSA9IGUsIHZmKG8gPSB0LCAiUGx1Z2luTG9hZEVycm9yIiwgewogICAgICAgIG1lc3NhZ2U6IHUgPSB1dS50cmFuc2xhdGUoWyJGYWlsZWQgdG8gaW5pdGlhbGl6ZSBwbHVnaW46IHswfSIsIGldKQogICAgICB9KSwgYXkodSwgYSksIEl2KG8sIHUpOwogICAgfQogIH0sCiAgICAgIFUxID0gSmEuRE9NLAogICAgICB6MSA9IHsKICAgICJmb250LXNpemUiOiAic2l6ZSIsCiAgICAiZm9udC1mYW1pbHkiOiAiZmFjZSIKICB9LAogICAgICBIMSA9IGsxKCJmb250LXNpemUiKSwKICAgICAgajEgPSBpKGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gZS5yZXBsYWNlKC9bXCdcIlxcXS9nLCAiIikucmVwbGFjZSgvLFxzKy9nLCAiLCIpOwogIH0sIGsxKCJmb250LWZhbWlseSIpKSwKICAgICAgVjEgPSBFdC5lYWNoLAogICAgICBxMSA9IEV0Lm1hcCwKICAgICAgJDEgPSBFdC5pbkFycmF5LAogICAgICBXMSA9IChLMS5wcm90b3R5cGUuZXhlY0NvbW1hbmQgPSBmdW5jdGlvbiAodCwgbiwgciwgZSkgewogICAgdmFyIG8sCiAgICAgICAgaSwKICAgICAgICBhID0gITEsCiAgICAgICAgdSA9IHRoaXM7CgogICAgaWYgKCF1LmVkaXRvci5yZW1vdmVkKSB7CiAgICAgIGlmICgibWNlZm9jdXMiICE9PSB0LnRvTG93ZXJDYXNlKCkgJiYgKC9eKG1jZUFkZFVuZG9MZXZlbHxtY2VFbmRVbmRvTGV2ZWx8bWNlQmVnaW5VbmRvTGV2ZWx8bWNlUmVwYWludCkkLy50ZXN0KHQpIHx8IGUgJiYgZS5za2lwX2ZvY3VzID8gbGQoaSA9IHUuZWRpdG9yKS5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGkuc2VsZWN0aW9uLnNldFJuZyhlKTsKICAgICAgfSkgOiB1LmVkaXRvci5mb2N1cygpKSwgKGUgPSB1LmVkaXRvci5maXJlKCJCZWZvcmVFeGVjQ29tbWFuZCIsIHsKICAgICAgICBjb21tYW5kOiB0LAogICAgICAgIHVpOiBuLAogICAgICAgIHZhbHVlOiByCiAgICAgIH0pKS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuICExOwogICAgICB2YXIgcyA9IHQudG9Mb3dlckNhc2UoKTsKICAgICAgaWYgKG8gPSB1LmNvbW1hbmRzLmV4ZWNbc10pIHJldHVybiBvKHMsIG4sIHIpLCB1LmVkaXRvci5maXJlKCJFeGVjQ29tbWFuZCIsIHsKICAgICAgICBjb21tYW5kOiB0LAogICAgICAgIHVpOiBuLAogICAgICAgIHZhbHVlOiByCiAgICAgIH0pLCAhMDsKICAgICAgaWYgKFYxKHRoaXMuZWRpdG9yLnBsdWdpbnMsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgaWYgKGUuZXhlY0NvbW1hbmQgJiYgZS5leGVjQ29tbWFuZCh0LCBuLCByKSkgcmV0dXJuIHUuZWRpdG9yLmZpcmUoIkV4ZWNDb21tYW5kIiwgewogICAgICAgICAgY29tbWFuZDogdCwKICAgICAgICAgIHVpOiBuLAogICAgICAgICAgdmFsdWU6IHIKICAgICAgICB9KSwgIShhID0gITApOwogICAgICB9KSwgYSkgcmV0dXJuIGE7CiAgICAgIGlmICh1LmVkaXRvci50aGVtZSAmJiB1LmVkaXRvci50aGVtZS5leGVjQ29tbWFuZCAmJiB1LmVkaXRvci50aGVtZS5leGVjQ29tbWFuZCh0LCBuLCByKSkgcmV0dXJuIHUuZWRpdG9yLmZpcmUoIkV4ZWNDb21tYW5kIiwgewogICAgICAgIGNvbW1hbmQ6IHQsCiAgICAgICAgdWk6IG4sCiAgICAgICAgdmFsdWU6IHIKICAgICAgfSksICEwOwoKICAgICAgdHJ5IHsKICAgICAgICBhID0gdS5lZGl0b3IuZ2V0RG9jKCkuZXhlY0NvbW1hbmQodCwgbiwgcik7CiAgICAgIH0gY2F0Y2ggKGUpIHt9CgogICAgICByZXR1cm4gISFhICYmICh1LmVkaXRvci5maXJlKCJFeGVjQ29tbWFuZCIsIHsKICAgICAgICBjb21tYW5kOiB0LAogICAgICAgIHVpOiBuLAogICAgICAgIHZhbHVlOiByCiAgICAgIH0pLCAhMCk7CiAgICB9CiAgfSwgSzEucHJvdG90eXBlLnF1ZXJ5Q29tbWFuZFN0YXRlID0gZnVuY3Rpb24gKGUpIHsKICAgIHZhciB0OwoKICAgIGlmICghdGhpcy5lZGl0b3IucXVpcmtzLmlzSGlkZGVuKCkgJiYgIXRoaXMuZWRpdG9yLnJlbW92ZWQpIHsKICAgICAgaWYgKGUgPSBlLnRvTG93ZXJDYXNlKCksIHQgPSB0aGlzLmNvbW1hbmRzLnN0YXRlW2VdKSByZXR1cm4gdChlKTsKCiAgICAgIHRyeSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZWRpdG9yLmdldERvYygpLnF1ZXJ5Q29tbWFuZFN0YXRlKGUpOwogICAgICB9IGNhdGNoIChlKSB7fQoKICAgICAgcmV0dXJuICExOwogICAgfQogIH0sIEsxLnByb3RvdHlwZS5xdWVyeUNvbW1hbmRWYWx1ZSA9IGZ1bmN0aW9uIChlKSB7CiAgICB2YXIgdDsKCiAgICBpZiAoIXRoaXMuZWRpdG9yLnF1aXJrcy5pc0hpZGRlbigpICYmICF0aGlzLmVkaXRvci5yZW1vdmVkKSB7CiAgICAgIGlmIChlID0gZS50b0xvd2VyQ2FzZSgpLCB0ID0gdGhpcy5jb21tYW5kcy52YWx1ZVtlXSkgcmV0dXJuIHQoZSk7CgogICAgICB0cnkgewogICAgICAgIHJldHVybiB0aGlzLmVkaXRvci5nZXREb2MoKS5xdWVyeUNvbW1hbmRWYWx1ZShlKTsKICAgICAgfSBjYXRjaCAoZSkge30KICAgIH0KICB9LCBLMS5wcm90b3R5cGUuYWRkQ29tbWFuZHMgPSBmdW5jdGlvbiAoZSwgbikgewogICAgdm9pZCAwID09PSBuICYmIChuID0gImV4ZWMiKTsKICAgIHZhciByID0gdGhpczsKICAgIFYxKGUsIGZ1bmN0aW9uICh0LCBlKSB7CiAgICAgIFYxKGUudG9Mb3dlckNhc2UoKS5zcGxpdCgiLCIpLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHIuY29tbWFuZHNbbl1bZV0gPSB0OwogICAgICB9KTsKICAgIH0pOwogIH0sIEsxLnByb3RvdHlwZS5hZGRDb21tYW5kID0gZnVuY3Rpb24gKGUsIG8sIGkpIHsKICAgIHZhciBhID0gdGhpczsKICAgIGUgPSBlLnRvTG93ZXJDYXNlKCksIHRoaXMuY29tbWFuZHMuZXhlY1tlXSA9IGZ1bmN0aW9uIChlLCB0LCBuLCByKSB7CiAgICAgIHJldHVybiBvLmNhbGwoaSB8fCBhLmVkaXRvciwgdCwgbiwgcik7CiAgICB9OwogIH0sIEsxLnByb3RvdHlwZS5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoZSkgewogICAgaWYgKGUgPSBlLnRvTG93ZXJDYXNlKCksIHRoaXMuY29tbWFuZHMuZXhlY1tlXSkgcmV0dXJuICEwOwoKICAgIHRyeSB7CiAgICAgIHJldHVybiB0aGlzLmVkaXRvci5nZXREb2MoKS5xdWVyeUNvbW1hbmRTdXBwb3J0ZWQoZSk7CiAgICB9IGNhdGNoIChlKSB7fQoKICAgIHJldHVybiAhMTsKICB9LCBLMS5wcm90b3R5cGUuYWRkUXVlcnlTdGF0ZUhhbmRsZXIgPSBmdW5jdGlvbiAoZSwgdCwgbikgewogICAgdmFyIHIgPSB0aGlzOwogICAgZSA9IGUudG9Mb3dlckNhc2UoKSwgdGhpcy5jb21tYW5kcy5zdGF0ZVtlXSA9IGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHQuY2FsbChuIHx8IHIuZWRpdG9yKTsKICAgIH07CiAgfSwgSzEucHJvdG90eXBlLmFkZFF1ZXJ5VmFsdWVIYW5kbGVyID0gZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgIHZhciByID0gdGhpczsKICAgIGUgPSBlLnRvTG93ZXJDYXNlKCksIHRoaXMuY29tbWFuZHMudmFsdWVbZV0gPSBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB0LmNhbGwobiB8fCByLmVkaXRvcik7CiAgICB9OwogIH0sIEsxLnByb3RvdHlwZS5oYXNDdXN0b21Db21tYW5kID0gZnVuY3Rpb24gKGUpIHsKICAgIHJldHVybiBlID0gZS50b0xvd2VyQ2FzZSgpLCAhIXRoaXMuY29tbWFuZHMuZXhlY1tlXTsKICB9LCBLMS5wcm90b3R5cGUuZXhlY05hdGl2ZUNvbW1hbmQgPSBmdW5jdGlvbiAoZSwgdCwgbikgewogICAgcmV0dXJuIHZvaWQgMCA9PT0gdCAmJiAodCA9ICExKSwgdm9pZCAwID09PSBuICYmIChuID0gbnVsbCksIHRoaXMuZWRpdG9yLmdldERvYygpLmV4ZWNDb21tYW5kKGUsIHQsIG4pOwogIH0sIEsxLnByb3RvdHlwZS5pc0Zvcm1hdE1hdGNoID0gZnVuY3Rpb24gKGUpIHsKICAgIHJldHVybiB0aGlzLmVkaXRvci5mb3JtYXR0ZXIubWF0Y2goZSk7CiAgfSwgSzEucHJvdG90eXBlLnRvZ2dsZUZvcm1hdCA9IGZ1bmN0aW9uIChlLCB0KSB7CiAgICB0aGlzLmVkaXRvci5mb3JtYXR0ZXIudG9nZ2xlKGUsIHQpLCB0aGlzLmVkaXRvci5ub2RlQ2hhbmdlZCgpOwogIH0sIEsxLnByb3RvdHlwZS5zdG9yZVNlbGVjdGlvbiA9IGZ1bmN0aW9uIChlKSB7CiAgICB0aGlzLnNlbGVjdGlvbkJvb2ttYXJrID0gdGhpcy5lZGl0b3Iuc2VsZWN0aW9uLmdldEJvb2ttYXJrKGUpOwogIH0sIEsxLnByb3RvdHlwZS5yZXN0b3JlU2VsZWN0aW9uID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5lZGl0b3Iuc2VsZWN0aW9uLm1vdmVUb0Jvb2ttYXJrKHRoaXMuc2VsZWN0aW9uQm9va21hcmspOwogIH0sIEsxLnByb3RvdHlwZS5zZXR1cENvbW1hbmRzID0gZnVuY3Rpb24gKHUpIHsKICAgIHZhciBvID0gdGhpczsKCiAgICBmdW5jdGlvbiBlKHIpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgZSA9IHUuc2VsZWN0aW9uLAogICAgICAgICAgICB0ID0gZS5pc0NvbGxhcHNlZCgpID8gW3UuZG9tLmdldFBhcmVudChlLmdldE5vZGUoKSwgdS5kb20uaXNCbG9jayldIDogZS5nZXRTZWxlY3RlZEJsb2NrcygpLAogICAgICAgICAgICBuID0gcTEodCwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiAhIXUuZm9ybWF0dGVyLm1hdGNoTm9kZShlLCByKTsKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gLTEgIT09ICQxKG4sICEwKTsKICAgICAgfTsKICAgIH0KCiAgICB0aGlzLmFkZENvbW1hbmRzKHsKICAgICAgIm1jZVJlc2V0RGVzaWduTW9kZSxtY2VCZWdpblVuZG9MZXZlbCI6IHRlLAogICAgICAibWNlRW5kVW5kb0xldmVsLG1jZUFkZFVuZG9MZXZlbCI6IGZ1bmN0aW9uIG1jZUVuZFVuZG9MZXZlbE1jZUFkZFVuZG9MZXZlbCgpIHsKICAgICAgICB1LnVuZG9NYW5hZ2VyLmFkZCgpOwogICAgICB9LAogICAgICBtY2VGb2N1czogZnVuY3Rpb24gbWNlRm9jdXMoZSwgdCwgbikgewogICAgICAgIHZhciByLCBvOwogICAgICAgIG8gPSBuLCAociA9IHUpLnJlbW92ZWQgfHwgKG8gPyBNZCA6IGZ1bmN0aW9uICh0KSB7CiAgICAgICAgICB2YXIgZSA9IHQuc2VsZWN0aW9uLAogICAgICAgICAgICAgIG4gPSB0LmdldEJvZHkoKSwKICAgICAgICAgICAgICByID0gZS5nZXRSbmcoKTsKICAgICAgICAgIHQucXVpcmtzLnJlZnJlc2hDb250ZW50RWRpdGFibGUoKSwgdm9pZCAwICE9PSB0LmJvb2ttYXJrICYmICExID09PSB2ZCh0KSAmJiBsZCh0KS5lYWNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHQuc2VsZWN0aW9uLnNldFJuZyhlKSwgciA9IGU7CiAgICAgICAgICB9KTsKICAgICAgICAgIHZhciBvLAogICAgICAgICAgICAgIGksCiAgICAgICAgICAgICAgYSA9IChvID0gdCwgaSA9IGUuZ2V0Tm9kZSgpLCBvLmRvbS5nZXRQYXJlbnQoaSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgcmV0dXJuICJ0cnVlIiA9PT0gby5kb20uZ2V0Q29udGVudEVkaXRhYmxlKGUpOwogICAgICAgICAgfSkpOwogICAgICAgICAgaWYgKHQuJC5jb250YWlucyhuLCBhKSkgcmV0dXJuIGhkKGEpLCBwZCh0LCByKSwgTWQodCk7CiAgICAgICAgICB0LmlubGluZSB8fCAoeHQub3BlcmEgfHwgaGQobiksIHQuZ2V0V2luKCkuZm9jdXMoKSksICh4dC5nZWNrbyB8fCB0LmlubGluZSkgJiYgKGhkKG4pLCBwZCh0LCByKSksIE1kKHQpOwogICAgICAgIH0pKHIpOwogICAgICB9LAogICAgICAiQ3V0LENvcHksUGFzdGUiOiBmdW5jdGlvbiBDdXRDb3B5UGFzdGUoZSkgewogICAgICAgIHZhciB0LAogICAgICAgICAgICBuLAogICAgICAgICAgICByID0gdS5nZXREb2MoKTsKCiAgICAgICAgdHJ5IHsKICAgICAgICAgIG8uZXhlY05hdGl2ZUNvbW1hbmQoZSk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgdCA9ICEwOwogICAgICAgIH0KCiAgICAgICAgISh0ID0gInBhc3RlIiA9PT0gZSAmJiAhci5xdWVyeUNvbW1hbmRFbmFibGVkKGUpIHx8IHQpICYmIHIucXVlcnlDb21tYW5kU3VwcG9ydGVkKGUpIHx8IChuID0gdS50cmFuc2xhdGUoIllvdXIgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgZGlyZWN0IGFjY2VzcyB0byB0aGUgY2xpcGJvYXJkLiBQbGVhc2UgdXNlIHRoZSBDdHJsK1gvQy9WIGtleWJvYXJkIHNob3J0Y3V0cyBpbnN0ZWFkLiIpLCB4dC5tYWMgJiYgKG4gPSBuLnJlcGxhY2UoL0N0cmxcKy9nLCAiXHUyMzE4KyIpKSwgdS5ub3RpZmljYXRpb25NYW5hZ2VyLm9wZW4oewogICAgICAgICAgdGV4dDogbiwKICAgICAgICAgIHR5cGU6ICJlcnJvciIKICAgICAgICB9KSk7CiAgICAgIH0sCiAgICAgIHVubGluazogZnVuY3Rpb24gdW5saW5rKCkgewogICAgICAgIHZhciBlOwogICAgICAgIHUuc2VsZWN0aW9uLmlzQ29sbGFwc2VkKCkgPyAoZSA9IHUuZG9tLmdldFBhcmVudCh1LnNlbGVjdGlvbi5nZXRTdGFydCgpLCAiYSIpKSAmJiB1LmRvbS5yZW1vdmUoZSwgITApIDogdS5mb3JtYXR0ZXIucmVtb3ZlKCJsaW5rIik7CiAgICAgIH0sCiAgICAgICJKdXN0aWZ5TGVmdCxKdXN0aWZ5Q2VudGVyLEp1c3RpZnlSaWdodCxKdXN0aWZ5RnVsbCxKdXN0aWZ5Tm9uZSI6IGZ1bmN0aW9uIEp1c3RpZnlMZWZ0SnVzdGlmeUNlbnRlckp1c3RpZnlSaWdodEp1c3RpZnlGdWxsSnVzdGlmeU5vbmUoZSkgewogICAgICAgIHZhciB0ID0gZS5zdWJzdHJpbmcoNyk7CiAgICAgICAgImZ1bGwiID09PSB0ICYmICh0ID0gImp1c3RpZnkiKSwgVjEoImxlZnQsY2VudGVyLHJpZ2h0LGp1c3RpZnkiLnNwbGl0KCIsIiksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICB0ICE9PSBlICYmIHUuZm9ybWF0dGVyLnJlbW92ZSgiYWxpZ24iICsgZSk7CiAgICAgICAgfSksICJub25lIiAhPT0gdCAmJiBvLnRvZ2dsZUZvcm1hdCgiYWxpZ24iICsgdCk7CiAgICAgIH0sCiAgICAgICJJbnNlcnRVbm9yZGVyZWRMaXN0LEluc2VydE9yZGVyZWRMaXN0IjogZnVuY3Rpb24gSW5zZXJ0VW5vcmRlcmVkTGlzdEluc2VydE9yZGVyZWRMaXN0KGUpIHsKICAgICAgICB2YXIgdDsKICAgICAgICBvLmV4ZWNOYXRpdmVDb21tYW5kKGUpOwogICAgICAgIHZhciBuID0gdS5kb20uZ2V0UGFyZW50KHUuc2VsZWN0aW9uLmdldE5vZGUoKSwgIm9sLHVsIik7CiAgICAgICAgbiAmJiAodCA9IG4ucGFyZW50Tm9kZSwgL14oSFsxLTZdfFB8QUREUkVTU3xQUkUpJC8udGVzdCh0Lm5vZGVOYW1lKSAmJiAoby5zdG9yZVNlbGVjdGlvbigpLCB1LmRvbS5zcGxpdCh0LCBuKSwgby5yZXN0b3JlU2VsZWN0aW9uKCkpKTsKICAgICAgfSwKICAgICAgIkJvbGQsSXRhbGljLFVuZGVybGluZSxTdHJpa2V0aHJvdWdoLFN1cGVyc2NyaXB0LFN1YnNjcmlwdCI6IGZ1bmN0aW9uIEJvbGRJdGFsaWNVbmRlcmxpbmVTdHJpa2V0aHJvdWdoU3VwZXJzY3JpcHRTdWJzY3JpcHQoZSkgewogICAgICAgIG8udG9nZ2xlRm9ybWF0KGUpOwogICAgICB9LAogICAgICAiRm9yZUNvbG9yLEhpbGl0ZUNvbG9yIjogZnVuY3Rpb24gRm9yZUNvbG9ySGlsaXRlQ29sb3IoZSwgdCwgbikgewogICAgICAgIG8udG9nZ2xlRm9ybWF0KGUsIHsKICAgICAgICAgIHZhbHVlOiBuCiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIEZvbnROYW1lOiBmdW5jdGlvbiBGb250TmFtZShlLCB0LCBuKSB7CiAgICAgICAgdmFyIHIsIG87CiAgICAgICAgbyA9IFIxKHIgPSB1LCBuKSwgci5mb3JtYXR0ZXIudG9nZ2xlKCJmb250bmFtZSIsIHsKICAgICAgICAgIHZhbHVlOiBUKG8uc3BsaXQoL1xzKixccyovKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgcmV0dXJuIC0xID09PSBlLmluZGV4T2YoIiAiKSB8fCBHZShlLCAnIicpIHx8IEdlKGUsICInIikgPyBlIDogIiciICsgZSArICInIjsKICAgICAgICAgIH0pLmpvaW4oIiwiKQogICAgICAgIH0pLCByLm5vZGVDaGFuZ2VkKCk7CiAgICAgIH0sCiAgICAgIEZvbnRTaXplOiBmdW5jdGlvbiBGb250U2l6ZShlLCB0LCBuKSB7CiAgICAgICAgdmFyIHI7CiAgICAgICAgKHIgPSB1KS5mb3JtYXR0ZXIudG9nZ2xlKCJmb250c2l6ZSIsIHsKICAgICAgICAgIHZhbHVlOiBSMShyLCBuKQogICAgICAgIH0pLCByLm5vZGVDaGFuZ2VkKCk7CiAgICAgIH0sCiAgICAgIExpbmVIZWlnaHQ6IGZ1bmN0aW9uIExpbmVIZWlnaHQoZSwgdCwgbikgewogICAgICAgIHZhciByOwogICAgICAgIChyID0gdSkuZm9ybWF0dGVyLnRvZ2dsZSgibGluZWhlaWdodCIsIHsKICAgICAgICAgIHZhbHVlOiBTdHJpbmcobikKICAgICAgICB9KSwgci5ub2RlQ2hhbmdlZCgpOwogICAgICB9LAogICAgICBMYW5nOiBmdW5jdGlvbiBMYW5nKGUsIHQsIG4pIHsKICAgICAgICBvLnRvZ2dsZUZvcm1hdChlLCB7CiAgICAgICAgICB2YWx1ZTogbi5jb2RlLAogICAgICAgICAgY3VzdG9tVmFsdWU6IG4uY3VzdG9tQ29kZQogICAgICAgIH0pOwogICAgICB9LAogICAgICBSZW1vdmVGb3JtYXQ6IGZ1bmN0aW9uIFJlbW92ZUZvcm1hdChlKSB7CiAgICAgICAgdS5mb3JtYXR0ZXIucmVtb3ZlKGUpOwogICAgICB9LAogICAgICBtY2VCbG9ja1F1b3RlOiBmdW5jdGlvbiBtY2VCbG9ja1F1b3RlKCkgewogICAgICAgIG8udG9nZ2xlRm9ybWF0KCJibG9ja3F1b3RlIik7CiAgICAgIH0sCiAgICAgIEZvcm1hdEJsb2NrOiBmdW5jdGlvbiBGb3JtYXRCbG9jayhlLCB0LCBuKSB7CiAgICAgICAgcmV0dXJuIG8udG9nZ2xlRm9ybWF0KG4gfHwgInAiKTsKICAgICAgfSwKICAgICAgbWNlQ2xlYW51cDogZnVuY3Rpb24gbWNlQ2xlYW51cCgpIHsKICAgICAgICB2YXIgZSA9IHUuc2VsZWN0aW9uLmdldEJvb2ttYXJrKCk7CiAgICAgICAgdS5zZXRDb250ZW50KHUuZ2V0Q29udGVudCgpKSwgdS5zZWxlY3Rpb24ubW92ZVRvQm9va21hcmsoZSk7CiAgICAgIH0sCiAgICAgIG1jZVJlbW92ZU5vZGU6IGZ1bmN0aW9uIG1jZVJlbW92ZU5vZGUoZSwgdCwgbikgewogICAgICAgIHZhciByID0gbiB8fCB1LnNlbGVjdGlvbi5nZXROb2RlKCk7CiAgICAgICAgciAhPT0gdS5nZXRCb2R5KCkgJiYgKG8uc3RvcmVTZWxlY3Rpb24oKSwgdS5kb20ucmVtb3ZlKHIsICEwKSwgby5yZXN0b3JlU2VsZWN0aW9uKCkpOwogICAgICB9LAogICAgICBtY2VTZWxlY3ROb2RlRGVwdGg6IGZ1bmN0aW9uIG1jZVNlbGVjdE5vZGVEZXB0aChlLCB0LCBuKSB7CiAgICAgICAgdmFyIHIgPSAwOwogICAgICAgIHUuZG9tLmdldFBhcmVudCh1LnNlbGVjdGlvbi5nZXROb2RlKCksIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBpZiAoMSA9PT0gZS5ub2RlVHlwZSAmJiByKysgPT09IG4pIHJldHVybiB1LnNlbGVjdGlvbi5zZWxlY3QoZSksICExOwogICAgICAgIH0sIHUuZ2V0Qm9keSgpKTsKICAgICAgfSwKICAgICAgbWNlU2VsZWN0Tm9kZTogZnVuY3Rpb24gbWNlU2VsZWN0Tm9kZShlLCB0LCBuKSB7CiAgICAgICAgdS5zZWxlY3Rpb24uc2VsZWN0KG4pOwogICAgICB9LAogICAgICBtY2VJbnNlcnRDb250ZW50OiBmdW5jdGlvbiBtY2VJbnNlcnRDb250ZW50KGUsIHQsIG4pIHsKICAgICAgICB2YXIgciwgbywgaSwgYTsKICAgICAgICByID0gdSwgbyA9IGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICBpZiAoInN0cmluZyIgPT0gdHlwZW9mIGUpIHJldHVybiB7CiAgICAgICAgICAgIGNvbnRlbnQ6IGUsCiAgICAgICAgICAgIGRldGFpbHM6IHt9CiAgICAgICAgICB9OwogICAgICAgICAgdmFyIHQgPSBFdC5leHRlbmQoewogICAgICAgICAgICBwYXN0ZTogZS5wYXN0ZSwKICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgIHBhc3RlOiBlLnBhc3RlCiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIGUpOwogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgY29udGVudDogZS5jb250ZW50LAogICAgICAgICAgICBkZXRhaWxzOiB0CiAgICAgICAgICB9OwogICAgICAgIH0obiksIGkgPSBvLmNvbnRlbnQsIGEgPSBvLmRldGFpbHMsIHBoKHIpLmVkaXRvci5pbnNlcnRDb250ZW50KGksIGEpOwogICAgICB9LAogICAgICBtY2VJbnNlcnRSYXdIVE1MOiBmdW5jdGlvbiBtY2VJbnNlcnRSYXdIVE1MKGUsIHQsIG4pIHsKICAgICAgICB1LnNlbGVjdGlvbi5zZXRDb250ZW50KCJ0aW55X21jZV9tYXJrZXIiKTsKICAgICAgICB2YXIgciA9IHUuZ2V0Q29udGVudCgpOwogICAgICAgIHUuc2V0Q29udGVudChyLnJlcGxhY2UoL3RpbnlfbWNlX21hcmtlci9nLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gbjsKICAgICAgICB9KSk7CiAgICAgIH0sCiAgICAgIG1jZUluc2VydE5ld0xpbmU6IGZ1bmN0aW9uIG1jZUluc2VydE5ld0xpbmUoZSwgdCwgbikgewogICAgICAgIF9DKHUsIG4pOwogICAgICB9LAogICAgICBtY2VUb2dnbGVGb3JtYXQ6IGZ1bmN0aW9uIG1jZVRvZ2dsZUZvcm1hdChlLCB0LCBuKSB7CiAgICAgICAgby50b2dnbGVGb3JtYXQobik7CiAgICAgIH0sCiAgICAgIG1jZVNldENvbnRlbnQ6IGZ1bmN0aW9uIG1jZVNldENvbnRlbnQoZSwgdCwgbikgewogICAgICAgIHUuc2V0Q29udGVudChuKTsKICAgICAgfSwKICAgICAgIkluZGVudCxPdXRkZW50IjogZnVuY3Rpb24gSW5kZW50T3V0ZGVudChlKSB7CiAgICAgICAgQzAodSwgZSk7CiAgICAgIH0sCiAgICAgIG1jZVJlcGFpbnQ6IHRlLAogICAgICBJbnNlcnRIb3Jpem9udGFsUnVsZTogZnVuY3Rpb24gSW5zZXJ0SG9yaXpvbnRhbFJ1bGUoKSB7CiAgICAgICAgdS5leGVjQ29tbWFuZCgibWNlSW5zZXJ0Q29udGVudCIsICExLCAiPGhyIC8+Iik7CiAgICAgIH0sCiAgICAgIG1jZVRvZ2dsZVZpc3VhbEFpZDogZnVuY3Rpb24gbWNlVG9nZ2xlVmlzdWFsQWlkKCkgewogICAgICAgIHUuaGFzVmlzdWFsID0gIXUuaGFzVmlzdWFsLCB1LmFkZFZpc3VhbCgpOwogICAgICB9LAogICAgICBtY2VSZXBsYWNlQ29udGVudDogZnVuY3Rpb24gbWNlUmVwbGFjZUNvbnRlbnQoZSwgdCwgbikgewogICAgICAgIHUuZXhlY0NvbW1hbmQoIm1jZUluc2VydENvbnRlbnQiLCAhMSwgbi5yZXBsYWNlKC9ce1wkc2VsZWN0aW9uXH0vZywgdS5zZWxlY3Rpb24uZ2V0Q29udGVudCh7CiAgICAgICAgICBmb3JtYXQ6ICJ0ZXh0IgogICAgICAgIH0pKSk7CiAgICAgIH0sCiAgICAgIG1jZUluc2VydExpbms6IGZ1bmN0aW9uIG1jZUluc2VydExpbmsoZSwgdCwgbikgewogICAgICAgICJzdHJpbmciID09IHR5cGVvZiBuICYmIChuID0gewogICAgICAgICAgaHJlZjogbgogICAgICAgIH0pOwogICAgICAgIHZhciByID0gdS5kb20uZ2V0UGFyZW50KHUuc2VsZWN0aW9uLmdldE5vZGUoKSwgImEiKTsKICAgICAgICBuLmhyZWYgPSBuLmhyZWYucmVwbGFjZSgvIC9nLCAiJTIwIiksIHIgJiYgbi5ocmVmIHx8IHUuZm9ybWF0dGVyLnJlbW92ZSgibGluayIpLCBuLmhyZWYgJiYgdS5mb3JtYXR0ZXIuYXBwbHkoImxpbmsiLCBuLCByKTsKICAgICAgfSwKICAgICAgc2VsZWN0QWxsOiBmdW5jdGlvbiBzZWxlY3RBbGwoKSB7CiAgICAgICAgdmFyIGUsCiAgICAgICAgICAgIHQgPSB1LmRvbS5nZXRQYXJlbnQodS5zZWxlY3Rpb24uZ2V0U3RhcnQoKSwgWG4pOwogICAgICAgIHQgJiYgKChlID0gdS5kb20uY3JlYXRlUm5nKCkpLnNlbGVjdE5vZGVDb250ZW50cyh0KSwgdS5zZWxlY3Rpb24uc2V0Um5nKGUpKTsKICAgICAgfSwKICAgICAgbWNlTmV3RG9jdW1lbnQ6IGZ1bmN0aW9uIG1jZU5ld0RvY3VtZW50KCkgewogICAgICAgIHUuc2V0Q29udGVudCgiIik7CiAgICAgIH0sCiAgICAgIEluc2VydExpbmVCcmVhazogZnVuY3Rpb24gSW5zZXJ0TGluZUJyZWFrKGUsIHQsIG4pIHsKICAgICAgICByZXR1cm4gcEModSwgbiksICEwOwogICAgICB9CiAgICB9KSwgby5hZGRDb21tYW5kcyh7CiAgICAgIEp1c3RpZnlMZWZ0OiBlKCJhbGlnbmxlZnQiKSwKICAgICAgSnVzdGlmeUNlbnRlcjogZSgiYWxpZ25jZW50ZXIiKSwKICAgICAgSnVzdGlmeVJpZ2h0OiBlKCJhbGlnbnJpZ2h0IiksCiAgICAgIEp1c3RpZnlGdWxsOiBlKCJhbGlnbmp1c3RpZnkiKSwKICAgICAgIkJvbGQsSXRhbGljLFVuZGVybGluZSxTdHJpa2V0aHJvdWdoLFN1cGVyc2NyaXB0LFN1YnNjcmlwdCI6IGZ1bmN0aW9uIEJvbGRJdGFsaWNVbmRlcmxpbmVTdHJpa2V0aHJvdWdoU3VwZXJzY3JpcHRTdWJzY3JpcHQoZSkgewogICAgICAgIHJldHVybiBvLmlzRm9ybWF0TWF0Y2goZSk7CiAgICAgIH0sCiAgICAgIG1jZUJsb2NrUXVvdGU6IGZ1bmN0aW9uIG1jZUJsb2NrUXVvdGUoKSB7CiAgICAgICAgcmV0dXJuIG8uaXNGb3JtYXRNYXRjaCgiYmxvY2txdW90ZSIpOwogICAgICB9LAogICAgICBPdXRkZW50OiBmdW5jdGlvbiBPdXRkZW50KCkgewogICAgICAgIHJldHVybiBiMCh1KTsKICAgICAgfSwKICAgICAgIkluc2VydFVub3JkZXJlZExpc3QsSW5zZXJ0T3JkZXJlZExpc3QiOiBmdW5jdGlvbiBJbnNlcnRVbm9yZGVyZWRMaXN0SW5zZXJ0T3JkZXJlZExpc3QoZSkgewogICAgICAgIHZhciB0ID0gdS5kb20uZ2V0UGFyZW50KHUuc2VsZWN0aW9uLmdldE5vZGUoKSwgInVsLG9sIik7CiAgICAgICAgcmV0dXJuIHQgJiYgKCJpbnNlcnR1bm9yZGVyZWRsaXN0IiA9PT0gZSAmJiAiVUwiID09PSB0LnRhZ05hbWUgfHwgImluc2VydG9yZGVyZWRsaXN0IiA9PT0gZSAmJiAiT0wiID09PSB0LnRhZ05hbWUpOwogICAgICB9CiAgICB9LCAic3RhdGUiKSwgby5hZGRDb21tYW5kcyh7CiAgICAgIFVuZG86IGZ1bmN0aW9uIFVuZG8oKSB7CiAgICAgICAgdS51bmRvTWFuYWdlci51bmRvKCk7CiAgICAgIH0sCiAgICAgIFJlZG86IGZ1bmN0aW9uIFJlZG8oKSB7CiAgICAgICAgdS51bmRvTWFuYWdlci5yZWRvKCk7CiAgICAgIH0KICAgIH0pLCBvLmFkZFF1ZXJ5VmFsdWVIYW5kbGVyKCJGb250TmFtZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIEExKHQgPSB1LCBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiBqMSh0LmdldEJvZHkoKSwgZS5kb20pOwogICAgICB9KS5nZXRPcigiIik7CiAgICAgIHZhciB0OwogICAgfSwgdGhpcyksIG8uYWRkUXVlcnlWYWx1ZUhhbmRsZXIoIkZvbnRTaXplIiwgZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gQTEodCA9IHUsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIEgxKHQuZ2V0Qm9keSgpLCBlLmRvbSk7CiAgICAgIH0pLmdldE9yKCIiKTsKICAgICAgdmFyIHQ7CiAgICB9LCB0aGlzKSwgby5hZGRRdWVyeVZhbHVlSGFuZGxlcigiTGluZUhlaWdodCIsIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIEExKHQgPSB1LCBmdW5jdGlvbiAobikgewogICAgICAgIHZhciBlID0gTnQuZnJvbURvbSh0LmdldEJvZHkoKSk7CiAgICAgICAgcmV0dXJuIEFnKG4sIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4gd24oZSwgImxpbmUtaGVpZ2h0Iik7CiAgICAgICAgfSwgQShqZSwgZSkpLmdldE9yVGh1bmsoZnVuY3Rpb24gKCkgewogICAgICAgICAgdmFyIGUgPSBwYXJzZUZsb2F0KHhuKG4sICJsaW5lLWhlaWdodCIpKSwKICAgICAgICAgICAgICB0ID0gcGFyc2VGbG9hdCh4bihuLCAiZm9udC1zaXplIikpOwogICAgICAgICAgcmV0dXJuIFN0cmluZyhlIC8gdCk7CiAgICAgICAgfSk7CiAgICAgIH0pLmdldE9yKCIiKTsKICAgICAgdmFyIHQ7CiAgICB9LCB0aGlzKTsKICB9LCBLMSk7CgogIGZ1bmN0aW9uIEsxKGUpIHsKICAgIHRoaXMuY29tbWFuZHMgPSB7CiAgICAgIHN0YXRlOiB7fSwKICAgICAgZXhlYzoge30sCiAgICAgIHZhbHVlOiB7fQogICAgfSwgdGhpcy5lZGl0b3IgPSBlLCB0aGlzLnNldHVwQ29tbWFuZHMoZSk7CiAgfQoKICBmdW5jdGlvbiBYMShlLCB0LCBuKSB7CiAgICB2YXIgciwgbywgaSwgYSwgdSwgczsKICAgIHB1KGUsIHQpICYmICExID09PSBuID8gKG8gPSB0LCBtdShyID0gZSkgPyByLmRvbS5jbGFzc0xpc3QucmVtb3ZlKG8pIDogKHUgPSBvLCAwIDwgKHMgPSBVKGR1KGEgPSByLCAiY2xhc3MiKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIGUgIT09IHU7CiAgICB9KSkubGVuZ3RoID8gcG4oYSwgImNsYXNzIiwgcy5qb2luKCIgIikpIDogeW4oYSwgImNsYXNzIikpLCAwID09PSAobXUoaSA9IHIpID8gaS5kb20uY2xhc3NMaXN0IDogZHUoaSwgImNsYXNzIikpLmxlbmd0aCAmJiB5bihpLCAiY2xhc3MiKSkgOiBuICYmIGd1KGUsIHQpOwogIH0KCiAgZnVuY3Rpb24gWTEoZSwgdCwgbikgewogICAgdHJ5IHsKICAgICAgZS5nZXREb2MoKS5leGVjQ29tbWFuZCh0LCAhMSwgU3RyaW5nKG4pKTsKICAgIH0gY2F0Y2ggKGUpIHt9CiAgfQoKICBmdW5jdGlvbiBHMShlLCB0KSB7CiAgICBlLmRvbS5jb250ZW50RWRpdGFibGUgPSB0ID8gInRydWUiIDogImZhbHNlIjsKICB9CgogIGZ1bmN0aW9uIEoxKGUsIHQpIHsKICAgIHZhciBuLAogICAgICAgIHIsCiAgICAgICAgbyA9IE50LmZyb21Eb20oZS5nZXRCb2R5KCkpOwogICAgWDEobywgIm1jZS1jb250ZW50LXJlYWRvbmx5IiwgdCksIHQgPyAoZS5zZWxlY3Rpb24uY29udHJvbFNlbGVjdGlvbi5oaWRlUmVzaXplUmVjdCgpLCBlLl9zZWxlY3Rpb25PdmVycmlkZXMuaGlkZUZha2VDYXJldCgpLCB2ZS5mcm9tKGUuc2VsZWN0aW9uLmdldE5vZGUoKSkuZWFjaChmdW5jdGlvbiAoZSkgewogICAgICBlLnJlbW92ZUF0dHJpYnV0ZSgiZGF0YS1tY2Utc2VsZWN0ZWQiKTsKICAgIH0pLCBHMShvLCAhKGUucmVhZG9ubHkgPSAhMCkpLCBZKGh1KG8sICcqW2NvbnRlbnRlZGl0YWJsZT0idHJ1ZSJdJyksIGZ1bmN0aW9uIChlKSB7CiAgICAgIHBuKGUsIGV4LCAidHJ1ZSIpLCBHMShlLCAhMSk7CiAgICB9KSkgOiAoRzEobywgIShlLnJlYWRvbmx5ID0gITEpKSwgWShodShvLCAiKlsiICsgZXggKyAnPSJ0cnVlIl0nKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgeW4oZSwgZXgpLCBHMShlLCAhMCk7CiAgICB9KSwgWTEoZSwgIlN0eWxlV2l0aENTUyIsICExKSwgWTEoZSwgImVuYWJsZUlubGluZVRhYmxlRWRpdGluZyIsICExKSwgWTEoZSwgImVuYWJsZU9iamVjdFJlc2l6aW5nIiwgITEpLCAodmQobiA9IGUpIHx8IChyID0gbiwgdGQoQm4oTnQuZnJvbURvbShyLmdldEVsZW1lbnQoKSkpKS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuICEodm9pZCAwICE9PSAodCA9IGUuZG9tLmNsYXNzTGlzdCkgJiYgKHQuY29udGFpbnMoInRveC1lZGl0LWFyZWEiKSB8fCB0LmNvbnRhaW5zKCJ0b3gtZWRpdC1hcmVhX19pZnJhbWUiKSB8fCB0LmNvbnRhaW5zKCJtY2UtY29udGVudC1ib2R5IikpKSAmJiBkZChyLCBlLmRvbSk7CiAgICAgIHZhciB0OwogICAgfSkuaXNTb21lKCkpKSAmJiBlLmZvY3VzKCksIGUuc2VsZWN0aW9uLnNldFJuZyhlLnNlbGVjdGlvbi5nZXRSbmcoKSksIGUubm9kZUNoYW5nZWQoKSk7CiAgfQoKICBmdW5jdGlvbiBRMShlKSB7CiAgICByZXR1cm4gZS5yZWFkb25seTsKICB9CgogIGZ1bmN0aW9uIFoxKHQpIHsKICAgIHQucGFyc2VyLmFkZEF0dHJpYnV0ZUZpbHRlcigiY29udGVudGVkaXRhYmxlIiwgZnVuY3Rpb24gKGUpIHsKICAgICAgUTEodCkgJiYgWShlLCBmdW5jdGlvbiAoZSkgewogICAgICAgIGUuYXR0cihleCwgZS5hdHRyKCJjb250ZW50ZWRpdGFibGUiKSksIGUuYXR0cigiY29udGVudGVkaXRhYmxlIiwgImZhbHNlIik7CiAgICAgIH0pOwogICAgfSksIHQuc2VyaWFsaXplci5hZGRBdHRyaWJ1dGVGaWx0ZXIoZXgsIGZ1bmN0aW9uIChlKSB7CiAgICAgIFExKHQpICYmIFkoZSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICBlLmF0dHIoImNvbnRlbnRlZGl0YWJsZSIsIGUuYXR0cihleCkpOwogICAgICB9KTsKICAgIH0pLCB0LnNlcmlhbGl6ZXIuYWRkVGVtcEF0dHIoZXgpOwogIH0KCiAgdmFyIGV4ID0gImRhdGEtbWNlLWNvbnRlbnRlZGl0YWJsZSIsCiAgICAgIHR4ID0gRXQubWFrZU1hcCgiZm9jdXMgYmx1ciBmb2N1c2luIGZvY3Vzb3V0IGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgYmVmb3JlcGFzdGUgcGFzdGUgY3V0IGNvcHkgc2VsZWN0aW9uY2hhbmdlIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSB3aGVlbCBrZXlkb3duIGtleXByZXNzIGtleXVwIGlucHV0IGJlZm9yZWlucHV0IGNvbnRleHRtZW51IGRyYWdzdGFydCBkcmFnZW5kIGRyYWdvdmVyIGRyYWdnZXN0dXJlIGRyYWdkcm9wIGRyb3AgZHJhZyBzdWJtaXQgY29tcG9zaXRpb25zdGFydCBjb21wb3NpdGlvbmVuZCBjb21wb3NpdGlvbnVwZGF0ZSB0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbCIsICIgIiksCiAgICAgIG54ID0gKHJ4LmlzTmF0aXZlID0gZnVuY3Rpb24gKGUpIHsKICAgIHJldHVybiAhIXR4W2UudG9Mb3dlckNhc2UoKV07CiAgfSwgcngucHJvdG90eXBlLmZpcmUgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgdmFyIG4gPSBlLnRvTG93ZXJDYXNlKCksCiAgICAgICAgciA9IGlvKG4sIHQgfHwge30sIHRoaXMuc2NvcGUpOwogICAgdGhpcy5zZXR0aW5ncy5iZWZvcmVGaXJlICYmIHRoaXMuc2V0dGluZ3MuYmVmb3JlRmlyZShyKTsKICAgIHZhciBvID0gdGhpcy5iaW5kaW5nc1tuXTsKICAgIGlmIChvKSBmb3IgKHZhciBpID0gMCwgYSA9IG8ubGVuZ3RoOyBpIDwgYTsgaSsrKSB7CiAgICAgIHZhciB1ID0gb1tpXTsKCiAgICAgIGlmICghdS5yZW1vdmVkKSB7CiAgICAgICAgaWYgKHUub25jZSAmJiB0aGlzLm9mZihuLCB1LmZ1bmMpLCByLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpIHJldHVybiByOwogICAgICAgIGlmICghMSA9PT0gdS5mdW5jLmNhbGwodGhpcy5zY29wZSwgcikpIHJldHVybiByLnByZXZlbnREZWZhdWx0KCksIHI7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiByOwogIH0sIHJ4LnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uIChlLCB0LCBuLCByKSB7CiAgICBpZiAodCA9ICExID09PSB0ID8gUiA6IHQpIHsKICAgICAgdmFyIG8gPSB7CiAgICAgICAgZnVuYzogdCwKICAgICAgICByZW1vdmVkOiAhMQogICAgICB9OwogICAgICByICYmIEV0LmV4dGVuZChvLCByKTsKCiAgICAgIGZvciAodmFyIGkgPSBlLnRvTG93ZXJDYXNlKCkuc3BsaXQoIiAiKSwgYSA9IGkubGVuZ3RoOyBhLS07KSB7CiAgICAgICAgdmFyIHUgPSBpW2FdLAogICAgICAgICAgICBzID0gdGhpcy5iaW5kaW5nc1t1XTsKICAgICAgICBzIHx8IChzID0gW10sIHRoaXMudG9nZ2xlRXZlbnQodSwgITApKSwgcyA9IG4gPyBBZShbb10sIHMsICEwKSA6IEFlKEFlKFtdLCBzLCAhMCksIFtvXSwgITEpLCB0aGlzLmJpbmRpbmdzW3VdID0gczsKICAgICAgfQogICAgfQoKICAgIHJldHVybiB0aGlzOwogIH0sIHJ4LnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgdmFyIG4gPSB0aGlzOwogICAgaWYgKGUpIGZvciAodmFyIHIgPSBlLnRvTG93ZXJDYXNlKCkuc3BsaXQoIiAiKSwgbyA9IHIubGVuZ3RoOyBvLS07KSB7CiAgICAgIHZhciBpLAogICAgICAgICAgYSA9IHJbb10sCiAgICAgICAgICB1ID0gdGhpcy5iaW5kaW5nc1thXTsKICAgICAgaWYgKCFhKSByZXR1cm4gbmUodGhpcy5iaW5kaW5ncywgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICBuLnRvZ2dsZUV2ZW50KHQsICExKSwgZGVsZXRlIG4uYmluZGluZ3NbdF07CiAgICAgIH0pLCB0aGlzOwogICAgICB1ICYmICh0ID8gKHUgPSAoaSA9IEIodSwgZnVuY3Rpb24gKGUpIHsKICAgICAgICByZXR1cm4gZS5mdW5jID09PSB0OwogICAgICB9KSkuZmFpbCwgdGhpcy5iaW5kaW5nc1thXSA9IHUsIFkoaS5wYXNzLCBmdW5jdGlvbiAoZSkgewogICAgICAgIGUucmVtb3ZlZCA9ICEwOwogICAgICB9KSkgOiB1Lmxlbmd0aCA9IDAsIHUubGVuZ3RoIHx8ICh0aGlzLnRvZ2dsZUV2ZW50KGUsICExKSwgZGVsZXRlIHRoaXMuYmluZGluZ3NbYV0pKTsKICAgIH0gZWxzZSBuZSh0aGlzLmJpbmRpbmdzLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICBuLnRvZ2dsZUV2ZW50KHQsICExKTsKICAgIH0pLCB0aGlzLmJpbmRpbmdzID0ge307CiAgICByZXR1cm4gdGhpczsKICB9LCByeC5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICByZXR1cm4gdGhpcy5vbihlLCB0LCBuLCB7CiAgICAgIG9uY2U6ICEwCiAgICB9KTsKICB9LCByeC5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKGUpIHsKICAgIHJldHVybiBlID0gZS50b0xvd2VyQ2FzZSgpLCAhKCF0aGlzLmJpbmRpbmdzW2VdIHx8IDAgPT09IHRoaXMuYmluZGluZ3NbZV0ubGVuZ3RoKTsKICB9LCByeCk7CgogIGZ1bmN0aW9uIHJ4KGUpIHsKICAgIHRoaXMuYmluZGluZ3MgPSB7fSwgdGhpcy5zZXR0aW5ncyA9IGUgfHwge30sIHRoaXMuc2NvcGUgPSB0aGlzLnNldHRpbmdzLnNjb3BlIHx8IHRoaXMsIHRoaXMudG9nZ2xlRXZlbnQgPSB0aGlzLnNldHRpbmdzLnRvZ2dsZUV2ZW50IHx8IFI7CiAgfQoKICBmdW5jdGlvbiBveChuKSB7CiAgICByZXR1cm4gbi5fZXZlbnREaXNwYXRjaGVyIHx8IChuLl9ldmVudERpc3BhdGNoZXIgPSBuZXcgbngoewogICAgICBzY29wZTogbiwKICAgICAgdG9nZ2xlRXZlbnQ6IGZ1bmN0aW9uIHRvZ2dsZUV2ZW50KGUsIHQpIHsKICAgICAgICBueC5pc05hdGl2ZShlKSAmJiBuLnRvZ2dsZU5hdGl2ZUV2ZW50ICYmIG4udG9nZ2xlTmF0aXZlRXZlbnQoZSwgdCk7CiAgICAgIH0KICAgIH0pKSwgbi5fZXZlbnREaXNwYXRjaGVyOwogIH0KCiAgZnVuY3Rpb24gaXgoZSwgdCkgewogICAgaWYgKCJzZWxlY3Rpb25jaGFuZ2UiID09PSB0KSByZXR1cm4gZS5nZXREb2MoKTsKICAgIGlmICghZS5pbmxpbmUgJiYgL15tb3VzZXx0b3VjaHxjbGlja3xjb250ZXh0bWVudXxkcm9wfGRyYWdvdmVyfGRyYWdlbmQvLnRlc3QodCkpIHJldHVybiBlLmdldERvYygpLmRvY3VtZW50RWxlbWVudDsKICAgIHZhciBuID0gT3MoZSk7CiAgICByZXR1cm4gbiA/IChlLmV2ZW50Um9vdCB8fCAoZS5ldmVudFJvb3QgPSBkeC5zZWxlY3QobilbMF0pLCBlLmV2ZW50Um9vdCkgOiBlLmdldEJvZHkoKTsKICB9CgogIGZ1bmN0aW9uIGF4KGUsIHQsIG4pIHsKICAgIHZhciByLCBvLCBpLCBhOwogICAgZS5oaWRkZW4gfHwgUTEoZSkgPyBRMShlKSAmJiAociA9IGUsICJjbGljayIgIT09IChvID0gbikudHlwZSB8fCBCZi5tZXRhS2V5UHJlc3NlZChvKSB8fCAoaSA9IE50LmZyb21Eb20oby50YXJnZXQpLCBhID0gciwgYnIoaSwgImEiLCBmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gamUoZSwgTnQuZnJvbURvbShhLmdldEJvZHkoKSkpOwogICAgfSkuYmluZChmdW5jdGlvbiAoZSkgewogICAgICByZXR1cm4gYm4oZSwgImhyZWYiKTsKICAgIH0pLmVhY2goZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQsIG47CiAgICAgIG8ucHJldmVudERlZmF1bHQoKSwgL14jLy50ZXN0KGUpID8gKHQgPSByLmRvbS5zZWxlY3QoZSArICcsW25hbWU9IicgKyAoR2UobiA9IGUsICIjIikgPyBuLnN1YnN0cmluZygiIyIubGVuZ3RoKSA6IG4pICsgJyJdJykpLmxlbmd0aCAmJiByLnNlbGVjdGlvbi5zY3JvbGxJbnRvVmlldyh0WzBdLCAhMCkgOiB3aW5kb3cub3BlbihlLCAiX2JsYW5rIiwgInJlbD1ub29wZW5lciBub3JlZmVycmVyLG1lbnViYXI9eWVzLHRvb2xiYXI9eWVzLGxvY2F0aW9uPXllcyxzdGF0dXM9eWVzLHJlc2l6YWJsZT15ZXMsc2Nyb2xsYmFycz15ZXMiKTsKICAgIH0pKSkgOiBlLmZpcmUodCwgbik7CiAgfQoKICBmdW5jdGlvbiB1eChpLCBhKSB7CiAgICB2YXIgZSwgdDsKICAgIGkuZGVsZWdhdGVzIHx8IChpLmRlbGVnYXRlcyA9IHt9KSwgaS5kZWxlZ2F0ZXNbYV0gfHwgaS5yZW1vdmVkIHx8ICh0ID0gaXgoaSwgYSksIE9zKGkpID8gKGx4IHx8IChseCA9IHt9LCBpLmVkaXRvck1hbmFnZXIub24oInJlbW92ZUVkaXRvciIsIGZ1bmN0aW9uICgpIHsKICAgICAgaS5lZGl0b3JNYW5hZ2VyLmFjdGl2ZUVkaXRvciB8fCBseCAmJiAobmUobHgsIGZ1bmN0aW9uIChlLCB0KSB7CiAgICAgICAgaS5kb20udW5iaW5kKGl4KGksIHQpKTsKICAgICAgfSksIGx4ID0gbnVsbCk7CiAgICB9KSksIGx4W2FdIHx8IChseFthXSA9IGUgPSBmdW5jdGlvbiBlKF9lNCkgewogICAgICBmb3IgKHZhciB0ID0gX2U0LnRhcmdldCwgbiA9IGkuZWRpdG9yTWFuYWdlci5nZXQoKSwgciA9IG4ubGVuZ3RoOyByLS07KSB7CiAgICAgICAgdmFyIG8gPSBuW3JdLmdldEJvZHkoKTsKICAgICAgICBvICE9PSB0ICYmICFkeC5pc0NoaWxkT2YodCwgbykgfHwgYXgobltyXSwgYSwgX2U0KTsKICAgICAgfQogICAgfSwgZHguYmluZCh0LCBhLCBlKSkpIDogKGR4LmJpbmQodCwgYSwgZSA9IGZ1bmN0aW9uIGUoX2U1KSB7CiAgICAgIGF4KGksIGEsIF9lNSk7CiAgICB9KSwgaS5kZWxlZ2F0ZXNbYV0gPSBlKSk7CiAgfQoKICBmdW5jdGlvbiBzeChlLCB0LCBuLCByKSB7CiAgICB2YXIgbyA9IG5bdC5nZXQoKV0sCiAgICAgICAgaSA9IG5bcl07CgogICAgdHJ5IHsKICAgICAgaS5hY3RpdmF0ZSgpOwogICAgfSBjYXRjaCAoZSkgewogICAgICByZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKCJwcm9ibGVtIHdoaWxlIGFjdGl2YXRpbmcgZWRpdG9yIG1vZGUgIiArIHIgKyAiOiIsIGUpOwogICAgfQoKICAgIG8uZGVhY3RpdmF0ZSgpLCBvLmVkaXRvclJlYWRPbmx5ICE9PSBpLmVkaXRvclJlYWRPbmx5ICYmIEoxKGUsIGkuZWRpdG9yUmVhZE9ubHkpLCB0LnNldChyKSwgZS5maXJlKCJTd2l0Y2hNb2RlIiwgewogICAgICBtb2RlOiByCiAgICB9KTsKICB9CgogIGZ1bmN0aW9uIGN4KGUpIHsKICAgIHZhciB0LAogICAgICAgIG4gPSB7fTsKICAgIHB4KGh4KGUudG9Mb3dlckNhc2UoKSwgIisiKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgZSBpbiBieCA/IG5bZV0gPSAhMCA6IC9eWzAtOV17Mix9JC8udGVzdChlKSA/IG4ua2V5Q29kZSA9IHBhcnNlSW50KGUsIDEwKSA6IChuLmNoYXJDb2RlID0gZS5jaGFyQ29kZUF0KDApLCBuLmtleUNvZGUgPSB2eFtlXSB8fCBlLnRvVXBwZXJDYXNlKCkuY2hhckNvZGVBdCgwKSk7CiAgICB9KTsKICAgIHZhciByID0gW24ua2V5Q29kZV07CgogICAgZm9yICh0IGluIGJ4KSB7CiAgICAgIG5bdF0gPyByLnB1c2godCkgOiBuW3RdID0gITE7CiAgICB9CgogICAgcmV0dXJuIG4uaWQgPSByLmpvaW4oIiwiKSwgbi5hY2Nlc3MgJiYgKG4uYWx0ID0gITAsIHh0Lm1hYyA/IG4uY3RybCA9ICEwIDogbi5zaGlmdCA9ICEwKSwgbi5tZXRhICYmICh4dC5tYWMgPyBuLm1ldGEgPSAhMCA6IChuLmN0cmwgPSAhMCwgbi5tZXRhID0gITEpKSwgbjsKICB9CgogIHZhciBseCwKICAgICAgZnggPSB7CiAgICBmaXJlOiBmdW5jdGlvbiBmaXJlKGUsIHQsIG4pIHsKICAgICAgaWYgKHRoaXMucmVtb3ZlZCAmJiAicmVtb3ZlIiAhPT0gZSAmJiAiZGV0YWNoIiAhPT0gZSkgcmV0dXJuIHQ7CiAgICAgIHZhciByID0gb3godGhpcykuZmlyZShlLCB0KTsKICAgICAgaWYgKCExICE9PSBuICYmIHRoaXMucGFyZW50KSBmb3IgKHZhciBvID0gdGhpcy5wYXJlbnQoKTsgbyAmJiAhci5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpOykgewogICAgICAgIG8uZmlyZShlLCByLCAhMSksIG8gPSBvLnBhcmVudCgpOwogICAgICB9CiAgICAgIHJldHVybiByOwogICAgfSwKICAgIG9uOiBmdW5jdGlvbiBvbihlLCB0LCBuKSB7CiAgICAgIHJldHVybiBveCh0aGlzKS5vbihlLCB0LCBuKTsKICAgIH0sCiAgICBvZmY6IGZ1bmN0aW9uIG9mZihlLCB0KSB7CiAgICAgIHJldHVybiBveCh0aGlzKS5vZmYoZSwgdCk7CiAgICB9LAogICAgb25jZTogZnVuY3Rpb24gb25jZShlLCB0KSB7CiAgICAgIHJldHVybiBveCh0aGlzKS5vbmNlKGUsIHQpOwogICAgfSwKICAgIGhhc0V2ZW50TGlzdGVuZXJzOiBmdW5jdGlvbiBoYXNFdmVudExpc3RlbmVycyhlKSB7CiAgICAgIHJldHVybiBveCh0aGlzKS5oYXMoZSk7CiAgICB9CiAgfSwKICAgICAgZHggPSBKYS5ET00sCiAgICAgIG14ID0gX2UyKF9lMih7fSwgZngpLCB7CiAgICBiaW5kUGVuZGluZ0V2ZW50RGVsZWdhdGVzOiBmdW5jdGlvbiBiaW5kUGVuZGluZ0V2ZW50RGVsZWdhdGVzKCkgewogICAgICB2YXIgdCA9IHRoaXM7CiAgICAgIEV0LmVhY2godC5fcGVuZGluZ05hdGl2ZUV2ZW50cywgZnVuY3Rpb24gKGUpIHsKICAgICAgICB1eCh0LCBlKTsKICAgICAgfSk7CiAgICB9LAogICAgdG9nZ2xlTmF0aXZlRXZlbnQ6IGZ1bmN0aW9uIHRvZ2dsZU5hdGl2ZUV2ZW50KGUsIHQpIHsKICAgICAgdmFyIG4gPSB0aGlzOwogICAgICAiZm9jdXMiICE9PSBlICYmICJibHVyIiAhPT0gZSAmJiAobi5yZW1vdmVkIHx8ICh0ID8gbi5pbml0aWFsaXplZCA/IHV4KG4sIGUpIDogbi5fcGVuZGluZ05hdGl2ZUV2ZW50cyA/IG4uX3BlbmRpbmdOYXRpdmVFdmVudHMucHVzaChlKSA6IG4uX3BlbmRpbmdOYXRpdmVFdmVudHMgPSBbZV0gOiBuLmluaXRpYWxpemVkICYmIChuLmRvbS51bmJpbmQoaXgobiwgZSksIGUsIG4uZGVsZWdhdGVzW2VdKSwgZGVsZXRlIG4uZGVsZWdhdGVzW2VdKSkpOwogICAgfSwKICAgIHVuYmluZEFsbE5hdGl2ZUV2ZW50czogZnVuY3Rpb24gdW5iaW5kQWxsTmF0aXZlRXZlbnRzKCkgewogICAgICB2YXIgbiA9IHRoaXMsCiAgICAgICAgICBlID0gbi5nZXRCb2R5KCksCiAgICAgICAgICB0ID0gbi5kb207CiAgICAgIG4uZGVsZWdhdGVzICYmIChuZShuLmRlbGVnYXRlcywgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICBuLmRvbS51bmJpbmQoaXgobiwgdCksIHQsIGUpOwogICAgICB9KSwgZGVsZXRlIG4uZGVsZWdhdGVzKSwgIW4uaW5saW5lICYmIGUgJiYgdCAmJiAoZS5vbmxvYWQgPSBudWxsLCB0LnVuYmluZChuLmdldFdpbigpKSwgdC51bmJpbmQobi5nZXREb2MoKSkpLCB0ICYmICh0LnVuYmluZChlKSwgdC51bmJpbmQobi5nZXRDb250YWluZXIoKSkpOwogICAgfQogIH0pLAogICAgICBneCA9IFsiZGVzaWduIiwgInJlYWRvbmx5Il0sCiAgICAgIHB4ID0gRXQuZWFjaCwKICAgICAgaHggPSBFdC5leHBsb2RlLAogICAgICB2eCA9IHsKICAgIGYxOiAxMTIsCiAgICBmMjogMTEzLAogICAgZjM6IDExNCwKICAgIGY0OiAxMTUsCiAgICBmNTogMTE2LAogICAgZjY6IDExNywKICAgIGY3OiAxMTgsCiAgICBmODogMTE5LAogICAgZjk6IDEyMCwKICAgIGYxMDogMTIxLAogICAgZjExOiAxMjIsCiAgICBmMTI6IDEyMwogIH0sCiAgICAgIGJ4ID0gRXQubWFrZU1hcCgiYWx0LGN0cmwsc2hpZnQsbWV0YSxhY2Nlc3MiKSwKICAgICAgeXggPSAoQ3gucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChlLCBuLCB0LCByKSB7CiAgICB2YXIgbyA9IHRoaXMsCiAgICAgICAgaSA9IG8ubm9ybWFsaXplQ29tbWFuZEZ1bmModCk7CiAgICByZXR1cm4gcHgoaHgoRXQudHJpbShlKSksIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gby5jcmVhdGVTaG9ydGN1dChlLCBuLCBpLCByKTsKICAgICAgby5zaG9ydGN1dHNbdC5pZF0gPSB0OwogICAgfSksICEwOwogIH0sIEN4LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoZSkgewogICAgdmFyIHQgPSB0aGlzLmNyZWF0ZVNob3J0Y3V0KGUpOwogICAgcmV0dXJuICEhdGhpcy5zaG9ydGN1dHNbdC5pZF0gJiYgKGRlbGV0ZSB0aGlzLnNob3J0Y3V0c1t0LmlkXSwgITApOwogIH0sIEN4LnByb3RvdHlwZS5ub3JtYWxpemVDb21tYW5kRnVuYyA9IGZ1bmN0aW9uIChlKSB7CiAgICB2YXIgdCA9IHRoaXMsCiAgICAgICAgbiA9IGU7CiAgICByZXR1cm4gInN0cmluZyIgPT0gdHlwZW9mIG4gPyBmdW5jdGlvbiAoKSB7CiAgICAgIHQuZWRpdG9yLmV4ZWNDb21tYW5kKG4sICExLCBudWxsKTsKICAgIH0gOiBFdC5pc0FycmF5KG4pID8gZnVuY3Rpb24gKCkgewogICAgICB0LmVkaXRvci5leGVjQ29tbWFuZChuWzBdLCBuWzFdLCBuWzJdKTsKICAgIH0gOiBuOwogIH0sIEN4LnByb3RvdHlwZS5jcmVhdGVTaG9ydGN1dCA9IGZ1bmN0aW9uIChlLCB0LCBuLCByKSB7CiAgICB2YXIgbyA9IEV0Lm1hcChoeChlLCAiPiIpLCBjeCk7CiAgICByZXR1cm4gb1tvLmxlbmd0aCAtIDFdID0gRXQuZXh0ZW5kKG9bby5sZW5ndGggLSAxXSwgewogICAgICBmdW5jOiBuLAogICAgICBzY29wZTogciB8fCB0aGlzLmVkaXRvcgogICAgfSksIEV0LmV4dGVuZChvWzBdLCB7CiAgICAgIGRlc2M6IHRoaXMuZWRpdG9yLnRyYW5zbGF0ZSh0KSwKICAgICAgc3VicGF0dGVybnM6IG8uc2xpY2UoMSkKICAgIH0pOwogIH0sIEN4LnByb3RvdHlwZS5oYXNNb2RpZmllciA9IGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gZS5hbHRLZXkgfHwgZS5jdHJsS2V5IHx8IGUubWV0YUtleTsKICB9LCBDeC5wcm90b3R5cGUuaXNGdW5jdGlvbktleSA9IGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gImtleWRvd24iID09PSBlLnR5cGUgJiYgMTEyIDw9IGUua2V5Q29kZSAmJiBlLmtleUNvZGUgPD0gMTIzOwogIH0sIEN4LnByb3RvdHlwZS5tYXRjaFNob3J0Y3V0ID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgIHJldHVybiAhIXQgJiYgdC5jdHJsID09PSBlLmN0cmxLZXkgJiYgdC5tZXRhID09PSBlLm1ldGFLZXkgJiYgdC5hbHQgPT09IGUuYWx0S2V5ICYmIHQuc2hpZnQgPT09IGUuc2hpZnRLZXkgJiYgISEoZS5rZXlDb2RlID09PSB0LmtleUNvZGUgfHwgZS5jaGFyQ29kZSAmJiBlLmNoYXJDb2RlID09PSB0LmNoYXJDb2RlKSAmJiAoZS5wcmV2ZW50RGVmYXVsdCgpLCAhMCk7CiAgfSwgQ3gucHJvdG90eXBlLmV4ZWN1dGVTaG9ydGN1dEFjdGlvbiA9IGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gZS5mdW5jID8gZS5mdW5jLmNhbGwoZS5zY29wZSkgOiBudWxsOwogIH0sIEN4KTsKCiAgZnVuY3Rpb24gQ3goZSkgewogICAgdGhpcy5zaG9ydGN1dHMgPSB7fSwgdGhpcy5wZW5kaW5nUGF0dGVybnMgPSBbXSwgdGhpcy5lZGl0b3IgPSBlOwogICAgdmFyIG4gPSB0aGlzOwogICAgZS5vbigia2V5dXAga2V5cHJlc3Mga2V5ZG93biIsIGZ1bmN0aW9uICh0KSB7CiAgICAgICFuLmhhc01vZGlmaWVyKHQpICYmICFuLmlzRnVuY3Rpb25LZXkodCkgfHwgdC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSB8fCAocHgobi5zaG9ydGN1dHMsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgaWYgKG4ubWF0Y2hTaG9ydGN1dCh0LCBlKSkgcmV0dXJuIG4ucGVuZGluZ1BhdHRlcm5zID0gZS5zdWJwYXR0ZXJucy5zbGljZSgwKSwgImtleWRvd24iID09PSB0LnR5cGUgJiYgbi5leGVjdXRlU2hvcnRjdXRBY3Rpb24oZSksICEwOwogICAgICB9KSwgbi5tYXRjaFNob3J0Y3V0KHQsIG4ucGVuZGluZ1BhdHRlcm5zWzBdKSAmJiAoMSA9PT0gbi5wZW5kaW5nUGF0dGVybnMubGVuZ3RoICYmICJrZXlkb3duIiA9PT0gdC50eXBlICYmIG4uZXhlY3V0ZVNob3J0Y3V0QWN0aW9uKG4ucGVuZGluZ1BhdHRlcm5zWzBdKSwgbi5wZW5kaW5nUGF0dGVybnMuc2hpZnQoKSkpOwogICAgfSk7CiAgfQoKICB2YXIgeHggPSBKYS5ET00sCiAgICAgIHd4ID0gRXQuZXh0ZW5kLAogICAgICBTeCA9IEV0LmVhY2gsCiAgICAgIEV4ID0gRXQucmVzb2x2ZSwKICAgICAgTnggPSB4dC5pZSwKICAgICAga3ggPSAoX3gucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHsKICAgICFmdW5jdGlvbiAodCkgewogICAgICB2YXIgZSA9IHQuaWQ7CiAgICAgIHV1LnNldENvZGUoQXModCkpOwoKICAgICAgdmFyIG4sCiAgICAgICAgICByLAogICAgICAgICAgbywKICAgICAgICAgIGksCiAgICAgICAgICBhID0gZnVuY3Rpb24gYSgpIHsKICAgICAgICBVMS51bmJpbmQod2luZG93LCAicmVhZHkiLCBhKSwgdC5yZW5kZXIoKTsKICAgICAgfTsKCiAgICAgIGFpLkV2ZW50LmRvbUxvYWRlZCA/IHQuZ2V0RWxlbWVudCgpICYmIHh0LmNvbnRlbnRFZGl0YWJsZSAmJiAobiA9IE50LmZyb21Eb20odC5nZXRFbGVtZW50KCkpLCByID0gTChuLmRvbS5hdHRyaWJ1dGVzLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIHJldHVybiBlW3QubmFtZV0gPSB0LnZhbHVlLCBlOwogICAgICB9LCB7fSksIHQub24oInJlbW92ZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICBPKG4uZG9tLmF0dHJpYnV0ZXMsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICByZXR1cm4geW4obiwgZS5uYW1lKSwgMDsKICAgICAgICB9KSwgaG4obiwgcik7CiAgICAgIH0pLCB0LnVpLnN0eWxlU2hlZXRMb2FkZXIgPSBBci5mb3JFbGVtZW50KG4sIHsKICAgICAgICBjb250ZW50Q3NzQ29yczogKG8gPSB0KS5nZXRQYXJhbSgiY29udGVudF9jc3NfY29ycyIpLAogICAgICAgIHJlZmVycmVyUG9saWN5OiBfcyhvKQogICAgICB9KSwgdC5nZXRQYXJhbSgiaW5saW5lIikgPyB0LmlubGluZSA9ICEwIDogKHQub3JnVmlzaWJpbGl0eSA9IHQuZ2V0RWxlbWVudCgpLnN0eWxlLnZpc2liaWxpdHksIHQuZ2V0RWxlbWVudCgpLnN0eWxlLnZpc2liaWxpdHkgPSAiaGlkZGVuIiksIChpID0gdC5nZXRFbGVtZW50KCkuZm9ybSB8fCBVMS5nZXRQYXJlbnQoZSwgImZvcm0iKSkgJiYgKHQuZm9ybUVsZW1lbnQgPSBpLCB0LmdldFBhcmFtKCJoaWRkZW5faW5wdXQiKSAmJiAhSG4odC5nZXRFbGVtZW50KCkpICYmIChVMS5pbnNlcnRBZnRlcihVMS5jcmVhdGUoImlucHV0IiwgewogICAgICAgIHR5cGU6ICJoaWRkZW4iLAogICAgICAgIG5hbWU6IGUKICAgICAgfSksIGUpLCB0Lmhhc0hpZGRlbklucHV0ID0gITApLCB0LmZvcm1FdmVudERlbGVnYXRlID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICB0LmZpcmUoZS50eXBlLCBlKTsKICAgICAgfSwgVTEuYmluZChpLCAic3VibWl0IHJlc2V0IiwgdC5mb3JtRXZlbnREZWxlZ2F0ZSksIHQub24oInJlc2V0IiwgZnVuY3Rpb24gKCkgewogICAgICAgIHQucmVzZXRDb250ZW50KCk7CiAgICAgIH0pLCAhdC5nZXRQYXJhbSgic3VibWl0X3BhdGNoIikgfHwgaS5zdWJtaXQubm9kZVR5cGUgfHwgaS5zdWJtaXQubGVuZ3RoIHx8IGkuX21jZU9sZFN1Ym1pdCB8fCAoaS5fbWNlT2xkU3VibWl0ID0gaS5zdWJtaXQsIGkuc3VibWl0ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0LmVkaXRvck1hbmFnZXIudHJpZ2dlclNhdmUoKSwgdC5zZXREaXJ0eSghMSksIGkuX21jZU9sZFN1Ym1pdChpKTsKICAgICAgfSkpLCB0LndpbmRvd01hbmFnZXIgPSBQdih0KSwgdC5ub3RpZmljYXRpb25NYW5hZ2VyID0gdXYodCksICJ4bWwiID09PSB0LmdldFBhcmFtKCJlbmNvZGluZyIpICYmIHQub24oIkdldENvbnRlbnQiLCBmdW5jdGlvbiAoZSkgewogICAgICAgIGUuc2F2ZSAmJiAoZS5jb250ZW50ID0gVTEuZW5jb2RlKGUuY29udGVudCkpOwogICAgICB9KSwgdC5nZXRQYXJhbSgiYWRkX2Zvcm1fc3VibWl0X3RyaWdnZXIiKSAmJiB0Lm9uKCJzdWJtaXQiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgdC5pbml0aWFsaXplZCAmJiB0LnNhdmUoKTsKICAgICAgfSksIHQuZ2V0UGFyYW0oImFkZF91bmxvYWRfdHJpZ2dlciIpICYmICh0Ll9iZWZvcmVVbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgIXQuaW5pdGlhbGl6ZWQgfHwgdC5kZXN0cm95ZWQgfHwgdC5pc0hpZGRlbigpIHx8IHQuc2F2ZSh7CiAgICAgICAgICBmb3JtYXQ6ICJyYXciLAogICAgICAgICAgbm9fZXZlbnRzOiAhMCwKICAgICAgICAgIHNldF9kaXJ0eTogITEKICAgICAgICB9KTsKICAgICAgfSwgdC5lZGl0b3JNYW5hZ2VyLm9uKCJCZWZvcmVVbmxvYWQiLCB0Ll9iZWZvcmVVbmxvYWQpKSwgdC5lZGl0b3JNYW5hZ2VyLmFkZCh0KSwgTjEodCwgdC5zdWZmaXgpKSA6IFUxLmJpbmQod2luZG93LCAicmVhZHkiLCBhKTsKICAgIH0odGhpcyk7CiAgfSwgX3gucHJvdG90eXBlLmZvY3VzID0gZnVuY3Rpb24gKGUpIHsKICAgIHRoaXMuZXhlY0NvbW1hbmQoIm1jZUZvY3VzIiwgITEsIGUpOwogIH0sIF94LnByb3RvdHlwZS5oYXNGb2N1cyA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB2ZCh0aGlzKTsKICB9LCBfeC5wcm90b3R5cGUuZXhlY0NhbGxiYWNrID0gZnVuY3Rpb24gKGUpIHsKICAgIGZvciAodmFyIHQgPSBbXSwgbiA9IDE7IG4gPCBhcmd1bWVudHMubGVuZ3RoOyBuKyspIHsKICAgICAgdFtuIC0gMV0gPSBhcmd1bWVudHNbbl07CiAgICB9CgogICAgdmFyIHIsCiAgICAgICAgbyA9IHRoaXMuc2V0dGluZ3NbZV07CiAgICBpZiAobykgcmV0dXJuIHRoaXMuY2FsbGJhY2tMb29rdXAgJiYgKHIgPSB0aGlzLmNhbGxiYWNrTG9va3VwW2VdKSAmJiAobyA9IHIuZnVuYywgciA9IHIuc2NvcGUpLCAic3RyaW5nIiA9PSB0eXBlb2YgbyAmJiAociA9IChyID0gby5yZXBsYWNlKC9cLlx3KyQvLCAiIikpID8gRXgocikgOiAwLCBvID0gRXgobyksIHRoaXMuY2FsbGJhY2tMb29rdXAgPSB0aGlzLmNhbGxiYWNrTG9va3VwIHx8IHt9LCB0aGlzLmNhbGxiYWNrTG9va3VwW2VdID0gewogICAgICBmdW5jOiBvLAogICAgICBzY29wZTogcgogICAgfSksIG8uYXBwbHkociB8fCB0aGlzLCB0KTsKICB9LCBfeC5wcm90b3R5cGUudHJhbnNsYXRlID0gZnVuY3Rpb24gKGUpIHsKICAgIHJldHVybiB1dS50cmFuc2xhdGUoZSk7CiAgfSwgX3gucHJvdG90eXBlLmdldFBhcmFtID0gZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgIHJldHVybiBpID0gdCwgYSA9IG4sIGwgPSAobyA9IGUpIGluIChyID0gdGhpcykuc2V0dGluZ3MgPyByLnNldHRpbmdzW29dIDogaSwgImhhc2giID09PSBhID8gKGMgPSB7fSwgInN0cmluZyIgPT0gdHlwZW9mIChzID0gbCkgPyBZKDAgPCBzLmluZGV4T2YoIj0iKSA/IHMuc3BsaXQoL1s7LF0oPyFbXj07LF0qKD86WzssXXwkKSkvKSA6IHMuc3BsaXQoIiwiKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgdmFyIHQgPSBlLnNwbGl0KCI9Iik7CiAgICAgIDEgPCB0Lmxlbmd0aCA/IGNbRXQudHJpbSh0WzBdKV0gPSBFdC50cmltKHRbMV0pIDogY1tFdC50cmltKHRbMF0pXSA9IEV0LnRyaW0odFswXSk7CiAgICB9KSA6IGMgPSBzLCBjKSA6ICJzdHJpbmciID09PSBhID8gcnYoWCwgciwgbykuZ2V0T3IoaSkgOiAibnVtYmVyIiA9PT0gYSA/IHJ2KEUsIHIsIG8pLmdldE9yKGkpIDogImJvb2xlYW4iID09PSBhID8gcnYodiwgciwgbykuZ2V0T3IoaSkgOiAib2JqZWN0IiA9PT0gYSA/IHJ2KGgsIHIsIG8pLmdldE9yKGkpIDogImFycmF5IiA9PT0gYSA/IHJ2KFMsIHIsIG8pLmdldE9yKGkpIDogInN0cmluZ1tdIiA9PT0gYSA/IHJ2KCh1ID0gWCwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIFMoZSkgJiYgaihlLCB1KTsKICAgIH0pLCByLCBvKS5nZXRPcihpKSA6ICJmdW5jdGlvbiIgPT09IGEgPyBydih5LCByLCBvKS5nZXRPcihpKSA6IGw7CiAgICB2YXIgciwgbywgaSwgYSwgdSwgcywgYywgbDsKICB9LCBfeC5wcm90b3R5cGUuaGFzUGx1Z2luID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgIHJldHVybiAhKCFEKExzKHRoaXMpLnNwbGl0KC9bICxdLyksIGUpIHx8IHQgJiYgdm9pZCAwID09PSBPdi5nZXQoZSkpOwogIH0sIF94LnByb3RvdHlwZS5ub2RlQ2hhbmdlZCA9IGZ1bmN0aW9uIChlKSB7CiAgICB0aGlzLl9ub2RlQ2hhbmdlRGlzcGF0Y2hlci5ub2RlQ2hhbmdlZChlKTsKICB9LCBfeC5wcm90b3R5cGUuYWRkQ29tbWFuZCA9IGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICB0aGlzLmVkaXRvckNvbW1hbmRzLmFkZENvbW1hbmQoZSwgdCwgbik7CiAgfSwgX3gucHJvdG90eXBlLmFkZFF1ZXJ5U3RhdGVIYW5kbGVyID0gZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgIHRoaXMuZWRpdG9yQ29tbWFuZHMuYWRkUXVlcnlTdGF0ZUhhbmRsZXIoZSwgdCwgbik7CiAgfSwgX3gucHJvdG90eXBlLmFkZFF1ZXJ5VmFsdWVIYW5kbGVyID0gZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgIHRoaXMuZWRpdG9yQ29tbWFuZHMuYWRkUXVlcnlWYWx1ZUhhbmRsZXIoZSwgdCwgbik7CiAgfSwgX3gucHJvdG90eXBlLmFkZFNob3J0Y3V0ID0gZnVuY3Rpb24gKGUsIHQsIG4sIHIpIHsKICAgIHRoaXMuc2hvcnRjdXRzLmFkZChlLCB0LCBuLCByKTsKICB9LCBfeC5wcm90b3R5cGUuZXhlY0NvbW1hbmQgPSBmdW5jdGlvbiAoZSwgdCwgbiwgcikgewogICAgcmV0dXJuIHRoaXMuZWRpdG9yQ29tbWFuZHMuZXhlY0NvbW1hbmQoZSwgdCwgbiwgcik7CiAgfSwgX3gucHJvdG90eXBlLnF1ZXJ5Q29tbWFuZFN0YXRlID0gZnVuY3Rpb24gKGUpIHsKICAgIHJldHVybiB0aGlzLmVkaXRvckNvbW1hbmRzLnF1ZXJ5Q29tbWFuZFN0YXRlKGUpOwogIH0sIF94LnByb3RvdHlwZS5xdWVyeUNvbW1hbmRWYWx1ZSA9IGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gdGhpcy5lZGl0b3JDb21tYW5kcy5xdWVyeUNvbW1hbmRWYWx1ZShlKTsKICB9LCBfeC5wcm90b3R5cGUucXVlcnlDb21tYW5kU3VwcG9ydGVkID0gZnVuY3Rpb24gKGUpIHsKICAgIHJldHVybiB0aGlzLmVkaXRvckNvbW1hbmRzLnF1ZXJ5Q29tbWFuZFN1cHBvcnRlZChlKTsKICB9LCBfeC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuaGlkZGVuICYmICh0aGlzLmhpZGRlbiA9ICExLCB0aGlzLmlubGluZSA/IHRoaXMuZ2V0Qm9keSgpLmNvbnRlbnRFZGl0YWJsZSA9ICJ0cnVlIiA6ICh4eC5zaG93KHRoaXMuZ2V0Q29udGFpbmVyKCkpLCB4eC5oaWRlKHRoaXMuaWQpKSwgdGhpcy5sb2FkKCksIHRoaXMuZmlyZSgic2hvdyIpKTsKICB9LCBfeC5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBlID0gdGhpcywKICAgICAgICB0ID0gZS5nZXREb2MoKTsKICAgIGUuaGlkZGVuIHx8IChOeCAmJiB0ICYmICFlLmlubGluZSAmJiB0LmV4ZWNDb21tYW5kKCJTZWxlY3RBbGwiKSwgZS5zYXZlKCksIGUuaW5saW5lID8gKGUuZ2V0Qm9keSgpLmNvbnRlbnRFZGl0YWJsZSA9ICJmYWxzZSIsIGUgPT09IGUuZWRpdG9yTWFuYWdlci5mb2N1c2VkRWRpdG9yICYmIChlLmVkaXRvck1hbmFnZXIuZm9jdXNlZEVkaXRvciA9IG51bGwpKSA6ICh4eC5oaWRlKGUuZ2V0Q29udGFpbmVyKCkpLCB4eC5zZXRTdHlsZShlLmlkLCAiZGlzcGxheSIsIGUub3JnRGlzcGxheSkpLCBlLmhpZGRlbiA9ICEwLCBlLmZpcmUoImhpZGUiKSk7CiAgfSwgX3gucHJvdG90eXBlLmlzSGlkZGVuID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuICEhdGhpcy5oaWRkZW47CiAgfSwgX3gucHJvdG90eXBlLnNldFByb2dyZXNzU3RhdGUgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgdGhpcy5maXJlKCJQcm9ncmVzc1N0YXRlIiwgewogICAgICBzdGF0ZTogZSwKICAgICAgdGltZTogdAogICAgfSk7CiAgfSwgX3gucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAoZSkgewogICAgdmFyIHQgPSB0aGlzLmdldEVsZW1lbnQoKTsKICAgIGlmICh0aGlzLnJlbW92ZWQpIHJldHVybiAiIjsKCiAgICBpZiAodCkgewogICAgICAoZSA9IGUgfHwge30pLmxvYWQgPSAhMDsKICAgICAgdmFyIG4gPSBIbih0KSA/IHQudmFsdWUgOiB0LmlubmVySFRNTCwKICAgICAgICAgIHIgPSB0aGlzLnNldENvbnRlbnQobiwgZSk7CiAgICAgIHJldHVybiBlLmVsZW1lbnQgPSB0LCBlLm5vX2V2ZW50cyB8fCB0aGlzLmZpcmUoIkxvYWRDb250ZW50IiwgZSksIGUuZWxlbWVudCA9IHQgPSBudWxsLCByOwogICAgfQogIH0sIF94LnByb3RvdHlwZS5zYXZlID0gZnVuY3Rpb24gKGUpIHsKICAgIHZhciB0LAogICAgICAgIG4sCiAgICAgICAgciA9IHRoaXMsCiAgICAgICAgbyA9IHIuZ2V0RWxlbWVudCgpOwogICAgaWYgKG8gJiYgci5pbml0aWFsaXplZCAmJiAhci5yZW1vdmVkKSByZXR1cm4gKGUgPSBlIHx8IHt9KS5zYXZlID0gITAsIGUuZWxlbWVudCA9IG8sIGUuY29udGVudCA9IHIuZ2V0Q29udGVudChlKSwgZS5ub19ldmVudHMgfHwgci5maXJlKCJTYXZlQ29udGVudCIsIGUpLCAicmF3IiA9PT0gZS5mb3JtYXQgJiYgci5maXJlKCJSYXdTYXZlQ29udGVudCIsIGUpLCB0ID0gZS5jb250ZW50LCBIbihvKSA/IG8udmFsdWUgPSB0IDogKCFlLmlzX3JlbW92aW5nICYmIHIuaW5saW5lIHx8IChvLmlubmVySFRNTCA9IHQpLCAobiA9IHh4LmdldFBhcmVudChyLmlkLCAiZm9ybSIpKSAmJiBTeChuLmVsZW1lbnRzLCBmdW5jdGlvbiAoZSkgewogICAgICBpZiAoZS5uYW1lID09PSByLmlkKSByZXR1cm4gZS52YWx1ZSA9IHQsICExOwogICAgfSkpLCBlLmVsZW1lbnQgPSBvID0gbnVsbCwgITEgIT09IGUuc2V0X2RpcnR5ICYmIHIuc2V0RGlydHkoITEpLCB0OwogIH0sIF94LnByb3RvdHlwZS5zZXRDb250ZW50ID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgIHJldHVybiBZaCh0aGlzLCBlLCB0KTsKICB9LCBfeC5wcm90b3R5cGUuZ2V0Q29udGVudCA9IGZ1bmN0aW9uIChlKSB7CiAgICByZXR1cm4gdCA9IHRoaXMsIHIgPSAobiA9IHZvaWQgMCA9PT0gKG4gPSBlKSA/IHt9IDogbikuZm9ybWF0IHx8ICJodG1sIiwgbyA9IG4sIHBoKHQpLmVkaXRvci5nZXRDb250ZW50KG8sIHIpOwogICAgdmFyIHQsIG4sIHIsIG87CiAgfSwgX3gucHJvdG90eXBlLmluc2VydENvbnRlbnQgPSBmdW5jdGlvbiAoZSwgdCkgewogICAgdCAmJiAoZSA9IHd4KHsKICAgICAgY29udGVudDogZQogICAgfSwgdCkpLCB0aGlzLmV4ZWNDb21tYW5kKCJtY2VJbnNlcnRDb250ZW50IiwgITEsIGUpOwogIH0sIF94LnByb3RvdHlwZS5yZXNldENvbnRlbnQgPSBmdW5jdGlvbiAoZSkgewogICAgdm9pZCAwID09PSBlID8gWWgodGhpcywgdGhpcy5zdGFydENvbnRlbnQsIHsKICAgICAgZm9ybWF0OiAicmF3IgogICAgfSkgOiBZaCh0aGlzLCBlKSwgdGhpcy51bmRvTWFuYWdlci5yZXNldCgpLCB0aGlzLnNldERpcnR5KCExKSwgdGhpcy5ub2RlQ2hhbmdlZCgpOwogIH0sIF94LnByb3RvdHlwZS5pc0RpcnR5ID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuICF0aGlzLmlzTm90RGlydHk7CiAgfSwgX3gucHJvdG90eXBlLnNldERpcnR5ID0gZnVuY3Rpb24gKGUpIHsKICAgIHZhciB0ID0gIXRoaXMuaXNOb3REaXJ0eTsKICAgIHRoaXMuaXNOb3REaXJ0eSA9ICFlLCBlICYmIGUgIT09IHQgJiYgdGhpcy5maXJlKCJkaXJ0eSIpOwogIH0sIF94LnByb3RvdHlwZS5nZXRDb250YWluZXIgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy5jb250YWluZXIgfHwgKHRoaXMuY29udGFpbmVyID0geHguZ2V0KHRoaXMuZWRpdG9yQ29udGFpbmVyIHx8IHRoaXMuaWQgKyAiX3BhcmVudCIpKSwgdGhpcy5jb250YWluZXI7CiAgfSwgX3gucHJvdG90eXBlLmdldENvbnRlbnRBcmVhQ29udGFpbmVyID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuY29udGVudEFyZWFDb250YWluZXI7CiAgfSwgX3gucHJvdG90eXBlLmdldEVsZW1lbnQgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gdGhpcy50YXJnZXRFbG0gfHwgKHRoaXMudGFyZ2V0RWxtID0geHguZ2V0KHRoaXMuaWQpKSwgdGhpcy50YXJnZXRFbG07CiAgfSwgX3gucHJvdG90eXBlLmdldFdpbiA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBlOwogICAgcmV0dXJuIHRoaXMuY29udGVudFdpbmRvdyB8fCAoZSA9IHRoaXMuaWZyYW1lRWxlbWVudCkgJiYgKHRoaXMuY29udGVudFdpbmRvdyA9IGUuY29udGVudFdpbmRvdyksIHRoaXMuY29udGVudFdpbmRvdzsKICB9LCBfeC5wcm90b3R5cGUuZ2V0RG9jID0gZnVuY3Rpb24gKCkgewogICAgdmFyIGU7CiAgICByZXR1cm4gdGhpcy5jb250ZW50RG9jdW1lbnQgfHwgKGUgPSB0aGlzLmdldFdpbigpKSAmJiAodGhpcy5jb250ZW50RG9jdW1lbnQgPSBlLmRvY3VtZW50KSwgdGhpcy5jb250ZW50RG9jdW1lbnQ7CiAgfSwgX3gucHJvdG90eXBlLmdldEJvZHkgPSBmdW5jdGlvbiAoKSB7CiAgICB2YXIgZSA9IHRoaXMuZ2V0RG9jKCk7CiAgICByZXR1cm4gdGhpcy5ib2R5RWxlbWVudCB8fCAoZSA/IGUuYm9keSA6IG51bGwpOwogIH0sIF94LnByb3RvdHlwZS5jb252ZXJ0VVJMID0gZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgIHZhciByID0gdGhpcy5zZXR0aW5nczsKICAgIHJldHVybiByLnVybGNvbnZlcnRlcl9jYWxsYmFjayA/IHRoaXMuZXhlY0NhbGxiYWNrKCJ1cmxjb252ZXJ0ZXJfY2FsbGJhY2siLCBlLCBuLCAhMCwgdCkgOiAhci5jb252ZXJ0X3VybHMgfHwgbiAmJiAiTElOSyIgPT09IG4ubm9kZU5hbWUgfHwgMCA9PT0gZS5pbmRleE9mKCJmaWxlOiIpIHx8IDAgPT09IGUubGVuZ3RoID8gZSA6IHIucmVsYXRpdmVfdXJscyA/IHRoaXMuZG9jdW1lbnRCYXNlVVJJLnRvUmVsYXRpdmUoZSkgOiB0aGlzLmRvY3VtZW50QmFzZVVSSS50b0Fic29sdXRlKGUsIHIucmVtb3ZlX3NjcmlwdF9ob3N0KTsKICB9LCBfeC5wcm90b3R5cGUuYWRkVmlzdWFsID0gZnVuY3Rpb24gKGUpIHsKICAgIHZhciB0OwogICAgdCA9IGUsIGhoKHRoaXMpLmVkaXRvci5hZGRWaXN1YWwodCk7CiAgfSwgX3gucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciBlLCB0LCBuLCByLCBvOwogICAgKGUgPSB0aGlzKS5yZW1vdmVkIHx8ICh0ID0gZS5fc2VsZWN0aW9uT3ZlcnJpZGVzLCBuID0gZS5lZGl0b3JVcGxvYWQsIHIgPSBlLmdldEJvZHkoKSwgbyA9IGUuZ2V0RWxlbWVudCgpLCByICYmIGUuc2F2ZSh7CiAgICAgIGlzX3JlbW92aW5nOiAhMAogICAgfSksIGUucmVtb3ZlZCA9ICEwLCBlLnVuYmluZEFsbE5hdGl2ZUV2ZW50cygpLCBlLmhhc0hpZGRlbklucHV0ICYmIG8gJiYgaHYucmVtb3ZlKG8ubmV4dFNpYmxpbmcpLCBlLmZpcmUoInJlbW92ZSIpLCBlLmVkaXRvck1hbmFnZXIucmVtb3ZlKGUpLCAhZS5pbmxpbmUgJiYgciAmJiBodi5zZXRTdHlsZShlLmlkLCAiZGlzcGxheSIsIGUub3JnRGlzcGxheSksIGUuZmlyZSgiZGV0YWNoIiksIGh2LnJlbW92ZShlLmdldENvbnRhaW5lcigpKSwgR2godCksIEdoKG4pLCBlLmRlc3Ryb3koKSk7CiAgfSwgX3gucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoZSkgewogICAgdmFyIHQsIG4sIHIsIG8sIGksIGEsIHU7CiAgICBuID0gZSwgYSA9ICh0ID0gdGhpcykuc2VsZWN0aW9uLCB1ID0gdC5kb20sIHQuZGVzdHJveWVkIHx8IChuIHx8IHQucmVtb3ZlZCA/IChuIHx8ICh0LmVkaXRvck1hbmFnZXIub2ZmKCJiZWZvcmV1bmxvYWQiLCB0Ll9iZWZvcmVVbmxvYWQpLCB0LnRoZW1lICYmIHQudGhlbWUuZGVzdHJveSAmJiB0LnRoZW1lLmRlc3Ryb3koKSwgR2goYSksIEdoKHUpKSwgKG8gPSAociA9IHQpLmZvcm1FbGVtZW50KSAmJiAoby5fbWNlT2xkU3VibWl0ICYmIChvLnN1Ym1pdCA9IG8uX21jZU9sZFN1Ym1pdCwgby5fbWNlT2xkU3VibWl0ID0gbnVsbCksIGh2LnVuYmluZChvLCAic3VibWl0IHJlc2V0Iiwgci5mb3JtRXZlbnREZWxlZ2F0ZSkpLCAoaSA9IHQpLmNvbnRlbnRBcmVhQ29udGFpbmVyID0gaS5mb3JtRWxlbWVudCA9IGkuY29udGFpbmVyID0gaS5lZGl0b3JDb250YWluZXIgPSBudWxsLCBpLmJvZHlFbGVtZW50ID0gaS5jb250ZW50RG9jdW1lbnQgPSBpLmNvbnRlbnRXaW5kb3cgPSBudWxsLCBpLmlmcmFtZUVsZW1lbnQgPSBpLnRhcmdldEVsbSA9IG51bGwsIGkuc2VsZWN0aW9uICYmIChpLnNlbGVjdGlvbiA9IGkuc2VsZWN0aW9uLndpbiA9IGkuc2VsZWN0aW9uLmRvbSA9IGkuc2VsZWN0aW9uLmRvbS5kb2MgPSBudWxsKSwgdC5kZXN0cm95ZWQgPSAhMCkgOiB0LnJlbW92ZSgpKTsKICB9LCBfeC5wcm90b3R5cGUudXBsb2FkSW1hZ2VzID0gZnVuY3Rpb24gKGUpIHsKICAgIHJldHVybiB0aGlzLmVkaXRvclVwbG9hZC51cGxvYWRJbWFnZXMoZSk7CiAgfSwgX3gucHJvdG90eXBlLl9zY2FuRm9ySW1hZ2VzID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHRoaXMuZWRpdG9yVXBsb2FkLnNjYW5Gb3JJbWFnZXMoKTsKICB9LCBfeC5wcm90b3R5cGUuYWRkQnV0dG9uID0gZnVuY3Rpb24gKCkgewogICAgdGhyb3cgbmV3IEVycm9yKCJlZGl0b3IuYWRkQnV0dG9uIGhhcyBiZWVuIHJlbW92ZWQgaW4gdGlueW1jZSA1eCwgdXNlIGVkaXRvci51aS5yZWdpc3RyeS5hZGRCdXR0b24gb3IgZWRpdG9yLnVpLnJlZ2lzdHJ5LmFkZFRvZ2dsZUJ1dHRvbiBvciBlZGl0b3IudWkucmVnaXN0cnkuYWRkU3BsaXRCdXR0b24gaW5zdGVhZCIpOwogIH0sIF94LnByb3RvdHlwZS5hZGRTaWRlYmFyID0gZnVuY3Rpb24gKCkgewogICAgdGhyb3cgbmV3IEVycm9yKCJlZGl0b3IuYWRkU2lkZWJhciBoYXMgYmVlbiByZW1vdmVkIGluIHRpbnltY2UgNXgsIHVzZSBlZGl0b3IudWkucmVnaXN0cnkuYWRkU2lkZWJhciBpbnN0ZWFkIik7CiAgfSwgX3gucHJvdG90eXBlLmFkZE1lbnVJdGVtID0gZnVuY3Rpb24gKCkgewogICAgdGhyb3cgbmV3IEVycm9yKCJlZGl0b3IuYWRkTWVudUl0ZW0gaGFzIGJlZW4gcmVtb3ZlZCBpbiB0aW55bWNlIDV4LCB1c2UgZWRpdG9yLnVpLnJlZ2lzdHJ5LmFkZE1lbnVJdGVtIGluc3RlYWQiKTsKICB9LCBfeC5wcm90b3R5cGUuYWRkQ29udGV4dFRvb2xiYXIgPSBmdW5jdGlvbiAoKSB7CiAgICB0aHJvdyBuZXcgRXJyb3IoImVkaXRvci5hZGRDb250ZXh0VG9vbGJhciBoYXMgYmVlbiByZW1vdmVkIGluIHRpbnltY2UgNXgsIHVzZSBlZGl0b3IudWkucmVnaXN0cnkuYWRkQ29udGV4dFRvb2xiYXIgaW5zdGVhZCIpOwogIH0sIF94KTsKCiAgZnVuY3Rpb24gX3goZSwgdCwgbikgewogICAgdmFyIHIsCiAgICAgICAgbywKICAgICAgICBpLAogICAgICAgIGEsCiAgICAgICAgdSwKICAgICAgICBzLAogICAgICAgIGMsCiAgICAgICAgbCwKICAgICAgICBmLAogICAgICAgIGQsCiAgICAgICAgbSwKICAgICAgICBnLAogICAgICAgIHAsCiAgICAgICAgaCwKICAgICAgICB2LAogICAgICAgIGIsCiAgICAgICAgeSwKICAgICAgICBDLAogICAgICAgIHggPSB0aGlzOwoKICAgIGZ1bmN0aW9uIHcobiwgcikgewogICAgICByZXR1cm4gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICByZXR1cm4gbltlLnRvTG93ZXJDYXNlKCldID0gX2UyKF9lMih7fSwgdCksIHsKICAgICAgICAgIHR5cGU6IHIKICAgICAgICB9KTsKICAgICAgfTsKICAgIH0KCiAgICB0aGlzLnBsdWdpbnMgPSB7fSwgdGhpcy5jb250ZW50Q1NTID0gW10sIHRoaXMuY29udGVudFN0eWxlcyA9IFtdLCB0aGlzLmxvYWRlZENTUyA9IHt9LCB0aGlzLmlzTm90RGlydHkgPSAhMSwgdGhpcy5lZGl0b3JNYW5hZ2VyID0gbiwgdGhpcy5kb2N1bWVudEJhc2VVcmwgPSBuLmRvY3VtZW50QmFzZVVSTCwgd3godGhpcywgbXgpLCB0aGlzLnNldHRpbmdzID0gKGQgPSAoZiA9IHRoaXMpLmRvY3VtZW50QmFzZVVybCwgbSA9IG4uZGVmYXVsdFNldHRpbmdzLCBwID0gZCwgaCA9IHd2LCB2ID0gZiwgYiA9IHsKICAgICAgaWQ6IGUsCiAgICAgIHRoZW1lOiAic2lsdmVyIiwKICAgICAgdG9vbGJhcl9tb2RlOiBldihnID0gdCwgImZsb2F0aW5nIiksCiAgICAgIHBsdWdpbnM6ICIiLAogICAgICBkb2N1bWVudF9iYXNlX3VybDogcCwKICAgICAgYWRkX2Zvcm1fc3VibWl0X3RyaWdnZXI6ICEwLAogICAgICBzdWJtaXRfcGF0Y2g6ICEwLAogICAgICBhZGRfdW5sb2FkX3RyaWdnZXI6ICEwLAogICAgICBjb252ZXJ0X3VybHM6ICEwLAogICAgICByZWxhdGl2ZV91cmxzOiAhMCwKICAgICAgcmVtb3ZlX3NjcmlwdF9ob3N0OiAhMCwKICAgICAgb2JqZWN0X3Jlc2l6aW5nOiAhMCwKICAgICAgZG9jdHlwZTogIjwhRE9DVFlQRSBodG1sPiIsCiAgICAgIHZpc3VhbDogITAsCiAgICAgIGZvbnRfc2l6ZV9sZWdhY3lfdmFsdWVzOiAieHgtc21hbGwsc21hbGwsbWVkaXVtLGxhcmdlLHgtbGFyZ2UseHgtbGFyZ2UsMzAwJSIsCiAgICAgIGZvcmNlZF9yb290X2Jsb2NrOiAicCIsCiAgICAgIGhpZGRlbl9pbnB1dDogITAsCiAgICAgIGlubGluZV9zdHlsZXM6ICEwLAogICAgICBjb252ZXJ0X2ZvbnRzX3RvX3NwYW5zOiAhMCwKICAgICAgaW5kZW50OiAhMCwKICAgICAgaW5kZW50X2JlZm9yZTogInAsaDEsaDIsaDMsaDQsaDUsaDYsYmxvY2txdW90ZSxkaXYsdGl0bGUsc3R5bGUscHJlLHNjcmlwdCx0ZCx0aCx1bCxvbCxsaSxkbCxkdCxkZCxhcmVhLHRhYmxlLHRoZWFkLHRmb290LHRib2R5LHRyLHNlY3Rpb24sc3VtbWFyeSxhcnRpY2xlLGhncm91cCxhc2lkZSxmaWd1cmUsZmlnY2FwdGlvbixvcHRpb24sb3B0Z3JvdXAsZGF0YWxpc3QiLAogICAgICBpbmRlbnRfYWZ0ZXI6ICJwLGgxLGgyLGgzLGg0LGg1LGg2LGJsb2NrcXVvdGUsZGl2LHRpdGxlLHN0eWxlLHByZSxzY3JpcHQsdGQsdGgsdWwsb2wsbGksZGwsZHQsZGQsYXJlYSx0YWJsZSx0aGVhZCx0Zm9vdCx0Ym9keSx0cixzZWN0aW9uLHN1bW1hcnksYXJ0aWNsZSxoZ3JvdXAsYXNpZGUsZmlndXJlLGZpZ2NhcHRpb24sb3B0aW9uLG9wdGdyb3VwLGRhdGFsaXN0IiwKICAgICAgZW50aXR5X2VuY29kaW5nOiAibmFtZWQiLAogICAgICB1cmxfY29udmVydGVyOiB2LmNvbnZlcnRVUkwsCiAgICAgIHVybF9jb252ZXJ0ZXJfc2NvcGU6IHYKICAgIH0sIHkgPSBfZTIoX2UyKHt9LCBiKSwgaCA/IGt2IDoge30pLCAhMSAhPT0gKEMgPSBudihTdiB8fCBFdiwgU3YsIHksIG0sIGcpKS5kZXByZWNhdGlvbl93YXJuaW5ncyAmJiBKaChnLCBDKSwgQyksIHRoaXMuc2V0dGluZ3Muc3VmZml4ICYmIChuLnN1ZmZpeCA9IHRoaXMuc2V0dGluZ3Muc3VmZml4KSwgdGhpcy5zdWZmaXggPSBuLnN1ZmZpeCwgdGhpcy5zZXR0aW5ncy5iYXNlX3VybCAmJiBuLl9zZXRCYXNlVXJsKHRoaXMuc2V0dGluZ3MuYmFzZV91cmwpLCB0aGlzLmJhc2VVcmkgPSBuLmJhc2VVUkksIHRoaXMuc2V0dGluZ3MucmVmZXJyZXJfcG9saWN5ICYmICh0dS5TY3JpcHRMb2FkZXIuX3NldFJlZmVycmVyUG9saWN5KHRoaXMuc2V0dGluZ3MucmVmZXJyZXJfcG9saWN5KSwgSmEuRE9NLnN0eWxlU2hlZXRMb2FkZXIuX3NldFJlZmVycmVyUG9saWN5KHRoaXMuc2V0dGluZ3MucmVmZXJyZXJfcG9saWN5KSksIHN1Lmxhbmd1YWdlTG9hZCA9IHRoaXMuc2V0dGluZ3MubGFuZ3VhZ2VfbG9hZCwgc3UuYmFzZVVSTCA9IG4uYmFzZVVSTCwgdGhpcy5pZCA9IGUsIHRoaXMuc2V0RGlydHkoITEpLCB0aGlzLmRvY3VtZW50QmFzZVVSSSA9IG5ldyBLZCh0aGlzLnNldHRpbmdzLmRvY3VtZW50X2Jhc2VfdXJsLCB7CiAgICAgIGJhc2VfdXJpOiB0aGlzLmJhc2VVcmkKICAgIH0pLCB0aGlzLmJhc2VVUkkgPSB0aGlzLmJhc2VVcmksIHRoaXMuaW5saW5lID0gISF0aGlzLnNldHRpbmdzLmlubGluZSwgdGhpcy5zaG9ydGN1dHMgPSBuZXcgeXgodGhpcyksIHRoaXMuZWRpdG9yQ29tbWFuZHMgPSBuZXcgVzEodGhpcyksIHRoaXMuc2V0dGluZ3MuY2FjaGVfc3VmZml4ICYmICh4dC5jYWNoZVN1ZmZpeCA9IHRoaXMuc2V0dGluZ3MuY2FjaGVfc3VmZml4LnJlcGxhY2UoL15bXD9cJl0rLywgIiIpKSwgdGhpcy51aSA9IHsKICAgICAgcmVnaXN0cnk6IHsKICAgICAgICBhZGRBdXRvY29tcGxldGVyOiAodSA9IHt9LCAociA9IHsKICAgICAgICAgIGFkZEJ1dHRvbjogdyhvID0ge30sICJidXR0b24iKSwKICAgICAgICAgIGFkZEdyb3VwVG9vbGJhckJ1dHRvbjogdyhvLCAiZ3JvdXB0b29sYmFyYnV0dG9uIiksCiAgICAgICAgICBhZGRUb2dnbGVCdXR0b246IHcobywgInRvZ2dsZWJ1dHRvbiIpLAogICAgICAgICAgYWRkTWVudUJ1dHRvbjogdyhvLCAibWVudWJ1dHRvbiIpLAogICAgICAgICAgYWRkU3BsaXRCdXR0b246IHcobywgInNwbGl0YnV0dG9uIiksCiAgICAgICAgICBhZGRNZW51SXRlbTogdyhpID0ge30sICJtZW51aXRlbSIpLAogICAgICAgICAgYWRkTmVzdGVkTWVudUl0ZW06IHcoaSwgIm5lc3RlZG1lbnVpdGVtIiksCiAgICAgICAgICBhZGRUb2dnbGVNZW51SXRlbTogdyhpLCAidG9nZ2xlbWVudWl0ZW0iKSwKICAgICAgICAgIGFkZEF1dG9jb21wbGV0ZXI6IHcoYSA9IHt9LCAiYXV0b2NvbXBsZXRlciIpLAogICAgICAgICAgYWRkQ29udGV4dE1lbnU6IHcocyA9IHt9LCAiY29udGV4dG1lbnUiKSwKICAgICAgICAgIGFkZENvbnRleHRUb29sYmFyOiB3KGMgPSB7fSwgImNvbnRleHR0b29sYmFyIiksCiAgICAgICAgICBhZGRDb250ZXh0Rm9ybTogdyhjLCAiY29udGV4dGZvcm0iKSwKICAgICAgICAgIGFkZFNpZGViYXI6IHcobCA9IHt9LCAic2lkZWJhciIpLAogICAgICAgICAgYWRkSWNvbjogZnVuY3Rpb24gYWRkSWNvbihlLCB0KSB7CiAgICAgICAgICAgIHJldHVybiB1W2UudG9Mb3dlckNhc2UoKV0gPSB0OwogICAgICAgICAgfSwKICAgICAgICAgIGdldEFsbDogZnVuY3Rpb24gZ2V0QWxsKCkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgIGJ1dHRvbnM6IG8sCiAgICAgICAgICAgICAgbWVudUl0ZW1zOiBpLAogICAgICAgICAgICAgIGljb25zOiB1LAogICAgICAgICAgICAgIHBvcHVwczogYSwKICAgICAgICAgICAgICBjb250ZXh0TWVudXM6IHMsCiAgICAgICAgICAgICAgY29udGV4dFRvb2xiYXJzOiBjLAogICAgICAgICAgICAgIHNpZGViYXJzOiBsCiAgICAgICAgICAgIH07CiAgICAgICAgICB9CiAgICAgICAgfSkuYWRkQXV0b2NvbXBsZXRlciksCiAgICAgICAgYWRkQnV0dG9uOiByLmFkZEJ1dHRvbiwKICAgICAgICBhZGRDb250ZXh0Rm9ybTogci5hZGRDb250ZXh0Rm9ybSwKICAgICAgICBhZGRDb250ZXh0TWVudTogci5hZGRDb250ZXh0TWVudSwKICAgICAgICBhZGRDb250ZXh0VG9vbGJhcjogci5hZGRDb250ZXh0VG9vbGJhciwKICAgICAgICBhZGRJY29uOiByLmFkZEljb24sCiAgICAgICAgYWRkTWVudUJ1dHRvbjogci5hZGRNZW51QnV0dG9uLAogICAgICAgIGFkZE1lbnVJdGVtOiByLmFkZE1lbnVJdGVtLAogICAgICAgIGFkZE5lc3RlZE1lbnVJdGVtOiByLmFkZE5lc3RlZE1lbnVJdGVtLAogICAgICAgIGFkZFNpZGViYXI6IHIuYWRkU2lkZWJhciwKICAgICAgICBhZGRTcGxpdEJ1dHRvbjogci5hZGRTcGxpdEJ1dHRvbiwKICAgICAgICBhZGRUb2dnbGVCdXR0b246IHIuYWRkVG9nZ2xlQnV0dG9uLAogICAgICAgIGFkZEdyb3VwVG9vbGJhckJ1dHRvbjogci5hZGRHcm91cFRvb2xiYXJCdXR0b24sCiAgICAgICAgYWRkVG9nZ2xlTWVudUl0ZW06IHIuYWRkVG9nZ2xlTWVudUl0ZW0sCiAgICAgICAgZ2V0QWxsOiByLmdldEFsbAogICAgICB9LAogICAgICBzdHlsZVNoZWV0TG9hZGVyOiB2b2lkIDAsCiAgICAgIHNob3c6IHRlLAogICAgICBoaWRlOiB0ZSwKICAgICAgZW5hYmxlOiB0ZSwKICAgICAgZGlzYWJsZTogdGUsCiAgICAgIGlzRGlzYWJsZWQ6IFIKICAgIH07CgogICAgdmFyIFMsCiAgICAgICAgRSwKICAgICAgICBOLAogICAgICAgIGssCiAgICAgICAgXywKICAgICAgICBBID0gKGsgPSBydSgiZGVzaWduIiksIF8gPSBydSh7CiAgICAgIGRlc2lnbjogewogICAgICAgIGFjdGl2YXRlOiB0ZSwKICAgICAgICBkZWFjdGl2YXRlOiB0ZSwKICAgICAgICBlZGl0b3JSZWFkT25seTogITEKICAgICAgfSwKICAgICAgcmVhZG9ubHk6IHsKICAgICAgICBhY3RpdmF0ZTogdGUsCiAgICAgICAgZGVhY3RpdmF0ZTogdGUsCiAgICAgICAgZWRpdG9yUmVhZE9ubHk6ICEwCiAgICAgIH0KICAgIH0pLCAoRSA9IFMgPSB0aGlzKS5zZXJpYWxpemVyID8gWjEoRSkgOiBFLm9uKCJQcmVJbml0IiwgZnVuY3Rpb24gKCkgewogICAgICBaMShFKTsKICAgIH0pLCAoTiA9IFMpLm9uKCJTaG93Q2FyZXQiLCBmdW5jdGlvbiAoZSkgewogICAgICBRMShOKSAmJiBlLnByZXZlbnREZWZhdWx0KCk7CiAgICB9KSwgTi5vbigiT2JqZWN0U2VsZWN0ZWQiLCBmdW5jdGlvbiAoZSkgewogICAgICBRMShOKSAmJiBlLnByZXZlbnREZWZhdWx0KCk7CiAgICB9KSwgewogICAgICBpc1JlYWRPbmx5OiBmdW5jdGlvbiBpc1JlYWRPbmx5KCkgewogICAgICAgIHJldHVybiBRMShTKTsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQoZSkgewogICAgICAgIHJldHVybiBmdW5jdGlvbiAoZSwgdCwgbiwgcikgewogICAgICAgICAgaWYgKHIgIT09IG4uZ2V0KCkpIHsKICAgICAgICAgICAgaWYgKCFOZSh0LCByKSkgdGhyb3cgbmV3IEVycm9yKCJFZGl0b3IgbW9kZSAnIiArIHIgKyAiJyBpcyBpbnZhbGlkIik7CiAgICAgICAgICAgIGUuaW5pdGlhbGl6ZWQgPyBzeChlLCBuLCB0LCByKSA6IGUub24oImluaXQiLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHN4KGUsIG4sIHQsIHIpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9KFMsIF8uZ2V0KCksIGssIGUpOwogICAgICB9LAogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gay5nZXQoKTsKICAgICAgfSwKICAgICAgcmVnaXN0ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyKGUsIHQpIHsKICAgICAgICBfLnNldChmdW5jdGlvbiAoZSwgdCwgbikgewogICAgICAgICAgdmFyIHI7CiAgICAgICAgICBpZiAoRChneCwgdCkpIHRocm93IG5ldyBFcnJvcigiQ2Fubm90IG92ZXJyaWRlIGRlZmF1bHQgbW9kZSAiICsgdCk7CiAgICAgICAgICByZXR1cm4gX2UyKF9lMih7fSwgZSksICgociA9IHt9KVt0XSA9IF9lMihfZTIoe30sIG4pLCB7CiAgICAgICAgICAgIGRlYWN0aXZhdGU6IGZ1bmN0aW9uIGRlYWN0aXZhdGUoKSB7CiAgICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIG4uZGVhY3RpdmF0ZSgpOwogICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoInByb2JsZW0gd2hpbGUgZGVhY3RpdmF0aW5nIGVkaXRvciBtb2RlICIgKyB0ICsgIjoiLCBlKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pLCByKSk7CiAgICAgICAgfShfLmdldCgpLCBlLCB0KSk7CiAgICAgIH0KICAgIH0pOwoKICAgIHRoaXMubW9kZSA9IEEsIHRoaXMuc2V0TW9kZSA9IEEuc2V0LCBuLmZpcmUoIlNldHVwRWRpdG9yIiwgewogICAgICBlZGl0b3I6IHRoaXMKICAgIH0pLCB0aGlzLmV4ZWNDYWxsYmFjaygic2V0dXAiLCB0aGlzKSwgdGhpcy4kID0gV2Eub3ZlcnJpZGVEZWZhdWx0cyhmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgY29udGV4dDogeC5pbmxpbmUgPyB4LmdldEJvZHkoKSA6IHguZ2V0RG9jKCksCiAgICAgICAgZWxlbWVudDogeC5nZXRCb2R5KCkKICAgICAgfTsKICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gQXgodCkgewogICAgdmFyIG4gPSB0LnR5cGU7CiAgICBQeChIeC5nZXQoKSwgZnVuY3Rpb24gKGUpIHsKICAgICAgc3dpdGNoIChuKSB7CiAgICAgICAgY2FzZSAic2Nyb2xsIjoKICAgICAgICAgIGUuZmlyZSgiU2Nyb2xsV2luZG93IiwgdCk7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAicmVzaXplIjoKICAgICAgICAgIGUuZmlyZSgiUmVzaXplV2luZG93IiwgdCk7CiAgICAgIH0KICAgIH0pOwogIH0KCiAgZnVuY3Rpb24gUngoZSkgewogICAgZSAhPT0gTXggJiYgKGUgPyBXYSh3aW5kb3cpLm9uKCJyZXNpemUgc2Nyb2xsIiwgQXgpIDogV2Eod2luZG93KS5vZmYoInJlc2l6ZSBzY3JvbGwiLCBBeCksIE14ID0gZSk7CiAgfQoKICBmdW5jdGlvbiBEeCh0KSB7CiAgICB2YXIgZSA9IFV4OwogICAgZGVsZXRlIEZ4W3QuaWRdOwoKICAgIGZvciAodmFyIG4gPSAwOyBuIDwgRngubGVuZ3RoOyBuKyspIHsKICAgICAgaWYgKEZ4W25dID09PSB0KSB7CiAgICAgICAgRnguc3BsaWNlKG4sIDEpOwogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CgogICAgcmV0dXJuIFV4ID0gVShVeCwgZnVuY3Rpb24gKGUpIHsKICAgICAgcmV0dXJuIHQgIT09IGU7CiAgICB9KSwgSHguYWN0aXZlRWRpdG9yID09PSB0ICYmIChIeC5hY3RpdmVFZGl0b3IgPSAwIDwgVXgubGVuZ3RoID8gVXhbMF0gOiBudWxsKSwgSHguZm9jdXNlZEVkaXRvciA9PT0gdCAmJiAoSHguZm9jdXNlZEVkaXRvciA9IG51bGwpLCBlLmxlbmd0aCAhPT0gVXgubGVuZ3RoOwogIH0KCiAgdmFyIFR4LAogICAgICBPeCA9IEphLkRPTSwKICAgICAgQnggPSBFdC5leHBsb2RlLAogICAgICBQeCA9IEV0LmVhY2gsCiAgICAgIEx4ID0gRXQuZXh0ZW5kLAogICAgICBJeCA9IDAsCiAgICAgIE14ID0gITEsCiAgICAgIEZ4ID0gW10sCiAgICAgIFV4ID0gW10sCiAgICAgIHp4ID0gIkNTUzFDb21wYXQiICE9PSBkb2N1bWVudC5jb21wYXRNb2RlLAogICAgICBIeCA9IF9lMihfZTIoe30sIGZ4KSwgewogICAgYmFzZVVSSTogbnVsbCwKICAgIGJhc2VVUkw6IG51bGwsCiAgICBkZWZhdWx0U2V0dGluZ3M6IHt9LAogICAgZG9jdW1lbnRCYXNlVVJMOiBudWxsLAogICAgc3VmZml4OiBudWxsLAogICAgJDogV2EsCiAgICBtYWpvclZlcnNpb246ICI1IiwKICAgIG1pbm9yVmVyc2lvbjogIjEwLjEiLAogICAgcmVsZWFzZURhdGU6ICIyMDIxLTExLTAzIiwKICAgIGVkaXRvcnM6IEZ4LAogICAgaTE4bjogdXUsCiAgICBhY3RpdmVFZGl0b3I6IG51bGwsCiAgICBmb2N1c2VkRWRpdG9yOiBudWxsLAogICAgc2V0dGluZ3M6IHt9LAogICAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgICB2YXIgZSwKICAgICAgICAgIHQgPSAiIiwKICAgICAgICAgIG4gPSBLZC5nZXREb2N1bWVudEJhc2VVcmwoZG9jdW1lbnQubG9jYXRpb24pOwogICAgICAvXlteOl0rOlwvXC9cLz9bXlwvXStcLy8udGVzdChuKSAmJiAobiA9IG4ucmVwbGFjZSgvW1w/I10uKiQvLCAiIikucmVwbGFjZSgvW1wvXFxdW15cL10rJC8sICIiKSwgL1tcL1xcXSQvLnRlc3QobikgfHwgKG4gKz0gIi8iKSk7CiAgICAgIHZhciByID0gd2luZG93LnRpbnltY2UgfHwgd2luZG93LnRpbnlNQ0VQcmVJbml0OwogICAgICBpZiAocikgZSA9IHIuYmFzZSB8fCByLmJhc2VVUkwsIHQgPSByLnN1ZmZpeDtlbHNlIHsKICAgICAgICBmb3IgKHZhciBvLCBpID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpLCBhID0gMDsgYSA8IGkubGVuZ3RoOyBhKyspIHsKICAgICAgICAgIGlmICgiIiAhPT0gKG8gPSBpW2FdLnNyYyB8fCAiIikpIHsKICAgICAgICAgICAgdmFyIHUgPSBvLnN1YnN0cmluZyhvLmxhc3RJbmRleE9mKCIvIikpOwoKICAgICAgICAgICAgaWYgKC90aW55bWNlKFwuZnVsbHxcLmpxdWVyeXwpKFwubWlufFwuZGV2fClcLmpzLy50ZXN0KG8pKSB7CiAgICAgICAgICAgICAgLTEgIT09IHUuaW5kZXhPZigiLm1pbiIpICYmICh0ID0gIi5taW4iKSwgZSA9IG8uc3Vic3RyaW5nKDAsIG8ubGFzdEluZGV4T2YoIi8iKSk7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgICFlICYmIGRvY3VtZW50LmN1cnJlbnRTY3JpcHQgJiYgKC0xICE9PSAobyA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjKS5pbmRleE9mKCIubWluIikgJiYgKHQgPSAiLm1pbiIpLCBlID0gby5zdWJzdHJpbmcoMCwgby5sYXN0SW5kZXhPZigiLyIpKSk7CiAgICAgIH0KICAgICAgdGhpcy5iYXNlVVJMID0gbmV3IEtkKG4pLnRvQWJzb2x1dGUoZSksIHRoaXMuZG9jdW1lbnRCYXNlVVJMID0gbiwgdGhpcy5iYXNlVVJJID0gbmV3IEtkKHRoaXMuYmFzZVVSTCksIHRoaXMuc3VmZml4ID0gdCwgdGhpcy5vbigiQWRkRWRpdG9yIiwgQShtZCwgdGhpcykpLCB0aGlzLm9uKCJSZW1vdmVFZGl0b3IiLCBBKGdkLCB0aGlzKSk7CiAgICB9LAogICAgb3ZlcnJpZGVEZWZhdWx0czogZnVuY3Rpb24gb3ZlcnJpZGVEZWZhdWx0cyhlKSB7CiAgICAgIHZhciB0ID0gZS5iYXNlX3VybDsKICAgICAgdCAmJiB0aGlzLl9zZXRCYXNlVXJsKHQpOwogICAgICB2YXIgbiA9IGUuc3VmZml4OwogICAgICBlLnN1ZmZpeCAmJiAodGhpcy5zdWZmaXggPSBuKTsKICAgICAgdmFyIHIgPSAodGhpcy5kZWZhdWx0U2V0dGluZ3MgPSBlKS5wbHVnaW5fYmFzZV91cmxzOwogICAgICB2b2lkIDAgIT09IHIgJiYgbmUociwgZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgICBzdS5QbHVnaW5NYW5hZ2VyLnVybHNbdF0gPSBlOwogICAgICB9KTsKICAgIH0sCiAgICBpbml0OiBmdW5jdGlvbiBpbml0KHIpIHsKICAgICAgZnVuY3Rpb24gdShlKSB7CiAgICAgICAgdmFyIHQgPSBlLmlkOwogICAgICAgIHJldHVybiB0IHx8ICh0ID0gdWUoZSwgIm5hbWUiKS5maWx0ZXIoZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHJldHVybiAhT3guZ2V0KGUpOwogICAgICAgIH0pLmdldE9yVGh1bmsoT3gudW5pcXVlSWQpLCBlLnNldEF0dHJpYnV0ZSgiaWQiLCB0KSksIHQ7CiAgICAgIH0KCiAgICAgIGZ1bmN0aW9uIHMoZSwgdCkgewogICAgICAgIHJldHVybiB0LmNvbnN0cnVjdG9yID09PSBSZWdFeHAgPyB0LnRlc3QoZS5jbGFzc05hbWUpIDogT3guaGFzQ2xhc3MoZSwgdCk7CiAgICAgIH0KCiAgICAgIHZhciBuLAogICAgICAgICAgYyA9IHRoaXMsCiAgICAgICAgICBsID0gRXQubWFrZU1hcCgiYXJlYSBiYXNlIGJhc2Vmb250IGJyIGNvbCBmcmFtZSBociBpbWcgaW5wdXQgaXNpbmRleCBsaW5rIG1ldGEgcGFyYW0gZW1iZWQgc291cmNlIHdiciB0cmFjayBjb2xncm91cCBvcHRpb24gdGFibGUgdGJvZHkgdGZvb3QgdGhlYWQgdHIgdGggdGQgc2NyaXB0IG5vc2NyaXB0IHN0eWxlIHRleHRhcmVhIHZpZGVvIGF1ZGlvIGlmcmFtZSBvYmplY3QgbWVudSIsICIgIiksCiAgICAgICAgICBmID0gZnVuY3Rpb24gZihlKSB7CiAgICAgICAgbiA9IGU7CiAgICAgIH0sCiAgICAgICAgICB0ID0gZnVuY3Rpb24gdCgpIHsKICAgICAgICBmdW5jdGlvbiBuKGUsIHQsIG4pIHsKICAgICAgICAgIHZhciByID0gbmV3IGt4KGUsIHQsIGMpOwogICAgICAgICAgYS5wdXNoKHIpLCByLm9uKCJpbml0IiwgZnVuY3Rpb24gKCkgewogICAgICAgICAgICArK2kgPT09IG8ubGVuZ3RoICYmIGYoYSk7CiAgICAgICAgICB9KSwgci50YXJnZXRFbG0gPSByLnRhcmdldEVsbSB8fCBuLCByLnJlbmRlcigpOwogICAgICAgIH0KCiAgICAgICAgdmFyIG8sCiAgICAgICAgICAgIGUsCiAgICAgICAgICAgIGkgPSAwLAogICAgICAgICAgICBhID0gW107CiAgICAgICAgT3gudW5iaW5kKHdpbmRvdywgInJlYWR5IiwgdCksIChlID0gci5vbnBhZ2Vsb2FkKSAmJiBlLmFwcGx5KGMsIFtdKSwgbyA9IFdhLnVuaXF1ZShmdW5jdGlvbiAodCkgewogICAgICAgICAgdmFyIG4gPSBbXTsKICAgICAgICAgIGlmICh4dC5icm93c2VyLmlzSUUoKSAmJiB4dC5icm93c2VyLnZlcnNpb24ubWFqb3IgPCAxMSkgcmV0dXJuIGF5KCJUaW55TUNFIGRvZXMgbm90IHN1cHBvcnQgdGhlIGJyb3dzZXIgeW91IGFyZSB1c2luZy4gRm9yIGEgbGlzdCBvZiBzdXBwb3J0ZWQgYnJvd3NlcnMgcGxlYXNlIHNlZTogaHR0cHM6Ly93d3cudGlueW1jZS5jb20vZG9jcy9nZXQtc3RhcnRlZC9zeXN0ZW0tcmVxdWlyZW1lbnRzLyIpLCBbXTsKICAgICAgICAgIGlmICh6eCkgcmV0dXJuIGF5KCJGYWlsZWQgdG8gaW5pdGlhbGl6ZSB0aGUgZWRpdG9yIGFzIHRoZSBkb2N1bWVudCBpcyBub3QgaW4gc3RhbmRhcmRzIG1vZGUuIFRpbnlNQ0UgcmVxdWlyZXMgc3RhbmRhcmRzIG1vZGUuIiksIFtdOwogICAgICAgICAgaWYgKHQudHlwZXMpIHJldHVybiBQeCh0LnR5cGVzLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBuID0gbi5jb25jYXQoT3guc2VsZWN0KGUuc2VsZWN0b3IpKTsKICAgICAgICAgIH0pLCBuOwogICAgICAgICAgaWYgKHQuc2VsZWN0b3IpIHJldHVybiBPeC5zZWxlY3QodC5zZWxlY3Rvcik7CiAgICAgICAgICBpZiAodC50YXJnZXQpIHJldHVybiBbdC50YXJnZXRdOwoKICAgICAgICAgIHN3aXRjaCAodC5tb2RlKSB7CiAgICAgICAgICAgIGNhc2UgImV4YWN0IjoKICAgICAgICAgICAgICB2YXIgZSA9IHQuZWxlbWVudHMgfHwgIiI7CiAgICAgICAgICAgICAgMCA8IGUubGVuZ3RoICYmIFB4KEJ4KGUpLCBmdW5jdGlvbiAodCkgewogICAgICAgICAgICAgICAgdmFyIGUgPSBPeC5nZXQodCk7CiAgICAgICAgICAgICAgICBlID8gbi5wdXNoKGUpIDogUHgoZG9jdW1lbnQuZm9ybXMsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgIFB4KGUuZWxlbWVudHMsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgZS5uYW1lID09PSB0ICYmICh0ID0gIm1jZV9lZGl0b3JfIiArIEl4KyssIE94LnNldEF0dHJpYihlLCAiaWQiLCB0KSwgbi5wdXNoKGUpKTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgInRleHRhcmVhcyI6CiAgICAgICAgICAgIGNhc2UgInNwZWNpZmljX3RleHRhcmVhcyI6CiAgICAgICAgICAgICAgUHgoT3guc2VsZWN0KCJ0ZXh0YXJlYSIpLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgdC5lZGl0b3JfZGVzZWxlY3RvciAmJiBzKGUsIHQuZWRpdG9yX2Rlc2VsZWN0b3IpIHx8IHQuZWRpdG9yX3NlbGVjdG9yICYmICFzKGUsIHQuZWRpdG9yX3NlbGVjdG9yKSB8fCBuLnB1c2goZSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgcmV0dXJuIG47CiAgICAgICAgfShyKSksIHIudHlwZXMgPyBQeChyLnR5cGVzLCBmdW5jdGlvbiAodCkgewogICAgICAgICAgRXQuZWFjaChvLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICByZXR1cm4gIU94LmlzKGUsIHQuc2VsZWN0b3IpIHx8IChuKHUoZSksIEx4KHt9LCByLCB0KSwgZSksICExKTsKICAgICAgICAgIH0pOwogICAgICAgIH0pIDogKEV0LmVhY2gobywgZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIHZhciB0OwogICAgICAgICAgKHQgPSBjLmdldChlLmlkKSkgJiYgdC5pbml0aWFsaXplZCAmJiAhKHQuZ2V0Q29udGFpbmVyKCkgfHwgdC5nZXRCb2R5KCkpLnBhcmVudE5vZGUgJiYgKER4KHQpLCB0LnVuYmluZEFsbE5hdGl2ZUV2ZW50cygpLCB0LmRlc3Ryb3koITApLCB0LnJlbW92ZWQgPSAhMCk7CiAgICAgICAgfSksIDAgPT09IChvID0gRXQuZ3JlcChvLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuICFjLmdldChlLmlkKTsKICAgICAgICB9KSkubGVuZ3RoID8gZihbXSkgOiBQeChvLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgdmFyIHQgPSBlOwogICAgICAgICAgci5pbmxpbmUgJiYgdC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgaW4gbCA/IGF5KCJDb3VsZCBub3QgaW5pdGlhbGl6ZSBpbmxpbmUgZWRpdG9yIG9uIGludmFsaWQgaW5saW5lIHRhcmdldCBlbGVtZW50IiwgZSkgOiBuKHUoZSksIHIsIGUpOwogICAgICAgIH0pKTsKICAgICAgfTsKCiAgICAgIHJldHVybiBjLnNldHRpbmdzID0gciwgT3guYmluZCh3aW5kb3csICJyZWFkeSIsIHQpLCBuZXcga3IoZnVuY3Rpb24gKHQpIHsKICAgICAgICBuID8gdChuKSA6IGYgPSBmdW5jdGlvbiBmKGUpIHsKICAgICAgICAgIHQoZSk7CiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0OiBmdW5jdGlvbiBnZXQodCkgewogICAgICByZXR1cm4gMCA9PT0gYXJndW1lbnRzLmxlbmd0aCA/IFV4LnNsaWNlKDApIDogWCh0KSA/IE0oVXgsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgcmV0dXJuIGUuaWQgPT09IHQ7CiAgICAgIH0pLmdldE9yKG51bGwpIDogRSh0KSAmJiBVeFt0XSB8fCBudWxsOwogICAgfSwKICAgIGFkZDogZnVuY3Rpb24gYWRkKGUpIHsKICAgICAgdmFyIG4gPSB0aGlzOwogICAgICByZXR1cm4gRnhbZS5pZF0gPT09IGUgfHwgKG51bGwgPT09IG4uZ2V0KGUuaWQpICYmICgibGVuZ3RoIiAhPT0gZS5pZCAmJiAoRnhbZS5pZF0gPSBlKSwgRngucHVzaChlKSwgVXgucHVzaChlKSksIFJ4KCEwKSwgbi5hY3RpdmVFZGl0b3IgPSBlLCBuLmZpcmUoIkFkZEVkaXRvciIsIHsKICAgICAgICBlZGl0b3I6IGUKICAgICAgfSksIFR4IHx8IChUeCA9IGZ1bmN0aW9uIFR4KGUpIHsKICAgICAgICB2YXIgdCA9IG4uZmlyZSgiQmVmb3JlVW5sb2FkIik7CiAgICAgICAgaWYgKHQucmV0dXJuVmFsdWUpIHJldHVybiBlLnByZXZlbnREZWZhdWx0KCksIGUucmV0dXJuVmFsdWUgPSB0LnJldHVyblZhbHVlLCB0LnJldHVyblZhbHVlOwogICAgICB9LCB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigiYmVmb3JldW5sb2FkIiwgVHgpKSksIGU7CiAgICB9LAogICAgY3JlYXRlRWRpdG9yOiBmdW5jdGlvbiBjcmVhdGVFZGl0b3IoZSwgdCkgewogICAgICByZXR1cm4gdGhpcy5hZGQobmV3IGt4KGUsIHQsIHRoaXMpKTsKICAgIH0sCiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShlKSB7CiAgICAgIHZhciB0LAogICAgICAgICAgbiwKICAgICAgICAgIHIgPSB0aGlzOwoKICAgICAgaWYgKGUpIHsKICAgICAgICBpZiAoIVgoZSkpIHJldHVybiBuID0gZSwgbChyLmdldChuLmlkKSkgPyBudWxsIDogKER4KG4pICYmIHIuZmlyZSgiUmVtb3ZlRWRpdG9yIiwgewogICAgICAgICAgZWRpdG9yOiBuCiAgICAgICAgfSksIDAgPT09IFV4Lmxlbmd0aCAmJiB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigiYmVmb3JldW5sb2FkIiwgVHgpLCBuLnJlbW92ZSgpLCBSeCgwIDwgVXgubGVuZ3RoKSwgbik7CiAgICAgICAgUHgoT3guc2VsZWN0KGUpLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgKG4gPSByLmdldChlLmlkKSkgJiYgci5yZW1vdmUobik7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSBmb3IgKHQgPSBVeC5sZW5ndGggLSAxOyAwIDw9IHQ7IHQtLSkgewogICAgICAgIHIucmVtb3ZlKFV4W3RdKTsKICAgICAgfQogICAgfSwKICAgIGV4ZWNDb21tYW5kOiBmdW5jdGlvbiBleGVjQ29tbWFuZChlLCB0LCBuKSB7CiAgICAgIHZhciByID0gdGhpcy5nZXQobik7CgogICAgICBzd2l0Y2ggKGUpIHsKICAgICAgICBjYXNlICJtY2VBZGRFZGl0b3IiOgogICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0KG4pIHx8IG5ldyBreChuLCB0aGlzLnNldHRpbmdzLCB0aGlzKS5yZW5kZXIoKSwgITA7CgogICAgICAgIGNhc2UgIm1jZVJlbW92ZUVkaXRvciI6CiAgICAgICAgICByZXR1cm4gciAmJiByLnJlbW92ZSgpLCAhMDsKCiAgICAgICAgY2FzZSAibWNlVG9nZ2xlRWRpdG9yIjoKICAgICAgICAgIHJldHVybiByID8gci5pc0hpZGRlbigpID8gci5zaG93KCkgOiByLmhpZGUoKSA6IHRoaXMuZXhlY0NvbW1hbmQoIm1jZUFkZEVkaXRvciIsICExLCBuKSwgITA7CiAgICAgIH0KCiAgICAgIHJldHVybiAhIXRoaXMuYWN0aXZlRWRpdG9yICYmIHRoaXMuYWN0aXZlRWRpdG9yLmV4ZWNDb21tYW5kKGUsIHQsIG4pOwogICAgfSwKICAgIHRyaWdnZXJTYXZlOiBmdW5jdGlvbiB0cmlnZ2VyU2F2ZSgpIHsKICAgICAgUHgoVXgsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgZS5zYXZlKCk7CiAgICAgIH0pOwogICAgfSwKICAgIGFkZEkxOG46IGZ1bmN0aW9uIGFkZEkxOG4oZSwgdCkgewogICAgICB1dS5hZGQoZSwgdCk7CiAgICB9LAogICAgdHJhbnNsYXRlOiBmdW5jdGlvbiB0cmFuc2xhdGUoZSkgewogICAgICByZXR1cm4gdXUudHJhbnNsYXRlKGUpOwogICAgfSwKICAgIHNldEFjdGl2ZTogZnVuY3Rpb24gc2V0QWN0aXZlKGUpIHsKICAgICAgdmFyIHQgPSB0aGlzLmFjdGl2ZUVkaXRvcjsKICAgICAgdGhpcy5hY3RpdmVFZGl0b3IgIT09IGUgJiYgKHQgJiYgdC5maXJlKCJkZWFjdGl2YXRlIiwgewogICAgICAgIHJlbGF0ZWRUYXJnZXQ6IGUKICAgICAgfSksIGUuZmlyZSgiYWN0aXZhdGUiLCB7CiAgICAgICAgcmVsYXRlZFRhcmdldDogdAogICAgICB9KSksIHRoaXMuYWN0aXZlRWRpdG9yID0gZTsKICAgIH0sCiAgICBfc2V0QmFzZVVybDogZnVuY3Rpb24gX3NldEJhc2VVcmwoZSkgewogICAgICB0aGlzLmJhc2VVUkwgPSBuZXcgS2QodGhpcy5kb2N1bWVudEJhc2VVUkwpLnRvQWJzb2x1dGUoZS5yZXBsYWNlKC9cLyskLywgIiIpKSwgdGhpcy5iYXNlVVJJID0gbmV3IEtkKHRoaXMuYmFzZVVSTCk7CiAgICB9CiAgfSk7CgogIGZ1bmN0aW9uIGp4KGUsIHQsIG4pIHsKICAgIHZhciByID0gdC54LAogICAgICAgIG8gPSB0LnksCiAgICAgICAgaSA9IGUudywKICAgICAgICBhID0gZS5oLAogICAgICAgIHUgPSB0LncsCiAgICAgICAgcyA9IHQuaCwKICAgICAgICBjID0gKG4gfHwgIiIpLnNwbGl0KCIiKTsKICAgIHJldHVybiAiYiIgPT09IGNbMF0gJiYgKG8gKz0gcyksICJyIiA9PT0gY1sxXSAmJiAociArPSB1KSwgImMiID09PSBjWzBdICYmIChvICs9IEp4KHMgLyAyKSksICJjIiA9PT0gY1sxXSAmJiAociArPSBKeCh1IC8gMikpLCAiYiIgPT09IGNbM10gJiYgKG8gLT0gYSksICJyIiA9PT0gY1s0XSAmJiAociAtPSBpKSwgImMiID09PSBjWzNdICYmIChvIC09IEp4KGEgLyAyKSksICJjIiA9PT0gY1s0XSAmJiAociAtPSBKeChpIC8gMikpLCBxeChyLCBvLCBpLCBhKTsKICB9CgogIGZ1bmN0aW9uIFZ4KCkge30KCiAgSHguc2V0dXAoKTsKCiAgZnVuY3Rpb24gcXgoZSwgdCwgbiwgcikgewogICAgcmV0dXJuIHsKICAgICAgeDogZSwKICAgICAgeTogdCwKICAgICAgdzogbiwKICAgICAgaDogcgogICAgfTsKICB9CgogIHZhciAkeCwKICAgICAgV3gsCiAgICAgIF9LeCwKICAgICAgWHgsCiAgICAgIFl4ID0gTWF0aC5taW4sCiAgICAgIEd4ID0gTWF0aC5tYXgsCiAgICAgIEp4ID0gTWF0aC5yb3VuZCwKICAgICAgUXggPSB7CiAgICBpbmZsYXRlOiBmdW5jdGlvbiBpbmZsYXRlKGUsIHQsIG4pIHsKICAgICAgcmV0dXJuIHF4KGUueCAtIHQsIGUueSAtIG4sIGUudyArIDIgKiB0LCBlLmggKyAyICogbik7CiAgICB9LAogICAgcmVsYXRpdmVQb3NpdGlvbjogangsCiAgICBmaW5kQmVzdFJlbGF0aXZlUG9zaXRpb246IGZ1bmN0aW9uIGZpbmRCZXN0UmVsYXRpdmVQb3NpdGlvbihlLCB0LCBuLCByKSB7CiAgICAgIGZvciAodmFyIG8sIGkgPSAwOyBpIDwgci5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICgobyA9IGp4KGUsIHQsIHJbaV0pKS54ID49IG4ueCAmJiBvLnggKyBvLncgPD0gbi53ICsgbi54ICYmIG8ueSA+PSBuLnkgJiYgby55ICsgby5oIDw9IG4uaCArIG4ueSkgcmV0dXJuIHJbaV07CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfSwKICAgIGludGVyc2VjdDogZnVuY3Rpb24gaW50ZXJzZWN0KGUsIHQpIHsKICAgICAgdmFyIG4gPSBHeChlLngsIHQueCksCiAgICAgICAgICByID0gR3goZS55LCB0LnkpLAogICAgICAgICAgbyA9IFl4KGUueCArIGUudywgdC54ICsgdC53KSwKICAgICAgICAgIGkgPSBZeChlLnkgKyBlLmgsIHQueSArIHQuaCk7CiAgICAgIHJldHVybiBvIC0gbiA8IDAgfHwgaSAtIHIgPCAwID8gbnVsbCA6IHF4KG4sIHIsIG8gLSBuLCBpIC0gcik7CiAgICB9LAogICAgY2xhbXA6IGZ1bmN0aW9uIGNsYW1wKGUsIHQsIG4pIHsKICAgICAgdmFyIHIgPSBlLngsCiAgICAgICAgICBvID0gZS55LAogICAgICAgICAgaSA9IGUueCArIGUudywKICAgICAgICAgIGEgPSBlLnkgKyBlLmgsCiAgICAgICAgICB1ID0gdC54ICsgdC53LAogICAgICAgICAgcyA9IHQueSArIHQuaCwKICAgICAgICAgIGMgPSBHeCgwLCB0LnggLSByKSwKICAgICAgICAgIGwgPSBHeCgwLCB0LnkgLSBvKSwKICAgICAgICAgIGYgPSBHeCgwLCBpIC0gdSksCiAgICAgICAgICBkID0gR3goMCwgYSAtIHMpOwogICAgICByZXR1cm4gciArPSBjLCBvICs9IGwsIG4gJiYgKGkgKz0gYywgYSArPSBsLCByIC09IGYsIG8gLT0gZCksIHF4KHIsIG8sIChpIC09IGYpIC0gciwgKGEgLT0gZCkgLSBvKTsKICAgIH0sCiAgICBjcmVhdGU6IHF4LAogICAgZnJvbUNsaWVudFJlY3Q6IGZ1bmN0aW9uIGZyb21DbGllbnRSZWN0KGUpIHsKICAgICAgcmV0dXJuIHF4KGUubGVmdCwgZS50b3AsIGUud2lkdGgsIGUuaGVpZ2h0KTsKICAgIH0KICB9LAogICAgICBaeCA9ICgkeCA9IHt9LCBXeCA9IHt9LCB7CiAgICBsb2FkOiBmdW5jdGlvbiBsb2FkKHIsIG8pIHsKICAgICAgdmFyIGkgPSAnU2NyaXB0IGF0IFVSTCAiJyArIG8gKyAnIiBmYWlsZWQgdG8gbG9hZCcsCiAgICAgICAgICBhID0gJ1NjcmlwdCBhdCBVUkwgIicgKyBvICsgIlwiIGRpZCBub3QgY2FsbCBgdGlueW1jZS5SZXNvdXJjZS5hZGQoJyIgKyByICsgIicsIGRhdGEpYCB3aXRoaW4gMSBzZWNvbmQiOwogICAgICBpZiAodm9pZCAwICE9PSAkeFtyXSkgcmV0dXJuICR4W3JdOwogICAgICB2YXIgZSA9IG5ldyBrcihmdW5jdGlvbiAoZSwgdCkgewogICAgICAgIHZhciBuID0gZnVuY3Rpb24gKGUsIHQsIG4pIHsKICAgICAgICAgIGZ1bmN0aW9uIHIobikgewogICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGZvciAodmFyIGUgPSBbXSwgdCA9IDA7IHQgPCBhcmd1bWVudHMubGVuZ3RoOyB0KyspIHsKICAgICAgICAgICAgICAgIGVbdF0gPSBhcmd1bWVudHNbdF07CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBvIHx8IChvID0gITAsIG51bGwgIT09IGkgJiYgKGNsZWFyVGltZW91dChpKSwgaSA9IG51bGwpLCBuLmFwcGx5KG51bGwsIGUpKTsKICAgICAgICAgICAgfTsKICAgICAgICAgIH0KCiAgICAgICAgICB2b2lkIDAgPT09IG4gJiYgKG4gPSAxZTMpOwogICAgICAgICAgdmFyIG8gPSAhMSwKICAgICAgICAgICAgICBpID0gbnVsbCwKICAgICAgICAgICAgICBhID0gcihlKSwKICAgICAgICAgICAgICB1ID0gcih0KTsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydCgpIHsKICAgICAgICAgICAgICBmb3IgKHZhciBlID0gW10sIHQgPSAwOyB0IDwgYXJndW1lbnRzLmxlbmd0aDsgdCsrKSB7CiAgICAgICAgICAgICAgICBlW3RdID0gYXJndW1lbnRzW3RdOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgbyB8fCBudWxsICE9PSBpIHx8IChpID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdS5hcHBseShudWxsLCBlKTsKICAgICAgICAgICAgICB9LCBuKSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHJlc29sdmU6IGEsCiAgICAgICAgICAgIHJlamVjdDogdQogICAgICAgICAgfTsKICAgICAgICB9KGUsIHQpOwoKICAgICAgICBXeFtyXSA9IG4ucmVzb2x2ZSwgdHUuU2NyaXB0TG9hZGVyLmxvYWRTY3JpcHQobywgZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIG4uc3RhcnQoYSk7CiAgICAgICAgfSwgZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIG4ucmVqZWN0KGkpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgcmV0dXJuICR4W3JdID0gZTsKICAgIH0sCiAgICBhZGQ6IGZ1bmN0aW9uIGFkZChlLCB0KSB7CiAgICAgIHZvaWQgMCAhPT0gV3hbZV0gJiYgKFd4W2VdKHQpLCBkZWxldGUgV3hbZV0pLCAkeFtlXSA9IGtyLnJlc29sdmUodCk7CiAgICB9CiAgfSksCiAgICAgIGV3ID0gRXQuZWFjaCwKICAgICAgdHcgPSBFdC5leHRlbmQ7CgogIFZ4LmV4dGVuZCA9IF9LeCA9IGZ1bmN0aW9uIEt4KG4pIHsKICAgIGZ1bmN0aW9uIHIoKSB7CiAgICAgIHZhciBlLCB0LCBuOwogICAgICBpZiAoIVh4ICYmICh0aGlzLmluaXQgJiYgdGhpcy5pbml0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyksIHQgPSB0aGlzLk1peGlucykpIGZvciAoZSA9IHQubGVuZ3RoOyBlLS07KSB7CiAgICAgICAgKG4gPSB0W2VdKS5pbml0ICYmIG4uaW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CiAgICB9CgogICAgZnVuY3Rpb24gdCgpIHsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgdmFyIG8gPSB0aGlzLnByb3RvdHlwZTsKICAgIFh4ID0gITA7CiAgICB2YXIgaSA9IG5ldyB0aGlzKCk7CiAgICByZXR1cm4gWHggPSAhMSwgbi5NaXhpbnMgJiYgKGV3KG4uTWl4aW5zLCBmdW5jdGlvbiAoZSkgewogICAgICBmb3IgKHZhciB0IGluIGUpIHsKICAgICAgICAiaW5pdCIgIT09IHQgJiYgKG5bdF0gPSBlW3RdKTsKICAgICAgfQogICAgfSksIG8uTWl4aW5zICYmIChuLk1peGlucyA9IG8uTWl4aW5zLmNvbmNhdChuLk1peGlucykpKSwgbi5NZXRob2RzICYmIGV3KG4uTWV0aG9kcy5zcGxpdCgiLCIpLCBmdW5jdGlvbiAoZSkgewogICAgICBuW2VdID0gdDsKICAgIH0pLCBuLlByb3BlcnRpZXMgJiYgZXcobi5Qcm9wZXJ0aWVzLnNwbGl0KCIsIiksIGZ1bmN0aW9uIChlKSB7CiAgICAgIHZhciB0ID0gIl8iICsgZTsKCiAgICAgIG5bZV0gPSBmdW5jdGlvbiAoZSkgewogICAgICAgIHJldHVybiB2b2lkIDAgIT09IGUgPyAodGhpc1t0XSA9IGUsIHRoaXMpIDogdGhpc1t0XTsKICAgICAgfTsKICAgIH0pLCBuLlN0YXRpY3MgJiYgZXcobi5TdGF0aWNzLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICByW3RdID0gZTsKICAgIH0pLCBuLkRlZmF1bHRzICYmIG8uRGVmYXVsdHMgJiYgKG4uRGVmYXVsdHMgPSB0dyh7fSwgby5EZWZhdWx0cywgbi5EZWZhdWx0cykpLCBuZShuLCBmdW5jdGlvbiAoZSwgdCkgewogICAgICB2YXIgbiwgcjsKICAgICAgImZ1bmN0aW9uIiA9PSB0eXBlb2YgZSAmJiBvW3RdID8gaVt0XSA9IChuID0gdCwgciA9IGUsIGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgZSA9IHRoaXMuX3N1cGVyOwogICAgICAgIHRoaXMuX3N1cGVyID0gb1tuXTsKICAgICAgICB2YXIgdCA9IHIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICByZXR1cm4gdGhpcy5fc3VwZXIgPSBlLCB0OwogICAgICB9KSA6IGlbdF0gPSBlOwogICAgfSksIHIucHJvdG90eXBlID0gaSwgKHIuY29uc3RydWN0b3IgPSByKS5leHRlbmQgPSBfS3gsIHI7CiAgfTsKCiAgdmFyIG53LAogICAgICBydywKICAgICAgb3csCiAgICAgIGl3ID0gTWF0aC5taW4sCiAgICAgIGF3ID0gTWF0aC5tYXgsCiAgICAgIHV3ID0gTWF0aC5yb3VuZCwKICAgICAgc3cgPSB7CiAgICBzZXJpYWxpemU6IGZ1bmN0aW9uIHNlcmlhbGl6ZShlKSB7CiAgICAgIHZhciB0ID0gSlNPTi5zdHJpbmdpZnkoZSk7CiAgICAgIHJldHVybiBYKHQpID8gdC5yZXBsYWNlKC9bXHUwMDgwLVx1RkZGRl0vZywgZnVuY3Rpb24gKGUpIHsKICAgICAgICB2YXIgdCA9IGUuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNik7CiAgICAgICAgcmV0dXJuICJcXHUiICsgIjAwMDAiLnN1YnN0cmluZyh0Lmxlbmd0aCkgKyB0OwogICAgICB9KSA6IHQ7CiAgICB9LAogICAgcGFyc2U6IGZ1bmN0aW9uIHBhcnNlKGUpIHsKICAgICAgdHJ5IHsKICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShlKTsKICAgICAgfSBjYXRjaCAoZSkge30KICAgIH0KICB9LAogICAgICBjdyA9IHsKICAgIGNhbGxiYWNrczoge30sCiAgICBjb3VudDogMCwKICAgIHNlbmQ6IGZ1bmN0aW9uIHNlbmQodCkgewogICAgICB2YXIgbiA9IHRoaXMsCiAgICAgICAgICByID0gSmEuRE9NLAogICAgICAgICAgbyA9ICh2b2lkIDAgIT09IHQuY291bnQgPyB0IDogbikuY291bnQsCiAgICAgICAgICBpID0gInRpbnltY2VfanNvbnBfIiArIG87CiAgICAgIG4uY2FsbGJhY2tzW29dID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICByLnJlbW92ZShpKSwgZGVsZXRlIG4uY2FsbGJhY2tzW29dLCB0LmNhbGxiYWNrKGUpOwogICAgICB9LCByLmFkZChyLmRvYy5ib2R5LCAic2NyaXB0IiwgewogICAgICAgIGlkOiBpLAogICAgICAgIHNyYzogdC51cmwsCiAgICAgICAgdHlwZTogInRleHQvamF2YXNjcmlwdCIKICAgICAgfSksIG4uY291bnQrKzsKICAgIH0KICB9LAogICAgICBsdyA9IF9lMihfZTIoe30sIGZ4KSwgewogICAgc2VuZDogZnVuY3Rpb24gc2VuZChlKSB7CiAgICAgIHZhciB0LAogICAgICAgICAgbiA9IDAsCiAgICAgICAgICByID0gZnVuY3Rpb24gcigpIHsKICAgICAgICAhZS5hc3luYyB8fCA0ID09PSB0LnJlYWR5U3RhdGUgfHwgMWU0IDwgbisrID8gKGUuc3VjY2VzcyAmJiBuIDwgMWU0ICYmIDIwMCA9PT0gdC5zdGF0dXMgPyBlLnN1Y2Nlc3MuY2FsbChlLnN1Y2Nlc3Nfc2NvcGUsICIiICsgdC5yZXNwb25zZVRleHQsIHQsIGUpIDogZS5lcnJvciAmJiBlLmVycm9yLmNhbGwoZS5lcnJvcl9zY29wZSwgMWU0IDwgbiA/ICJUSU1FRF9PVVQiIDogIkdFTkVSQUwiLCB0LCBlKSwgdCA9IG51bGwpIDogX3Iuc2V0VGltZW91dChyLCAxMCk7CiAgICAgIH07CgogICAgICBpZiAoZS5zY29wZSA9IGUuc2NvcGUgfHwgdGhpcywgZS5zdWNjZXNzX3Njb3BlID0gZS5zdWNjZXNzX3Njb3BlIHx8IGUuc2NvcGUsIGUuZXJyb3Jfc2NvcGUgPSBlLmVycm9yX3Njb3BlIHx8IGUuc2NvcGUsIGUuYXN5bmMgPSAhMSAhPT0gZS5hc3luYywgZS5kYXRhID0gZS5kYXRhIHx8ICIiLCBsdy5maXJlKCJiZWZvcmVJbml0aWFsaXplIiwgewogICAgICAgIHNldHRpbmdzOiBlCiAgICAgIH0pLCAodCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpKS5vdmVycmlkZU1pbWVUeXBlICYmIHQub3ZlcnJpZGVNaW1lVHlwZShlLmNvbnRlbnRfdHlwZSksIHQub3BlbihlLnR5cGUgfHwgKGUuZGF0YSA/ICJQT1NUIiA6ICJHRVQiKSwgZS51cmwsIGUuYXN5bmMpLCBlLmNyb3NzRG9tYWluICYmICh0LndpdGhDcmVkZW50aWFscyA9ICEwKSwgZS5jb250ZW50X3R5cGUgJiYgdC5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLCBlLmNvbnRlbnRfdHlwZSksIGUucmVxdWVzdGhlYWRlcnMgJiYgRXQuZWFjaChlLnJlcXVlc3RoZWFkZXJzLCBmdW5jdGlvbiAoZSkgewogICAgICAgIHQuc2V0UmVxdWVzdEhlYWRlcihlLmtleSwgZS52YWx1ZSk7CiAgICAgIH0pLCB0LnNldFJlcXVlc3RIZWFkZXIoIlgtUmVxdWVzdGVkLVdpdGgiLCAiWE1MSHR0cFJlcXVlc3QiKSwgKHQgPSBsdy5maXJlKCJiZWZvcmVTZW5kIiwgewogICAgICAgIHhocjogdCwKICAgICAgICBzZXR0aW5nczogZQogICAgICB9KS54aHIpLnNlbmQoZS5kYXRhKSwgIWUuYXN5bmMpIHJldHVybiByKCk7CgogICAgICBfci5zZXRUaW1lb3V0KHIsIDEwKTsKICAgIH0KICB9KSwKICAgICAgZncgPSBFdC5leHRlbmQsCiAgICAgIGR3ID0gKG13LnNlbmRSUEMgPSBmdW5jdGlvbiAoZSkgewogICAgcmV0dXJuIG5ldyBtdygpLnNlbmQoZSk7CiAgfSwgbXcucHJvdG90eXBlLnNlbmQgPSBmdW5jdGlvbiAoZSkgewogICAgdmFyIG4gPSBlLmVycm9yLAogICAgICAgIHIgPSBlLnN1Y2Nlc3MsCiAgICAgICAgbyA9IGZ3KHRoaXMuc2V0dGluZ3MsIGUpOwogICAgby5zdWNjZXNzID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgKGUgPSB2b2lkIDAgPT09IChlID0gc3cucGFyc2UoZSkpID8gewogICAgICAgIGVycm9yOiAiSlNPTiBQYXJzZSBlcnJvci4iCiAgICAgIH0gOiBlKS5lcnJvciA/IG4uY2FsbChvLmVycm9yX3Njb3BlIHx8IG8uc2NvcGUsIGUuZXJyb3IsIHQpIDogci5jYWxsKG8uc3VjY2Vzc19zY29wZSB8fCBvLnNjb3BlLCBlLnJlc3VsdCk7CiAgICB9LCBvLmVycm9yID0gZnVuY3Rpb24gKGUsIHQpIHsKICAgICAgbiAmJiBuLmNhbGwoby5lcnJvcl9zY29wZSB8fCBvLnNjb3BlLCBlLCB0KTsKICAgIH0sIG8uZGF0YSA9IHN3LnNlcmlhbGl6ZSh7CiAgICAgIGlkOiBlLmlkIHx8ICJjIiArIHRoaXMuY291bnQrKywKICAgICAgbWV0aG9kOiBlLm1ldGhvZCwKICAgICAgcGFyYW1zOiBlLnBhcmFtcwogICAgfSksIG8uY29udGVudF90eXBlID0gImFwcGxpY2F0aW9uL2pzb24iLCBsdy5zZW5kKG8pOwogIH0sIG13KTsKCiAgZnVuY3Rpb24gbXcoZSkgewogICAgdGhpcy5zZXR0aW5ncyA9IGZ3KHt9LCBlKSwgdGhpcy5jb3VudCA9IDA7CiAgfQoKICB0cnkgewogICAgdmFyIGd3LAogICAgICAgIHB3ID0gIl9fc3RvcmFnZV90ZXN0X18iOwogICAgKGd3ID0gd2luZG93LmxvY2FsU3RvcmFnZSkuc2V0SXRlbShwdywgcHcpLCBndy5yZW1vdmVJdGVtKHB3KTsKICB9IGNhdGNoIChlKSB7CiAgICBudyA9IHt9LCBydyA9IFtdLCBvdyA9IHsKICAgICAgZ2V0SXRlbTogZnVuY3Rpb24gZ2V0SXRlbShlKSB7CiAgICAgICAgcmV0dXJuIG53W2VdIHx8IG51bGw7CiAgICAgIH0sCiAgICAgIHNldEl0ZW06IGZ1bmN0aW9uIHNldEl0ZW0oZSwgdCkgewogICAgICAgIHJ3LnB1c2goZSksIG53W2VdID0gU3RyaW5nKHQpOwogICAgICB9LAogICAgICBrZXk6IGZ1bmN0aW9uIGtleShlKSB7CiAgICAgICAgcmV0dXJuIHJ3W2VdOwogICAgICB9LAogICAgICByZW1vdmVJdGVtOiBmdW5jdGlvbiByZW1vdmVJdGVtKHQpIHsKICAgICAgICBydyA9IHJ3LmZpbHRlcihmdW5jdGlvbiAoZSkgewogICAgICAgICAgcmV0dXJuIGUgPT09IHQ7CiAgICAgICAgfSksIGRlbGV0ZSBud1t0XTsKICAgICAgfSwKICAgICAgY2xlYXI6IGZ1bmN0aW9uIGNsZWFyKCkgewogICAgICAgIHJ3ID0gW10sIG53ID0ge307CiAgICAgIH0sCiAgICAgIGxlbmd0aDogMAogICAgfSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KG93LCAibGVuZ3RoIiwgewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gcncubGVuZ3RoOwogICAgICB9LAogICAgICBjb25maWd1cmFibGU6ICExLAogICAgICBlbnVtZXJhYmxlOiAhMQogICAgfSksIGd3ID0gb3c7CiAgfQoKICB2YXIgaHcgPSB7CiAgICBnZW9tOiB7CiAgICAgIFJlY3Q6IFF4CiAgICB9LAogICAgdXRpbDogewogICAgICBQcm9taXNlOiBrciwKICAgICAgRGVsYXk6IF9yLAogICAgICBUb29sczogRXQsCiAgICAgIFZLOiBCZiwKICAgICAgVVJJOiBLZCwKICAgICAgQ2xhc3M6IFZ4LAogICAgICBFdmVudERpc3BhdGNoZXI6IG54LAogICAgICBPYnNlcnZhYmxlOiBmeCwKICAgICAgSTE4bjogdXUsCiAgICAgIFhIUjogbHcsCiAgICAgIEpTT046IHN3LAogICAgICBKU09OUmVxdWVzdDogZHcsCiAgICAgIEpTT05QOiBjdywKICAgICAgTG9jYWxTdG9yYWdlOiBndywKICAgICAgQ29sb3I6IGZ1bmN0aW9uIENvbG9yKGUpIHsKICAgICAgICBmdW5jdGlvbiB0KGUpIHsKICAgICAgICAgIHZhciB0OwogICAgICAgICAgcmV0dXJuICJvYmplY3QiID09IF90eXBlb2YoZSkgPyAiciIgaW4gZSA/ICh1ID0gZS5yLCBzID0gZS5nLCBjID0gZS5iKSA6ICJ2IiBpbiBlICYmIGZ1bmN0aW9uIChlLCB0LCBuKSB7CiAgICAgICAgICAgIGlmIChlID0gKHBhcnNlSW50KGUsIDEwKSB8fCAwKSAlIDM2MCwgdCA9IHBhcnNlSW50KHQsIDEwKSAvIDEwMCwgbiA9IHBhcnNlSW50KG4sIDEwKSAvIDEwMCwgdCA9IGF3KDAsIGl3KHQsIDEpKSwgbiA9IGF3KDAsIGl3KG4sIDEpKSwgMCAhPT0gdCkgewogICAgICAgICAgICAgIHZhciByID0gZSAvIDYwLAogICAgICAgICAgICAgICAgICBvID0gbiAqIHQsCiAgICAgICAgICAgICAgICAgIGkgPSBvICogKDEgLSBNYXRoLmFicyhyICUgMiAtIDEpKSwKICAgICAgICAgICAgICAgICAgYSA9IG4gLSBvOwoKICAgICAgICAgICAgICBzd2l0Y2ggKE1hdGguZmxvb3IocikpIHsKICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgdSA9IG8sIHMgPSBpLCBjID0gMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgICAgICB1ID0gaSwgcyA9IG8sIGMgPSAwOwogICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICAgIHUgPSAwLCBzID0gbywgYyA9IGk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgICAgdSA9IDAsIHMgPSBpLCBjID0gbzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICB1ID0gaSwgcyA9IDAsIGMgPSBvOwogICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgIHUgPSBvLCBzID0gMCwgYyA9IGk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgICAgICAgIHUgPSBzID0gYyA9IDA7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICB1ID0gdXcoMjU1ICogKHUgKyBhKSksIHMgPSB1dygyNTUgKiAocyArIGEpKSwgYyA9IHV3KDI1NSAqIChjICsgYSkpOwogICAgICAgICAgICB9IGVsc2UgdSA9IHMgPSBjID0gdXcoMjU1ICogbik7CiAgICAgICAgICB9KGUuaCwgZS5zLCBlLnYpIDogKHQgPSAvcmdiXHMqXChccyooWzAtOV0rKVxzKixccyooWzAtOV0rKVxzKixccyooWzAtOV0rKVteXCldKlwpL2dpLmV4ZWMoZSkpID8gKHUgPSBwYXJzZUludCh0WzFdLCAxMCksIHMgPSBwYXJzZUludCh0WzJdLCAxMCksIGMgPSBwYXJzZUludCh0WzNdLCAxMCkpIDogKHQgPSAvIyhbMC1GXXsyfSkoWzAtRl17Mn0pKFswLUZdezJ9KS9naS5leGVjKGUpKSA/ICh1ID0gcGFyc2VJbnQodFsxXSwgMTYpLCBzID0gcGFyc2VJbnQodFsyXSwgMTYpLCBjID0gcGFyc2VJbnQodFszXSwgMTYpKSA6ICh0ID0gLyMoWzAtRl0pKFswLUZdKShbMC1GXSkvZ2kuZXhlYyhlKSkgJiYgKHUgPSBwYXJzZUludCh0WzFdICsgdFsxXSwgMTYpLCBzID0gcGFyc2VJbnQodFsyXSArIHRbMl0sIDE2KSwgYyA9IHBhcnNlSW50KHRbM10gKyB0WzNdLCAxNikpLCB1ID0gdSA8IDAgPyAwIDogMjU1IDwgdSA/IDI1NSA6IHUsIHMgPSBzIDwgMCA/IDAgOiAyNTUgPCBzID8gMjU1IDogcywgYyA9IGMgPCAwID8gMCA6IDI1NSA8IGMgPyAyNTUgOiBjLCBuOwogICAgICAgIH0KCiAgICAgICAgdmFyIG4gPSB7fSwKICAgICAgICAgICAgdSA9IDAsCiAgICAgICAgICAgIHMgPSAwLAogICAgICAgICAgICBjID0gMDsKICAgICAgICByZXR1cm4gZSAmJiB0KGUpLCBuLnRvUmdiID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcjogdSwKICAgICAgICAgICAgZzogcywKICAgICAgICAgICAgYjogYwogICAgICAgICAgfTsKICAgICAgICB9LCBuLnRvSHN2ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgcmV0dXJuIGUgPSB1LCB0ID0gcywgbiA9IGMsIG8gPSAwLCAoaSA9IGl3KGUgLz0gMjU1LCBpdyh0IC89IDI1NSwgbiAvPSAyNTUpKSkgPT09IChhID0gYXcoZSwgYXcodCwgbikpKSA/IHsKICAgICAgICAgICAgaDogMCwKICAgICAgICAgICAgczogMCwKICAgICAgICAgICAgdjogMTAwICogKG8gPSBpKQogICAgICAgICAgfSA6IChyID0gKGEgLSBpKSAvIGEsIHsKICAgICAgICAgICAgaDogdXcoNjAgKiAoKGUgPT09IGkgPyAzIDogbiA9PT0gaSA/IDEgOiA1KSAtIChlID09PSBpID8gdCAtIG4gOiBuID09PSBpID8gZSAtIHQgOiBuIC0gZSkgLyAoKG8gPSBhKSAtIGkpKSksCiAgICAgICAgICAgIHM6IHV3KDEwMCAqIHIpLAogICAgICAgICAgICB2OiB1dygxMDAgKiBvKQogICAgICAgICAgfSk7CiAgICAgICAgICB2YXIgZSwgdCwgbiwgciwgbywgaSwgYTsKICAgICAgICB9LCBuLnRvSGV4ID0gZnVuY3Rpb24gKCkgewogICAgICAgICAgZnVuY3Rpb24gZShlKSB7CiAgICAgICAgICAgIHJldHVybiAxIDwgKGUgPSBwYXJzZUludChlLCAxMCkudG9TdHJpbmcoMTYpKS5sZW5ndGggPyBlIDogIjAiICsgZTsKICAgICAgICAgIH0KCiAgICAgICAgICByZXR1cm4gIiMiICsgZSh1KSArIGUocykgKyBlKGMpOwogICAgICAgIH0sIG4ucGFyc2UgPSB0LCBuOwogICAgICB9LAogICAgICBJbWFnZVVwbG9hZGVyOiBmdW5jdGlvbiBJbWFnZVVwbG9hZGVyKG4pIHsKICAgICAgICB2YXIgZSA9IEh2KCksCiAgICAgICAgICAgIHIgPSBXdihuLCBlKTsKICAgICAgICByZXR1cm4gewogICAgICAgICAgdXBsb2FkOiBmdW5jdGlvbiB1cGxvYWQoZSwgdCkgewogICAgICAgICAgICByZXR1cm4gci51cGxvYWQoZSwgKHQgPSB2b2lkIDAgPT09IHQgfHwgdCkgPyAkdihuKSA6IHZvaWQgMCk7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgfQogICAgfSwKICAgIGRvbTogewogICAgICBFdmVudFV0aWxzOiBhaSwKICAgICAgU2l6emxlOiBhYSwKICAgICAgRG9tUXVlcnk6IFdhLAogICAgICBUcmVlV2Fsa2VyOiBSciwKICAgICAgVGV4dFNlZWtlcjogTnUsCiAgICAgIERPTVV0aWxzOiBKYSwKICAgICAgU2NyaXB0TG9hZGVyOiB0dSwKICAgICAgUmFuZ2VVdGlsczogT2YsCiAgICAgIFNlcmlhbGl6ZXI6IFhoLAogICAgICBTdHlsZVNoZWV0TG9hZGVyOiB3ciwKICAgICAgQ29udHJvbFNlbGVjdGlvbjogQ2YsCiAgICAgIEJvb2ttYXJrTWFuYWdlcjogRmwsCiAgICAgIFNlbGVjdGlvbjogTGgsCiAgICAgIEV2ZW50OiBhaS5FdmVudAogICAgfSwKICAgIGh0bWw6IHsKICAgICAgU3R5bGVzOiBybywKICAgICAgRW50aXRpZXM6IEdvLAogICAgICBOb2RlOiBVZCwKICAgICAgU2NoZW1hOiB0bywKICAgICAgU2F4UGFyc2VyOiBHZCwKICAgICAgRG9tUGFyc2VyOiAkaCwKICAgICAgV3JpdGVyOiB0bSwKICAgICAgU2VyaWFsaXplcjogbm0KICAgIH0sCiAgICBFbnY6IHh0LAogICAgQWRkT25NYW5hZ2VyOiBzdSwKICAgIEFubm90YXRvcjogTWwsCiAgICBGb3JtYXR0ZXI6IEp2LAogICAgVW5kb01hbmFnZXI6IFp2LAogICAgRWRpdG9yQ29tbWFuZHM6IFcxLAogICAgV2luZG93TWFuYWdlcjogUHYsCiAgICBOb3RpZmljYXRpb25NYW5hZ2VyOiB1diwKICAgIEVkaXRvck9ic2VydmFibGU6IG14LAogICAgU2hvcnRjdXRzOiB5eCwKICAgIEVkaXRvcjoga3gsCiAgICBGb2N1c01hbmFnZXI6IExkLAogICAgRWRpdG9yTWFuYWdlcjogSHgsCiAgICBET006IEphLkRPTSwKICAgIFNjcmlwdExvYWRlcjogdHUuU2NyaXB0TG9hZGVyLAogICAgUGx1Z2luTWFuYWdlcjogT3YsCiAgICBUaGVtZU1hbmFnZXI6IEJ2LAogICAgSWNvbk1hbmFnZXI6IF92LAogICAgUmVzb3VyY2U6IFp4LAogICAgdHJpbTogRXQudHJpbSwKICAgIGlzQXJyYXk6IEV0LmlzQXJyYXksCiAgICBpczogRXQuaXMsCiAgICB0b0FycmF5OiBFdC50b0FycmF5LAogICAgbWFrZU1hcDogRXQubWFrZU1hcCwKICAgIGVhY2g6IEV0LmVhY2gsCiAgICBtYXA6IEV0Lm1hcCwKICAgIGdyZXA6IEV0LmdyZXAsCiAgICBpbkFycmF5OiBFdC5pbkFycmF5LAogICAgZXh0ZW5kOiBFdC5leHRlbmQsCiAgICBjcmVhdGU6IEV0LmNyZWF0ZSwKICAgIHdhbGs6IEV0LndhbGssCiAgICBjcmVhdGVOUzogRXQuY3JlYXRlTlMsCiAgICByZXNvbHZlOiBFdC5yZXNvbHZlLAogICAgZXhwbG9kZTogRXQuZXhwbG9kZSwKICAgIF9hZGRDYWNoZVN1ZmZpeDogRXQuX2FkZENhY2hlU3VmZml4LAogICAgaXNPcGVyYTogeHQub3BlcmEsCiAgICBpc1dlYktpdDogeHQud2Via2l0LAogICAgaXNJRTogeHQuaWUsCiAgICBpc0dlY2tvOiB4dC5nZWNrbywKICAgIGlzTWFjOiB4dC5tYWMKICB9LAogICAgICB2dyA9IEV0LmV4dGVuZChIeCwgaHcpLAogICAgICBidyA9IHZ3OwogIHdpbmRvdy50aW55bWNlID0gYncsIHdpbmRvdy50aW55TUNFID0gYncsIGZ1bmN0aW9uIChlKSB7CiAgICBpZiAoIm9iamVjdCIgPT0gKHR5cGVvZiBtb2R1bGUgPT09ICJ1bmRlZmluZWQiID8gInVuZGVmaW5lZCIgOiBfdHlwZW9mKG1vZHVsZSkpKSB0cnkgewogICAgICBtb2R1bGUuZXhwb3J0cyA9IGU7CiAgICB9IGNhdGNoIChlKSB7fQogIH0odncpOwp9KCk7"},{"version":3,"sources":["C:/Users/Free Chen/Desktop/GP/note1.0/src/pages/write/tinymce-editor/tinymce.min.js"],"names":["r","e","t","Array","prototype","isPrototypeOf","constructor","name","String","f","o","m","length","n","eq","d","l","i","Object","keys","a","g","slice","call","sort","u","s","c","K","V","te","arguments","apply","J","p","indexOf","X","h","S","v","b","y","E","A","concat","C","x","N","R","w","fold","isSome","isNone","getOr","getOrThunk","k","getOrDie","Error","getOrNull","getOrUndefined","or","orThunk","map","each","bind","exists","forall","filter","toArray","toString","_","ye","D","F","T","Y","O","B","push","pass","fail","U","P","L","I","ve","some","none","M","z","H","Ce","j","q","be","reverse","$","W","G","Q","Z","ee","ne","we","re","Ee","oe","ie","ae","ue","Ne","from","se","ce","le","fe","de","me","ge","pe","he","xe","Se","hasOwnProperty","ke","isArray","_e","assign","Ae","Re","De","toLowerCase","search","Te","Oe","replace","Be","Pe","Le","Ie","window","matchMedia","matches","Me","wt","Fe","Ue","ze","dom","nodeType","msMatchesSelector","webkitMatchesSelector","mozMatchesSelector","He","childElementCount","je","Ve","dt","browser","isIE","Node","DOCUMENT_POSITION_CONTAINED_BY","compareDocumentPosition","contains","qe","Xe","$e","current","version","isEdge","isChrome","isOpera","isFirefox","nt","isSafari","We","isWindows","it","isiOS","isAndroid","at","isOSX","isLinux","isSolaris","ut","isFreeBSD","st","isChromeOS","ct","Ke","major","minor","Ye","nu","detect","test","Number","unknown","Ge","substr","Je","Qe","Ze","et","tt","browsers","versionRegexes","brand","oses","rt","ot","lt","ft","navigator","userAgent","userAgentData","brands","parseInt","os","deviceType","isiPad","isiPhone","isTablet","isPhone","isTouch","isWebView","isDesktop","mt","gt","pt","ht","vt","bt","yt","URL","createObjectURL","Ct","xt","opera","webkit","gecko","mac","iOS","android","contentEditable","transparentSrc","caretAfter","range","getSelection","documentMode","document","fileApi","ceFalse","cacheSuffix","container","experimentalShadowDom","canHaveCSP","desktop","windowsPhone","St","Et","trim","is","makeMap","split","grep","inArray","hasOwn","extend","create","exec","match","createNS","onCreate","resolve","parent","static","walk","explode","_addCacheSuffix","Nt","fromHtml","createElement","innerHTML","hasChildNodes","childNodes","console","error","fromTag","fromText","createTextNode","fromDom","fromPoint","elementFromPoint","kt","nodeName","_t","At","Rt","ownerDocument","Dt","An","Tt","defaultView","Ot","parentNode","Bt","previousSibling","Pt","nextSibling","Lt","It","Mt","Ft","Ut","zt","Ht","Rn","host","jt","head","Vt","qt","insertBefore","$t","Pn","Wt","Kt","Xt","textContent","Dn","Ln","Yt","Gt","Jt","body","scrollLeft","documentElement","scrollTop","Fn","Qt","scrollTo","Zt","scrollIntoViewIfNeeded","scrollIntoView","en","width","height","right","bottom","tn","visualViewport","clientWidth","clientHeight","left","top","Math","max","pageLeft","pageTop","nn","rn","getPrototypeOf","on","an","zn","getComputedStyle","getPropertyValue","un","hasAttribute","sn","cn","tagName","ln","getAttribute","fn","dn","mn","style","gn","setAttribute","pn","hn","vn","bn","yn","removeAttribute","Cn","setProperty","xn","In","Qn","wn","Sn","item","En","kn","Nn","children","Function","_n","Tn","Element","attachShadow","getRootNode","On","Bn","appendChild","removeChild","Mn","translate","Un","offsetLeft","offsetTop","getBoundingClientRect","Hn","jn","Vn","qn","$n","Wn","Kn","Xn","Yn","Gn","Jn","Zn","er","tr","exports","nr","setTimeout","TypeError","_state","_handled","_value","_deferreds","_immediateFn","onFulfilled","onRejected","promise","then","_unhandledRejectionFn","globalThis","global","self","catch","all","reject","race","setImmediate","warn","_setImmediateFn","_setUnhandledRejectionFn","Promise","boltExport","EphoxContactWrapper","rr","sr","ir","join","log","constructors","params","ar","get","isReady","ur","pure","toPromise","anonBind","toLazy","toCached","cr","isValue","isError","mapError","toOptional","lr","fr","value","fromOption","dr","mr","gr","pr","hr","vr","querySelector","br","yr","Cr","setInterval","xr","clearTimeout","stop","wr","id","passed","failed","count","status","onload","onerror","styleSheets","ownerNode","Date","now","_r","rel","type","contentCssCors","referrerPolicy","maxLoadTime","load","loadAll","unload","unloadAll","_setReferrerPolicy","bothErrors","firstError","secondError","bothValues","Sr","Er","Nr","kr","requestAnimationFrame","setEditorTimeout","removed","setEditorInterval","clearInterval","debounce","throttle","Ar","WeakMap","forElement","set","Rr","Dr","node","next","findSibling","prev","prev2","findPreviousNode","rootNode","Tr","Or","lo","Br","Pr","Eo","So","Lr","xo","data","Ir","Mr","firstChild","lastChild","Fr","charAt","offset","Co","isAtStart","Ur","isAtEnd","zr","getElementsByTagName","Hr","startContainer","jr","Po","Do","To","Oo","Ro","Bo","Lo","Vr","_o","qr","Io","$r","Mo","Wr","Uo","Fo","Kr","Xr","Yr","fromCharCode","Ko","Gr","jo","Vo","Jr","charCodeAt","Qr","Yo","Zr","eo","ei","toUpperCase","Zo","ni","to","Jo","ti","schema","caption","table","script","attributes","attributesOrder","Qo","verify_html","valid_elements","valid_styles","invalid_styles","valid_classes","RegExp","paddEmpty","removeEmpty","removeEmptyAttrs","attributesRequired","required","attributesDefault","defaultValue","attributesForced","forcedValue","validValues","attributePatterns","pattern","splice","ri","outputName","text_block_elements","block_elements","special","custom_elements","valid_children","extended_valid_elements","dd","li","td","th","tbody","thead","tfoot","legend","area","param","parentsRequired","invalid_elements","elements","getValidStyles","getValidClasses","getBlockElements","getInvalidStyles","getShortEndedElements","getTextBlockElements","getTextInlineElements","getBoolAttrs","getElementRule","getSelfClosingElements","getNonEmptyElements","getMoveCaretBeforeOnEnterElements","getWhiteSpaceElements","getSpecialElements","isValidChild","isValid","getCustomElements","addValidElements","setValidElements","addCustomElements","addValidChildren","no","ro","bo","toHex","parse","allow_script_urls","allow_svg_data_urls","url_converter","url_converter_scope","lastIndex","index","border","serialize","oo","Event","initEvent","io","oi","composedPath","target","srcElement","preventDefault","defaultPrevented","isDefaultPrevented","returnValue","stopPropagation","cancelBubble","isPropagationStopped","stopImmediatePropagation","isImmediatePropagationStopped","ao","addEventListener","attachEvent","uo","removeEventListener","detachEvent","so","ii","pageX","clientX","clientLeft","pageY","clientY","clientTop","metaKey","co","fo","mo","go","po","ho","vo","yo","wo","No","ko","Ao","zo","remove","Ho","qo","$o","Wo","Xo","Go","encodeRaw","encodeAllRaw","encodeNumeric","encodeNamed","getEncodeFunc","named","numeric","decode","innerText","keyLocation","layerX","layerY","webkitMovementX","webkitMovementY","keyIdentifier","mozPressure","ai","ui","executeHandlers","event","expando","events","domLoaded","readyState","hasMouseEnterLeave","mouseEnterLeave","currentTarget","relatedTarget","hasFocusIn","func","scope","fakeName","capture","nativeHandler","unbind","fire","parentWindow","clean","destroy","cancel","si","ci","fi","di","mi","gi","pi","hi","vi","bi","yi","Ci","xi","wi","Si","Ei","Ni","ki","_i","Ai","Ri","Di","ua","Ti","Oi","Bi","Pi","Li","Ii","Mi","pop","Fi","Ui","zi","Hi","ji","Vi","qi","$i","Wi","Ki","Xi","Yi","Gi","Ji","Qi","ID","CLASS","TAG","ATTR","PSEUDO","CHILD","bool","needsContext","Zi","ea","ta","na","ra","oa","ia","aa","getElementById","getElementsByClassName","qsa","ma","fa","querySelectorAll","cacheLength","shift","sa","ca","sourceIndex","la","da","ga","dir","first","pa","ha","va","ba","ya","ka","createDocumentFragment","Ca","className","xa","Wa","cloneNode","wa","init","Sa","Ua","Ea","Na","support","isXML","setDocument","getById","find","disconnectedMatch","sortDetached","unshift","matchesSelector","attr","attrHandle","getAttributeNode","specified","uniqueSort","detectDuplicates","sortStable","getText","nodeValue","selectors","createPseudo","relative","preFilter","pseudos","setFilters","not","has","lang","location","hash","root","focus","activeElement","hasFocus","href","tabIndex","enabled","disabled","checked","selected","selectedIndex","empty","header","input","button","text","last","even","odd","nth","filters","tokenize","compile","selector","random","select","_a","Aa","Ra","Da","Ta","Oa","za","makeArray","Ba","Pa","La","for","class","readonly","Ia","float","Ma","Fa","Ha","ja","Va","qa","$a","context","add","unique","prop","removeAttr","css","removeProperty","currentStyle","html","append","prepend","before","after","appendTo","prependTo","replaceWith","wrap","wrapAll","wrapInner","contents","unwrap","clone","addClass","toggleClass","removeClass","hasClass","off","trigger","show","hide","closest","expr","parents","contentDocument","contentWindow","parentsUntil","nextUntil","prevUntil","overrideDefaults","element","attrHooks","cssHooks","Ka","Xa","Ya","Ga","Ja","onSetAttrib","attrElm","attrName","attrValue","root_element","offsetParent","offsetHeight","offsetWidth","canHaveHTML","replaceChild","createRange","ownEvents","getRoot","collect","doc","settings","win","files","stdMode","boxModel","styleSheetLoader","boundEvents","styles","isBlock","$$","getViewPort","getRect","getSize","getParent","getParents","getNext","getPrev","createHTML","createFragment","setStyle","update_styles","getStyle","setStyles","removeAllAttribs","removeAttributeNode","setAttrib","setAttribs","getAttrib","getPos","parseStyle","serializeStyle","addStyle","DOM","styleSheet","cssText","loadCSS","isHidden","uniqueId","setHTML","getOuterHTML","outerHTML","setOuterHTML","encode","insertAfter","rename","findCommonAncestor","run","getAttribs","isEmpty","createRng","nodeIndex","setStart","setEnd","extractContents","getContentEditable","getContentEditableParent","isChildOf","dumpRng","startOffset","endContainer","endOffset","keep_values","src","Qa","Za","eu","tu","loadScript","isDone","states","markDone","queue","scriptLoadedCallbacks","success","failure","loadQueue","loadScripts","queueLoadedCallbacks","loading","ScriptLoader","ru","ou","iu","au","uu","getData","setCode","getCode","raw","isRtl","hasCode","su","state","callback","dependencies","prefix","resource","suffix","baseURL","substring","lastIndexOf","items","urls","lookup","_listeners","instance","requireLangPack","languageLoad","createUrl","addComponents","waitFor","cu","clear","isSet","lu","fu","du","mu","classList","gu","pu","hu","vu","selection","getRng","getBody","ju","Vu","qu","$u","uid","bu","listeners","previous","nodes","addListener","yu","getTime","floor","Wu","Cu","xu","wu","Su","Eu","Nu","backwards","forwards","ku","Ku","_u","Au","min","Ru","Du","Tu","Ou","Bu","Pu","Xu","Lu","Iu","Mu","Fu","es","Uu","zu","PluginManager","ThemeManager","Hu","round","Yu","Gu","Ju","Qu","Zu","ts","ns","rs","getClientRects","cloneRange","setEndAfter","as","toRange","isVisible","isEqual","getNode","us","ss","insertNode","cs","ls","uc","fc","lc","fs","ds","cc","ms","gs","ps","hs","vs","dc","bs","start","isCollapsed","end","isFakeCaret","ys","Cs","collapse","moveToBookmark","keep","xs","getParam","ws","Ss","Es","Ns","ks","_s","As","Rs","Ds","Ts","Os","Bs","Ps","Ls","Is","Ms","Fs","deleteData","Us","vc","zs","Hs","isTextPosition","hc","js","Vs","caret","xc","splitText","wc","getCss","reposition","qs","bc","$s","Ws","_c","Ks","Sc","Xs","Nc","Ys","Gs","Ac","Js","setStartBefore","setEndBefore","setStartAfter","Qs","kc","Ec","Rc","Zs","Dc","Tc","collapsed","ec","tc","fromRangeStart","fromRangeEnd","nc","rc","oc","isAbove","isBelow","isElementPosition","ic","ac","sc","mc","gc","pc","yc","Cc","Oc","Bc","Kl","ql","Wl","Pc","Yl","Forwards","Backwards","Lc","Ic","Mc","Fc","Gl","Uc","zc","nf","Hc","jc","Vc","qc","$c","tf","Wc","Kc","appendData","Xc","selectNode","rng","setRng","Yc","Gc","Jc","of","Qc","Zc","af","el","tl","nl","rl","ol","il","al","ul","sl","cl","formatter","ll","fl","dl","ml","expand","gl","pl","hl","vl","bl","uf","yl","sf","Cl","wrapper","block","lf","xl","cf","block_expand","ff","wl","Sl","El","Nl","rangeCount","getRangeAt","kl","_l","getSel","Al","Rl","df","mf","Dl","Tl","Ol","Bl","Pl","gf","Ll","getOwnPropertySymbols","propertyIsEnumerable","classes","Il","getDoc","Ml","register","serializer","addNodeFilter","persistent","annotate","undoManager","transact","inline","decorate","annotationChanged","getAll","Fl","getBookmark","rf","Ul","zl","Hl","jl","Vl","$l","Xl","Jl","Ql","Zl","ef","getOption","pf","hf","vf","bf","format","vars","yf","Cf","touches","firstElementChild","screenX","screenY","Bf","modifierPressed","startPos","display","scrollWidth","scrollHeight","origin","getStart","getEnd","Pf","execCommand","abs","nw","sw","nodeChanged","unselectable","position","margin","elm","composing","isResizable","showResizeRect","hideResizeRect","updateResizeRect","xf","wf","caretPositionFromPoint","offsetNode","caretRangeFromPoint","createTextRange","moveToPoint","moveToElementText","parentElement","Sf","Ef","Nf","kf","_f","Af","Rf","Df","Tf","Of","normalize","isBookmarkNode","BACKSPACE","DELETE","DOWN","ENTER","ESC","LEFT","RIGHT","SPACEBAR","TAB","UP","PAGE_UP","PAGE_DOWN","END","HOME","shiftKey","ctrlKey","altKey","metaKeyPressed","compareRanges","getCaretRangeFromPoint","getSelectedNode","Lf","If","Mf","Ff","getOuter","aggregate","Uf","parseFloat","isNaN","zf","Hf","pageYOffset","pageXOffset","pos","cleanup","jf","Rd","Ad","Vf","alignToTop","qf","$f","Wf","Kf","innerHeight","Xf","_d","owner","kd","Yf","Gf","Jf","Qf","Zf","ed","nd","rd","Bd","soffset","finish","foffset","od","ad","Pd","ud","sd","cd","bookmark","ld","fd","selectionChange","Id","Ld","isEditorUIElement","md","editor","focusedEditor","setActive","blurredEditor","getElement","Nd","activeEditor","shadowRoot","composed","gd","pd","hd","vd","iframeElement","bd","yd","Cd","xd","wd","Sd","Ed","view","freeze","__proto__","frameElement","Dd","Td","Od","domRange","exact","exactFromRange","getWin","Md","editorManager","Fd","Ud","zd","insert","shortEnded","Hd","uris","jd","Vd","qd","$d","ftp","http","https","mailto","Wd","Kd","Xd","parseDataUri","decodeURIComponent","isDomSafe","unescape","allow_html_data_urls","getDocumentBaseUrl","protocol","pathname","setPath","path","directory","file","source","getURI","toRelative","base_uri","port","toRelPath","query","anchor","toAbsolute","isSameOrigin","toAbsPath","userInfo","Yd","Qd","Gd","valid","allow_conditional_comments","self_closing_elements","validate","remove_internals","fix_self_closing","Jd","preserve_cdata","comment","cdata","doctype","Zd","getTempAttrs","findEndTag","em","compare","om","tm","indent","im","indent_before","indent_after","entity_encoding","entities","element_format","reset","getContent","nm","inner","rm","am","Set","um","sm","cm","lm","fm","dm","mm","gm","pm","hm","vm","bm","ym","Cm","xm","wm","Sm","Em","Nm","km","_m","Kg","Am","Wg","Rm","Dm","np","op","Tm","rp","ip","Om","Bm","Pm","Lm","Im","Mm","replaceData","previousCharIsSpace","str","Fm","Um","zm","insertData","Hm","jm","Vm","qm","$m","Wm","Km","Xm","Ym","setContent","setCursorLocation","Gm","Jm","Qm","Zm","eg","tg","cells","ng","isSameTable","rg","og","ig","startTable","endTable","ag","isStartInTable","isEndInTable","isMultiTable","rows","sp","singleCellTable","multiTable","fullTable","partialTable","ug","sg","lp","cg","lg","deleteContents","fg","dg","mg","gg","Qg","Zg","pg","fp","dp","hg","vg","commonAncestorContainer","bg","yg","Cg","xg","wg","cloneContents","Sg","parser","merge","content","paste","mp","_selectionOverrides","showBlockCaretContainer","invalid","$g","addVisual","Eg","Ng","kg","no_events","getNodeFilters","getAttributeFilters","gp","callbacks","no_selection","isRootContent","_g","Ag","Rg","inherit","Dg","hp","Tg","pp","Og","onmatch","Bg","Pg","vp","Lg","Ig","bp","Mg","Fg","Ug","zg","Hg","matchNode","jg","Vg","qg","Xg","Yg","Gg","Jg","ep","tp","ap","up","cp","yp","Cp","xp","wp","Sp","Ep","Np","merge_siblings","kp","_p","Ap","Rp","Dp","Tp","Op","Bp","Pp","kh","links","Sh","preserve_attributes","Nh","remove_similar","Eh","list_block","forced_root_block_attrs","Lp","Ip","mixed","deep","textDecoration","ceFalseOverride","Mp","Fp","Up","zp","Dh","Hp","Th","withSimilar","similar","withoutSimilar","withVars","jp","Vp","qp","$p","Wp","Kp","Xp","Yp","Gp","Jp","Qp","Zp","eh","nh","rh","oh","fragments","beforeBookmark","ih","diag","ah","uh","Oh","sh","ch","lh","typing","fh","dh","beforeChange","level","lastLevel","originalEvent","setDirty","undo","redo","hasUndo","hasRedo","ignore","extra","matchAll","canApply","defaultBlock","Rh","toggle","formatChanged","getInner","insertContent","hasVisual","contextual","getModel","mh","plugins","gh","setup","rtcInstance","getRawModel","rtc","isRemote","ph","hh","vh","bh","yh","forced_root_block","createContextualFragment","Ch","getSelectedBlocks","pre","xh","wh","_h","Ah","onformat","figcaption","details","summary","clear_child_styles","merge_with_parents","backgroundColor","color","importNode","implementation","createHTMLDocument","Bh","Ph","Lh","anchorNode","focusNode","anchorOffset","focusOffset","compareBoundaryPoints","START_TO_START","END_TO_END","forward","removeAllRanges","addRange","setBaseAndExtent","bookmarkManager","controlSelection","compareEndPoints","isForward","setNode","selectorChanged","selectorChangedWithUnbind","getScrollContainer","placeCaretAt","Ih","convert_fonts_to_spans","font_size_legacy_values","Mh","Fh","atob","Uint8Array","Blob","Uh","XMLHttpRequest","open","responseType","response","send","zh","lv","Hh","findAll","isUploaded","image","blobInfo","getByData","getByUri","FileReader","onloadend","result","readAsDataURL","jh","padd_empty_with_br","Vh","qh","images_dataimg_filter","Image","blobUri","remove_trailing_brs","addAttributeFilter","allow_unsafe_link_target","allow_html_in_named_anchor","fix_list_elements","blob_cache","$h","root_name","mv","gv","filterNode","pv","dv","fv","fixed","inline_styles","Wh","Kh","hasEventListeners","addRules","setRules","addTempAttr","Xh","Yh","Gh","Jh","bv","yv","Cv","theme","Qh","Zh","sections","ev","tv","forced_plugins","mobile","Nv","nv","resize","toolbar_mode","toolbar_sticky","kv","menubar","vv","external_plugins","rv","ov","iv","av","Tv","Dv","Av","Rv","uv","getNotificationManagerImpl","close","getArgs","getContentAreaContainer","notification","progressBar","timeout","getEl","getNotifications","sv","cv","hv","xv","wv","Sv","Ev","table_grid","object_resizing","_v","icons","Ov","Bv","Pv","getWindowManagerImpl","openUrl","alert","confirm","getParams","setParams","dialog","Lv","notificationManager","Iv","_skinLoaded","Mv","message","Fv","Uv","zv","contentCSS","cy","Hv","resultUri","hasBlobUri","getResultUri","isPending","markPending","markUploaded","removeFailed","jv","ly","Vv","blob","base64","filename","uri","findFirst","removeByUri","revokeObjectURL","qv","url","withCredentials","credentials","upload","onprogress","loaded","total","JSON","responseText","basePath","FormData","options","handler","$v","Wv","Kv","convertURL","uploadUri","fireIfChanged","editorUpload","blobCache","source_view","addFilter","uploadImages","uploadImagesAuto","scanForImages","Xv","attrs","dy","siblings","Yv","Gv","fy","Jv","valigntop","verticalAlign","valignmiddle","valignbottom","alignleft","preview","textAlign","aligncenter","marginLeft","marginRight","alignright","alignjustify","bold","fontWeight","italic","fontStyle","underline","strikethrough","forecolor","hilitecolor","fontname","fontFamily","fontsize","fontSize","lineheight","lineHeight","fontsize_class","blockquote","subscript","superscript","code","link","customValue","removeformat","unregister","addShortcut","keyCode","getCssText","Qv","Zv","command","isDirty","inputType","eb","tb","nb","rb","ob","ib","ab","ub","sb","cb","lb","fb","db","mb","gb","pb","hb","vb","bb","yb","Cb","xb","showCaret","wb","Sb","yy","by","Eb","Nb","kb","_b","Ab","Rb","Cy","moveToElement","moveToPosition","Db","Tb","hideFakeCaret","Ob","Bb","Pb","Lb","Ib","xy","Mb","Fb","Ub","zb","Hb","jb","wy","Sy","Vb","qb","$b","hy","Ey","Wb","Kb","Xb","vy","Yb","Gb","Jb","Ny","py","Qb","Zb","ey","ty","ny","ry","oy","iy","ay","uy","sy","documentBaseURI","my","gy","ky","modify","_y","Ay","positions","breakType","breakAt","Block","Wrap","Eol","Ry","Dy","Ty","Oy","By","Py","Ly","Iy","My","Fy","Uy","zy","line","Hy","jy","Vy","qy","$y","Wy","Ky","MC","Xy","FC","Yy","Down","Gy","Jy","Qy","Zy","IC","LC","UC","e0","t0","n0","r0","o0","i0","a0","initial","u0","s0","c0","l0","f0","d0","m0","g0","p0","h0","v0","b0","jC","mode","isReadOnly","y0","C0","queryCommandState","x0","w0","S0","E0","N0","k0","_0","A0","R0","VC","D0","T0","O0","B0","P0","L0","I0","M0","F0","action","U0","z0","H0","j0","cell","sqrt","V0","q0","$0","W0","WC","KC","$C","qC","K0","X0","Y0","G0","J0","Q0","Z0","eC","tC","nC","rC","oC","iC","aC","uC","sC","newBlock","cC","lC","fC","XC","dC","mC","gC","pC","hC","vC","bC","yC","CC","xC","wC","SC","EC","NC","kC","_C","YC","AC","RC","DC","TC","OC","QC","ZC","BC","PC","zC","HC","GC","isComposing","JC","e1","t1","initialized","isSameElementPath","lastPath","n1","r1","o1","i1","dragging","relX","ghost","maxX","maxY","a1","D1","T1","relY","contenteditable","opacity","overflow","padding","boxSizing","O1","u1","dataTransfer","types","s1","c1","P1","direction","targetClone","B1","clipboardData","clearData","setData","outerText","l1","shortcuts","Range","blur","contentStyles","escape","queryCommandSupported","internal","refreshContentEditable","setAttributeNode","f1","d1","m1","bindPendingEventDelegates","execCallback","auto_focus","destroyed","g1","p1","content_style","h1","startContent","v1","visibility","orgVisibility","write","iframeHTML","L1","bodyElement","contentAreaContainer","hex_colors","force_hex_style_colors","boolean_attributes","move_caret_before_on_enter_elements","non_empty_elements","short_ended_elements","text_inline_elements","whitespace_elements","annotator","_nodeChangeDispatcher","isEqualNode","detail","addCommand","browser_spellcheck","gecko_spellcheck","spellcheck","quirks","protect","setProgressState","b1","frameBorder","allowTransparency","title","domain","hostname","I1","iframeContainer","documentBaseUrl","y1","C1","editorContainer","api","x1","orgDisplay","renderUI","iframeHeight","M1","w1","registry","addIcon","F1","disable","isDisabled","enable","hidden","S1","E1","N1","k1","z1","_1","A1","R1","U1","H1","j1","V1","q1","$1","W1","K1","skip_focus","commands","queryCommandValue","addCommands","addQueryStateHandler","addQueryValueHandler","hasCustomCommand","execNativeCommand","isFormatMatch","toggleFormat","storeSelection","selectionBookmark","restoreSelection","setupCommands","mceFocus","queryCommandEnabled","unlink","FontName","FontSize","LineHeight","Lang","customCode","RemoveFormat","mceBlockQuote","FormatBlock","mceCleanup","mceRemoveNode","mceSelectNodeDepth","mceSelectNode","mceInsertContent","mceInsertRawHTML","mceInsertNewLine","mceToggleFormat","mceSetContent","mceRepaint","InsertHorizontalRule","mceToggleVisualAid","mceReplaceContent","mceInsertLink","selectAll","selectNodeContents","mceNewDocument","InsertLineBreak","JustifyLeft","JustifyCenter","JustifyRight","JustifyFull","Outdent","Undo","Redo","X1","Y1","G1","J1","ex","Q1","Z1","tx","nx","rx","isNative","beforeFire","bindings","once","toggleEvent","ox","_eventDispatcher","toggleNativeEvent","ix","eventRoot","dx","ax","ux","delegates","lx","sx","activate","deactivate","editorReadOnly","cx","px","hx","bx","charCode","vx","access","alt","ctrl","meta","fx","mx","_pendingNativeEvents","unbindAllNativeEvents","getContainer","gx","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","yx","Cx","normalizeCommandFunc","createShortcut","desc","subpatterns","hasModifier","isFunctionKey","matchShortcut","executeShortcutAction","pendingPatterns","xx","wx","Sx","Ex","Nx","kx","_x","render","form","formElement","hasHiddenInput","formEventDelegate","resetContent","submit","_mceOldSubmit","triggerSave","windowManager","save","_beforeUnload","set_dirty","callbackLookup","hasPlugin","editorCommands","time","is_removing","isNotDirty","targetElm","urlconverter_callback","convert_urls","relative_urls","remove_script_host","_scanForImages","addButton","addSidebar","addMenuItem","addContextToolbar","loadedCSS","documentBaseURL","defaultSettings","document_base_url","add_form_submit_trigger","submit_patch","add_unload_trigger","visual","hidden_input","deprecation_warnings","base_url","_setBaseUrl","baseUri","baseURI","referrer_policy","language_load","cache_suffix","addAutocompleter","addGroupToolbarButton","addToggleButton","addMenuButton","addSplitButton","addNestedMenuItem","addToggleMenuItem","addContextMenu","addContextForm","buttons","menuItems","popups","contextMenus","contextToolbars","sidebars","design","setMode","Ax","Px","Hx","Rx","Mx","Dx","Ux","Fx","Tx","Ox","Bx","Lx","Ix","zx","compatMode","majorVersion","minorVersion","releaseDate","editors","i18n","tinymce","tinyMCEPreInit","base","currentScript","plugin_base_urls","onpageload","forms","editor_deselector","editor_selector","createEditor","addI18n","jx","Jx","qx","Vx","$x","Wx","Kx","Xx","Yx","Gx","Qx","inflate","relativePosition","findBestRelativePosition","intersect","clamp","fromClientRect","Zx","ew","tw","Mixins","Methods","Properties","Statics","Defaults","_super","rw","ow","iw","aw","uw","stringify","cw","lw","async","success_scope","error_scope","overrideMimeType","content_type","crossDomain","setRequestHeader","requestheaders","key","xhr","fw","dw","mw","sendRPC","method","gw","pw","localStorage","setItem","removeItem","getItem","defineProperty","configurable","enumerable","hw","geom","Rect","util","Delay","Tools","VK","URI","Class","EventDispatcher","Observable","I18n","XHR","JSONRequest","JSONP","LocalStorage","Color","toRgb","toHsv","ImageUploader","EventUtils","Sizzle","DomQuery","TreeWalker","TextSeeker","DOMUtils","RangeUtils","Serializer","StyleSheetLoader","ControlSelection","BookmarkManager","Selection","Styles","Entities","Schema","SaxParser","DomParser","Writer","Env","AddOnManager","Annotator","Formatter","UndoManager","EditorCommands","WindowManager","NotificationManager","EditorObservable","Shortcuts","Editor","FocusManager","EditorManager","IconManager","Resource","isWebKit","isGecko","isMac","vw","bw","tinyMCE","module"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.1 (2021-11-03)\n */\n!function(){\"use strict\";function r(e){if(null===e)return\"null\";if(void 0===e)return\"undefined\";var t=typeof e;return\"object\"==t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&\"Array\"===e.constructor.name)?\"array\":\"object\"==t&&(String.prototype.isPrototypeOf(e)||e.constructor&&\"String\"===e.constructor.name)?\"string\":t}function f(o){return m(function(e,t){if(e.length!==t.length)return!1;for(var n=e.length,r=0;r<n;r++)if(!o.eq(e[r],t[r]))return!1;return!0})}function d(l){return m(function(e,t){var n,r,o,i=Object.keys(e),a=Object.keys(t);if(r=f(g),o=function(e){return t=n,Array.prototype.slice.call(e).sort(t);var t},!m(function(e,t){return r.eq(o(e),o(t))}).eq(i,a))return!1;for(var u=i.length,s=0;s<u;s++){var c=i[s];if(!l.eq(e[c],t[c]))return!1}return!0})}function e(r){return function(e){return n=typeof(t=e),(null===t?\"null\":\"object\"==n&&(Array.prototype.isPrototypeOf(t)||t.constructor&&\"Array\"===t.constructor.name)?\"array\":\"object\"==n&&(String.prototype.isPrototypeOf(t)||t.constructor&&\"String\"===t.constructor.name)?\"string\":n)===r;var t,n}}function t(t){return function(e){return typeof e===t}}function n(t){return function(e){return t===e}}function K(e){return null==e}function V(e){return!K(e)}function te(){}function i(n,r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n(r.apply(null,e))}}function a(t,n){return function(e){return t(n(e))}}function J(e){return function(){return e}}function u(e){return e}function o(e,t){return e===t}var m=function(e){return{eq:e}},g=m(function(e,t){return e===t}),p=m(function(e,t){if(e===t)return!0;var n=r(e);return n===r(t)&&(-1!==[\"undefined\",\"boolean\",\"number\",\"string\",\"function\",\"xml\",\"null\"].indexOf(n)?e===t:\"array\"===n?f(p).eq(e,t):\"object\"===n&&d(p).eq(e,t))}),X=e(\"string\"),h=e(\"object\"),S=e(\"array\"),l=n(null),v=t(\"boolean\"),b=n(void 0),y=t(\"function\"),E=t(\"number\");function A(r){for(var o=[],e=1;e<arguments.length;e++)o[e-1]=arguments[e];return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=o.concat(e);return r.apply(null,n)}}function s(t){return function(e){return!t(e)}}function C(e){return e()}function x(e){e()}function c(){return N}var R=J(!1),w=J(!0),N={fold:function(e,t){return e()},isSome:R,isNone:w,getOr:u,getOrThunk:k,getOrDie:function(e){throw new Error(e||\"error: getOrDie called on none.\")},getOrNull:J(null),getOrUndefined:J(void 0),or:u,orThunk:k,map:c,each:te,bind:c,exists:R,forall:w,filter:function(){return N},toArray:function(){return[]},toString:J(\"none()\")};function k(e){return e()}function _(e,t){return ye.call(e,t)}function D(e,t){return-1<_(e,t)}function F(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n))return!0;return!1}function T(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r}function Y(e,t){for(var n=0,r=e.length;n<r;n++)t(e[n],n)}function O(e,t){for(var n=e.length-1;0<=n;n--)t(e[n],n)}function B(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o];(t(a,o)?n:r).push(a)}return{pass:n,fail:r}}function U(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n}function P(e,n,r){return O(e,function(e,t){r=n(r,e,t)}),r}function L(e,n,r){return Y(e,function(e,t){r=n(r,e,t)}),r}function I(e,t,n){for(var r=0,o=e.length;r<o;r++){var i=e[r];if(t(i,r))return ve.some(i);if(n(i,r))break}return ve.none()}function M(e,t){return I(e,t,R)}function z(e,t){for(var n=0,r=e.length;n<r;n++)if(t(e[n],n))return ve.some(n);return ve.none()}function H(e,t){return function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!S(e[n]))throw new Error(\"Arr.flatten item \"+n+\" was not an array, input: \"+e);Ce.apply(t,e[n])}return t}(T(e,t))}function j(e,t){for(var n=0,r=e.length;n<r;++n)if(!0!==t(e[n],n))return!1;return!0}function q(e){var t=be.call(e,0);return t.reverse(),t}function $(e,t){return U(e,function(e){return!D(t,e)})}function W(e,t){var n=be.call(e,0);return n.sort(t),n}function G(e,t){return 0<=t&&t<e.length?ve.some(e[t]):ve.none()}function Q(e){return G(e,0)}function Z(e){return G(e,e.length-1)}function ee(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return ve.none()}function ne(e,t){for(var n=we(e),r=0,o=n.length;r<o;r++){var i=n[r];t(e[i],i)}}function re(e,n){return Ee(e,function(e,t){return{k:t,v:n(e,t)}})}function oe(n){return function(e,t){n[t]=e}}function ie(e,n,r,o){return ne(e,function(e,t){(n(e,t)?r:o)(e,t)}),1}function ae(e,t){var n={};return ie(e,t,oe(n),te),n}function ue(e,t){return Ne(e,t)?ve.from(e[t]):ve.none()}function se(e,t){return Ne(e,t)&&void 0!==e[t]&&null!==e[t]}function ce(e,t,n){var r,o;if(!e)return!1;if(n=n||e,void 0!==e.length){for(r=0,o=e.length;r<o;r++)if(!1===t.call(n,e[r],r,e))return!1}else for(r in e)if(Ne(e,r)&&!1===t.call(n,e[r],r,e))return!1;return!0}function le(n,r){var o=[];return ce(n,function(e,t){o.push(r(e,t,n))}),o}function fe(n,r){var o=[];return ce(n,function(e,t){r&&!r(e,t,n)||o.push(e)}),o}function de(e,t){if(e)for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function me(e,t,n,r){for(var o=b(n)?e[0]:n,i=0;i<e.length;i++)o=t.call(r,o,e[i],i);return o}function ge(e,t,n){for(var r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return r;return-1}function pe(e){return e[e.length-1]}var he=function(n){function e(){return o}function t(e){return e(n)}var r=J(n),o={fold:function(e,t){return t(n)},isSome:w,isNone:R,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:e,orThunk:e,map:function(e){return he(e(n))},each:function(e){e(n)},bind:t,exists:t,forall:t,filter:function(e){return e(n)?o:N},toArray:function(){return[n]},toString:function(){return\"some(\"+n+\")\"}};return o},ve={some:he,none:c,from:function(e){return null==e?N:he(e)}},be=Array.prototype.slice,ye=Array.prototype.indexOf,Ce=Array.prototype.push,xe=y(Array.from)?Array.from:function(e){return be.call(e)},we=Object.keys,Se=Object.hasOwnProperty,Ee=function(e,r){var o={};return ne(e,function(e,t){var n=r(e,t);o[n.k]=n.v}),o},Ne=function(e,t){return Se.call(e,t)},ke=Array.isArray,_e=function(){return(_e=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Ae(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function Re(n){var r,o=!1;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return o||(o=!0,r=n.apply(null,e)),r}}function De(e,t){var n=String(t).toLowerCase();return M(e,function(e){return e.search(n)})}function Te(e,t){return-1!==e.indexOf(t)}function Oe(t){return function(e){return e.replace(t,\"\")}}function Be(e){return 0<e.length}function Pe(e){return!Be(e)}function Le(t){return function(e){return Te(e,t)}}function Ie(e){return window.matchMedia(e).matches}function Me(e){return null==e?\"\":(\"\"+e).replace(wt,\"\")}function Fe(e,t){return t?!(\"array\"!==t||!ke(e))||typeof e===t:void 0!==e}function Ue(e,t){for(var n=[],r=function(e){return n.push(e),t(e)},o=t(e);(o=o.bind(r)).isSome(););return n}function ze(e,t){var n=e.dom;if(1!==n.nodeType)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error(\"Browser lacks native selectors\")}function He(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount}function je(e,t){return e.dom===t.dom}function Ve(e,t){return dt().browser.isIE()?(n=e.dom,r=t.dom,o=Node.DOCUMENT_POSITION_CONTAINED_BY,0!=(n.compareDocumentPosition(r)&o)):(i=e.dom)!==(a=t.dom)&&i.contains(a);var n,r,o,i,a}function qe(){return Xe(0,0)}function $e(e){function t(e){return function(){return n===e}}var n=e.current,r=e.version;return{current:n,version:r,isEdge:t(\"Edge\"),isChrome:t(\"Chrome\"),isIE:t(\"IE\"),isOpera:t(\"Opera\"),isFirefox:t(nt),isSafari:t(\"Safari\")}}function We(e){function t(e){return function(){return n===e}}var n=e.current,r=e.version;return{current:n,version:r,isWindows:t(it),isiOS:t(\"iOS\"),isAndroid:t(at),isOSX:t(\"OSX\"),isLinux:t(\"Linux\"),isSolaris:t(ut),isFreeBSD:t(st),isChromeOS:t(ct)}}function Ke(e){if(null==e)throw new Error(\"Node cannot be null or undefined\");return{dom:e}}var Xe=function(e,t){return{major:e,minor:t}},Ye={nu:Xe,detect:function(e,t){var n,r,o=String(t).toLowerCase();return 0===e.length?qe():(r=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}}(e,n=o))?Xe(i(1),i(2)):{major:0,minor:0};function i(e){return Number(n.replace(r,\"$\"+e))}},unknown:qe},Ge=function(e,t){return\"\"===(n=t)||e.length>=n.length&&e.substr(0,0+n.length)===n;var n},Je=Oe(/^\\s+|\\s+$/g),Qe=Oe(/^\\s+/g),Ze=Oe(/\\s+$/g),et=/.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,tt={browsers:J([{name:\"Edge\",versionRegexes:[/.*?edge\\/ ?([0-9]+)\\.([0-9]+)$/],search:function(e){return Te(e,\"edge/\")&&Te(e,\"chrome\")&&Te(e,\"safari\")&&Te(e,\"applewebkit\")}},{name:\"Chrome\",brand:\"Chromium\",versionRegexes:[/.*?chrome\\/([0-9]+)\\.([0-9]+).*/,et],search:function(e){return Te(e,\"chrome\")&&!Te(e,\"chromeframe\")}},{name:\"IE\",versionRegexes:[/.*?msie\\ ?([0-9]+)\\.([0-9]+).*/,/.*?rv:([0-9]+)\\.([0-9]+).*/],search:function(e){return Te(e,\"msie\")||Te(e,\"trident\")}},{name:\"Opera\",versionRegexes:[et,/.*?opera\\/([0-9]+)\\.([0-9]+).*/],search:Le(\"opera\")},{name:\"Firefox\",versionRegexes:[/.*?firefox\\/\\ ?([0-9]+)\\.([0-9]+).*/],search:Le(\"firefox\")},{name:\"Safari\",versionRegexes:[et,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Te(e,\"safari\")||Te(e,\"mobile/\"))&&Te(e,\"applewebkit\")}}]),oses:J([{name:\"Windows\",search:Le(\"win\"),versionRegexes:[/.*?windows\\ nt\\ ?([0-9]+)\\.([0-9]+).*/]},{name:\"iOS\",search:function(e){return Te(e,\"iphone\")||Te(e,\"ipad\")},versionRegexes:[/.*?version\\/\\ ?([0-9]+)\\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:\"Android\",search:Le(\"android\"),versionRegexes:[/.*?android\\ ?([0-9]+)\\.([0-9]+).*/]},{name:\"OSX\",search:Le(\"mac os x\"),versionRegexes:[/.*?mac\\ os\\ x\\ ?([0-9]+)_([0-9]+).*/]},{name:\"Linux\",search:Le(\"linux\"),versionRegexes:[]},{name:\"Solaris\",search:Le(\"sunos\"),versionRegexes:[]},{name:\"FreeBSD\",search:Le(\"freebsd\"),versionRegexes:[]},{name:\"ChromeOS\",search:Le(\"cros\"),versionRegexes:[/.*?chrome\\/([0-9]+)\\.([0-9]+).*/]}])},nt=\"Firefox\",rt=function(){return $e({current:void 0,version:Ye.unknown()})},ot=$e,it=(J(\"Edge\"),J(\"Chrome\"),J(\"IE\"),J(\"Opera\"),J(nt),J(\"Safari\"),\"Windows\"),at=\"Android\",ut=\"Solaris\",st=\"FreeBSD\",ct=\"ChromeOS\",lt=function(){return We({current:void 0,version:Ye.unknown()})},ft=We,dt=(J(it),J(\"iOS\"),J(at),J(\"Linux\"),J(\"OSX\"),J(ut),J(st),J(ct),Re(function(){return e=navigator.userAgent,t=ve.from(navigator.userAgentData),n=Ie,p=tt.browsers(),h=tt.oses(),v=t.bind(function(e){return r=p,ee(e.brands,function(t){var n=t.brand.toLowerCase();return M(r,function(e){var t;return n===(null===(t=e.brand)||void 0===t?void 0:t.toLowerCase())}).map(function(e){return{current:e.name,version:Ye.nu(parseInt(t.version,10),0)}})});var r}).orThunk(function(){return De(p,n=e).map(function(e){var t=Ye.detect(e.versionRegexes,n);return{current:e.name,version:t}});var n}).fold(rt,ot),b=De(h,r=e).map(function(e){var t=Ye.detect(e.versionRegexes,r);return{current:e.name,version:t}}).fold(lt,ft),{browser:v,os:b,deviceType:(i=v,a=e,u=n,s=(o=b).isiOS()&&!0===/ipad/i.test(a),c=o.isiOS()&&!s,f=(l=o.isiOS()||o.isAndroid())||u(\"(pointer:coarse)\"),d=s||!c&&l&&u(\"(min-device-width:768px)\"),m=c||l&&!d,g=i.isSafari()&&o.isiOS()&&!1===/safari/i.test(a),{isiPad:J(s),isiPhone:J(c),isTablet:J(d),isPhone:J(m),isTouch:J(f),isAndroid:o.isAndroid,isiOS:o.isiOS,isWebView:J(g),isDesktop:J(!m&&!d&&!g)})};var e,t,n,r,o,i,a,u,s,c,l,f,d,m,g,p,h,v,b})),mt=navigator.userAgent,gt=dt(),pt=gt.browser,ht=gt.os,vt=gt.deviceType,bt=/WebKit/.test(mt)&&!pt.isEdge(),yt=\"FormData\"in window&&\"FileReader\"in window&&\"URL\"in window&&!!URL.createObjectURL,Ct=-1!==mt.indexOf(\"Windows Phone\"),xt={opera:pt.isOpera(),webkit:bt,ie:!(!pt.isIE()&&!pt.isEdge())&&pt.version.major,gecko:pt.isFirefox(),mac:ht.isOSX()||ht.isiOS(),iOS:vt.isiPad()||vt.isiPhone(),android:ht.isAndroid(),contentEditable:!0,transparentSrc:\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\",caretAfter:!0,range:window.getSelection&&\"Range\"in window,documentMode:pt.isIE()?document.documentMode||7:10,fileApi:yt,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!pt.isIE(),desktop:vt.isDesktop(),windowsPhone:Ct,browser:{current:pt.current,version:pt.version,isChrome:pt.isChrome,isEdge:pt.isEdge,isFirefox:pt.isFirefox,isIE:pt.isIE,isOpera:pt.isOpera,isSafari:pt.isSafari},os:{current:ht.current,version:ht.version,isAndroid:ht.isAndroid,isChromeOS:ht.isChromeOS,isFreeBSD:ht.isFreeBSD,isiOS:ht.isiOS,isLinux:ht.isLinux,isOSX:ht.isOSX,isSolaris:ht.isSolaris,isWindows:ht.isWindows},deviceType:{isDesktop:vt.isDesktop,isiPad:vt.isiPad,isiPhone:vt.isiPhone,isPhone:vt.isPhone,isTablet:vt.isTablet,isTouch:vt.isTouch,isWebView:vt.isWebView}},wt=/^\\s*|\\s*$/g,St=function(e,n,r,o){o=o||this,e&&ce(e=r?e[r]:e,function(e,t){return!1!==n.call(o,e,t,r)&&void St(e,n,r,o)})},Et={trim:Me,isArray:ke,is:Fe,toArray:function(e){if(ke(e))return e;for(var t=[],n=0,r=e.length;n<r;n++)t[n]=e[n];return t},makeMap:function(e,t,n){var r;for(t=t||\",\",n=n||{},r=(e=\"string\"==typeof(e=e||[])?e.split(t):e).length;r--;)n[e[r]]={};return n},each:ce,map:le,grep:fe,inArray:de,hasOwn:Ne,extend:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var o,i,a=t[r];for(o in a)!Ne(a,o)||void 0!==(i=a[o])&&(e[o]=i)}return e},create:function(e,t,n){var r,o,i,a=this,u=0,s=(e=/^((static) )?([\\w.]+)(:([\\w.]+))?/.exec(e))[3].match(/(^|\\.)(\\w+)$/i)[2],c=a.createNS(e[3].replace(/\\.\\w+$/,\"\"),n);if(!c[s]){if(\"static\"===e[2])return c[s]=t,void(this.onCreate&&this.onCreate(e[2],e[3],c[s]));t[s]||(t[s]=function(){},u=1),c[s]=t[s],a.extend(c[s].prototype,t),e[5]&&(r=a.resolve(e[5]).prototype,o=e[5].match(/\\.(\\w+)$/i)[1],i=c[s],c[s]=u?function(){return r[o].apply(this,arguments)}:function(){return this.parent=r[o],i.apply(this,arguments)},c[s].prototype[s]=c[s],a.each(r,function(e,t){c[s].prototype[t]=r[t]}),a.each(t,function(e,t){r[t]?c[s].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!==s&&(c[s].prototype[t]=e)})),a.each(t.static,function(e,t){c[s][t]=e})}},walk:St,createNS:function(e,t){var n,r;for(t=t||window,e=e.split(\".\"),n=0;n<e.length;n++)t[r=e[n]]||(t[r]={}),t=t[r];return t},resolve:function(e,t){var n,r;for(t=t||window,n=0,r=(e=e.split(\".\")).length;n<r&&(t=t[e[n]]);n++);return t},explode:function(e,t){return!e||Fe(e,\"array\")?e:le(e.split(t||\",\"),Me)},_addCacheSuffix:function(e){var t=xt.cacheSuffix;return t&&(e+=(-1===e.indexOf(\"?\")?\"?\":\"&\")+t),e}},Nt={fromHtml:function(e,t){var n=(t||document).createElement(\"div\");if(n.innerHTML=e,!n.hasChildNodes()||1<n.childNodes.length)throw console.error(\"HTML does not have a single root node\",e),new Error(\"HTML must have a single root node\");return Ke(n.childNodes[0])},fromTag:function(e,t){var n=(t||document).createElement(e);return Ke(n)},fromText:function(e,t){var n=(t||document).createTextNode(e);return Ke(n)},fromDom:Ke,fromPoint:function(e,t,n){return ve.from(e.dom.elementFromPoint(t,n)).map(Ke)}};function kt(e){return e.dom.nodeName.toLowerCase()}function _t(e){return e.dom.nodeType}function At(t){return function(e){return _t(e)===t}}function Rt(e){return Nt.fromDom(e.dom.ownerDocument)}function Dt(e){return An(e)?e:Rt(e)}function Tt(e){return Nt.fromDom(Dt(e).dom.defaultView)}function Ot(e){return ve.from(e.dom.parentNode).map(Nt.fromDom)}function Bt(e){return ve.from(e.dom.previousSibling).map(Nt.fromDom)}function Pt(e){return ve.from(e.dom.nextSibling).map(Nt.fromDom)}function Lt(e){return q(Ue(e,Bt))}function It(e){return Ue(e,Pt)}function Mt(e,t){var n=e.dom.childNodes;return ve.from(n[t]).map(Nt.fromDom)}function Ft(e){return Mt(e,0)}function Ut(e){return Mt(e,e.dom.childNodes.length-1)}function zt(e){return e.dom.childNodes.length}function Ht(e){return Rn(e)&&V(e.dom.host)}function jt(t){return Ht(t)?t:function(){var e=Dt(t).dom.head;if(null==e)throw new Error(\"Head is not available yet\");return Nt.fromDom(e)}()}function Vt(e){return Nt.fromDom(e.dom.host)}function qt(t,n){Ot(t).each(function(e){e.dom.insertBefore(n.dom,t.dom)})}function $t(e,t){Pt(e).fold(function(){Ot(e).each(function(e){Pn(e,t)})},function(e){qt(e,t)})}function Wt(t,n){Ft(t).fold(function(){Pn(t,n)},function(e){t.dom.insertBefore(n.dom,e.dom)})}function Kt(t,e){Y(e,function(e){Pn(t,e)})}function Xt(e){e.dom.textContent=\"\",Y(Dn(e),function(e){Ln(e)})}function Yt(e){var t,n=Dn(e);0<n.length&&(t=e,Y(n,function(e){qt(t,e)})),Ln(e)}function Gt(e,t){return void 0!==e?e:void 0!==t?t:0}function Jt(e){var t=void 0!==e?e.dom:document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return Fn(n,r)}function Qt(e,t,n){var r=(void 0!==n?n.dom:document).defaultView;r&&r.scrollTo(e,t)}function Zt(e,t){dt().browser.isSafari()&&y(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(t)}function en(e,t,n,r){return{x:e,y:t,width:n,height:r,right:e+n,bottom:t+r}}function tn(e){var r=void 0===e?window:e,t=r.document,o=Jt(Nt.fromDom(t)),n=void 0===r?window:r;return(dt().browser.isFirefox()?ve.none():ve.from(n.visualViewport)).fold(function(){var e=r.document.documentElement,t=e.clientWidth,n=e.clientHeight;return en(o.left,o.top,t,n)},function(e){return en(Math.max(e.pageLeft,o.left),Math.max(e.pageTop,o.top),e.width,e.height)})}function nn(t){return function(e){return!!e&&e.nodeType===t}}function rn(e){return e&&!Object.getPrototypeOf(e)}function on(e){var n=e.map(function(e){return e.toLowerCase()});return function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();return D(n,t)}return!1}}function an(r,e){var o=e.toLowerCase().split(\" \");return function(e){if(zn(e))for(var t=0;t<o.length;t++){var n=e.ownerDocument.defaultView.getComputedStyle(e,null);if((n?n.getPropertyValue(r):null)===o[t])return!0}return!1}}function un(t){return function(e){return zn(e)&&e.hasAttribute(t)}}function sn(e){return zn(e)&&e.hasAttribute(\"data-mce-bogus\")}function cn(e){return zn(e)&&\"TABLE\"===e.tagName}function ln(t){return function(e){if(zn(e)){if(e.contentEditable===t)return!0;if(e.getAttribute(\"data-mce-contenteditable\")===t)return!0}return!1}}function fn(e,t,n){return void 0===n&&(n=o),e.exists(function(e){return n(e,t)})}function dn(e,t,n){return e.isSome()&&t.isSome()?ve.some(n(e.getOrDie(),t.getOrDie())):ve.none()}function mn(e){return void 0!==e.style&&y(e.style.getPropertyValue)}function gn(e,t,n){if(!(X(n)||v(n)||E(n)))throw console.error(\"Invalid call to Attribute.set. Key \",t,\":: Value \",n,\":: Element \",e),new Error(\"Attribute value was not simple\");e.setAttribute(t,n+\"\")}function pn(e,t,n){gn(e.dom,t,n)}function hn(e,t){var n=e.dom;ne(t,function(e,t){gn(n,t,e)})}function vn(e,t){var n=e.dom.getAttribute(t);return null===n?void 0:n}function bn(e,t){return ve.from(vn(e,t))}function yn(e,t){e.dom.removeAttribute(t)}function Cn(e,t){var n=e.dom;ne(t,function(e,t){!function(e,t,n){if(!X(n))throw console.error(\"Invalid call to CSS.set. Property \",t,\":: Value \",n,\":: Element \",e),new Error(\"CSS value must be a string: \"+n);mn(e)&&e.style.setProperty(t,n)}(n,t,e)})}function xn(e,t){var n=e.dom,r=window.getComputedStyle(n).getPropertyValue(t);return\"\"!==r||In(e)?r:Qn(n,t)}function wn(e,t){var n=e.dom,r=Qn(n,t);return ve.from(r).filter(function(e){return 0<e.length})}function Sn(e){var t={},n=e.dom;if(mn(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}return t}function En(e){return M(e,kn)}function Nn(e,t){return e.children&&D(e.children,t)}\"undefined\"!=typeof window||Function(\"return this;\")();var kn=At(1),_n=At(3),An=At(9),Rn=At(11),Dn=function(e){return T(e.dom.childNodes,Nt.fromDom)},Tn=y(Element.prototype.attachShadow)&&y(Node.prototype.getRootNode),On=J(Tn),Bn=Tn?function(e){return Nt.fromDom(e.dom.getRootNode())}:Dt,Pn=function(e,t){e.dom.appendChild(t.dom)},Ln=function(e){var t=e.dom;null!==t.parentNode&&t.parentNode.removeChild(t)},In=function(e){var t=_n(e)?e.dom.parentNode:e.dom;if(null==t||null===t.ownerDocument)return!1;var n=t.ownerDocument,r=Nt.fromDom(t),o=Bn(r);return(Ht(o)?ve.some(o):ve.none()).fold(function(){return n.body.contains(t)},a(In,Vt))},Mn=function(n,r){return{left:n,top:r,translate:function(e,t){return Mn(n+e,r+t)}}},Fn=Mn,Un=function(e){var t,n=e.dom,r=n.ownerDocument.body;return r===n?Fn(r.offsetLeft,r.offsetTop):In(e)?(t=n.getBoundingClientRect(),Fn(t.left,t.top)):Fn(0,0)},zn=nn(1),Hn=on([\"textarea\",\"input\"]),jn=nn(3),Vn=nn(8),qn=nn(9),$n=nn(11),Wn=on([\"br\"]),Kn=on([\"img\"]),Xn=ln(\"true\"),Yn=ln(\"false\"),Gn=on([\"td\",\"th\"]),Jn=on([\"video\",\"audio\",\"object\",\"embed\"]),Qn=function(e,t){return mn(e)?e.style.getPropertyValue(t):\"\"},Zn=dt().browser,er={},tr={exports:er};function nr(e){setTimeout(function(){throw e},0)}!function(){var e=this,t=function(){var e,t,n,r={exports:{}};function o(){}function i(e){if(\"object\"!=typeof this)throw new TypeError(\"Promises must be constructed via new\");if(\"function\"!=typeof e)throw new TypeError(\"not a function\");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function a(n,r){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,i._immediateFn(function(){var e,t=1===n._state?r.onFulfilled:r.onRejected;if(null!==t){try{e=t(n._value)}catch(e){return void s(r.promise,e)}u(r.promise,e)}else(1===n._state?u:s)(r.promise,n._value)})):n._deferreds.push(r)}function u(t,e){try{if(e===t)throw new TypeError(\"A promise cannot be resolved with itself.\");if(e&&(\"object\"==typeof e||\"function\"==typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void c(t);if(\"function\"==typeof n)return void f((r=n,o=e,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=e,c(t)}catch(e){s(t,e)}var r,o}function s(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled=\"function\"==typeof e?e:null,this.onRejected=\"function\"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e(function(e){n||(n=!0,u(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}e=r,t=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{},n=setTimeout,i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(o);return a(this,new l(e,t,n)),n},i.all=function(e){var u=Array.prototype.slice.call(e);return new i(function(o,i){if(0===u.length)return o([]);for(var a=u.length,e=0;e<u.length;e++)!function t(n,e){try{if(e&&(\"object\"==typeof e||\"function\"==typeof e)){var r=e.then;if(\"function\"==typeof r)return r.call(e,function(e){t(n,e)},i),0}u[n]=e,0==--a&&o(u)}catch(e){i(e)}}(e,u[e])})},i.resolve=function(t){return t&&\"object\"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(n){return new i(function(e,t){t(n)})},i.race=function(o){return new i(function(e,t){for(var n=0,r=o.length;n<r;n++)o[n].then(e,t)})},i._immediateFn=\"function\"==typeof setImmediate?function(e){setImmediate(e)}:function(e){n(e,0)},i._unhandledRejectionFn=function(e){\"undefined\"!=typeof console&&console&&console.warn(\"Possible Unhandled Promise Rejection:\",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},e.exports?e.exports=i:t.Promise||(t.Promise=i);var d=r.exports;return{boltExport:(\"undefined\"!=typeof window?window:Function(\"return this;\")()).Promise||d}};\"object\"==typeof er&&void 0!==tr?tr.exports=t():(e=\"undefined\"!=typeof globalThis?globalThis:e||self).EphoxContactWrapper=t()}();function rr(e){return sr(function(){return new ir(e)})}function or(a){if(!S(a))throw new Error(\"cases must be an array\");if(0===a.length)throw new Error(\"there must be at least one case\");var u=[],n={};return Y(a,function(e,r){var t=we(e);if(1!==t.length)throw new Error(\"one and only one name per case\");var o=t[0],i=e[o];if(void 0!==n[o])throw new Error(\"duplicate key detected:\"+o);if(\"cata\"===o)throw new Error(\"cannot have a case named cata (sorry)\");if(!S(i))throw new Error(\"case arguments must be an array\");u.push(o),n[o]=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.length;if(t!==i.length)throw new Error(\"Wrong number of arguments to case \"+o+\". Expected \"+i.length+\" (\"+i+\"), got \"+t);return{fold:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(e.length!==a.length)throw new Error(\"Wrong number of arguments to fold. Expected \"+a.length+\", got \"+e.length);return e[r].apply(null,n)},match:function(e){var t=we(e);if(u.length!==t.length)throw new Error(\"Wrong number of arguments to match. Expected: \"+u.join(\",\")+\"\\nActual: \"+t.join(\",\"));if(!j(u,function(e){return D(t,e)}))throw new Error(\"Not all branches were specified when using match. Specified: \"+t.join(\", \")+\"\\nRequired: \"+u.join(\", \"));return e[o].apply(null,n)},log:function(e){console.log(e,{constructors:u,constructor:o,params:n})}}}}),n}var ir=tr.exports.boltExport,ar=function(e){function r(e){o()?i(e):t.push(e)}var n=ve.none(),t=[],o=function(){return n.isSome()},i=function(t){n.each(function(e){setTimeout(function(){t(e)},0)})};return e(function(e){o()||(n=ve.some(e),Y(t,i),t=[])}),{get:r,map:function(n){return ar(function(t){r(function(e){t(n(e))})})},isReady:o}},ur={nu:ar,pure:function(t){return ar(function(e){e(t)})}},sr=function(n){function e(e){n().then(e,nr)}return{map:function(e){return sr(function(){return n().then(e)})},bind:function(t){return sr(function(){return n().then(function(e){return t(e).toPromise()})})},anonBind:function(e){return sr(function(){return n().then(function(){return e.toPromise()})})},toLazy:function(){return ur.nu(e)},toCached:function(){var e=null;return sr(function(){return e=null===e?n():e})},toPromise:n,get:e}},cr=function(n){return{isValue:w,isError:R,getOr:J(n),getOrThunk:J(n),getOrDie:J(n),or:function(e){return cr(n)},orThunk:function(e){return cr(n)},fold:function(e,t){return t(n)},map:function(e){return cr(e(n))},mapError:function(e){return cr(n)},each:function(e){e(n)},bind:function(e){return e(n)},exists:function(e){return e(n)},forall:function(e){return e(n)},toOptional:function(){return ve.some(n)}}},lr=function(n){return{isValue:R,isError:w,getOr:u,getOrThunk:function(e){return e()},getOrDie:function(){return e=String(n),function(){throw new Error(e)}();var e},or:u,orThunk:function(e){return e()},fold:function(e,t){return e(n)},map:function(e){return lr(n)},mapError:function(e){return lr(e(n))},each:te,bind:function(e){return lr(n)},exists:R,forall:w,toOptional:ve.none}},fr={value:cr,error:lr,fromOption:function(e,t){return e.fold(function(){return lr(t)},cr)}};function dr(e){return e.fold(u,u)}function mr(e,t,n,r,o){return e(n,r)?ve.some(n):y(o)&&o(n)?ve.none():t(n,r,o)}function gr(e,t,n){for(var r=e.dom,o=y(n)?n:R;r.parentNode;){var r=r.parentNode,i=Nt.fromDom(r);if(t(i))return ve.some(i);if(o(i))break}return ve.none()}function pr(e,t,n){return mr(function(e,t){return t(e)},gr,e,t,n)}function hr(e,t,n){return gr(e,function(e){return ze(e,t)},n)}function vr(e,t){return n=t,He(r=void 0===e?document:e.dom)?ve.none():ve.from(r.querySelector(n)).map(Nt.fromDom);var n,r}function br(e,t,n){return mr(ze,hr,e,t,n)}function yr(e,t){return\"number\"!=typeof t&&(t=0),setTimeout(e,t)}function Cr(e,t){return\"number\"!=typeof t&&(t=1),setInterval(e,t)}function xr(n,r){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];clearTimeout(o),o=yr(function(){n.apply(this,e)},r)}var o;return e.stop=function(){clearTimeout(o)},e}function wr(m,g){function n(e,t,n){var r,o=Et._addCacheSuffix(e),i=ue(h,o).getOrThunk(function(){return{id:\"mce-u\"+p++,passed:[],failed:[],count:0}});function a(e,t){for(var n=e.length;n--;)e[n]();i.status=t,i.passed=[],i.failed=[],r&&(r.onload=null,r.onerror=null,r=null)}function u(){return a(i.passed,2),0}function s(){return a(i.failed,3)}(h[o]=i).count++;var c,l,f,d=function(){var e=d;!function(){for(var e=m.styleSheets,t=e.length;t--;){var n=e[t].ownerNode;if(n&&n.id===r.id)return u(),1}}()&&(Date.now()-l<y?_r.setTimeout(e):s())};t&&i.passed.push(t),n&&i.failed.push(n),1!==i.status&&(2!==i.status?3!==i.status?(i.status=1,hn(c=Nt.fromTag(\"link\",b.dom),{rel:\"stylesheet\",type:\"text/css\",id:i.id}),l=Date.now(),g.contentCssCors&&pn(c,\"crossOrigin\",\"anonymous\"),g.referrerPolicy&&pn(c,\"referrerpolicy\",g.referrerPolicy),(r=c.dom).onload=d,r.onerror=s,f=c,Pn(jt(v),f),pn(c,\"href\",o)):s():u())}function o(t){return rr(function(e){n(t,i(e,J(fr.value(t))),i(e,J(fr.error(t))))})}function t(e){var n=Et._addCacheSuffix(e);ue(h,n).each(function(e){var t;0==--e.count&&(delete h[n],t=e.id,vr(jt(v),\"#\"+t).each(Ln))})}void 0===g&&(g={});var p=0,h={},v=Nt.fromDom(m),b=Dt(v),y=g.maxLoadTime||5e3;return{load:n,loadAll:function(e,n,r){var a,t=T(e,o);a=t,rr(function(r){var o=[],i=0;0===a.length?r([]):Y(a,function(e,t){var n;e.get((n=t,function(e){o[n]=e,++i>=a.length&&r(o)}))})}).get(function(e){var t=B(e,function(e){return e.isValue()});0<t.fail.length?r(t.fail.map(dr)):n(t.pass.map(dr))})},unload:t,unloadAll:function(e){Y(e,function(e){t(e)})},_setReferrerPolicy:function(e){g.referrerPolicy=e}}}or([{bothErrors:[\"error1\",\"error2\"]},{firstError:[\"error1\",\"value2\"]},{secondError:[\"value1\",\"error2\"]},{bothValues:[\"value1\",\"value2\"]}]);var Sr,Er,Nr=function(e,t){return M(e.dom.childNodes,function(e){return t(Nt.fromDom(e))}).map(Nt.fromDom)},kr=window.Promise||ir,_r={requestAnimationFrame:function(e,t){Sr?Sr.then(e):Sr=new kr(function(e){(function(e,t){for(var n=window.requestAnimationFrame,r=[\"ms\",\"moz\",\"webkit\"],o=0;o<r.length&&!n;o++)n=window[r[o]+\"RequestAnimationFrame\"];(n=n||function(e){window.setTimeout(e,0)})(e,t)})(e,t=t||document.body)}).then(e)},setTimeout:yr,setInterval:Cr,setEditorTimeout:function(e,t,n){return yr(function(){e.removed||t()},n)},setEditorInterval:function(e,t,n){var r=Cr(function(){e.removed?clearInterval(r):t()},n);return r},debounce:xr,throttle:xr,clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)}},Ar=(Er=new WeakMap,{forElement:function(e,t){var n=Bn(e).dom;return ve.from(Er.get(n)).getOrThunk(function(){var e=wr(n,t);return Er.set(n,e),e})}}),Rr=(Dr.prototype.current=function(){return this.node},Dr.prototype.next=function(e){return this.node=this.findSibling(this.node,\"firstChild\",\"nextSibling\",e),this.node},Dr.prototype.prev=function(e){return this.node=this.findSibling(this.node,\"lastChild\",\"previousSibling\",e),this.node},Dr.prototype.prev2=function(e){return this.node=this.findPreviousNode(this.node,\"lastChild\",\"previousSibling\",e),this.node},Dr.prototype.findSibling=function(e,t,n,r){var o,i;if(e){if(!r&&e[t])return e[t];if(e!==this.rootNode){if(o=e[n])return o;for(i=e.parentNode;i&&i!==this.rootNode;i=i.parentNode)if(o=i[n])return o}}},Dr.prototype.findPreviousNode=function(e,t,n,r){var o,i,a;if(e&&(o=e[n],!this.rootNode||o!==this.rootNode)){if(o){if(!r)for(a=o[t];a;a=a[t])if(!a[t])return a;return o}return(i=e.parentNode)&&i!==this.rootNode?i:void 0}},Dr);function Dr(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}function Tr(t){var n;return function(e){return n=n||function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n}(t,w),Ne(n,kt(e))}}function Or(e){return kn(e)&&!lo(e)}function Br(e){return kn(e)&&\"br\"===kt(e)}function Pr(e){return Eo(e)&&(e=e.parentNode),So(e)&&e.hasAttribute(\"data-mce-caret\")}function Lr(e){return Eo(e)&&xo(e.data)}function Ir(e){return Pr(e)||Lr(e)}function Mr(e){return e.firstChild!==e.lastChild||!Wn(e.firstChild)}function Fr(e){var t=e.container();return!!jn(t)&&(t.data.charAt(e.offset())===Co||e.isAtStart()&&Lr(t.previousSibling))}function Ur(e){var t=e.container();return!!jn(t)&&(t.data.charAt(e.offset()-1)===Co||e.isAtEnd()&&Lr(t.nextSibling))}function zr(e){return e&&e.hasAttribute(\"data-mce-caret\")?(sn(n=(t=e.getElementsByTagName(\"br\"))[t.length-1])&&n.parentNode.removeChild(n),e.removeAttribute(\"data-mce-caret\"),e.removeAttribute(\"data-mce-bogus\"),e.removeAttribute(\"style\"),e.removeAttribute(\"_moz_abspos\"),e):null;var t,n}function Hr(e){return Pr(e.startContainer)}function jr(e){return!Po(e)&&(Do(e)?!To(e.parentNode):Oo(e)||Ro(e)||Bo(e)||Lo(e))}function Vr(e,t){return jr(e)&&function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(Lo(e))return!1;if(_o(e))return!0}return!0}(e,t)}function qr(e){return Io.test(e)}function $r(e,t){return jr(e)&&!1===(a=t,jn(i=e)&&qr(i.data)&&!1===(n=i,r=Nt.fromDom(a),hr(Nt.fromDom(n),\"pre,code\",A(je,r)).isSome()))||zn(o=e)&&\"A\"===o.nodeName&&!o.hasAttribute(\"href\")&&(o.hasAttribute(\"name\")||o.hasAttribute(\"id\"))||Mo(e);var n,r,o,i,a}function Wr(e,t){return function(e,t){var n=0;if($r(e,e))return!1;var r=e.firstChild;if(!r)return!0;var o=new Rr(r,e);do{if(t){if(Uo(r)){r=o.next(!0);continue}if(Fo(r)){r=o.next();continue}}if(Wn(r))n++,r=o.next();else{if($r(r,e))return!1;r=o.next()}}while(r);return n<=1}(e.dom,t=void 0===t||t)}function Kr(e,t){return V(e)&&($r(e,t)||Or(Nt.fromDom(e)))}function Xr(e){return\"span\"===e.nodeName.toLowerCase()&&\"bookmark\"===e.getAttribute(\"data-mce-type\")}function Yr(e,t){var n,r,o,i={};if(e){for(e=e.split(\",\"),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),Ko[r]||(o=\"&\"+e[n+1]+\";\",i[r]=o,i[o]=r);return i}}function Gr(e,t){return e.replace(t?jo:Vo,function(e){return Ko[e]||e})}function Jr(e,t){return e.replace(t?jo:Vo,function(e){return 1<e.length?\"&#\"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+\";\":Ko[e]||\"&#\"+e.charCodeAt(0)+\";\"})}function Qr(e,t,n){return n=n||Yo,e.replace(t?jo:Vo,function(e){return Ko[e]||n[e]||e})}function Zr(e,t){return(e=Et.trim(e))?e.split(t||\" \"):[]}function eo(e,n){var r;return e&&(r={},ei(e=\"string\"==typeof e?{\"*\":e}:e,function(e,t){r[t]=r[t.toUpperCase()]=(\"map\"===n?Zo:ni)(e,/[, ]/)})),r}function to(i){function e(e,t,n){var r=i[e];return r?r=Zo(r,/[, ]/,Zo(r.toUpperCase(),/[, ]/)):(r=Jo[e])||(r=Zo(t,\" \",Zo(t.toUpperCase(),\" \")),r=ti(r,n),Jo[e]=r),r}var t,s,n,r,o,a,u,c,S={},l={},E=[],f={},d={},m=(t=(i=i||{}).schema,c={},Jo[t]||(s=\"id accesskey class dir lang style tabindex title role\",n=\"address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul\",r=\"a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment\",\"html4\"!==t&&(s+=\" contenteditable contextmenu draggable dropzone hidden spellcheck translate\",n+=\" article aside details dialog figure main header footer hgroup section nav\",r+=\" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen\"),\"html5-strict\"!==t&&(s+=\" xml:lang\",r=[r,u=\"acronym applet basefont big font strike tt\"].join(\" \"),ei(Zr(u),function(e){g(e,\"\",r)}),n=[n,a=\"center dir isindex noframes\"].join(\" \"),o=[n,r].join(\" \"),ei(Zr(a),function(e){g(e,\"\",o)})),o=o||[n,r].join(\" \"),g(\"html\",\"manifest\",\"head body\"),g(\"head\",\"\",\"base command link meta noscript script style title\"),g(\"title hr noscript br\"),g(\"base\",\"href target\"),g(\"link\",\"href rel media hreflang type sizes hreflang\"),g(\"meta\",\"name http-equiv content charset\"),g(\"style\",\"media type scoped\"),g(\"script\",\"src async defer type charset\"),g(\"body\",\"onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload\",o),g(\"address dt dd div caption\",\"\",o),g(\"h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn\",\"\",r),g(\"blockquote\",\"cite\",o),g(\"ol\",\"reversed start type\",\"li\"),g(\"ul\",\"\",\"li\"),g(\"li\",\"value\",o),g(\"dl\",\"\",\"dt dd\"),g(\"a\",\"href target rel media hreflang type\",r),g(\"q\",\"cite\",r),g(\"ins del\",\"cite datetime\",o),g(\"img\",\"src sizes srcset alt usemap ismap width height\"),g(\"iframe\",\"src name width height\",o),g(\"embed\",\"src type width height\"),g(\"object\",\"data type typemustmatch name usemap form width height\",[o,\"param\"].join(\" \")),g(\"param\",\"name value\"),g(\"map\",\"name\",[o,\"area\"].join(\" \")),g(\"area\",\"alt coords shape href target rel media hreflang type\"),g(\"table\",\"border\",\"caption colgroup thead tfoot tbody tr\"+(\"html4\"===t?\" col\":\"\")),g(\"colgroup\",\"span\",\"col\"),g(\"col\",\"span\"),g(\"tbody thead tfoot\",\"\",\"tr\"),g(\"tr\",\"\",\"td th\"),g(\"td\",\"colspan rowspan headers\",o),g(\"th\",\"colspan rowspan headers scope abbr\",o),g(\"form\",\"accept-charset action autocomplete enctype method name novalidate target\",o),g(\"fieldset\",\"disabled form name\",[o,\"legend\"].join(\" \")),g(\"label\",\"form for\",r),g(\"input\",\"accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width\"),g(\"button\",\"disabled form formaction formenctype formmethod formnovalidate formtarget name type value\",\"html4\"===t?o:r),g(\"select\",\"disabled form multiple name required size\",\"option optgroup\"),g(\"optgroup\",\"disabled label\",\"option\"),g(\"option\",\"disabled label selected value\"),g(\"textarea\",\"cols dirname disabled form maxlength name readonly required rows wrap\"),g(\"menu\",\"type label\",[o,\"li\"].join(\" \")),g(\"noscript\",\"\",o),\"html4\"!==t&&(g(\"wbr\"),g(\"ruby\",\"\",[r,\"rt rp\"].join(\" \")),g(\"figcaption\",\"\",o),g(\"mark rt rp summary bdi\",\"\",r),g(\"canvas\",\"width height\",o),g(\"video\",\"src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered\",[o,\"track source\"].join(\" \")),g(\"audio\",\"src crossorigin preload autoplay mediagroup loop muted controls buffered volume\",[o,\"track source\"].join(\" \")),g(\"picture\",\"\",\"img source\"),g(\"source\",\"src srcset type media sizes\"),g(\"track\",\"kind src srclang label default\"),g(\"datalist\",\"\",[r,\"option\"].join(\" \")),g(\"article section nav aside main header footer\",\"\",o),g(\"hgroup\",\"\",\"h1 h2 h3 h4 h5 h6\"),g(\"figure\",\"\",[o,\"figcaption\"].join(\" \")),g(\"time\",\"datetime\",r),g(\"dialog\",\"open\",o),g(\"command\",\"type label icon disabled checked radiogroup command\"),g(\"output\",\"for form name\",r),g(\"progress\",\"value max\",r),g(\"meter\",\"value min max low high optimum\",r),g(\"details\",\"open\",[o,\"summary\"].join(\" \")),g(\"keygen\",\"autofocus challenge disabled form keytype name\")),\"html5-strict\"!==t&&(p(\"script\",\"language xml:space\"),p(\"style\",\"xml:space\"),p(\"object\",\"declare classid code codebase codetype archive standby align border hspace vspace\"),p(\"embed\",\"align name hspace vspace\"),p(\"param\",\"valuetype type\"),p(\"a\",\"charset name rev shape coords\"),p(\"br\",\"clear\"),p(\"applet\",\"codebase archive code object alt name width height align hspace vspace\"),p(\"img\",\"name longdesc align border hspace vspace\"),p(\"iframe\",\"longdesc frameborder marginwidth marginheight scrolling align\"),p(\"font basefont\",\"size color face\"),p(\"input\",\"usemap align\"),p(\"select\"),p(\"textarea\"),p(\"h1 h2 h3 h4 h5 h6 div p legend caption\",\"align\"),p(\"ul\",\"type compact\"),p(\"li\",\"type\"),p(\"ol dl menu dir\",\"compact\"),p(\"pre\",\"width xml:space\"),p(\"hr\",\"align noshade size width\"),p(\"isindex\",\"prompt\"),p(\"table\",\"summary width frame rules cellspacing cellpadding align bgcolor\"),p(\"col\",\"width align char charoff valign\"),p(\"colgroup\",\"width align char charoff valign\"),p(\"thead\",\"align char charoff valign\"),p(\"tr\",\"align char charoff valign bgcolor\"),p(\"th\",\"axis align char charoff valign nowrap bgcolor width height\"),p(\"form\",\"accept\"),p(\"td\",\"abbr axis scope align char charoff valign nowrap bgcolor width height\"),p(\"tfoot\",\"align char charoff valign\"),p(\"tbody\",\"align char charoff valign\"),p(\"area\",\"nohref\"),p(\"body\",\"background bgcolor text link vlink alink\")),\"html4\"!==t&&(p(\"input button select textarea\",\"autofocus\"),p(\"input textarea\",\"placeholder\"),p(\"a\",\"download\"),p(\"link script img\",\"crossorigin\"),p(\"img\",\"loading\"),p(\"iframe\",\"sandbox seamless allowfullscreen loading\")),ei(Zr(\"a form meter progress dfn\"),function(e){c[e]&&delete c[e].children[e]}),delete c.caption.children.table,delete c.script,Jo[t]=c));function g(e,t,n){function r(e,t){for(var n={},r=0,o=e.length;r<o;r++)n[e[r]]=t||{};return n}var o,i;t=t||\"\",\"string\"==typeof(n=n||[])&&(n=Zr(n));for(var a=Zr(e),u=a.length;u--;)i={attributes:r(o=Zr([s,t].join(\" \"))),attributesOrder:o,children:r(n,Qo)},c[a[u]]=i}function p(e,t){for(var n,r,o,i=Zr(e),a=i.length,u=Zr(t);a--;)for(n=c[i[a]],r=0,o=u.length;r<o;r++)n.attributes[u[r]]={},n.attributesOrder.push(u[r])}!1===i.verify_html&&(i.valid_elements=\"*[*]\");var h=eo(i.valid_styles),v=eo(i.invalid_styles,\"map\"),b=eo(i.valid_classes,\"map\"),y=e(\"whitespace_elements\",\"pre script noscript style textarea video audio iframe object code\"),C=e(\"self_closing_elements\",\"colgroup dd dt li option p td tfoot th thead tr\"),x=e(\"short_ended_elements\",\"area base basefont br col frame hr img input isindex link meta param embed source wbr track\"),w=e(\"boolean_attributes\",\"checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls\"),N=\"td th iframe video audio object script code\",k=e(\"non_empty_elements\",N+\" pre\",x),_=e(\"move_caret_before_on_enter_elements\",N+\" table\",x),A=e(\"text_block_elements\",\"h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure\"),R=e(\"block_elements\",\"hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary\",A),D=e(\"text_inline_elements\",\"span strong b em i font strike u var cite dfn code mark q sup sub samp\");function T(e){return new RegExp(\"^\"+e.replace(/([?+*])/g,\".$1\")+\"$\")}function O(e){var t,n,r,o,i,a,u,s,c,l,f,d,m,g,p,h,v,b,y=/^([#+\\-])?([^\\[!\\/]+)(?:\\/([^\\[!]+))?(?:(!?)\\[([^\\]]+)])?$/,C=/^([!\\-])?(\\w+[\\\\:]:\\w+|[^=:<]+)?(?:([=:<])(.*))?$/,x=/[*?+]/;if(e){var w=Zr(e,\",\");for(S[\"@\"]&&(h=S[\"@\"].attributes,v=S[\"@\"].attributesOrder),t=0,n=w.length;t<n;t++)if(i=y.exec(w[t])){if(g=i[1],c=i[2],p=i[3],s=i[5],a={attributes:d={},attributesOrder:m=[]},\"#\"===g&&(a.paddEmpty=!0),\"-\"===g&&(a.removeEmpty=!0),\"!\"===i[4]&&(a.removeEmptyAttrs=!0),h&&(ne(h,function(e,t){d[t]=e}),m.push.apply(m,v)),s)for(r=0,o=(s=Zr(s,\"|\")).length;r<o;r++)(i=C.exec(s[r]))&&(u={},f=i[1],l=i[2].replace(/[\\\\:]:/g,\":\"),g=i[3],b=i[4],\"!\"===f&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(l),u.required=!0),\"-\"!==f?(g&&(\"=\"===g&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:l,value:b}),u.defaultValue=b),\":\"===g&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:l,value:b}),u.forcedValue=b),\"<\"===g&&(u.validValues=Zo(b,\"?\"))),x.test(l)?(a.attributePatterns=a.attributePatterns||[],u.pattern=T(l),a.attributePatterns.push(u)):(d[l]||m.push(l),d[l]=u)):(delete d[l],m.splice(ri(m,l),1)));h||\"@\"!==c||(h=d,v=m),p&&(a.outputName=c,S[p]=a),x.test(c)?(a.pattern=T(c),E.push(a)):S[c]=a}}}function B(e){S={},E=[],O(e),ei(m,function(e,t){l[t]=e.children})}function P(e){var a=/^(~)?(.+)$/;e&&(Jo.text_block_elements=Jo.block_elements=null,ei(Zr(e,\",\"),function(e){var t,n=a.exec(e),r=\"~\"===n[1],o=r?\"span\":\"div\",i=n[2];l[i]=l[o],f[i]=o,r||(R[i.toUpperCase()]={},R[i]={}),S[i]||(t=S[o],delete(t=ti({},t)).removeEmptyAttrs,delete t.removeEmpty,S[i]=t),ei(l,function(e,t){e[o]&&(l[t]=e=ti({},l[t]),e[i]=e[o])})}))}function L(e){var o=/^([+\\-]?)([A-Za-z0-9_\\-.\\u00b7\\u00c0-\\u00d6\\u00d8-\\u00f6\\u00f8-\\u037d\\u037f-\\u1fff\\u200c-\\u200d\\u203f-\\u2040\\u2070-\\u218f\\u2c00-\\u2fef\\u3001-\\ud7ff\\uf900-\\ufdcf\\ufdf0-\\ufffd]+)\\[([^\\]]+)]$/;Jo[i.schema]=null,e&&ei(Zr(e,\",\"),function(e){var t,n,r=o.exec(e);r&&(n=r[1],t=n?l[r[2]]:l[r[2]]={\"#comment\":{}},t=l[r[2]],ei(Zr(r[3],\"|\"),function(e){\"-\"===n?delete t[e]:t[e]={}}))})}function I(e){var t,n=S[e];if(n)return n;for(t=E.length;t--;)if((n=E[t]).pattern.test(e))return n}ei((i.special||\"script noscript iframe noframes noembed title style textarea xmp\").split(\" \"),function(e){d[e]=new RegExp(\"</\"+e+\"[^>]*>\",\"gi\")}),i.valid_elements?B(i.valid_elements):(ei(m,function(e,t){S[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},l[t]=e.children}),\"html5\"!==i.schema&&ei(Zr(\"strong/b em/i\"),function(e){var t=Zr(e,\"/\");S[t[1]].outputName=t[0]}),ei(Zr(\"ol ul sub sup blockquote span font a table tbody strong em b i\"),function(e){S[e]&&(S[e].removeEmpty=!0)}),ei(Zr(\"p h1 h2 h3 h4 h5 h6 th td pre div address caption li\"),function(e){S[e].paddEmpty=!0}),ei(Zr(\"span\"),function(e){S[e].removeEmptyAttrs=!0})),P(i.custom_elements),L(i.valid_children),O(i.extended_valid_elements),L(\"+ol[ul|ol],+ul[ul|ol]\"),ei({dd:\"dl\",dt:\"dl\",li:\"ul ol\",td:\"tr\",th:\"tr\",tr:\"tbody thead tfoot\",tbody:\"table\",thead:\"table\",tfoot:\"table\",legend:\"fieldset\",area:\"map\",param:\"video audio object\"},function(e,t){S[t]&&(S[t].parentsRequired=Zr(e))}),i.invalid_elements&&ei(ni(i.invalid_elements),function(e){S[e]&&delete S[e]}),I(\"span\")||O(\"span[!data-mce-type|*]\");var M=J(h),F=J(v),U=J(b),z=J(w),H=J(R),j=J(A),V=J(D),q=J(x),$=J(C),W=J(k),K=J(_),X=J(y),Y=J(d),G=J(f);return{children:l,elements:S,getValidStyles:M,getValidClasses:U,getBlockElements:H,getInvalidStyles:F,getShortEndedElements:q,getTextBlockElements:j,getTextInlineElements:V,getBoolAttrs:z,getElementRule:I,getSelfClosingElements:$,getNonEmptyElements:W,getMoveCaretBeforeOnEnterElements:K,getWhiteSpaceElements:X,getSpecialElements:Y,isValidChild:function(e,t){var n=l[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},isValid:function(e,t){var n,r,o=I(e);if(o){if(!t)return!0;if(o.attributes[t])return!0;if(n=o.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},getCustomElements:G,addValidElements:O,setValidElements:B,addCustomElements:P,addValidChildren:L}}function no(e,t,n,r){function o(e){return 1<(e=parseInt(e,10).toString(16)).length?e:\"0\"+e}return\"#\"+o(t)+o(n)+o(r)}function ro(b,e){var u,o,y=this,C=/rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)/gi,x=/(?:url(?:(?:\\(\\s*\\\"([^\\\"]+)\\\"\\s*\\))|(?:\\(\\s*\\'([^\\']+)\\'\\s*\\))|(?:\\(\\s*([^)\\s]+)\\s*\\))))|(?:\\'([^\\']+)\\')|(?:\\\"([^\\\"]+)\\\")/gi,w=/\\s*([^:]+):\\s*([^;]+);?/g,S=/\\s+$/,E={},N=bo;b=b||{},e&&(u=e.getValidStyles(),o=e.getInvalidStyles());for(var t=(\"\\\\\\\" \\\\' \\\\; \\\\: ; : \"+N).split(\" \"),k=0;k<t.length;k++)E[t[k]]=N+k,E[N+k]=t[k];return{toHex:function(e){return e.replace(C,no)},parse:function(e){function t(e,t,n){var r=p[e+\"-top\"+t];if(r){var o=p[e+\"-right\"+t];if(o){var i=p[e+\"-bottom\"+t];if(i){var a=p[e+\"-left\"+t];if(a){var u=[r,o,i,a];for(k=u.length-1;k--&&u[k]===u[k+1];);-1<k&&n||(p[e+t]=-1===k?u[0]:u.join(\" \"),delete p[e+\"-top\"+t],delete p[e+\"-right\"+t],delete p[e+\"-bottom\"+t],delete p[e+\"-left\"+t])}}}}}function n(e){var t,n=p[e];if(n){for(t=(n=n.split(\" \")).length;t--;)if(n[t]!==n[0])return;return p[e]=n[0],1}}function r(e){return f=!0,E[e]}function u(e,t){return f&&(e=e.replace(/\\uFEFF[0-9]/g,function(e){return E[e]})),t?e:e.replace(/\\\\([\\'\\\";:])/g,\"$1\")}function o(e){return String.fromCharCode(parseInt(e.slice(1),16))}function i(e){return e.replace(/\\\\[0-9a-f]+/gi,o)}function a(e,t,n,r,o,i){if(o=o||i)return\"'\"+(o=u(o)).replace(/\\'/g,\"\\\\'\")+\"'\";if(t=u(t||n||r),!b.allow_script_urls){var a=t.replace(/[\\s\\r\\n]+/g,\"\");if(/(java|vb)script:/i.test(a))return\"\";if(!b.allow_svg_data_urls&&/^data:image\\/svg/i.test(a))return\"\"}return\"url('\"+(t=h?h.call(v,t,\"style\"):t).replace(/\\'/g,\"\\\\'\")+\"')\"}var s,c,l,f,d,m,g,p={},h=b.url_converter,v=b.url_converter_scope||y;if(e){for(e=(e=e.replace(/[\\u0000-\\u001F]/g,\"\")).replace(/\\\\[\\\"\\';:\\uFEFF]/g,r).replace(/\\\"[^\\\"]+\\\"|\\'[^\\']+\\'/g,function(e){return e.replace(/[;:]/g,r)});s=w.exec(e);)w.lastIndex=s.index+s[0].length,c=s[1].replace(S,\"\").toLowerCase(),l=s[2].replace(S,\"\"),c&&l&&(c=i(c),l=i(l),-1===c.indexOf(N)&&-1===c.indexOf('\"')&&(b.allow_script_urls||\"behavior\"!==c&&!/expression\\s*\\(|\\/\\*|\\*\\//.test(l))&&(\"font-weight\"===c&&\"700\"===l?l=\"bold\":\"color\"!==c&&\"background-color\"!==c||(l=l.toLowerCase()),l=(l=l.replace(C,no)).replace(x,a),p[c]=f?u(l,!0):l));t(\"border\",\"\",!0),t(\"border\",\"-width\"),t(\"border\",\"-color\"),t(\"border\",\"-style\"),t(\"padding\",\"\"),t(\"margin\",\"\"),m=\"border-style\",g=\"border-color\",n(d=\"border-width\")&&n(m)&&n(g)&&(p.border=p[d]+\" \"+p[m]+\" \"+p[g],delete p[d],delete p[m],delete p[g]),\"medium none\"===p.border&&delete p.border,\"none\"===p[\"border-image\"]&&delete p[\"border-image\"]}return p},serialize:function(i,r){function e(e){var t,n=u[e];if(n)for(var r=0,o=n.length;r<o;r++)e=n[r],(t=i[e])&&(a+=(0<a.length?\" \":\"\")+e+\": \"+t+\";\")}var a=\"\";return r&&u?(e(\"*\"),e(r)):ne(i,function(e,t){var n;!e||o&&((n=o[\"*\"])&&n[t]||(n=o[r])&&n[t])||(a+=(0<a.length?\" \":\"\")+t+\": \"+e+\";\")}),a}}}function oo(e){return e instanceof Event||y(e.initEvent)}function io(e,t,n,r){var o,i,a=function(e){var t,n=null!=r?r:{};for(t in e)Ne(oi,t)||(n[t]=e[t]);return V(n.composedPath)&&(n.composedPath=function(){return e.composedPath()}),n}(t);return a.type=e,K(a.target)&&(a.target=null!==(o=a.srcElement)&&void 0!==o?o:n),(K((i=t).preventDefault)||oo(i))&&(a.preventDefault=function(){a.defaultPrevented=!0,a.isDefaultPrevented=w,y(t.preventDefault)?t.preventDefault():oo(t)&&(t.returnValue=!1)},a.stopPropagation=function(){a.cancelBubble=!0,a.isPropagationStopped=w,y(t.stopPropagation)?t.stopPropagation():oo(t)&&(t.cancelBubble=!0)},a.stopImmediatePropagation=function(){a.isImmediatePropagationStopped=w,a.stopPropagation()},a.isDefaultPrevented!==w&&a.isDefaultPrevented!==R&&(a.isDefaultPrevented=!0===a.defaultPrevented?w:R,a.isPropagationStopped=!0===a.cancelBubble?w:R,a.isImmediatePropagationStopped=R)),a}function ao(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent(\"on\"+t,n)}function uo(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent(\"on\"+t,n)}function so(e,t){var n,r,o,i,a=io(e.type,e,document,t);return V(i=e)&&ii.test(i.type)&&b(e.pageX)&&!b(e.clientX)&&(r=(n=a.target.ownerDocument||document).documentElement,o=n.body,a.pageX=e.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),a.pageY=e.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),b(a.metaKey)&&(a.metaKey=!1),a}var co=Tr([\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\"]),lo=Tr([\"article\",\"aside\",\"details\",\"div\",\"dt\",\"figcaption\",\"footer\",\"form\",\"fieldset\",\"header\",\"hgroup\",\"html\",\"main\",\"nav\",\"section\",\"summary\",\"body\",\"p\",\"dl\",\"multicol\",\"dd\",\"figure\",\"address\",\"center\",\"blockquote\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"listing\",\"xmp\",\"pre\",\"plaintext\",\"menu\",\"dir\",\"ul\",\"ol\",\"li\",\"hr\",\"table\",\"tbody\",\"thead\",\"tfoot\",\"th\",\"tr\",\"td\",\"caption\"]),fo=Tr([\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"p\",\"div\",\"address\",\"pre\",\"form\",\"blockquote\",\"center\",\"dir\",\"fieldset\",\"header\",\"footer\",\"article\",\"section\",\"hgroup\",\"aside\",\"nav\",\"figure\"]),mo=Tr([\"ul\",\"ol\",\"dl\"]),go=Tr([\"li\",\"dd\",\"dt\"]),po=Tr([\"thead\",\"tbody\",\"tfoot\"]),ho=Tr([\"td\",\"th\"]),vo=Tr([\"pre\",\"script\",\"textarea\",\"style\"]),bo=\"\\ufeff\",yo=\"\\xa0\",Co=bo,xo=function(e){return e===bo},wo=function(e){return e.replace(/\\uFEFF/g,\"\")},So=zn,Eo=jn,No=function(e){return Eo(e)&&e.data[0]===Co},ko=function(e){return Eo(e)&&e.data[e.data.length-1]===Co},_o=Xn,Ao=Yn,Ro=Wn,Do=jn,To=on([\"script\",\"style\",\"textarea\"]),Oo=on([\"img\",\"input\",\"textarea\",\"hr\",\"iframe\",\"video\",\"audio\",\"object\",\"embed\"]),Bo=on([\"table\"]),Po=Ir,Lo=function(e){return!1===(zn(t=e)&&\"true\"===t.getAttribute(\"unselectable\"))&&Ao(e);var t},Io=/^[ \\t\\r\\n]*$/,Mo=un(\"data-mce-bookmark\"),Fo=un(\"data-mce-bogus\"),Uo=function(e){return zn(e)&&\"all\"===e.getAttribute(\"data-mce-bogus\")},zo=function(e,t,n){var r=n||t;if(zn(t)&&Xr(t))return t;for(var o,i,a,u,s,c,l,f,d,m,g,p=t.childNodes,h=p.length-1;0<=h;h--)zo(e,p[h],r);return!zn(t)||1===(o=t.childNodes).length&&Xr(o[0])&&t.parentNode.insertBefore(o[0],t),$n(a=t)||qn(a)||$r(t,r)||zn(i=t)&&0<i.childNodes.length||(s=r,jn(u=t)&&0<u.data.length&&(f=new Rr(c=u,l=s).prev(!1),d=new Rr(c,l).next(!1),m=b(f)||Kr(f,l),g=b(d)||Kr(d,l),m&&g))||e.remove(t),t},Ho=Et.makeMap,jo=/[&<>\\\"\\u0060\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,Vo=/[<>&\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,qo=/[<>&\\\"\\']/g,$o=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Wo={128:\"\\u20ac\",130:\"\\u201a\",131:\"\\u0192\",132:\"\\u201e\",133:\"\\u2026\",134:\"\\u2020\",135:\"\\u2021\",136:\"\\u02c6\",137:\"\\u2030\",138:\"\\u0160\",139:\"\\u2039\",140:\"\\u0152\",142:\"\\u017d\",145:\"\\u2018\",146:\"\\u2019\",147:\"\\u201c\",148:\"\\u201d\",149:\"\\u2022\",150:\"\\u2013\",151:\"\\u2014\",152:\"\\u02dc\",153:\"\\u2122\",154:\"\\u0161\",155:\"\\u203a\",156:\"\\u0153\",158:\"\\u017e\",159:\"\\u0178\"},Ko={'\"':\"&quot;\",\"'\":\"&#39;\",\"<\":\"&lt;\",\">\":\"&gt;\",\"&\":\"&amp;\",\"`\":\"&#96;\"},Xo={\"&lt;\":\"<\",\"&gt;\":\">\",\"&amp;\":\"&\",\"&quot;\":'\"',\"&apos;\":\"'\"},Yo=Yr(\"50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro\",32),Go={encodeRaw:Gr,encodeAllRaw:function(e){return(\"\"+e).replace(qo,function(e){return Ko[e]||e})},encodeNumeric:Jr,encodeNamed:Qr,getEncodeFunc:function(e,t){var n=Yr(t)||Yo,r=Ho(e.replace(/\\+/g,\",\"));return r.named&&r.numeric?function(e,t){return e.replace(t?jo:Vo,function(e){return void 0!==Ko[e]?Ko[e]:void 0!==n[e]?n[e]:1<e.length?\"&#\"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+\";\":\"&#\"+e.charCodeAt(0)+\";\"})}:r.named?t?function(e,t){return Qr(e,t,n)}:Qr:r.numeric?Jr:Gr},decode:function(e){return e.replace($o,function(e,t){return t?65535<(t=\"x\"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):Wo[t]||String.fromCharCode(t):Xo[e]||Yo[e]||(n=e,(r=Nt.fromTag(\"div\").dom).innerHTML=n,r.textContent||r.innerText||n);var n,r})}},Jo={},Qo={},Zo=Et.makeMap,ei=Et.each,ti=Et.extend,ni=Et.explode,ri=Et.inArray,oi={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},ii=/^(?:mouse|contextmenu)|click/,ai=(ui.prototype.bind=function(e,t,n,r){function o(e){f.executeHandlers(so(e||d.event),i)}var i,a,u,s,c,l,f=this,d=window;if(e&&3!==e.nodeType&&8!==e.nodeType){e[f.expando]?i=e[f.expando]:(i=f.count++,e[f.expando]=i,f.events[i]={}),r=r||e;for(var m=t.split(\" \"),g=m.length;g--;)c=o,s=l=!1,\"DOMContentLoaded\"===(u=m[g])&&(u=\"ready\"),f.domLoaded&&\"ready\"===u&&\"complete\"===e.readyState?n.call(r,so({type:u})):(f.hasMouseEnterLeave||(s=f.mouseEnterLeave[u])&&(c=function(e){var t=e.currentTarget,n=e.relatedTarget;if(n&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=so(e||d.event)).type=\"mouseout\"===e.type?\"mouseleave\":\"mouseenter\",e.target=t,f.executeHandlers(e,i))}),f.hasFocusIn||\"focusin\"!==u&&\"focusout\"!==u||(l=!0,s=\"focusin\"===u?\"focus\":\"blur\",c=function(e){(e=so(e||d.event)).type=\"focus\"===e.type?\"focusin\":\"focusout\",f.executeHandlers(e,i)}),(a=f.events[i][u])?\"ready\"===u&&f.domLoaded?n(so({type:u})):a.push({func:n,scope:r}):(f.events[i][u]=a=[{func:n,scope:r}],a.fakeName=s,a.capture=l,a.nativeHandler=c,\"ready\"===u?function(e,t,n){var r,o=e.document,i={type:\"ready\"};n.domLoaded?t(i):(r=function(){uo(e,\"DOMContentLoaded\",r),uo(e,\"load\",r),n.domLoaded||(n.domLoaded=!0,t(i)),e=null},\"complete\"===o.readyState||\"interactive\"===o.readyState&&o.body?r():ao(e,\"DOMContentLoaded\",r),n.domLoaded||ao(e,\"load\",r))}(e,c,f):ao(e,s||u,c,l)));return e=a=null,n}},ui.prototype.unbind=function(n,e,t){var r,o,i;if(!n||3===n.nodeType||8===n.nodeType)return this;var a=n[this.expando];if(a){if(i=this.events[a],e){for(var u,s,c,l,f=e.split(\" \"),d=f.length;d--;)if(l=i[o=f[d]]){if(t)for(r=l.length;r--;)l[r].func===t&&(u=l.nativeHandler,s=l.fakeName,c=l.capture,(l=l.slice(0,r).concat(l.slice(r+1))).nativeHandler=u,l.fakeName=s,l.capture=c,i[o]=l);t&&0!==l.length||(delete i[o],uo(n,l.fakeName||o,l.nativeHandler,l.capture))}}else ne(i,function(e,t){uo(n,e.fakeName||t,e.nativeHandler,e.capture)}),i={};for(o in i)if(Ne(i,o))return this;delete this.events[a];try{delete n[this.expando]}catch(e){n[this.expando]=null}}return this},ui.prototype.fire=function(e,t,n){var r;if(!e||3===e.nodeType||8===e.nodeType)return this;for(var o=so({type:t,target:e},n);(r=e[this.expando])&&this.executeHandlers(o,r),(e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow)&&!o.isPropagationStopped(););return this},ui.prototype.clean=function(e){var t,n;if(!e||3===e.nodeType||8===e.nodeType)return this;if(e[this.expando]&&this.unbind(e),(e=e.getElementsByTagName?e:e.document)&&e.getElementsByTagName)for(this.unbind(e),t=(n=e.getElementsByTagName(\"*\")).length;t--;)(e=n[t])[this.expando]&&this.unbind(e);return this},ui.prototype.destroy=function(){this.events={}},ui.prototype.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1},ui.prototype.executeHandlers=function(e,t){var n=this.events[t],r=n&&n[e.type];if(r)for(var o=0,i=r.length;o<i;o++){var a=r[o];if(a&&!1===a.func.call(a.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}},ui.Event=new ui,ui);function ui(){this.domLoaded=!1,this.events={},this.count=1,this.expando=\"mce-data-\"+(+new Date).toString(32),this.hasMouseEnterLeave=\"onmouseenter\"in document.documentElement,this.hasFocusIn=\"onfocusin\"in document.documentElement,this.count=1}function si(e,t,n){var r=\"0x\"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(65536+r):String.fromCharCode(r>>10|55296,1023&r|56320)}var ci,li,fi,di,mi,gi,pi,hi,vi,bi,yi,Ci,xi,wi,Si,Ei,Ni,ki=\"sizzle\"+-new Date,_i=window.document,Ai=0,Ri=0,Di=ua(),Ti=ua(),Oi=ua(),Bi=function(e,t){return e===t&&(bi=!0),0},Pi=\"undefined\",Li={}.hasOwnProperty,Ii=[],Mi=Ii.pop,Fi=Ii.push,Ui=Ii.push,zi=Ii.slice,Hi=Ii.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},ji=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",Vi=\"(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+\",qi=\"\\\\[\"+ji+\"*(\"+Vi+\")(?:\"+ji+\"*([*^$|!~]?=)\"+ji+\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\"+Vi+\"))|)\"+ji+\"*\\\\]\",$i=\":(\"+Vi+\")(?:\\\\((('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\"+qi+\")*)|.*)\\\\)|)\",Wi=new RegExp(\"^\"+ji+\"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\"+ji+\"+$\",\"g\"),Ki=new RegExp(\"^\"+ji+\"*,\"+ji+\"*\"),Xi=new RegExp(\"^\"+ji+\"*([>+~]|\"+ji+\")\"+ji+\"*\"),Yi=new RegExp(\"=\"+ji+\"*([^\\\\]'\\\"]*?)\"+ji+\"*\\\\]\",\"g\"),Gi=new RegExp($i),Ji=new RegExp(\"^\"+Vi+\"$\"),Qi={ID:new RegExp(\"^#(\"+Vi+\")\"),CLASS:new RegExp(\"^\\\\.(\"+Vi+\")\"),TAG:new RegExp(\"^(\"+Vi+\"|[*])\"),ATTR:new RegExp(\"^\"+qi),PSEUDO:new RegExp(\"^\"+$i),CHILD:new RegExp(\"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\"+ji+\"*(even|odd|(([+-]|)(\\\\d*)n|)\"+ji+\"*(?:([+-]|)\"+ji+\"*(\\\\d+)|))\"+ji+\"*\\\\)|)\",\"i\"),bool:new RegExp(\"^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$\",\"i\"),needsContext:new RegExp(\"^\"+ji+\"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\"+ji+\"*((?:-\\\\d)?\\\\d*)\"+ji+\"*\\\\)|)(?=[^-]|$)\",\"i\")},Zi=/^(?:input|select|textarea|button)$/i,ea=/^h\\d$/i,ta=/^[^{]+\\{\\s*\\[native \\w/,na=/^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,ra=/[+~]/,oa=/'|\\\\/g,ia=new RegExp(\"\\\\\\\\([\\\\da-f]{1,6}\"+ji+\"?|(\"+ji+\")|.)\",\"ig\");try{Ui.apply(Ii=zi.call(_i.childNodes),_i.childNodes),Ii[_i.childNodes.length].nodeType}catch(e){Ui={apply:Ii.length?function(e,t){Fi.apply(e,zi.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}var aa=function(e,t,n,r){var o,i,a,u,s,c,l,f,d,m;if((t?t.ownerDocument||t:_i)!==Ci&&yi(t),n=n||[],!e||\"string\"!=typeof e)return n;if(1!==(u=(t=t||Ci).nodeType)&&9!==u)return[];if(wi&&!r){if(o=na.exec(e))if(a=o[1]){if(9===u){if(!(i=t.getElementById(a))||!i.parentNode)return n;if(i.id===a)return n.push(i),n}else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(a))&&Ni(t,i)&&i.id===a)return n.push(i),n}else{if(o[2])return Ui.apply(n,t.getElementsByTagName(e)),n;if((a=o[3])&&ci.getElementsByClassName)return Ui.apply(n,t.getElementsByClassName(a)),n}if(ci.qsa&&(!Si||!Si.test(e))){if(f=l=ki,d=t,m=9===u&&e,1===u&&\"object\"!==t.nodeName.toLowerCase()){for(c=mi(e),(l=t.getAttribute(\"id\"))?f=l.replace(oa,\"\\\\$&\"):t.setAttribute(\"id\",f),f=\"[id='\"+f+\"'] \",s=c.length;s--;)c[s]=f+ma(c[s]);d=ra.test(e)&&fa(t.parentNode)||t,m=c.join(\",\")}if(m)try{return Ui.apply(n,d.querySelectorAll(m)),n}catch(e){}finally{l||t.removeAttribute(\"id\")}}}return pi(e.replace(Wi,\"$1\"),t,n,r)};function ua(){var n=[];function r(e,t){return n.push(e+\" \")>li.cacheLength&&delete r[n.shift()],r[e+\" \"]=t}return r}function sa(e){return e[ki]=!0,e}function ca(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function la(a){return sa(function(i){return i=+i,sa(function(e,t){for(var n,r=a([],e.length,i),o=r.length;o--;)e[n=r[o]]&&(e[n]=!(t[n]=e[n]))})})}function fa(e){return e&&typeof e.getElementsByTagName!=Pi&&e}function da(){}function ma(e){for(var t=0,n=e.length,r=\"\";t<n;t++)r+=e[t].value;return r}function ga(a,e,t){var u=e.dir,s=t&&\"parentNode\"===u,c=Ri++;return e.first?function(e,t,n){for(;e=e[u];)if(1===e.nodeType||s)return a(e,t,n)}:function(e,t,n){var r,o,i=[Ai,c];if(n){for(;e=e[u];)if((1===e.nodeType||s)&&a(e,t,n))return!0}else for(;e=e[u];)if(1===e.nodeType||s){if((r=(o=e[ki]||(e[ki]={}))[u])&&r[0]===Ai&&r[1]===c)return i[2]=r[2];if((o[u]=i)[2]=a(e,t,n))return!0}}}function pa(o){return 1<o.length?function(e,t,n){for(var r=o.length;r--;)if(!o[r](e,t,n))return!1;return!0}:o[0]}function ha(e,t,n,r,o){for(var i,a=[],u=0,s=e.length,c=null!=t;u<s;u++)(i=e[u])&&(n&&!n(i,r,o)||(a.push(i),c&&t.push(u)));return a}function va(e){return void 0!==e}function ba(e){return\"string\"==typeof e}function ya(e,t){var n,r=(t=t||ka).createElement(\"div\"),o=t.createDocumentFragment();for(r.innerHTML=e;n=r.firstChild;)o.appendChild(n);return o}function Ca(e,t){return e&&t&&-1!==(\" \"+e.className+\" \").indexOf(\" \"+t+\" \")}function xa(e,t,n){var r,o;return t=Wa(t)[0],e.each(function(){n&&r===this.parentNode||(r=this.parentNode,o=t.cloneNode(!1),this.parentNode.insertBefore(o,this)),o.appendChild(this)}),e}function wa(e,t){return new Wa.fn.init(e,t)}function Sa(e){return null==e?\"\":(\"\"+e).replace(Ua,\"\")}function Ea(e,t){var n,r,o,i;if(e)if(void 0===(n=e.length)){for(r in e)if(e.hasOwnProperty(r)&&(i=e[r],!1===t.call(i,r,i)))break}else for(o=0;o<n&&(i=e[o],!1!==t.call(i,o,i));o++);return e}function Na(e,n){var r=[];return Ea(e,function(e,t){n(t,e)&&r.push(t)}),r}ci=aa.support={},di=aa.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&\"HTML\"!==t.nodeName},yi=aa.setDocument=function(e){var t,s=e?e.ownerDocument||e:_i,n=s.defaultView;return s!==Ci&&9===s.nodeType&&s.documentElement?(xi=(Ci=s).documentElement,wi=!di(s),n&&n!==function(e){try{return e.top}catch(e){}return null}(n)&&(n.addEventListener?n.addEventListener(\"unload\",function(){yi()},!1):n.attachEvent&&n.attachEvent(\"onunload\",function(){yi()})),ci.attributes=!0,ci.getElementsByTagName=!0,ci.getElementsByClassName=ta.test(s.getElementsByClassName),ci.getById=!0,li.find.ID=function(e,t){if(typeof t.getElementById!=Pi&&wi){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},li.filter.ID=function(e){var t=e.replace(ia,si);return function(e){return e.getAttribute(\"id\")===t}},li.find.TAG=ci.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!=Pi)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if(\"*\"!==e)return i;for(;n=i[o++];)1===n.nodeType&&r.push(n);return r},li.find.CLASS=ci.getElementsByClassName&&function(e,t){if(wi)return t.getElementsByClassName(e)},Ei=[],Si=[],ci.disconnectedMatch=!0,Si=Si.length&&new RegExp(Si.join(\"|\")),Ei=Ei.length&&new RegExp(Ei.join(\"|\")),t=ta.test(xi.compareDocumentPosition),Ni=t||ta.test(xi.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Bi=t?function(e,t){return e===t?(bi=!0,0):(n=!e.compareDocumentPosition-!t.compareDocumentPosition)||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!ci.sortDetached&&t.compareDocumentPosition(e)===n?e===s||e.ownerDocument===_i&&Ni(_i,e)?-1:t===s||t.ownerDocument===_i&&Ni(_i,t)?1:vi?Hi.call(vi,e)-Hi.call(vi,t):0:4&n?-1:1);var n}:function(e,t){if(e===t)return bi=!0,0;var n,r=0,o=e.parentNode,i=t.parentNode,a=[e],u=[t];if(!o||!i)return e===s?-1:t===s?1:o?-1:i?1:vi?Hi.call(vi,e)-Hi.call(vi,t):0;if(o===i)return ca(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;a[r]===u[r];)r++;return r?ca(a[r],u[r]):a[r]===_i?-1:u[r]===_i?1:0},s):Ci},aa.matches=function(e,t){return aa(e,null,null,t)},aa.matchesSelector=function(e,t){if((e.ownerDocument||e)!==Ci&&yi(e),t=t.replace(Yi,\"='$1']\"),ci.matchesSelector&&wi&&(!Ei||!Ei.test(t))&&(!Si||!Si.test(t)))try{var n=(void 0).call(e,t);if(n||ci.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<aa(t,Ci,null,[e]).length},aa.contains=function(e,t){return(e.ownerDocument||e)!==Ci&&yi(e),Ni(e,t)},aa.attr=function(e,t){(e.ownerDocument||e)!==Ci&&yi(e);var n=li.attrHandle[t.toLowerCase()],r=n&&Li.call(li.attrHandle,t.toLowerCase())?n(e,t,!wi):void 0;return void 0!==r?r:ci.attributes||!wi?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},aa.error=function(e){throw new Error(\"Syntax error, unrecognized expression: \"+e)},aa.uniqueSort=function(e){var t,n=[],r=0,o=0;if(bi=!ci.detectDuplicates,vi=!ci.sortStable&&e.slice(0),e.sort(Bi),bi){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return vi=null,e},fi=aa.getText=function(e){var t,n=\"\",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if(\"string\"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=fi(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=fi(t);return n},(li=aa.selectors={cacheLength:50,createPseudo:sa,match:Qi,attrHandle:{},find:{},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ia,si),e[3]=(e[3]||e[4]||e[5]||\"\").replace(ia,si),\"~=\"===e[2]&&(e[3]=\" \"+e[3]+\" \"),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),\"nth\"===e[1].slice(0,3)?(e[3]||aa.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(\"even\"===e[3]||\"odd\"===e[3])),e[5]=+(e[7]+e[8]||\"odd\"===e[3])):e[3]&&aa.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Qi.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||\"\":n&&Gi.test(n)&&(t=mi(n,!0))&&(t=n.indexOf(\")\",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ia,si).toLowerCase();return\"*\"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Di[e+\" \"];return t||(t=new RegExp(\"(^|\"+ji+\")\"+e+\"(\"+ji+\"|$)\"))&&Di(e,function(e){return t.test(\"string\"==typeof e.className&&e.className||typeof e.getAttribute!=Pi&&e.getAttribute(\"class\")||\"\")})},ATTR:function(n,r,o){return function(e){var t=aa.attr(e,n);return null==t?\"!=\"===r:!r||(t+=\"\",\"=\"===r?t===o:\"!=\"===r?t!==o:\"^=\"===r?o&&0===t.indexOf(o):\"*=\"===r?o&&-1<t.indexOf(o):\"$=\"===r?o&&t.slice(-o.length)===o:\"~=\"===r?-1<(\" \"+t+\" \").indexOf(o):\"|=\"===r&&(t===o||t.slice(0,o.length+1)===o+\"-\"))}},CHILD:function(m,e,t,g,p){var h=\"nth\"!==m.slice(0,3),v=\"last\"!==m.slice(-4),b=\"of-type\"===e;return 1===g&&0===p?function(e){return!!e.parentNode}:function(e,t,n){var r,o,i,a,u,s,c=h!=v?\"nextSibling\":\"previousSibling\",l=e.parentNode,f=b&&e.nodeName.toLowerCase(),d=!n&&!b;if(l){if(h){for(;c;){for(i=e;i=i[c];)if(b?i.nodeName.toLowerCase()===f:1===i.nodeType)return!1;s=c=\"only\"===m&&!s&&\"nextSibling\"}return!0}if(s=[v?l.firstChild:l.lastChild],v&&d){for(u=(r=(o=l[ki]||(l[ki]={}))[m]||[])[0]===Ai&&r[1],a=r[0]===Ai&&r[2],i=u&&l.childNodes[u];i=++u&&i&&i[c]||(a=u=0)||s.pop();)if(1===i.nodeType&&++a&&i===e){o[m]=[Ai,u,a];break}}else if(d&&(r=(e[ki]||(e[ki]={}))[m])&&r[0]===Ai)a=r[1];else for(;(i=++u&&i&&i[c]||(a=u=0)||s.pop())&&((b?i.nodeName.toLowerCase()!==f:1!==i.nodeType)||!++a||(d&&((i[ki]||(i[ki]={}))[m]=[Ai,a]),i!==e)););return(a-=p)===g||a%g==0&&0<=a/g}}},PSEUDO:function(e,i){var t,a=li.pseudos[e]||li.setFilters[e.toLowerCase()]||aa.error(\"unsupported pseudo: \"+e);return a[ki]?a(i):1<a.length?(t=[e,e,\"\",i],li.setFilters.hasOwnProperty(e.toLowerCase())?sa(function(e,t){for(var n,r=a(e,i),o=r.length;o--;)e[n=Hi.call(e,r[o])]=!(t[n]=r[o])}):function(e){return a(e,0,t)}):a}},pseudos:{not:sa(function(e){var r=[],o=[],u=gi(e.replace(Wi,\"$1\"));return u[ki]?sa(function(e,t,n,r){for(var o,i=u(e,null,r,[]),a=e.length;a--;)(o=i[a])&&(e[a]=!(t[a]=o))}):function(e,t,n){return r[0]=e,u(r,null,n,o),r[0]=null,!o.pop()}}),has:sa(function(t){return function(e){return 0<aa(t,e).length}}),contains:sa(function(t){return t=t.replace(ia,si),function(e){return-1<(e.textContent||e.innerText||fi(e)).indexOf(t)}}),lang:sa(function(n){return Ji.test(n||\"\")||aa.error(\"unsupported lang: \"+n),n=n.replace(ia,si).toLowerCase(),function(e){var t;do{if(t=wi?e.lang:e.getAttribute(\"xml:lang\")||e.getAttribute(\"lang\"))return(t=t.toLowerCase())===n||0===t.indexOf(n+\"-\")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===xi},focus:function(e){return e===Ci.activeElement&&(!Ci.hasFocus||Ci.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return\"input\"===t&&!!e.checked||\"option\"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!li.pseudos.empty(e)},header:function(e){return ea.test(e.nodeName)},input:function(e){return Zi.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return\"input\"===t&&\"button\"===e.type||\"button\"===t},text:function(e){var t;return\"input\"===e.nodeName.toLowerCase()&&\"text\"===e.type&&(null==(t=e.getAttribute(\"type\"))||\"text\"===t.toLowerCase())},first:la(function(){return[0]}),last:la(function(e,t){return[t-1]}),eq:la(function(e,t,n){return[n<0?n+t:n]}),even:la(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:la(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:la(function(e,t,n){for(var r=n<0?n+t:n;0<=--r;)e.push(r);return e}),gt:la(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=li.pseudos.eq,Y([\"radio\",\"checkbox\",\"file\",\"password\",\"image\"],function(e){var t;li.pseudos[e]=(t=e,function(e){return\"input\"===e.nodeName.toLowerCase()&&e.type===t})}),Y([\"submit\",\"reset\"],function(e){var n;li.pseudos[e]=(n=e,function(e){var t=e.nodeName.toLowerCase();return(\"input\"===t||\"button\"===t)&&e.type===n})}),da.prototype=li.filters=li.pseudos,li.setFilters=new da,mi=aa.tokenize=function(e,t){var n,r,o,i,a,u,s,c=Ti[e+\" \"];if(c)return t?0:c.slice(0);for(a=e,u=[],s=li.preFilter;a;){for(i in n&&!(r=Ki.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=Xi.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(Wi,\" \")}),a=a.slice(n.length)),li.filter)li.filter.hasOwnProperty(i)&&(!(r=Qi[i].exec(a))||s[i]&&!(r=s[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length)));if(!n)break}return t?a.length:a?aa.error(e):Ti(e,u).slice(0)},gi=aa.compile=function(e,t){var n,h,v,b,y,r=[],o=[],i=Oi[e+\" \"];if(!i){for(n=(t=t||mi(e)).length;n--;)((i=function e(t){for(var o,n,r,i=t.length,a=li.relative[t[0].type],u=a||li.relative[\" \"],s=a?1:0,c=ga(function(e){return e===o},u,!0),l=ga(function(e){return-1<Hi.call(o,e)},u,!0),f=[function(e,t,n){var r=!a&&(n||t!==hi)||((o=t).nodeType?c:l)(e,t,n);return o=null,r}];s<i;s++)if(n=li.relative[t[s].type])f=[ga(pa(f),n)];else{if((n=li.filter[t[s].type].apply(null,t[s].matches))[ki]){for(r=++s;r<i&&!li.relative[t[r].type];r++);return function e(m,g,p,h,v,t){return h&&!h[ki]&&(h=e(h)),v&&!v[ki]&&(v=e(v,t)),sa(function(e,t,n,r){var o,i,a,u=[],s=[],c=t.length,l=e||function(e,t,n){for(var r=0,o=t.length;r<o;r++)aa(e,t[r],n);return n}(g||\"*\",n.nodeType?[n]:n,[]),f=!m||!e&&g?l:ha(l,u,m,n,r),d=p?v||(e?m:c||h)?[]:t:f;if(p&&p(f,d,n,r),h)for(o=ha(d,s),h(o,[],n,r),i=o.length;i--;)(a=o[i])&&(d[s[i]]=!(f[s[i]]=a));if(e){if(v||m){if(v){for(o=[],i=d.length;i--;)(a=d[i])&&o.push(f[i]=a);v(null,d=[],o,r)}for(i=d.length;i--;)(a=d[i])&&-1<(o=v?Hi.call(e,a):u[i])&&(e[o]=!(t[o]=a))}}else d=ha(d===t?d.splice(c,d.length):d),v?v(null,t,d,r):Ui.apply(t,d)})}(1<s&&pa(f),1<s&&ma(t.slice(0,s-1).concat({value:\" \"===t[s-2].type?\"*\":\"\"})).replace(Wi,\"$1\"),n,s<r&&e(t.slice(s,r)),r<i&&e(t=t.slice(r)),r<i&&ma(t))}f.push(n)}return pa(f)}(t[n]))[ki]?r:o).push(i);(i=Oi(e,(h=o,b=0<(v=r).length,y=0<h.length,b?sa(a):a))).selector=e}function a(e,t,n,r,o){var i,a,u,s=0,c=\"0\",l=e&&[],f=[],d=hi,m=e||y&&li.find.TAG(\"*\",o),g=Ai+=null==d?1:Math.random()||.1,p=m.length;for(o&&(hi=t!==Ci&&t);c!==p&&null!=(i=m[c]);c++){if(y&&i){for(a=0;u=h[a++];)if(u(i,t,n)){r.push(i);break}o&&(Ai=g)}b&&((i=!u&&i)&&s--,e&&l.push(i))}if(s+=c,b&&c!==s){for(a=0;u=v[a++];)u(l,f,t,n);if(e){if(0<s)for(;c--;)l[c]||f[c]||(f[c]=Mi.call(r));f=ha(f)}Ui.apply(r,f),o&&!e&&0<f.length&&1<s+v.length&&aa.uniqueSort(r)}return o&&(Ai=g,hi=d),l}return i},pi=aa.select=function(e,t,n,r){var o,i,a,u,s,c=\"function\"==typeof e&&e,l=!r&&mi(e=c.selector||e);if(n=n||[],1===l.length){if(2<(i=l[0]=l[0].slice(0)).length&&\"ID\"===(a=i[0]).type&&ci.getById&&9===t.nodeType&&wi&&li.relative[i[1].type]){if(!(t=(li.find.ID(a.matches[0].replace(ia,si),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=Qi.needsContext.test(e)?0:i.length;o--&&(a=i[o],!li.relative[u=a.type]);)if((s=li.find[u])&&(r=s(a.matches[0].replace(ia,si),ra.test(i[0].type)&&fa(t.parentNode)||t))){if(i.splice(o,1),!(e=r.length&&ma(i)))return Ui.apply(n,r),n;break}}return(c||gi(e,l))(r,t,!wi,n,ra.test(e)&&fa(t.parentNode)||t),n},ci.sortStable=ki.split(\"\").sort(Bi).join(\"\")===ki,ci.detectDuplicates=!!bi,yi(),ci.sortDetached=!0;var ka=document,_a=Array.prototype.push,Aa=Array.prototype.slice,Ra=/^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/,Da=ai.Event,Ta=Et.makeMap(\"children,contents,next,prev\"),Oa=function(e,t,n,r){var o;if(ba(t))t=ya(t,za(e[0]));else if(t.length&&!t.nodeType){if(t=Wa.makeArray(t),r)for(o=t.length-1;0<=o;o--)Oa(e,t[o],n,r);else for(o=0;o<t.length;o++)Oa(e,t[o],n,r);return e}if(t.nodeType)for(o=e.length;o--;)n.call(e[o],t);return e},Ba=Et.makeMap(\"fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom\",\" \"),Pa=Et.makeMap(\"checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected\",\" \"),La={for:\"htmlFor\",class:\"className\",readonly:\"readOnly\"},Ia={float:\"cssFloat\"},Ma={},Fa={},Ua=/^\\s*|\\s*$/g,za=function(e){return e?9===e.nodeType?e:e.ownerDocument:ka};function Ha(e,t,n){var r=[],o=e[t];for(\"string\"!=typeof n&&n instanceof Wa&&(n=n[0]);o&&9!==o.nodeType;){if(void 0!==n){if(o===n)break;if(\"string\"==typeof n&&Wa(o).is(n))break}1===o.nodeType&&r.push(o),o=o[t]}return r}function ja(e,t,n,r){var o=[];for(r instanceof Wa&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==r){if(e===r)break;if(\"string\"==typeof r&&Wa(e).is(r))break}o.push(e)}return o}function Va(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null}function qa(e,t){var n=t.attr(\"style\"),r=e.serialize(e.parse(n),t[0].nodeName)||null;t.attr(\"data-mce-style\",r)}function $a(e,t){var n,r,o=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!==r||r!==n&&e.nodeValue.length)&&(o++,n=r);return o}wa.fn=wa.prototype={constructor:wa,selector:\"\",context:null,length:0,init:function(e,t){var n,r,o=this;if(!e)return o;if(e.nodeType)return o.context=o[0]=e,o.length=1,o;if(t&&t.nodeType)o.context=t;else{if(t)return Wa(e).attr(t);o.context=t=document}if(ba(e)){if(!(n=\"<\"===(o.selector=e).charAt(0)&&\">\"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:Ra.exec(e)))return Wa(t).find(e);if(n[1])for(r=ya(e,za(t)).firstChild;r;)_a.call(o,r),r=r.nextSibling;else{if(!(r=za(t).getElementById(n[2])))return o;if(r.id!==n[2])return o.find(e);o.length=1,o[0]=r}}else this.add(e,!1);return o},toArray:function(){return Et.toArray(this)},add:function(e,t){var n,r;if(ba(e))return this.add(Wa(e));if(!1!==t)for(n=Wa.unique(this.toArray().concat(Wa.makeArray(e))),this.length=n.length,r=0;r<n.length;r++)this[r]=n[r];else _a.apply(this,Wa.makeArray(e));return this},attr:function(t,n){var e,r=this;if(\"object\"==typeof t)Ea(t,function(e,t){r.attr(e,t)});else{if(!va(n)){if(r[0]&&1===r[0].nodeType){if((e=Ma[t])&&e.get)return e.get(r[0],t);if(Pa[t])return r.prop(t)?t:void 0;null===(n=r[0].getAttribute(t,2))&&(n=void 0)}return n}this.each(function(){var e;1===this.nodeType&&((e=Ma[t])&&e.set?e.set(this,n):null===n?this.removeAttribute(t,2):this.setAttribute(t,n,2))})}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if(\"object\"==typeof(e=La[e]||e))Ea(e,function(e,t){n.prop(e,t)});else{if(!va(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1===this.nodeType&&(this[e]=t)})}return n},css:function(t,n){function e(e){return e.replace(/-(\\D)/g,function(e,t){return t.toUpperCase()})}function r(e){return e.replace(/[A-Z]/g,function(e){return\"-\"+e})}var o,i,a=this;if(\"object\"==typeof t)Ea(t,function(e,t){a.css(e,t)});else if(va(n))t=e(t),\"number\"!=typeof n||Ba[t]||(n=n.toString()+\"px\"),a.each(function(){var e=this.style;if((i=Fa[t])&&i.set)i.set(this,n);else{try{this.style[Ia[t]||t]=n}catch(e){}null!==n&&\"\"!==n||(e.removeProperty?e.removeProperty(r(t)):e.removeAttribute(t))}});else{if(o=a[0],(i=Fa[t])&&i.get)return i.get(o);if(!o.ownerDocument.defaultView)return o.currentStyle?o.currentStyle[e(t)]:\"\";try{return o.ownerDocument.defaultView.getComputedStyle(o,null).getPropertyValue(r(t))}catch(e){return}}return a},remove:function(){for(var e,t=this.length;t--;)e=this[t],Da.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this.length;t--;)for(e=this[t];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(t){var n;if(va(t)){n=this.length;try{for(;n--;)this[n].innerHTML=t}catch(e){Wa(this[n]).empty().append(t)}return this}return this[0]?this[0].innerHTML:\"\"},text:function(e){var t;if(va(e)){for(t=this.length;t--;)\"innerText\"in this[t]?this[t].innerText=e:this[0].textContent=e;return this}return this[0]?this[0].innerText||this[0].textContent:\"\"},append:function(){return Oa(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return Oa(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?Oa(this,arguments,function(e){this.parentNode.insertBefore(e,this)}):this},after:function(){return this[0]&&this[0].parentNode?Oa(this,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):this},appendTo:function(e){return Wa(e).append(this),this},prependTo:function(e){return Wa(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return xa(this,e)},wrapAll:function(e){return xa(this,e,!0)},wrapInner:function(e){return this.each(function(){Wa(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){Wa(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),Wa(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(o,i){var e=this;return\"string\"!=typeof o||(-1!==o.indexOf(\" \")?Ea(o.split(\" \"),function(){e.toggleClass(this,i)}):e.each(function(e,t){var n,r=Ca(t,o);r!==i&&(n=t.className,r?t.className=Sa((\" \"+n+\" \").replace(\" \"+o+\" \",\" \")):t.className+=n?\" \"+o:o)})),e},hasClass:function(e){return Ca(this[0],e)},each:function(e){return Ea(this,e)},on:function(e,t){return this.each(function(){Da.bind(this,e,t)})},off:function(e,t){return this.each(function(){Da.unbind(this,e,t)})},trigger:function(e){return this.each(function(){\"object\"==typeof e?Da.fire(this,e.type,e):Da.fire(this,e)})},show:function(){return this.css(\"display\",\"\")},hide:function(){return this.css(\"display\",\"none\")},slice:function(){return Wa(Aa.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){for(var t=[],n=0,r=this.length;n<r;n++)Wa.find(e,this[n],t);return Wa(t)},filter:function(n){return Wa(\"function\"==typeof n?Na(this.toArray(),function(e,t){return n(t,e)}):Wa.filter(n,this.toArray()))},closest:function(n){var r=[];return n instanceof Wa&&(n=n[0]),this.each(function(e,t){for(;t;){if(\"string\"==typeof n&&Wa(t).is(n)){r.push(t);break}if(t===n){r.push(t);break}t=t.parentNode}}),Wa(r)},offset:function(e){var t,n,r,o,i=0,a=0;return e?this.css(e):((t=this[0])&&(r=(n=t.ownerDocument).documentElement,t.getBoundingClientRect&&(i=(o=t.getBoundingClientRect()).left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:a})},push:_a,sort:Array.prototype.sort,splice:Array.prototype.splice},Et.extend(wa,{extend:Et.extend,makeArray:function(e){return e&&e===e.window||e.nodeType?[e]:Et.toArray(e)},inArray:function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},isArray:Et.isArray,each:Ea,trim:Sa,grep:Na,find:aa,expr:aa.selectors,unique:aa.uniqueSort,text:aa.getText,contains:aa.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=\":not(\"+e+\")\");r--;)1!==t[r].nodeType&&t.splice(r,1);return 1===t.length?Wa.find.matchesSelector(t[0],e)?[t[0]]:[]:Wa.find.matches(e,t)}}),Ea({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Ha(e,\"parentNode\")},next:function(e){return Va(e,\"nextSibling\",1)},prev:function(e){return Va(e,\"previousSibling\",1)},children:function(e){return ja(e.firstChild,\"nextSibling\",1)},contents:function(e){return Et.toArray((\"iframe\"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(r,o){wa.fn[r]=function(t){var n=[];this.each(function(){var e=o.call(n,this,t,n);e&&(Wa.isArray(e)?n.push.apply(n,e):n.push(e))}),1<this.length&&(Ta[r]||(n=Wa.unique(n)),0===r.indexOf(\"parents\")&&(n=n.reverse()));var e=Wa(n);return t?e.filter(t):e}}),Ea({parentsUntil:function(e,t){return Ha(e,\"parentNode\",t)},nextUntil:function(e,t){return ja(e,\"nextSibling\",1,t).slice(1)},prevUntil:function(e,t){return ja(e,\"previousSibling\",1,t).slice(1)}},function(o,i){wa.fn[o]=function(t,e){var n=[];this.each(function(){var e=i.call(n,this,t,n);e&&(Wa.isArray(e)?n.push.apply(n,e):n.push(e))}),1<this.length&&(n=Wa.unique(n),0!==o.indexOf(\"parents\")&&\"prevUntil\"!==o||(n=n.reverse()));var r=Wa(n);return e?r.filter(e):r}}),wa.fn.is=function(e){return!!e&&0<this.filter(e).length},wa.fn.init.prototype=wa.fn,wa.overrideDefaults=function(n){var r,o=function(e,t){return r=r||n(),0===arguments.length&&(e=r.element),t=t||r.context,new o.fn.init(e,t)};return Wa.extend(o,this),o},wa.attrHooks=Ma,wa.cssHooks=Fa;var Wa=wa,Ka=Et.each,Xa=Et.grep,Ya=xt.ie,Ga=/^([a-z0-9],?)+$/i,Ja=function(a,u){function s(e){return e&&a&&X(e)?a.getElementById(e):e}function c(e){return H(\"string\"==typeof e?s(e):e)}function r(e,t,n){var r,o,i=c(e);return void 0===(o=i.length?(r=W[t])&&r.get?r.get(i,t):i.attr(t):o)?n||\"\":o}function o(e){var t=s(e);return t?t.attributes:[]}function i(e,t,n){\"\"===n&&(n=null);var r,o=c(e),i=o.attr(t);o.length&&((r=W[t])&&r.set?r.set(o,n,t):o.attr(t,n),i!==n&&u.onSetAttrib&&u.onSetAttrib({attrElm:o,attrName:t,attrValue:n}))}function l(){return u.root_element||a.body}function f(e,t){return function(e,t,n){var r,o=0,i=0,a=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&\"static\"===xn(Nt.fromDom(e),\"position\")){var u=t.getBoundingClientRect();return{x:o=u.left+(a.documentElement.scrollLeft||e.scrollLeft)-a.documentElement.clientLeft,y:i=u.top+(a.documentElement.scrollTop||e.scrollTop)-a.documentElement.clientTop}}for(var s=t;s&&s!==n&&s.nodeType&&!Nn(s,n);){var c=s;o+=c.offsetLeft||0,i+=c.offsetTop||0,s=c.offsetParent}for(s=t.parentNode;s&&s!==n&&s.nodeType&&!Nn(s,n);)o-=s.scrollLeft||0,i-=s.scrollTop||0,s=s.parentNode;i+=(r=Nt.fromDom(t),Zn.isFirefox()&&\"table\"===kt(r)?En(Dn(r)).filter(function(e){return\"caption\"===kt(e)}).bind(function(o){return En(It(o)).map(function(e){var t=e.dom.offsetTop,n=o.dom.offsetTop,r=o.dom.offsetHeight;return t<=n?-r:0})}).getOr(0):0)}return{x:o,y:i}}(a.body,s(e),t)}function d(e,t,n){var r=c(e);return n?r.css(t):(\"float\"===(t=t.replace(/-(\\D)/g,function(e,t){return t.toUpperCase()}))&&(t=xt.browser.isIE()?\"styleFloat\":\"cssFloat\"),r[0]&&r[0].style?r[0].style[t]:void 0)}function m(e){var t=d(e=s(e),\"width\"),n=d(e,\"height\");return-1===t.indexOf(\"px\")&&(t=0),-1===n.indexOf(\"px\")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}}function g(e,t){if(!e)return!1;if(!Array.isArray(e)){if(\"*\"===t)return 1===e.nodeType;if(Ga.test(t)){for(var n=t.toLowerCase().split(/,/),r=e.nodeName.toLowerCase(),o=n.length-1;0<=o;o--)if(n[o]===r)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}var i=Array.isArray(e)?e:[e];return 0<aa(t,i[0].ownerDocument||i[0],null,i).length}function p(e,t,n,r){var o,i=[],a=s(e);for(r=void 0===r,n=n||(\"BODY\"!==l().nodeName?l().parentNode:null),Et.is(t,\"string\")&&(t=\"*\"===(o=t)?function(e){return 1===e.nodeType}:function(e){return g(e,o)});a&&!(a===n||K(a.nodeType)||qn(a)||$n(a));){if(!t||\"function\"==typeof t&&t(a)){if(!r)return[a];i.push(a)}a=a.parentNode}return r?i:null}function n(e,t,n){var r=t;if(e)for(\"string\"==typeof t&&(r=function(e){return g(e,t)}),e=e[n];e;e=e[n])if(\"function\"==typeof r&&r(e))return e;return null}function h(e,n,r){var o,t=\"string\"==typeof e?s(e):e;return!!t&&(Et.isArray(t)&&(t.length||0===t.length)?(o=[],Ka(t,function(e,t){e&&o.push(n.call(r,\"string\"==typeof e?s(e):e,t))}),o):n.call(r||this,t))}function v(e,t){c(e).each(function(e,n){Ka(t,function(e,t){i(n,t,e)})})}function b(e,n){var t=c(e);Ya?t.each(function(e,t){if(!1!==t.canHaveHTML){for(;t.firstChild;)t.removeChild(t.firstChild);try{t.innerHTML=\"<br>\"+n,t.removeChild(t.firstChild)}catch(e){Wa(\"<div></div>\").html(\"<br>\"+n).contents().slice(1).appendTo(t)}return n}}):t.html(n)}function y(e,n,r,o,i){return h(e,function(e){var t=\"string\"==typeof n?a.createElement(n):n;return v(t,r),o&&(\"string\"!=typeof o&&o.nodeType?t.appendChild(o):\"string\"==typeof o&&b(t,o)),i?t:e.appendChild(t)})}function C(e,t,n){return y(a.createElement(e),e,t,n,!0)}function x(e,t){var n=c(e);return(t?n.each(function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}):n).remove(),1<n.length?n.toArray():n[0]}function w(e,t,n){c(e).toggleClass(t,n).each(function(){\"\"===this.className&&Wa(this).attr(\"class\",null)})}function S(t,e,n){return h(e,function(e){return Et.is(e,\"array\")&&(t=t.cloneNode(!0)),n&&Ka(Xa(e.childNodes),function(e){t.appendChild(e)}),e.parentNode.replaceChild(t,e)})}function E(e){if(zn(e)){var t=\"a\"===e.nodeName.toLowerCase()&&!r(e,\"href\")&&r(e,\"id\");return r(e,\"name\")||r(e,\"data-mce-bookmark\")||t?1:void 0}}function N(){return a.createRange()}function k(e){if(e&&zn(e)){var t=e.getAttribute(\"data-mce-contenteditable\");return t&&\"inherit\"!==t?t:\"inherit\"!==e.contentEditable?e.contentEditable:null}return null}void 0===u&&(u={});var _,A,R,D,e,t,T={},O=window,B={},P=0,L=Ar.forElement(Nt.fromDom(a),{contentCssCors:u.contentCssCors,referrerPolicy:u.referrerPolicy}),I=[],M=u.schema||to({}),F=ro({url_converter:u.url_converter,url_converter_scope:u.url_converter_scope},u.schema),U=u.ownEvents?new ai:ai.Event,z=M.getBlockElements(),H=Wa.overrideDefaults(function(){return{context:a,element:$.getRoot()}}),j=Go.encodeAllRaw,V=function(e,t,n,r){if(Et.isArray(e)){for(var o=e.length,i=[];o--;)i[o]=V(e[o],t,n,r);return i}return!u.collect||e!==a&&e!==O||I.push([e,t,n,r]),U.bind(e,t,n,r||$)},q=function(e,t,n){if(Et.isArray(e)){for(var r=e.length,o=[];r--;)o[r]=q(e[r],t,n);return o}if(0<I.length&&(e===a||e===O))for(r=I.length;r--;){var i=I[r];e!==i[0]||t&&t!==i[1]||n&&n!==i[2]||U.unbind(i[0],i[1],i[2])}return U.unbind(e,t,n)},$={doc:a,settings:u,win:O,files:B,stdMode:!0,boxModel:!0,styleSheetLoader:L,boundEvents:I,styles:F,schema:M,events:U,isBlock:function(e){if(\"string\"==typeof e)return!!z[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!z[e.nodeName])}return!1},$:H,$$:c,root:null,clone:function(t,e){if(!Ya||1!==t.nodeType||e)return t.cloneNode(e);var n=a.createElement(t.nodeName);return Ka(o(t),function(e){i(n,e.nodeName,r(t,e.nodeName))}),n},getRoot:l,getViewPort:function(e){var t=tn(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},getRect:function(e){var t=f(e=s(e)),n=m(e);return{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:m,getParent:function(e,t,n){var r=p(e,t,n,!1);return r&&0<r.length?r[0]:null},getParents:p,get:s,getNext:function(e,t){return n(e,t,\"nextSibling\")},getPrev:function(e,t){return n(e,t,\"previousSibling\")},select:function(e,t){return aa(e,s(t)||u.root_element||a,[])},is:g,add:y,create:C,createHTML:function(e,t,n){var r,o=\"\";for(r in o+=\"<\"+e,t)se(t,r)&&(o+=\" \"+r+'=\"'+j(t[r])+'\"');return void 0!==n?o+\">\"+n+\"</\"+e+\">\":o+\" />\"},createFragment:function(e){var t,n=a.createElement(\"div\"),r=a.createDocumentFragment();for(r.appendChild(n),e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r.removeChild(n),r},remove:x,setStyle:function(e,t,n){var r=X(t)?c(e).css(t,n):c(e).css(t);u.update_styles&&qa(F,r)},getStyle:d,setStyles:function(e,t){var n=c(e).css(t);u.update_styles&&qa(F,n)},removeAllAttribs:function(e){return h(e,function(e){for(var t=e.attributes,n=t.length-1;0<=n;n--)e.removeAttributeNode(t.item(n))})},setAttrib:i,setAttribs:v,getAttrib:r,getPos:f,parseStyle:function(e){return F.parse(e)},serializeStyle:function(e,t){return F.serialize(e,t)},addStyle:function(e){var t,n;if($!==Ja.DOM&&a===document){if(T[e])return;T[e]=!0}(n=a.getElementById(\"mceDefaultStyles\"))||((n=a.createElement(\"style\")).id=\"mceDefaultStyles\",n.type=\"text/css\",(t=a.getElementsByTagName(\"head\")[0]).firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(a.createTextNode(e))},loadCSS:function(e){Y((e=e||\"\").split(\",\"),function(e){B[e]=!0,L.load(e,te)})},addClass:function(e,t){c(e).addClass(t)},removeClass:function(e,t){w(e,t,!1)},hasClass:function(e,t){return c(e).hasClass(t)},toggleClass:w,show:function(e){c(e).show()},hide:function(e){c(e).hide()},isHidden:function(e){return\"none\"===c(e).css(\"display\")},uniqueId:function(e){return(e||\"mce_\")+P++},setHTML:b,getOuterHTML:function(e){var t=\"string\"==typeof e?s(e):e;return zn(t)?t.outerHTML:Wa(\"<div></div>\").append(Wa(t).clone()).html()},setOuterHTML:function(e,t){c(e).each(function(){try{if(\"outerHTML\"in this)return void(this.outerHTML=t)}catch(e){}x(Wa(this).html(t),!0)})},decode:Go.decode,encode:j,insertAfter:function(e,t){var r=s(t);return h(e,function(e){var t=r.parentNode,n=r.nextSibling;return n?t.insertBefore(e,n):t.appendChild(e),e})},replace:S,rename:function(t,e){var n;return t.nodeName!==e.toUpperCase()&&(n=C(e),Ka(o(t),function(e){i(n,e.nodeName,r(t,e.nodeName))}),S(n,t,!0)),n||t},findCommonAncestor:function(e,t){for(var n,r=e;r;){for(n=t;n&&r!==n;)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},toHex:function(e){return F.toHex(Et.trim(e))},run:h,getAttribs:o,isEmpty:function(e,t){var n,r,o=0;if(E(e))return!1;if(e=e.firstChild){var i=new Rr(e,e.parentNode),a=M?M.getWhiteSpaceElements():{};t=t||(M?M.getNonEmptyElements():null);do{if(n=e.nodeType,zn(e)){var u=e.getAttribute(\"data-mce-bogus\");if(u){e=i.next(\"all\"===u);continue}if(r=e.nodeName.toLowerCase(),t&&t[r]){if(\"br\"!==r)return!1;o++,e=i.next();continue}if(E(e))return!1}if(8===n)return!1;if(3===n&&!qr(e.nodeValue))return!1;if(3===n&&e.parentNode&&a[e.parentNode.nodeName]&&qr(e.nodeValue))return!1;e=i.next()}while(e)}return o<=1},createRng:N,nodeIndex:$a,split:function(e,t,n){var r,o,i,a=N();if(e&&t)return a.setStart(e.parentNode,$a(e)),a.setEnd(t.parentNode,$a(t)),r=a.extractContents(),(a=N()).setStart(t.parentNode,$a(t)+1),a.setEnd(e.parentNode,$a(e)+1),o=a.extractContents(),(i=e.parentNode).insertBefore(zo($,r),e),n?i.insertBefore(n,e):i.insertBefore(t,e),i.insertBefore(zo($,o),e),x(e),n||t},bind:V,unbind:q,fire:function(e,t,n){return U.fire(e,t,n)},getContentEditable:k,getContentEditableParent:function(e){for(var t=l(),n=null;e&&e!==t&&null===(n=k(e));e=e.parentNode);return n},destroy:function(){if(0<I.length)for(var e=I.length;e--;){var t=I[e];U.unbind(t[0],t[1],t[2])}ne(B,function(e,t){L.unload(t),delete B[t]}),aa.setDocument&&aa.setDocument()},isChildOf:function(e,t){if(Ya){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}return e===t||t.contains(e)},dumpRng:function(e){return\"startContainer: \"+e.startContainer.nodeName+\", startOffset: \"+e.startOffset+\", endContainer: \"+e.endContainer.nodeName+\", endOffset: \"+e.endOffset}},W=(_=F,R=J($),e={set:function(e,t,n){A.url_converter&&null!==t&&(t=A.url_converter.call(A.url_converter_scope||R(),t,n,e[0])),e.attr(\"data-mce-\"+n,t).attr(n,t)},get:function(e,t){return e.attr(\"data-mce-\"+t)||e.attr(t)}},t={style:{set:function(e,t){null===t||\"object\"!=typeof t?(D&&e.attr(\"data-mce-style\",t),null!==t&&\"string\"==typeof t?(e.removeAttr(\"style\"),e.css(_.parse(t))):e.attr(\"style\",t)):e.css(t)},get:function(e){var t=e.attr(\"data-mce-style\")||e.attr(\"style\");return _.serialize(_.parse(t),e[0].nodeName)}}},(D=(A=u).keep_values)&&(t.href=t.src=e),t);return $};Ja.DOM=Ja(document),Ja.nodeIndex=$a;var Qa=Ja.DOM,Za=Et.each,eu=Et.grep,tu=(nu.prototype._setReferrerPolicy=function(e){this.settings.referrerPolicy=e},nu.prototype.loadScript=function(e,t,n){function r(){o.remove(i),a&&(a.onerror=a.onload=a=null)}var o=Qa,i=o.uniqueId(),a=document.createElement(\"script\");a.id=i,a.type=\"text/javascript\",a.src=Et._addCacheSuffix(e),this.settings.referrerPolicy&&o.setAttrib(a,\"referrerpolicy\",this.settings.referrerPolicy),a.onload=function(){r(),t()},a.onerror=function(){r(),y(n)?n():\"undefined\"!=typeof console&&console.log&&console.log(\"Failed to load script: \"+e)},(document.getElementsByTagName(\"head\")[0]||document.body).appendChild(a)},nu.prototype.isDone=function(e){return 2===this.states[e]},nu.prototype.markDone=function(e){this.states[e]=2},nu.prototype.add=function(e,t,n,r){var o=this.states[e];this.queue.push(e),void 0===o&&(this.states[e]=0),t&&(this.scriptLoadedCallbacks[e]||(this.scriptLoadedCallbacks[e]=[]),this.scriptLoadedCallbacks[e].push({success:t,failure:r,scope:n||this}))},nu.prototype.load=function(e,t,n,r){return this.add(e,t,n,r)},nu.prototype.remove=function(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]},nu.prototype.loadQueue=function(e,t,n){this.loadScripts(this.queue,e,t,n)},nu.prototype.loadScripts=function(n,e,t,r){function o(t,e){Za(i.scriptLoadedCallbacks[e],function(e){y(e[t])&&e[t].call(e.scope)}),i.scriptLoadedCallbacks[e]=void 0}var i=this,a=[];i.queueLoadedCallbacks.push({success:e,failure:r,scope:t||this});var u=function(){var e,t=eu(n);n.length=0,Za(t,function(e){2!==i.states[e]?3!==i.states[e]?1!==i.states[e]&&(i.states[e]=1,i.loading++,i.loadScript(e,function(){i.states[e]=2,i.loading--,o(\"success\",e),u()},function(){i.states[e]=3,i.loading--,a.push(e),o(\"failure\",e),u()})):o(\"failure\",e):o(\"success\",e)}),i.loading||(e=i.queueLoadedCallbacks.slice(0),i.queueLoadedCallbacks.length=0,Za(e,function(e){0===a.length?y(e.success)&&e.success.call(e.scope):y(e.failure)&&e.failure.call(e.scope,a)}))};u()},nu.ScriptLoader=new nu,nu);function nu(e){void 0===e&&(e={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=e}function ru(e){var t=e;return{get:function(){return t},set:function(e){t=e}}}function ou(){return ue(iu,au.get())}var iu={},au=ru(\"en\"),uu={getData:function(){return re(iu,function(e){return _e({},e)})},setCode:function(e){e&&au.set(e)},getCode:function(){return au.get()},add:function(e,t){var n=iu[e];n||(iu[e]=n={}),ne(t,function(e,t){n[t.toLowerCase()]=e})},translate:function(e){function n(e){return y(e)?Object.prototype.toString.call(e):u(e)?\"\":\"\"+e}function t(e){var t=n(e);return ue(a,t.toLowerCase()).map(n).getOr(t)}function r(e){return e.replace(/{context:\\w+}$/,\"\")}var o,i,a=ou().getOr({}),u=function(e){return\"\"===e||null==e};if(u(e))return\"\";if(h(o=e)&&Ne(o,\"raw\"))return n(e.raw);if(S(i=e)&&1<i.length){var s=e.slice(1);return r(t(e[0]).replace(/\\{([0-9]+)\\}/g,function(e,t){return Ne(s,t)?n(s[t]):e}))}return r(t(e))},isRtl:function(){return ou().bind(function(e){return ue(e,\"_dir\")}).exists(function(e){return\"rtl\"===e})},hasCode:function(e){return Ne(iu,e)}},su=function(){function u(t,n){Y(U(r,function(e){return e.name===t&&e.state===n}),function(e){return e.callback()})}function s(e){var t;return(f[e]?f[e].dependencies:t)||[]}function c(e,t){return\"object\"==typeof t?t:\"string\"==typeof e?{prefix:\"\",resource:t,suffix:\"\"}:{prefix:e.prefix,resource:t,suffix:e.suffix}}function e(e,t,n){void 0===n&&(n=\"added\"),Ne(f,e)&&\"added\"===n||Ne(l,e)&&\"loaded\"===n?t():r.push({name:e,state:n,callback:t})}var o=[],l={},f={},r=[],d=function(r,o,i,a,e){var t,n;l[r]||(0!==(t=\"string\"==typeof o?o:o.prefix+o.resource+o.suffix).indexOf(\"/\")&&-1===t.indexOf(\"://\")&&(t=su.baseURL+\"/\"+t),l[r]=t.substring(0,t.lastIndexOf(\"/\")),n=function(){var n,e,t;u(r,\"loaded\"),n=o,e=i,t=a,Y(s(r),function(e){var t=c(n,e);d(t.resource,t,void 0,void 0)}),e&&(t?e.call(t):e.call(tu))},f[r]?n():tu.ScriptLoader.add(t,n,a,e))};return{items:o,urls:l,lookup:f,_listeners:r,get:function(e){if(f[e])return f[e].instance},dependencies:s,requireLangPack:function(t,n){!1!==su.languageLoad&&e(t,function(){var e=uu.getCode();!e||n&&-1===(\",\"+(n||\"\")+\",\").indexOf(\",\"+e+\",\")||tu.ScriptLoader.add(l[t]+\"/langs/\"+e+\".js\")},\"loaded\")},add:function(e,t,n){var r=t;return o.push(r),f[e]={instance:r,dependencies:n},u(e,\"added\"),r},remove:function(e){delete l[e],delete f[e]},createUrl:c,addComponents:function(e,t){var n=l[e];Y(t,function(e){tu.ScriptLoader.add(n+\"/\"+e)})},load:d,waitFor:e}};function cu(){var e,t,n=(e=te,t=ru(ve.none()),{clear:function(){r(),t.set(ve.none())},isSet:function(){return t.get().isSome()},get:function(){return t.get()},set:function(e){r(),t.set(ve.some(e))}});function r(){return t.get().each(e)}return _e(_e({},n),{on:function(e){return n.get().each(e)}})}function lu(n,r){var o=null;return{cancel:function(){l(o)||(clearTimeout(o),o=null)},throttle:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];l(o)&&(o=setTimeout(function(){o=null,n.apply(null,e)},r))}}}function fu(n,r){function o(){l(i)||(clearTimeout(i),i=null)}var i=null;return{cancel:o,throttle:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o(),i=setTimeout(function(){i=null,n.apply(null,e)},r)}}}function du(e,t){var n=vn(e,t);return void 0===n||\"\"===n?[]:n.split(\" \")}function mu(e){return void 0!==e.dom.classList}function gu(e,t){var n,r,o;mu(e)?e.dom.classList.add(t):(r=t,o=du(n=e,\"class\").concat([r]),pn(n,\"class\",o.join(\" \")))}function pu(e,t){return mu(e)&&e.dom.classList.contains(t)}function hu(e,t){return He(n=void 0===e?document:e.dom)?[]:T(n.querySelectorAll(t),Nt.fromDom);var n}function vu(r,e){function t(e,t){return(n=e.dom)&&n.hasAttribute&&n.hasAttribute(t)?ve.some(vn(e,t)):ve.none();var n}var n=r.selection.getRng(),o=Nt.fromDom(n.startContainer),i=Nt.fromDom(r.getBody()),a=e.fold(function(){return\".\"+ju()},function(e){return\"[\"+Vu()+'=\"'+e+'\"]'});return br(Mt(o,n.startOffset).getOr(o),a,function(e){return je(e,i)}).bind(function(e){return t(e,\"\"+qu()).bind(function(n){return t(e,\"\"+Vu()).map(function(e){var t=$u(r,n);return{uid:n,name:e,elements:t}})})})}function bu(t){function o(){return{listeners:[],previous:cu()}}function c(e,t){n(e,function(e){return t(e),e})}function n(e,t){var n=i.get(),r=t(ue(n,e).getOrThunk(o));n[e]=r,i.set(n)}var i=ru({}),e=fu(function(){var e=i.get();Y(W(we(e)),function(e){n(e,function(u){var s=u.previous.get();return vu(t,ve.some(e)).fold(function(){var t;s.isSome()&&(c(t=e,function(e){Y(e.listeners,function(e){return e(!1,t)})}),u.previous.clear())},function(e){var t,n,r,o=e.uid,i=e.name,a=e.elements;fn(s,o)||(n=o,r=a,c(t=i,function(e){Y(e.listeners,function(e){return e(!0,t,{uid:n,nodes:T(r,function(e){return e.dom})})})}),u.previous.set(o))}),{previous:u.previous,listeners:u.listeners}})})},30);return t.on(\"remove\",function(){e.cancel()}),t.on(\"NodeChange\",function(){e.throttle()}),{addListener:function(e,t){n(e,function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}})}}}function yu(e){var t=(new Date).getTime();return e+\"_\"+Math.floor(1e9*Math.random())+ ++Wu+String(t)}function Cu(e,t){var n,r,o=Rt(e).dom,i=Nt.fromDom(o.createDocumentFragment());Kt(i,(n=t,(r=(o||document).createElement(\"div\")).innerHTML=n,Dn(Nt.fromDom(r)))),Xt(e),Pn(e,i)}function xu(e,t){return Nt.fromDom(e.dom.cloneNode(t))}function wu(e){return xu(e,!1)}function Su(e){return xu(e,!0)}function Eu(e,t,n){function r(e){for(var t;(t=o[e]())&&!jn(t)&&!n(t););return ve.from(t).filter(jn)}void 0===n&&(n=R);var o=new Rr(e,t);return{current:function(){return ve.from(o.current()).filter(jn)},next:function(){return r(\"next\")},prev:function(){return r(\"prev\")},prev2:function(){return r(\"prev2\")}}}function Nu(t,e){var i=e||function(e){return t.isBlock(e)||Wn(e)||Yn(e)},a=function(e,t,n,r){if(jn(e)){var o=r(e,t,e.data);if(-1!==o)return ve.some({container:e,offset:o})}return n().bind(function(e){return a(e.container,e.offset,n,r)})};return{backwards:function(e,t,n,r){var o=Eu(e,r,i);return a(e,t,function(){return o.prev().map(function(e){return{container:e,offset:e.length}})},n).getOrNull()},forwards:function(e,t,n,r){var o=Eu(e,r,i);return a(e,t,function(){return o.next().map(function(e){return{container:e,offset:0}})},n).getOrNull()}}}function ku(e){return e?{left:Ku(e.left),top:Ku(e.top),bottom:Ku(e.bottom),right:Ku(e.right),width:Ku(e.width),height:Ku(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function _u(e,t){return e=ku(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e}function Au(e,t,n){return 0<=e&&e<=Math.min(t.height,n.height)/2}function Ru(e,t){var n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&Au(t.top-e.bottom,e,t)}function Du(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&Au(t.bottom-e.top,e,t)}function Tu(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}function Ou(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null}function Bu(e,t){if(zn(e)&&e.hasChildNodes()){var n=e.childNodes;return n[r=n.length-1,Math.min(Math.max(t,0),r)]}return e;var r}function Pu(e){return\"string\"==typeof e&&768<=e.charCodeAt(0)&&Xu.test(e)}function Lu(e){return\"createRange\"in e?e.createRange():Ja.DOM.createRng()}function Iu(e){return e&&/[\\r\\n\\t ]/.test(e)}function Mu(e){return e.setStart&&e.setEnd}function Fu(e){var t=e.startContainer,n=e.startOffset;if(Iu(e.toString())&&es(t.parentNode)&&jn(t)){var r=t.data;return Iu(r[n-1])||Iu(r[n+1])?1:void 0}}function Uu(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom}function zu(e,t){var n=_u(e,t);return n.width=1,n.right=n.left+1,n}su.languageLoad=!0,su.baseURL=\"\",su.PluginManager=su(),su.ThemeManager=su();var Hu=function(e,t){var n=[];return Y(Dn(e),function(e){n=(n=t(e)?n.concat([e]):n).concat(Hu(e,t))}),n},ju=J(\"mce-annotation\"),Vu=J(\"data-mce-annotation\"),qu=J(\"data-mce-annotation-uid\"),$u=function(e,t){return hu(Nt.fromDom(e.getBody()),\"[\"+qu()+'=\"'+t+'\"]')},Wu=0,Ku=Math.round,Xu=new RegExp(\"[\\u0300-\\u036f\\u0483-\\u0487\\u0488-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1-\\u05c2\\u05c4-\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065f\\u0670\\u06d6-\\u06dc\\u06df-\\u06e4\\u06e7-\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0859-\\u085b\\u08e3-\\u0902\\u093a\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0957\\u0962-\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2-\\u09e3\\u0a01-\\u0a02\\u0a3c\\u0a41-\\u0a42\\u0a47-\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70-\\u0a71\\u0a75\\u0a81-\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7-\\u0ac8\\u0acd\\u0ae2-\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62-\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c00\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55-\\u0c56\\u0c62-\\u0c63\\u0c81\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc-\\u0ccd\\u0cd5-\\u0cd6\\u0ce2-\\u0ce3\\u0d01\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62-\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb-\\u0ebc\\u0ec8-\\u0ecd\\u0f18-\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86-\\u0f87\\u0f8d-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039-\\u103a\\u103d-\\u103e\\u1058-\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085-\\u1086\\u108d\\u109d\\u135d-\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752-\\u1753\\u1772-\\u1773\\u17b4-\\u17b5\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927-\\u1928\\u1932\\u1939-\\u193b\\u1a17-\\u1a18\\u1a1b\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1ab0-\\u1abd\\u1abe\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80-\\u1b81\\u1ba2-\\u1ba5\\u1ba8-\\u1ba9\\u1bab-\\u1bad\\u1be6\\u1be8-\\u1be9\\u1bed\\u1bef-\\u1bf1\\u1c2c-\\u1c33\\u1c36-\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1cf4\\u1cf8-\\u1cf9\\u1dc0-\\u1df5\\u1dfc-\\u1dff\\u200c-\\u200d\\u20d0-\\u20dc\\u20dd-\\u20e0\\u20e1\\u20e2-\\u20e4\\u20e5-\\u20f0\\u2cef-\\u2cf1\\u2d7f\\u2de0-\\u2dff\\u302a-\\u302d\\u302e-\\u302f\\u3099-\\u309a\\ua66f\\ua670-\\ua672\\ua674-\\ua67d\\ua69e-\\ua69f\\ua6f0-\\ua6f1\\ua802\\ua806\\ua80b\\ua825-\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\ua9e5\\uaa29-\\uaa2e\\uaa31-\\uaa32\\uaa35-\\uaa36\\uaa43\\uaa4c\\uaa7c\\uaab0\\uaab2-\\uaab4\\uaab7-\\uaab8\\uaabe-\\uaabf\\uaac1\\uaaec-\\uaaed\\uaaf6\\uabe5\\uabe8\\uabed\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe2f\\uff9e-\\uff9f]\"),Yu=zn,Gu=jr,Ju=an(\"display\",\"block table\"),Qu=an(\"float\",\"left right\"),Zu=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}}(Yu,Gu,s(Qu)),es=s(an(\"white-space\",\"pre pre-line pre-wrap\")),ts=jn,ns=Wn,rs=Ja.nodeIndex,os=function(e,t){if(!(t<0&&zn(e)&&e.hasChildNodes()))return Bu(e,t)},is=function(e){var t=e.getClientRects(),n=0<t.length?ku(t[0]):ku(e.getBoundingClientRect());return!Mu(e)&&ns(e)&&Uu(n)?function(e){var t=e.ownerDocument,n=Lu(t),r=t.createTextNode(yo),o=e.parentNode;o.insertBefore(r,e),n.setStart(r,0),n.setEnd(r,1);var i=ku(n.getBoundingClientRect());return o.removeChild(r),i}(e):Uu(n)&&Mu(e)?function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,o=e.endOffset;if(t===n&&jn(n)&&0===r&&1===o){var i=e.cloneRange();return i.setEndAfter(n),is(i)}return null}(e):n},as=function(t,n,e){function r(){return e=e||function(e){function r(e){var t;0!==e.height&&(0<o.length&&(t=o[o.length-1],e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right)||o.push(e))}function t(e,t){var n=Lu(e.ownerDocument);if(t<e.data.length){if(Pu(e.data[t]))return o;if(Pu(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!Fu(n)))return r(zu(is(n),!1)),o}0<t&&(n.setStart(e,t-1),n.setEnd(e,t),Fu(n)||r(zu(is(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),Fu(n)||r(zu(is(n),!0)))}var o=[],n=e.container(),i=e.offset();if(ts(n))return t(n,i),o;if(Yu(n))if(e.isAtEnd()){var a=os(n,i);ts(a)&&t(a,a.data.length),Zu(a)&&!ns(a)&&r(zu(is(a),!1))}else{if(a=os(n,i),ts(a)&&t(a,0),Zu(a)&&e.isAtEnd())return r(zu(is(a),!1)),o;var u=os(e.container(),e.offset()-1);Zu(u)&&!ns(u)&&(!Ju(u)&&!Ju(a)&&Zu(a)||r(zu(is(u),!1))),Zu(a)&&r(zu(is(a),!0))}return o}(as(t,n))}return{container:J(t),offset:J(n),toRange:function(){var e=Lu(t.ownerDocument);return e.setStart(t,n),e.setEnd(t,n),e},getClientRects:r,isVisible:function(){return 0<r().length},isAtStart:function(){return ts(t),0===n},isAtEnd:function(){return ts(t)?n>=t.data.length:n>=t.childNodes.length},isEqual:function(e){return e&&t===e.container()&&n===e.offset()},getNode:function(e){return os(t,e?n-1:n)}}};function us(e,t){jn(t)&&0===t.data.length&&e.remove(t)}function ss(e,t,n){var r,o,i,a,u,s,c;$n(n)?(i=e,a=t,s=ve.from((u=n).firstChild),c=ve.from(u.lastChild),a.insertNode(u),s.each(function(e){return us(i,e.previousSibling)}),c.each(function(e){return us(i,e.nextSibling)})):(r=e,t.insertNode(o=n),us(r,o.previousSibling),us(r,o.nextSibling))}function cs(t){return function(e){return t===e}}function ls(e){var t,r,n,o;return(uc(e)?\"text()\":e.nodeName.toLowerCase())+\"[\"+(r=fc(lc(t=e)),n=ge(r,cs(t),t),o=me(r=r.slice(0,n+1),function(e,t,n){return uc(t)&&uc(r[n-1])&&e++,e},0),ge(r=fe(r,on([t.nodeName])),cs(t),t)-o)+\"]\"}function fs(e,t){var n,r,o,i=[],a=t.container(),u=t.offset();return uc(a)?n=function(e,t){for(;(e=e.previousSibling)&&uc(e);)t+=e.data.length;return t}(a,u):(u>=(r=a.childNodes).length?(n=\"after\",u=r.length-1):n=\"before\",a=r[u]),i.push(ls(a)),o=fe(function(e,t){var n=[];for(t=t.parentNode;t!==e;t=t.parentNode)n.push(t);return n}(e,a),s(sn)),(i=i.concat(le(o,ls))).reverse().join(\"/\")+\",\"+n}function ds(e,t){if(!t)return null;var n=t.split(\",\"),r=n[0].split(\"/\"),o=1<n.length?n[1]:\"before\",i=me(r,function(e,t){var n,r,o,i,a=/([\\w\\-\\(\\)]+)\\[([0-9]+)\\]/.exec(t);return a?(\"text()\"===a[1]&&(a[1]=\"#text\"),n=e,r=a[1],o=parseInt(a[2],10),i=fe(i=fc(n),function(e,t){return!uc(e)||!uc(i[t-1])}),(i=fe(i,on([r])))[o]):null},e);return i?uc(i)?function(e,t){for(var n,r=e,o=0;uc(r);){if(n=r.data.length,o<=t&&t<=o+n){e=r,t-=o;break}if(!uc(r.nextSibling)){e=r,t=n;break}o+=n,r=r.nextSibling}return uc(e)&&t>e.data.length&&(t=e.data.length),as(e,t)}(i,parseInt(o,10)):(o=\"after\"===o?cc(i)+1:cc(i),as(i.parentNode,o)):null}function ms(e,t,n,r,o){var i,a=r[o?\"startContainer\":\"endContainer\"],u=r[o?\"startOffset\":\"endOffset\"],s=[],c=0,l=e.getRoot();for(jn(a)?s.push(n?function(e,t,n){for(var r=e(t.data.slice(0,n)).length,o=t.previousSibling;o&&jn(o);o=o.previousSibling)r+=e(o.data).length;return r}(t,a,u):u):(u>=(i=a.childNodes).length&&i.length&&(c=1,u=Math.max(0,i.length-1)),s.push(e.nodeIndex(i[u],n)+c));a&&a!==l;a=a.parentNode)s.push(e.nodeIndex(a,n));return s}function gs(e,t,n){var r=0;return Et.each(e.select(t),function(e){if(\"all\"!==e.getAttribute(\"data-mce-bogus\"))return e!==n&&void r++}),r}function ps(e,t){var n,r=t?\"start\":\"end\",o=e[r+\"Container\"],i=e[r+\"Offset\"];zn(o)&&\"TR\"===o.nodeName&&(o=(n=o.childNodes)[Math.min(t?i:i-1,n.length-1)])&&(i=t?0:o.childNodes.length,e[\"set\"+(t?\"Start\":\"End\")](o,i))}function hs(e){return ps(e,!0),ps(e,!1),e}function vs(e,t){var n;return zn(e)&&(e=Bu(e,t),dc(e))?e:Ir(e)?(n=(e=jn(e)&&Pr(e)?e.parentNode:e).previousSibling,dc(n)?n:(n=e.nextSibling,dc(n)?n:void 0)):void 0}function bs(e,t,n){var r=n.getNode(),o=r?r.nodeName:null,i=n.getRng();if(dc(r)||\"IMG\"===o)return{name:o,index:gs(n.dom,o,r)};var a,u,s,c,l,f,d,m=vs((a=i).startContainer,a.startOffset)||vs(a.endContainer,a.endOffset);return m?{name:o=m.tagName,index:gs(n.dom,o,m)}:(f=(s=n).dom,(d={}).start=ms(f,u=e,c=t,l=i,!0),s.isCollapsed()||(d.end=ms(f,u,c,l,!1)),Hr(l)&&(d.isFakeCaret=!0),d)}function ys(e,t,n){var r={\"data-mce-type\":\"bookmark\",id:t,style:\"overflow:hidden;line-height:0px\"};return n?e.create(\"span\",r,\"&#xFEFF;\"):e.create(\"span\",r)}function Cs(e,t){var n=e.dom,r=e.getRng(),o=n.uniqueId(),i=e.isCollapsed(),a=e.getNode(),u=a.nodeName;if(\"IMG\"===u)return{name:u,index:gs(n,u,a)};var s=hs(r.cloneRange());return i||(s.collapse(!1),ss(n,s,ys(n,o+\"_end\",t))),(r=hs(r)).collapse(!0),ss(n,r,ys(n,o+\"_start\",t)),e.moveToBookmark({id:o,keep:!0}),{id:o}}function xs(e,t,n){var r=e.getParam(t,n);return-1===r.indexOf(\"=\")?r:ue(e.getParam(t,\"\",\"hash\"),e.id).getOr(n)}function ws(e){return e.getParam(\"content_security_policy\",\"\")}function Ss(e){if(e.getParam(\"force_p_newlines\",!1))return\"p\";var t=e.getParam(\"forced_root_block\",\"p\");return!1===t?\"\":!0===t?\"p\":t}function Es(e){return e.getParam(\"forced_root_block_attrs\",{})}function Ns(e){return e.getParam(\"automatic_uploads\",!0,\"boolean\")}function ks(e){return e.getParam(\"icons\",\"\",\"string\")}function _s(e){return e.getParam(\"referrer_policy\",\"\",\"string\")}function As(e){return e.getParam(\"language\",\"en\",\"string\")}function Rs(e){return e.getParam(\"indent_use_margin\",!1)}function Ds(e){var t=e.getParam(\"font_css\",[]);return S(t)?t:T(t.split(\",\"),Je)}function Ts(e){var t=e.getParam(\"object_resizing\");return!1!==t&&!xt.iOS&&(X(t)?t:\"table,img,figure.image,div,video,iframe\")}function Os(e){return e.getParam(\"event_root\")}function Bs(e){return e.getParam(\"theme\")}function Ps(e){return!1!==e.getParam(\"inline_boundaries\")}function Ls(e){return e.getParam(\"plugins\",\"\",\"string\")}function Is(e){var t=e.parentNode;t&&t.removeChild(e)}function Ms(e){var t=wo(e);return{count:e.length-t.length,text:t}}function Fs(e){for(var t;-1!==(t=e.data.lastIndexOf(Co));)e.deleteData(t,1)}function Us(e,t){return vc(e),t}function zs(e,t){var n,r=t.container(),o=(-1===(n=_(xe(r.childNodes),e))?ve.none():ve.some(n)).map(function(e){return e<t.offset()?as(r,t.offset()-1):t}).getOr(t);return vc(e),o}function Hs(e,t){return as.isTextPosition(t)?(r=t,hc(n=e)&&r.container()===n?(a=Ms((o=n).data.substr(0,(i=r).offset())),u=Ms(o.data.substr(i.offset())),0<(a.text+u.text).length?(Fs(o),as(o,i.offset()-a.count)):i):Us(n,r)):(s=e,((c=t).container()===s.parentNode?zs:Us)(s,c));var n,r,o,i,a,u,s,c}function js(e,t,n){var r,o,i,a=_u(t.getBoundingClientRect(),n),u=\"BODY\"===e.tagName?(r=e.ownerDocument.documentElement,o=e.scrollLeft||r.scrollLeft,e.scrollTop||r.scrollTop):(i=e.getBoundingClientRect(),o=e.scrollLeft-i.left,e.scrollTop-i.top);a.left+=o,a.right+=o,a.top+=u,a.bottom+=u,a.width=1;var s=t.offsetWidth-t.clientWidth;return 0<s&&(n&&(s*=-1),a.left+=s,a.right+=s),a}function Vs(e,i,a,u){function s(){!function(){for(var e=hu(Nt.fromDom(i),\"*[contentEditable=false],video,audio,embed,object\"),t=0;t<e.length;t++){var n,r=e[t].dom,o=r.previousSibling;ko(o)&&(1===(n=o.data).length?o.parentNode.removeChild(o):o.deleteData(n.length-1,1)),o=r.nextSibling,No(o)&&(1===(n=o.data).length?o.parentNode.removeChild(o):o.deleteData(0,1))}}(),l&&(vc(l),l=null),f.on(function(e){Wa(e.caret).remove(),f.clear()}),c&&(_r.clearInterval(c),c=void 0)}var c,l,f=cu(),t=Ss(e),d=0<t.length?t:\"p\";return{show:function(e,t){var n;if(s(),xc(t))return null;if(!a(t))return l=function(e,t){var n=e.ownerDocument.createTextNode(Co),r=e.parentNode;if(t){if(o=e.previousSibling,Eo(o)){if(Ir(o))return o;if(ko(o))return o.splitText(o.data.length-1)}r.insertBefore(n,e)}else{var o=e.nextSibling;if(Eo(o)){if(Ir(o))return o;if(No(o))return o.splitText(1),o}e.nextSibling?r.insertBefore(n,e.nextSibling):r.appendChild(n)}return n}(t,e),n=t.ownerDocument.createRange(),wc(l.nextSibling)?(n.setStart(l,0),n.setEnd(l,0)):(n.setStart(l,1),n.setEnd(l,1)),n;l=function(e,t,n){var r,o=t.ownerDocument.createElement(e);o.setAttribute(\"data-mce-caret\",n?\"before\":\"after\"),o.setAttribute(\"data-mce-bogus\",\"all\"),o.appendChild(((r=document.createElement(\"br\")).setAttribute(\"data-mce-bogus\",\"1\"),r));var i=t.parentNode;return n?i.insertBefore(o,t):t.nextSibling?i.insertBefore(o,t.nextSibling):i.appendChild(o),o}(d,t,e);var r=js(i,t,e);Wa(l).css(\"top\",r.top);var o=Wa('<div class=\"mce-visual-caret\" data-mce-bogus=\"all\"></div>').css(_e({},r)).appendTo(i)[0];return f.set({caret:o,element:t,before:e}),e&&Wa(o).addClass(\"mce-visual-caret-before\"),c=_r.setInterval(function(){u()?Wa(\"div.mce-visual-caret\",i).toggleClass(\"mce-visual-caret-hidden\"):Wa(\"div.mce-visual-caret\",i).addClass(\"mce-visual-caret-hidden\")},500),(n=t.ownerDocument.createRange()).setStart(l,0),n.setEnd(l,0),n},hide:s,getCss:function(){return\".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}\"},reposition:function(){f.on(function(e){var t=js(i,e.element,e.before);Wa(e.caret).css(_e({},t))})},destroy:function(){return _r.clearInterval(c)}}}function qs(){return bc.isIE()||bc.isEdge()||bc.isFirefox()}function $s(e){return wc(e)||cn(e)&&qs()}function Ws(e,t){for(var n;n=e(t);)if(!_c(n))return n;return null}function Ks(e,t,n,r,o){var i=new Rr(e,r),a=Sc(e)||_c(e);if(t<0){if(a&&n(e=Ws(i.prev.bind(i),!0)))return e;for(;e=Ws(i.prev.bind(i),o);)if(n(e))return e}if(0<t){if(a&&n(e=Ws(i.next.bind(i),!0)))return e;for(;e=Ws(i.next.bind(i),o);)if(n(e))return e}return null}function Xs(e,t){for(;e&&e!==t;){if(Nc(e))return e;e=e.parentNode}return null}function Ys(e,t,n){return Xs(e.container(),n)===Xs(t.container(),n)}function Gs(e,t){if(!t)return null;var n=t.container(),r=t.offset();return Ac(n)?n.childNodes[r+e]:null}function Js(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n}function Qs(e,t,n){for(var r,o,i=e?\"previousSibling\":\"nextSibling\";n&&n!==t;){var a=n[i];if(kc(a)&&(a=a[i]),Sc(a)||Ec(a)){if(o=n,Xs(a,r=t)===Xs(o,r))return a;break}if(Rc(a))break;n=n.parentNode}return null}function Zs(e,t,n){var r,o=A(Qs,!0,t),i=A(Qs,!1,t),a=n.startContainer,u=n.startOffset;if(Pr(a)){var s=(a=Ac(a)?a:a.parentNode).getAttribute(\"data-mce-caret\");if(\"before\"===s&&$s(r=a.nextSibling))return Dc(r);if(\"after\"===s&&$s(r=a.previousSibling))return Tc(r)}if(!n.collapsed)return n;if(jn(a)){if(kc(a)){if(1===e){if(r=i(a))return Dc(r);if(r=o(a))return Tc(r)}if(-1===e){if(r=o(a))return Tc(r);if(r=i(a))return Dc(r)}return n}if(ko(a)&&u>=a.data.length-1)return 1===e&&(r=i(a))?Dc(r):n;if(No(a)&&u<=1)return-1===e&&(r=o(a))?Tc(r):n;if(u===a.data.length)return(r=i(a))?Dc(r):n;if(0===u)return(r=o(a))?Tc(r):n}return n}function ec(e,t){return ve.from(Gs(e?0:-1,t)).filter(Sc)}function tc(e,t,n){var r=Zs(e,t,n);return-1===e?as.fromRangeStart(r):as.fromRangeEnd(r)}function nc(e){return ve.from(e.getNode()).map(Nt.fromDom)}function rc(e,t){for(;t=e(t);)if(t.isVisible())return t;return t}function oc(e,t){var n=Ys(e,t);return!(n||!Wn(e.getNode()))||n}as.fromRangeStart=function(e){return as(e.startContainer,e.startOffset)},as.fromRangeEnd=function(e){return as(e.endContainer,e.endOffset)},as.after=function(e){return as(e.parentNode,rs(e)+1)},as.before=function(e){return as(e.parentNode,rs(e))},as.isAbove=function(e,t){return dn(Q(t.getClientRects()),Z(e.getClientRects()),Ru).getOr(!1)},as.isBelow=function(e,t){return dn(Z(t.getClientRects()),Q(e.getClientRects()),Du).getOr(!1)},as.isAtStart=function(e){return!!e&&e.isAtStart()},as.isAtEnd=function(e){return!!e&&e.isAtEnd()},as.isTextPosition=function(e){return!!e&&jn(e.container())},as.isElementPosition=function(e){return!1===as.isTextPosition(e)};var ic,ac,uc=jn,sc=sn,cc=Ja.nodeIndex,lc=function(e){var t=e.parentNode;return sc(t)?lc(t):t},fc=function(e){return e?me(e.childNodes,function(e,t){return sc(t)&&\"BR\"!==t.nodeName?e=e.concat(fc(t)):e.push(t),e},[]):[]},dc=Yn,mc=A(bs,u,!0),gc=Ja.DOM,pc=zn,hc=jn,vc=function(e){pc(e)&&Ir(e)&&(Mr(e)?e.removeAttribute(\"data-mce-caret\"):Is(e)),hc(e)&&(Fs(e),0===e.data.length&&Is(e))},bc=dt().browser,yc=Yn,Cc=Jn,xc=Gn,wc=function(e){return yc(e)||Cc(e)},Sc=Yn,Ec=Jn,Nc=an(\"display\",\"block table table-cell table-caption list-item\"),kc=Ir,_c=Pr,Ac=zn,Rc=jr,Dc=A(Js,!0),Tc=A(Js,!1);function Oc(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null}function Bc(e,t){if(0<e){if(Kl(t.previousSibling)&&!ql(t.previousSibling))return as.before(t);if(ql(t))return as(t,0)}if(e<0){if(Kl(t.nextSibling)&&!ql(t.nextSibling))return as.after(t);if(ql(t))return as(t,t.data.length)}return e<0&&!Wl(t)?as.after(t):as.before(t)}function Pc(t){return{next:function(e){return Yl(ic.Forwards,e,t)},prev:function(e){return Yl(ic.Backwards,e,t)}}}function Lc(e){return as.isTextPosition(e)?0===e.offset():jr(e.getNode())}function Ic(e){if(as.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}return jr(e.getNode(!0))}function Mc(e,t){return!as.isTextPosition(e)&&!as.isTextPosition(t)&&e.getNode()===t.getNode(!0)}function Fc(o,i,a){return Gl(o,i,a).bind(function(e){return Ys(a,e,i)&&(t=a,n=e,o?!Mc(t,n)&&(as.isTextPosition(r=t)||!Wn(r.getNode()))&&Ic(t)&&Lc(n):!Mc(n,t)&&Lc(t)&&Ic(n))?Gl(o,i,e):ve.some(e);var t,n,r})}function Uc(e,t){var n,r,o,i,a,u=e?t.firstChild:t.lastChild;return jn(u)?ve.some(as(u,e?0:u.data.length)):u?jr(u)?ve.some(e?as.before(u):Wn(a=u)?as.before(a):as.after(a)):(r=t,o=u,i=(n=e)?as.before(o):as.after(o),Gl(n,r,i)):ve.none()}function zc(e){return zn(e)&&e.id===nf}function Hc(e,t){for(;t&&t!==e;){if(t.id===nf)return t;t=t.parentNode}return null}function jc(e){return Et.isArray(e.start)}function Vc(e,t){return zn(t)&&e.isBlock(t)&&!t.innerHTML&&!xt.ie&&(t.innerHTML='<br data-mce-bogus=\"1\" />'),t}function qc(e,t,n){return!1===t.hasChildNodes()&&Hc(e,t)&&(o=n,i=(r=t).ownerDocument.createTextNode(Co),r.appendChild(i),o.setStart(i,0),o.setEnd(i,0),1);var r,o,i}function $c(e,t,n,r){var o,i,a,u,s=n[t?\"start\":\"end\"],c=e.getRoot();if(s){for(a=s[0],i=c,o=s.length-1;1<=o;o--){if(u=i.childNodes,qc(c,i,r))return 1;if(s[o]>u.length-1)return qc(c,i,r)||function(t){return tf(i).fold(R,function(e){return t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0})}(r);i=u[s[o]]}3===i.nodeType&&(a=Math.min(s[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(s[0],i.childNodes.length)),t?r.setStart(i,a):r.setEnd(i,a)}return 1}function Wc(e){return jn(e)&&0<e.data.length}function Kc(e,t,n){var r,o,i,a,u,s,c=e.get(n.id+\"_\"+t),l=n.keep;if(c){if(r=c.parentNode,o=\"start\"===t?l?c.hasChildNodes()?(r=c.firstChild,1):Wc(c.nextSibling)?(r=c.nextSibling,0):Wc(c.previousSibling)?(r=c.previousSibling,c.previousSibling.data.length):(r=c.parentNode,e.nodeIndex(c)+1):e.nodeIndex(c):l?c.hasChildNodes()?(r=c.firstChild,1):Wc(c.previousSibling)?(r=c.previousSibling,c.previousSibling.data.length):(r=c.parentNode,e.nodeIndex(c)):e.nodeIndex(c),u=r,s=o,!l){for(a=c.previousSibling,i=c.nextSibling,Et.each(Et.grep(c.childNodes),function(e){jn(e)&&(e.nodeValue=e.nodeValue.replace(/\\uFEFF/g,\"\"))});c=e.get(n.id+\"_\"+t);)e.remove(c,!0);a&&i&&a.nodeType===i.nodeType&&jn(a)&&!xt.opera&&(o=a.nodeValue.length,a.appendData(i.nodeValue),e.remove(i),u=a,s=o)}return ve.some(as(u,s))}return ve.none()}function Xc(t,e){!function(e,t){var n,r,o,i,a,u,s,c,l,f,d,m,g=e.dom;if(t){if(jc(t))return d=t,m=(f=g).createRng(),$c(f,!0,d,m)&&$c(f,!1,d,m)?ve.some(m):ve.none();if(X(t.start))return ve.some((s=t,c=(u=g).createRng(),l=ds(u.getRoot(),s.start),c.setStart(l.container(),l.offset()),l=ds(u.getRoot(),s.end),c.setEnd(l.container(),l.offset()),c));if(Ne(t,\"id\"))return dn(a=Kc(o=g,\"start\",i=t),Kc(o,\"end\",i).or(a),function(e,t){var n=o.createRng();return n.setStart(Vc(o,e.container()),e.offset()),n.setEnd(Vc(o,t.container()),t.offset()),n});if(Ne(t,\"name\"))return n=g,ve.from(n.select((r=t).name)[r.index]).map(function(e){var t=n.createRng();return t.selectNode(e),t});if(Ne(t,\"rng\"))return ve.some(t.rng)}return ve.none()}(t,e).each(function(e){t.setRng(e)})}function Yc(e){return zn(e)&&\"SPAN\"===e.tagName&&\"bookmark\"===e.getAttribute(\"data-mce-type\")}function Gc(e){return\"\"!==e&&-1!==\" \\f\\n\\r\\t\\v\".indexOf(e)}function Jc(e){return!Gc(e)&&!of(e)}function Qc(e){return e.nodeType}function Zc(e,t,n){var r,o=n.startOffset,i=n.startContainer;if((i!==n.endContainer||!(r=i.childNodes[o])||!/^(IMG)$/.test(r.nodeName))&&zn(i)){var a=i.childNodes,u=void 0;o<a.length?(i=a[o],u=new Rr(i,e.getParent(i,e.isBlock))):(i=a[a.length-1],(u=new Rr(i,e.getParent(i,e.isBlock))).next(!0));for(var s=u.current();s;s=u.next())if(jn(s)&&!af(s))return n.setStart(s,0),t.setRng(n),0}}function el(e,t,n){if(e){var r=t?\"nextSibling\":\"previousSibling\";for(e=n?e:e[r];e;e=e[r])if(zn(e)||!af(e))return e}}function tl(e,t){return Qc(t)&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]}function nl(e,t,n){return e.schema.isValidChild(t,n)}function rl(e,n){return y(e)?e=e(n):V(n)&&(e=e.replace(/%(\\w+)/g,function(e,t){return n[t]||e})),e}function ol(e,t){return e=\"\"+((e=e||\"\").nodeName||e),t=\"\"+((t=t||\"\").nodeName||t),e.toLowerCase()===t.toLowerCase()}function il(e,t,n){return\"color\"!==n&&\"backgroundColor\"!==n||(t=e.toHex(t)),\"fontWeight\"===n&&700===t&&(t=\"bold\"),\"\"+(\"fontFamily\"===n?t.replace(/[\\'\\\"]/g,\"\").replace(/,\\s+/g,\",\"):t)}function al(e,t,n){return il(e,e.getStyle(t,n),n)}function ul(t,e){var n;return t.getParent(e,function(e){return(n=t.getStyle(e,\"text-decoration\"))&&\"none\"!==n}),n}function sl(e,t,n){return e.getParents(t,n,e.getRoot())}function cl(e,t){return F(e.formatter.get(t),function(t){function o(e){return 1<e.length&&\"%\"===e.charAt(0)}return F([\"styles\",\"attributes\"],function(e){return ue(t,e).exists(function(e){var n,r;return F(S(e)?e:(n=u,r=[],ne(e,function(e,t){r.push(n(e,t))}),r),o)})})})}function ll(e){return se(e,\"block\")}function fl(e){return se(e,\"selector\")}function dl(e){return se(e,\"inline\")}function ml(e){return fl(e)&&!1!==e.expand&&!dl(e)}function gl(e,t){for(var n=t;n;){if(zn(n)&&e.getContentEditable(n))return\"false\"===e.getContentEditable(n)?n:t;n=n.parentNode}return t}function pl(e,t,n,r){for(var o=t.data,i=n;e?0<=i:i<o.length;e?i--:i++)if(r(o.charAt(i)))return e?i+1:i;return-1}function hl(e,t,n){return pl(e,t,n,function(e){return of(e)||Gc(e)})}function vl(e,t,n){return pl(e,t,n,Jc)}function bl(i,e,t,n,a,r){function o(e,t,n){var r=Nu(i),o=a?r.backwards:r.forwards;return ve.from(o(e,t,function(e,t){return uf(e.parentNode)?-1:n(a,u=e,t)},s))}var u,s=i.getParent(t,i.isBlock)||e;return o(t,n,hl).bind(function(e){return r?o(e.container,e.offset+(a?-1:0),vl):ve.some(e)}).orThunk(function(){return u?ve.some({container:u,offset:a?0:u.length}):ve.none()})}function yl(e,t,n,r,o){jn(r)&&Pe(r.data)&&r[o]&&(r=r[o]);for(var i=sf(e,r),a=0;a<i.length;a++)for(var u=0;u<t.length;u++){var s=t[u];if((!V(s.collapsed)||s.collapsed===n.collapsed)&&fl(s)&&e.is(i[a],s.selector))return i[a]}return r}function Cl(t,e,n,r){var o,i=n,a=t.dom,u=a.getRoot(),s=e[0];if((i=ll(s)?s.wrapper?null:a.getParent(n,s.block,u):i)||(o=a.getParent(n,\"LI,TD,TH\"),i=a.getParent(jn(n)?n.parentNode:n,function(e){return e!==u&&lf(t,e)},o)),!(i=i&&ll(s)&&s.wrapper&&sf(a,i,\"ul,ol\").reverse()[0]||i))for(i=n;i[r]&&!a.isBlock(i[r])&&!ol(i=i[r],\"br\"););return i||n}function xl(e,t,n,r,o){var i,a=n,u=o?\"previousSibling\":\"nextSibling\",s=e.getRoot();if(jn(n)&&!cf(n)&&(o?0<r:r<n.data.length))return n;for(;;){if(!t[0].block_expand&&e.isBlock(a))return a;for(var c=a[u];c;c=c[u]){var l=jn(c)&&!ff(e,s,c,u);if(!uf(c)&&(!Wn(i=c)||!i.getAttribute(\"data-mce-bogus\")||i.nextSibling)&&!cf(c,l))return a}if(a===s||a.parentNode===s){n=a;break}a=a.parentNode}return n}function wl(e){return uf(e.parentNode)||uf(e)}function Sl(e,t,n,r){void 0===r&&(r=!1);var o=t.startContainer,i=t.startOffset,a=t.endContainer,u=t.endOffset,s=e.dom,c=n[0];return zn(o)&&o.hasChildNodes()&&(o=Bu(o,i),jn(o)&&(i=0)),zn(a)&&a.hasChildNodes()&&(a=Bu(a,t.collapsed?u:u-1),jn(a)&&(u=a.nodeValue.length)),o=gl(s,o),a=gl(s,a),wl(o)&&(o=uf(o)?o:o.parentNode,o=t.collapsed?o.previousSibling||o:o.nextSibling||o,jn(o)&&(i=t.collapsed?o.length:0)),wl(a)&&(a=uf(a)?a:a.parentNode,a=t.collapsed?a.nextSibling||a:a.previousSibling||a,jn(a)&&(u=t.collapsed?0:a.length)),t.collapsed&&(bl(s,e.getBody(),o,i,!0,r).each(function(e){var t=e.container,n=e.offset;o=t,i=n}),bl(s,e.getBody(),a,u,!1,r).each(function(e){var t=e.container,n=e.offset;a=t,u=n})),(dl(c)||c.block_expand)&&(dl(c)&&jn(o)&&0!==i||(o=xl(s,n,o,i,!0)),dl(c)&&jn(a)&&u!==a.nodeValue.length||(a=xl(s,n,a,u,!1))),ml(c)&&(o=yl(s,n,t,o,\"previousSibling\"),a=yl(s,n,t,a,\"nextSibling\")),(ll(c)||fl(c))&&(o=Cl(e,n,o,\"previousSibling\"),a=Cl(e,n,a,\"nextSibling\"),ll(c)&&(s.isBlock(o)||(o=xl(s,n,o,i,!0)),s.isBlock(a)||(a=xl(s,n,a,u,!1)))),zn(o)&&(i=s.nodeIndex(o),o=o.parentNode),zn(a)&&(u=s.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:i,endContainer:a,endOffset:u}}function El(n,e,u){function s(e){var t=e[0];jn(t)&&t===i&&o>=t.data.length&&e.splice(0,1);var n=e[e.length-1];return 0===a&&0<e.length&&n===l&&jn(n)&&e.splice(e.length-1,1),e}function c(e,t,n){for(var r=[];e&&e!==n;e=e[t])r.push(e);return r}function t(e,t){return n.getParent(e,function(e){return e.parentNode===t},t)}function r(e,t,n){var r=n?\"nextSibling\":\"previousSibling\",o=e;for(o.parentNode;o&&o!==t;o=i){var i=o.parentNode,a=c(o===e?o:o[r],r);a.length&&(n||a.reverse(),u(s(a)))}}var o=e.startOffset,i=Bu(e.startContainer,o),a=e.endOffset,l=Bu(e.endContainer,a-1);if(i===l)return u(s([i]));var f=n.findCommonAncestor(i,l);if(n.isChildOf(i,l))return r(i,f,!0);if(n.isChildOf(l,i))return r(l,f);var d=t(i,f)||i,m=t(l,f)||l;r(i,d,!0);var g=c(d===i?d:d.nextSibling,\"nextSibling\",m===l?m.nextSibling:m);g.length&&u(s(g)),r(l,m)}function Nl(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t}function kl(e,t){var n=hu(t,\"td[data-mce-selected],th[data-mce-selected]\");return 0<n.length?n:U(H(e,function(e){var t=Ou(e);return t?[Nt.fromDom(t)]:[]}),ho)}function _l(e){return kl(Nl(e.selection.getSel()),Nt.fromDom(e.getBody()))}function Al(e,t){return hr(e,\"table\",t)}function Rl(o,e){return dn((r=e.startContainer,i=e.startOffset,jn(r)?0===i?ve.some(Nt.fromDom(r)):ve.none():ve.from(r.childNodes[i]).map(Nt.fromDom)),(t=e.endContainer,n=e.endOffset,jn(t)?n===t.data.length?ve.some(Nt.fromDom(t)):ve.none():ve.from(t.childNodes[n-1]).map(Nt.fromDom)),function(e,t){var n=M(df(o),A(je,e)),r=M(mf(o),A(je,t));return n.isSome()&&r.isSome()}).getOr(!1);var t,n,r,i}function Dl(e,t,n,r){var o=n,i=new Rr(n,o),a=ae(e.schema.getMoveCaretBeforeOnEnterElements(),function(e,t){return!D([\"td\",\"th\",\"table\"],t.toLowerCase())});do{if(jn(n)&&0!==Et.trim(n.nodeValue).length)return r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length),0;if(a[n.nodeName])return r?t.setStartBefore(n):\"BR\"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n),0}while(n=r?i.next():i.prev());\"BODY\"===o.nodeName&&(r?t.setStart(o,0):t.setEnd(o,o.childNodes.length))}function Tl(e){var t=e.selection.getSel();return t&&0<t.rangeCount}function Ol(r,o){var e=_l(r);0<e.length?Y(e,function(e){var t=e.dom,n=r.dom.createRng();n.setStartBefore(t),n.setEndAfter(t),o(n,!0)}):o(r.selection.getRng(),!1)}function Bl(e,t,n){var r=Cs(e,t);n(r),e.moveToBookmark(r)}function Pl(e){return gf.get(e)}function Ll(e,t,n,r){var o=t.uid,i=void 0===o?yu(\"mce-annotation\"):o,a=function(e,t){var n={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n}(t,[\"uid\"]),u=Nt.fromTag(\"span\",e);gu(u,ju()),pn(u,\"\"+qu(),i),pn(u,\"\"+Vu(),n);var s,c=r(i,a),l=c.attributes,f=c.classes,d=void 0===f?[]:f;return hn(u,void 0===l?{}:l),s=u,Y(d,function(e){gu(s,e)}),u}function Il(u,e,t,n,r){function s(){d.clear()}function c(e){Y(e,o)}var l=[],f=Ll(u.getDoc(),r,t,n),d=cu(),o=function(e){var t,n,r,o,i,a;switch(r=u,i=\"span\",a=kt(o=e),Ot(o).fold(function(){return\"skipping\"},function(e){return\"br\"===a||_n(n=o)&&Pl(n)===Co?\"valid\":kn(t=o)&&pu(t,ju())?\"existing\":zc(o.dom)?\"caret\":nl(r,i,a)&&nl(r,kt(e),i)?\"valid\":\"invalid-child\";var t,n})){case\"invalid-child\":s(),c(Dn(e)),s();break;case\"valid\":qt(t=e,n=d.get().getOrThunk(function(){var e=wu(f);return l.push(e),d.set(e),e})),Pn(n,t)}};return El(u.dom,e,function(e){s(),c(T(e,Nt.fromDom))}),l}function Ml(o){var n,e,r,i=(n={},{register:function(e,t){n[e]={name:e,settings:t}},lookup:function(e){return ue(n,e).map(function(e){return e.settings})}});r=i,(e=o).on(\"init\",function(){e.serializer.addNodeFilter(\"span\",function(e){Y(e,function(t){ve.from(t.attr(Vu())).bind(r.lookup).each(function(e){!1===e.persistent&&t.unwrap()})})})});var a=bu(o);return{register:function(e,t){i.register(e,t)},annotate:function(t,n){i.lookup(t).each(function(e){var u,s,c,l;s=t,c=e,l=n,(u=o).undoManager.transact(function(){var e,t,n,r,o=u.selection,i=o.getRng(),a=0<_l(u).length;i.collapsed&&!a&&(n=Sl(e=u,t=i,[{inline:\"span\"}]),t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)),o.getRng().collapsed&&!a?(Cu(r=Ll(u.getDoc(),l,s,c.decorate),yo),o.getRng().insertNode(r.dom),o.select(r.dom)):Bl(o,!1,function(){Ol(u,function(e){Il(u,e,s,c.decorate,l)})})})})},annotationChanged:function(e,t){a.addListener(e,t)},remove:function(e){vu(o,ve.some(e)).each(function(e){Y(e.elements,Yt)})},getAll:function(e){var t,n,r;return re((t=e,n=hu(Nt.fromDom(o.getBody()),\"[\"+Vu()+'=\"'+t+'\"]'),r={},Y(n,function(e){var t=vn(e,qu()),n=ue(r,t).getOr([]);r[t]=n.concat([e])}),r),function(e){return T(e,function(e){return e.dom})})}}}function Fl(e){return{getBookmark:A(rf,e),moveToBookmark:A(Xc,e)}}(ac=ic=ic||{})[ac.Backwards=-1]=\"Backwards\",ac[ac.Forwards=1]=\"Forwards\";function Ul(e){return Oo(e)||!!Lo(t=e)&&!0!==L(xe(t.getElementsByTagName(\"*\")),function(e,t){return e||_o(t)},!1);var t}var zl,Hl,jl,Vl=Yn,ql=jn,$l=zn,Wl=Wn,Kl=jr,Xl=Vr,Yl=function(e,t,n){var r,o,i;if(!$l(n)||!t)return null;if(t.isEqual(as.after(n))&&n.lastChild){if(i=as.after(n.lastChild),e<0&&Kl(n.lastChild)&&$l(n.lastChild))return Wl(n.lastChild)?as.before(n.lastChild):i}else i=t;var a,u,s,c=i.container(),l=i.offset();if(ql(c)){if(e<0&&0<l)return as(c,--l);if(0<e&&l<c.length)return as(c,++l);r=c}else{if(e<0&&0<l&&(f=Oc(c,l-1),Kl(f)))return!Ul(f)&&(o=Ks(f,e,Xl,f))?ql(o)?as(o,o.data.length):as.after(o):ql(f)?as(f,f.data.length):as.before(f);if(0<e&&l<c.childNodes.length&&(f=Oc(c,l),Kl(f)))return Wl(f)?(a=n,(s=(u=f).nextSibling)&&Kl(s)?ql(s)?as(s,0):as.before(s):Yl(ic.Forwards,as.after(u),a)):!Ul(f)&&(o=Ks(f,e,Xl,f))?ql(o)?as(o,0):as.before(o):ql(f)?as(f,0):as.after(f);r=f||i.getNode()}if((0<e&&i.isAtEnd()||e<0&&i.isAtStart())&&(r=Ks(r,e,w,n,!0),Xl(r,n)))return Bc(e,r);var f=Ks(r,e,Xl,n),d=pe(U(function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n}(c,n),Vl));return!d||f&&d.contains(f)?f?Bc(e,f):null:0<e?as.after(d):as.before(d)},Gl=function(e,t,n){var r=Pc(t);return ve.from(e?r.next(n):r.prev(n))},Jl=function(t,n,e,r){return Fc(t,n,e).bind(function(e){return r(e)?Jl(t,n,e,r):ve.some(e)})},Ql=A(Gl,!0),Zl=A(Gl,!1),ef=A(Uc,!0),tf=A(Uc,!1),nf=\"_mce_caret\",rf=function(e,t,n){return 2===t?bs(wo,n,e):3===t?(o=(r=e).getRng(),{start:fs(r.dom.getRoot(),as.fromRangeStart(o)),end:fs(r.dom.getRoot(),as.fromRangeEnd(o))}):t?{rng:e.getRng()}:Cs(e,!1);var r,o},of=(zl=yo,function(e){return zl===e}),af=function(e,t){return void 0===t&&(t=!1),!(!V(e)||!jn(e))&&qr(t?e.data.replace(/ /g,\"\\xa0\"):e.data)},uf=Yc,sf=sl,cf=af,lf=tl,ff=function(e,t,n,r){var o=n.parentNode;return!V(n[r])&&(!(o!==t&&!K(o)&&!e.isBlock(o))||ff(e,t,o,r))},df=function(t){return Ft(t).fold(J([t]),function(e){return[t].concat(df(e))})},mf=function(t){return Ut(t).fold(J([t]),function(e){return\"br\"===kt(e)?Bt(e).map(function(e){return[t].concat(mf(e))}).getOr([]):[t].concat(mf(e))})},gf=(Hl=_n,{get:function(e){if(!Hl(e))throw new Error(\"Can only get text value of a text node\");return jl(e).getOr(\"\")},getOption:jl=function(e){return Hl(e)?ve.from(e.dom.nodeValue):ve.none()},set:function(e,t){if(!Hl(e))throw new Error(\"Can only set raw text value of a text node\");e.dom.nodeValue=t}});function pf(e,t){for(;t&&t!==e;){if(Xn(t)||Yn(t))return t;t=t.parentNode}return null}function hf(t,n,e){if(!e.collapsed){if(xt.browser.isIE()&&e.startOffset===e.endOffset-1&&e.startContainer===e.endContainer){var r=e.startContainer.childNodes[e.startOffset];if(zn(r))return F(r.getClientRects(),function(e){return Tu(e,t,n)})}return F(e.getClientRects(),function(e){return Tu(e,t,n)})}}function vf(e,t,n){return e.fire(t,n)}function bf(e,t,n,r){return e.fire(\"FormatApply\",{format:t,node:n,vars:r})}function yf(e,t,n,r){return e.fire(\"FormatRemove\",{format:t,node:n,vars:r})}function Cf(r,l){function c(e){return e&&(\"IMG\"===e.nodeName||l.dom.is(e,\"figure.image\"))}function f(e){return Jn(e)||T.hasClass(e,\"mce-preview-object\")}function n(e){var t=e.target;!function(e,t){if(\"longpress\"!==e.type&&0!==e.type.indexOf(\"touch\"))return c(e.target)&&!hf(e.clientX,e.clientY,t);var n=e.touches[0];return c(e.target)&&!hf(n.clientX,n.clientY,t)}(e,l.selection.getRng())||e.isDefaultPrevented()||l.selection.select(t)}function d(e){return T.is(e,\"figure.image\")?[e.querySelector(\"img\")]:T.hasClass(e,\"mce-preview-object\")&&V(e.firstElementChild)?[e,e.firstElementChild]:[e]}function i(e){var t=Ts(l);return!!t&&\"false\"!==e.getAttribute(\"data-mce-resize\")&&e!==l.getBody()&&(T.hasClass(e,\"mce-preview-object\")?ze(Nt.fromDom(e.firstElementChild),t):ze(Nt.fromDom(e),t))}function a(e,t,n){V(n)&&Y(d(e),function(e){e.style[t]||!l.schema.isValid(e.nodeName.toLowerCase(),t)?T.setStyle(e,t,n):T.setAttrib(e,t,\"\"+n)})}function m(e,t,n){a(e,\"width\",t),a(e,\"height\",n)}function g(e){var t,n,r,o,i,a,u=e.screenX-C,s=e.screenY-x;k=u*b[2]+w,_=s*b[3]+S,k=k<5?5:k,_=_<5?5:_,((c(p)||f(p))&&!1!==l.getParam(\"resize_img_proportional\",!0,\"boolean\")?!Bf.modifierPressed(e):Bf.modifierPressed(e))&&(L(u)>L(s)?(_=I(k*E),k=I(_/E)):(k=I(_/E),_=I(k*E))),m(h,k,_),t=b.startPos.x+u,n=b.startPos.y+s,T.setStyles(v,{left:t=0<t?t:0,top:n=0<n?n:0,display:\"block\"}),v.innerHTML=k+\" &times; \"+_,b[2]<0&&h.clientWidth<=k&&T.setStyle(h,\"left\",void 0+(w-k)),b[3]<0&&h.clientHeight<=_&&T.setStyle(h,\"top\",void 0+(S-_)),(u=M.scrollWidth-A)+(s=M.scrollHeight-R)!=0&&T.setStyles(v,{left:t-u,top:n-s}),N||(r=p,o=w,i=S,a=\"corner-\"+b.name,l.fire(\"ObjectResizeStart\",{target:r,width:o,height:i,origin:a}),N=!0)}function o(e){function t(e,t){if(e)do{if(e===t)return 1}while(e=e.parentNode)}var n;N||l.removed||(O(T.select(\"img[data-mce-selected],hr[data-mce-selected]\"),function(e){e.removeAttribute(D)}),n=\"mousedown\"===e.type?e.target:r.getNode(),t(n=T.$(n).closest(\"table,img,figure.image,hr,video,span.mce-preview-object\")[0],M)&&(s(),t(r.getStart(!0),n)&&t(r.getEnd(!0),n))?z(n):H())}function u(e){return Pf(pf(l.getBody(),e))}function s(){try{l.getDoc().execCommand(\"enableObjectResizing\",!1,\"false\")}catch(e){}}var p,h,v,b,y,C,x,w,S,E,N,k,_,A,R,D=\"data-mce-selected\",T=l.dom,O=Et.each,B=l.getDoc(),P=document,L=Math.abs,I=Math.round,M=l.getBody(),F={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},U=function(){var e,t,n,r,o=N;N=!1,o&&(a(p,\"width\",k),a(p,\"height\",_)),T.unbind(B,\"mousemove\",g),T.unbind(B,\"mouseup\",U),P!==B&&(T.unbind(P,\"mousemove\",g),T.unbind(P,\"mouseup\",U)),T.remove(h),T.remove(v),T.remove(y),z(p),o&&(e=p,t=k,n=_,r=\"corner-\"+b.name,l.fire(\"ObjectResized\",{target:e,width:t,height:n,origin:r}),T.setAttrib(p,\"style\",T.getAttrib(p,\"style\"))),l.nodeChanged()},z=function(e){j();var t=T.getPos(e,M),a=t.x,u=t.y,n=e.getBoundingClientRect(),s=n.width||n.right-n.left,c=n.height||n.bottom-n.top;p!==e&&(H(),p=e,k=_=0);var r=l.fire(\"ObjectSelected\",{target:e}),o=T.getAttrib(p,D,\"1\");i(e)&&!r.isDefaultPrevented()?O(F,function(o,i){var e=T.get(\"mceResizeHandle\"+i);e&&T.remove(e),e=T.add(M,\"div\",{id:\"mceResizeHandle\"+i,\"data-mce-bogus\":\"all\",class:\"mce-resizehandle\",unselectable:!0,style:\"cursor:\"+i+\"-resize; margin:0; padding:0\"}),11===xt.ie&&(e.contentEditable=!1),T.bind(e,\"mousedown\",function(e){var t,n,r;e.stopImmediatePropagation(),e.preventDefault(),t=e,r=d(p)[0],C=t.screenX,x=t.screenY,w=r.clientWidth,S=r.clientHeight,E=S/w,(b=o).name=i,b.startPos={x:s*o[0]+a,y:c*o[1]+u},A=M.scrollWidth,R=M.scrollHeight,y=T.add(M,\"div\",{class:\"mce-resize-backdrop\",\"data-mce-bogus\":\"all\"}),T.setStyles(y,{position:\"fixed\",left:\"0\",top:\"0\",width:\"100%\",height:\"100%\"}),h=f(n=p)?T.create(\"img\",{src:xt.transparentSrc}):n.cloneNode(!0),T.addClass(h,\"mce-clonedresizable\"),T.setAttrib(h,\"data-mce-bogus\",\"all\"),h.contentEditable=\"false\",T.setStyles(h,{left:a,top:u,margin:0}),m(h,s,c),h.removeAttribute(D),M.appendChild(h),T.bind(B,\"mousemove\",g),T.bind(B,\"mouseup\",U),P!==B&&(T.bind(P,\"mousemove\",g),T.bind(P,\"mouseup\",U)),v=T.add(M,\"div\",{class:\"mce-resize-helper\",\"data-mce-bogus\":\"all\"},w+\" &times; \"+S)}),o.elm=e,T.setStyles(e,{left:s*o[0]+a-e.offsetWidth/2,top:c*o[1]+u-e.offsetHeight/2})}):H(),T.getAttrib(p,D)||p.setAttribute(D,o)},H=function(){j(),p&&p.removeAttribute(D),ne(F,function(e,t){var n=T.get(\"mceResizeHandle\"+t);n&&(T.unbind(n),T.remove(n))})},j=function(){ne(F,function(e){e.elm&&(T.unbind(e.elm),delete e.elm)})};return l.on(\"init\",function(){var e;s(),(xt.browser.isIE()||xt.browser.isEdge())&&(l.on(\"mousedown click\",function(e){var t=e.target,n=t.nodeName;N||!/^(TABLE|IMG|HR)$/.test(n)||u(t)||(2!==e.button&&l.selection.select(t,\"TABLE\"===n),\"mousedown\"===e.type&&l.nodeChanged())}),T.bind(M,\"mscontrolselect\",e=function(e){function t(e){_r.setEditorTimeout(l,function(){return l.selection.select(e)})}if(u(e.target)||Jn(e.target))return e.preventDefault(),void t(e.target);/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),\"IMG\"===e.target.tagName&&t(e.target))}),l.on(\"remove\",function(){return T.unbind(M,\"mscontrolselect\",e)}));var t=_r.throttle(function(e){l.composing||o(e)});l.on(\"nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged\",t),l.on(\"keyup compositionend\",function(e){p&&\"TABLE\"===p.nodeName&&t(e)}),l.on(\"hide blur\",H),l.on(\"contextmenu longpress\",n,!0)}),l.on(\"remove\",j),{isResizable:i,showResizeRect:z,hideResizeRect:H,updateResizeRect:o,destroy:function(){p=h=y=null}}}function xf(e){return Xn(e)||Yn(e)}function wf(t,n,r){var o,e,i,a,u,s=r;if(s.caretPositionFromPoint)(e=s.caretPositionFromPoint(t,n))&&((o=r.createRange()).setStart(e.offsetNode,e.offset),o.collapse(!0));else if(s.caretRangeFromPoint)o=s.caretRangeFromPoint(t,n);else if(s.body.createTextRange){o=s.body.createTextRange();try{o.moveToPoint(t,n),o.collapse(!0)}catch(e){o=function(e,n,t){var r,o=t.elementFromPoint(e,n),i=t.body.createTextRange();if(o&&\"HTML\"!==o.tagName||(o=t.body),i.moveToElementText(o),0<(r=(r=Et.toArray(i.getClientRects())).sort(function(e,t){return(e=Math.abs(Math.max(e.top-n,e.bottom-n)))-Math.abs(Math.max(t.top-n,t.bottom-n))})).length){n=(r[0].bottom+r[0].top)/2;try{return i.moveToPoint(e,n),i.collapse(!0),i}catch(e){}}return null}(t,n,r)}return i=o,a=r.body,u=i&&i.parentElement?i.parentElement():null,Yn(function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(u,a,xf))?null:i}return o}function Sf(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}function Ef(e,t,n){return null!==function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(e,t,n)}function Nf(e){return e&&\"TABLE\"===e.nodeName}function kf(e,t,n){for(var r=new Rr(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=r[n?\"prev\":\"next\"]();)if(Wn(t))return 1}function _f(e,t,n,r,o){var i,a,u=e.getRoot(),s=e.schema.getNonEmptyElements(),c=e.getParent(o.parentNode,e.isBlock)||u;if(r&&Wn(o)&&t&&e.isEmpty(c))return ve.some(as(o.parentNode,e.nodeIndex(o)));for(var l,f,d=new Rr(o,c);a=d[r?\"prev\":\"next\"]();){if(\"false\"===e.getContentEditableParent(a)||(f=u,Ir(l=a)&&!1===Ef(l,f,zc)))return ve.none();if(jn(a)&&0<a.nodeValue.length)return!1===Ef(a,u,function(e){return\"A\"===e.nodeName})?ve.some(as(a,r?a.nodeValue.length:0)):ve.none();if(e.isBlock(a)||s[a.nodeName.toLowerCase()])return ve.none();i=a}return n&&i?ve.some(as(i,0)):ve.none()}function Af(e,t,n,r){var o,i=e.getRoot(),a=!1,u=r[(n?\"start\":\"end\")+\"Container\"],s=r[(n?\"start\":\"end\")+\"Offset\"],c=zn(u)&&s===u.childNodes.length,l=e.schema.getNonEmptyElements(),f=n;if(Ir(u))return ve.none();if(zn(u)&&s>u.childNodes.length-1&&(f=!1),qn(u)&&(u=i,s=0),u===i){if(f&&(d=u.childNodes[0<s?s-1:0])){if(Ir(d))return ve.none();if(l[d.nodeName]||Nf(d))return ve.none()}if(u.hasChildNodes()){if(s=Math.min(!f&&0<s?s-1:s,u.childNodes.length-1),u=u.childNodes[s],s=jn(u)&&c?u.data.length:0,!t&&u===i.lastChild&&Nf(u))return ve.none();if(function(e,t){for(;t&&t!==e;){if(Yn(t))return 1;t=t.parentNode}}(i,u)||Ir(u))return ve.none();if(u.hasChildNodes()&&!1===Nf(u)){var d=u,m=new Rr(u,i);do{if(Yn(d)||Ir(d)){a=!1;break}if(jn(d)&&0<d.nodeValue.length){s=f?0:d.nodeValue.length,u=d,a=!0;break}if(l[d.nodeName.toLowerCase()]&&(!(o=d)||!/^(TD|TH|CAPTION)$/.test(o.nodeName))){s=e.nodeIndex(d),u=d.parentNode,f||s++,a=!0;break}}while(d=f?m.next():m.prev())}}}return t&&(jn(u)&&0===s&&_f(e,c,t,!0,u).each(function(e){u=e.container(),s=e.offset(),a=!0}),zn(u)&&(!(d=(d=u.childNodes[s])||u.childNodes[s-1])||!Wn(d)||d.previousSibling&&\"A\"===d.previousSibling.nodeName||kf(e,d,!1)||kf(e,d,!0)||_f(e,c,t,!0,d).each(function(e){u=e.container(),s=e.offset(),a=!0}))),f&&!t&&jn(u)&&s===u.nodeValue.length&&_f(e,c,t,!1,u).each(function(e){u=e.container(),s=e.offset(),a=!0}),a?ve.some(as(u,s)):ve.none()}function Rf(e,t){var n=t.collapsed,r=t.cloneRange(),o=as.fromRangeStart(t);return Af(e,n,!0,r).each(function(e){n&&as.isAbove(o,e)||r.setStart(e.container(),e.offset())}),n||Af(e,n,!1,r).each(function(e){r.setEnd(e.container(),e.offset())}),n&&r.collapse(!0),Sf(t,r)?ve.none():ve.some(r)}function Df(e,t){return e.splitText(t)}function Tf(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset;return t===r&&jn(t)?0<n&&n<t.nodeValue.length&&(t=(r=Df(t,n)).previousSibling,n<o?(t=r=Df(r,o-=n).previousSibling,o=r.nodeValue.length,n=0):o=0):(jn(t)&&0<n&&n<t.nodeValue.length&&(t=Df(t,n),n=0),jn(r)&&0<o&&o<r.nodeValue.length&&(o=(r=Df(r,o).previousSibling).nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:o}}function Of(n){return{walk:function(e,t){return El(n,e,t)},split:Tf,normalize:function(t){return Rf(n,t).fold(R,function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0})}}}Fl.isBookmarkNode=Yc;var Bf={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||Bf.metaKeyPressed(e)},metaKeyPressed:function(e){return xt.mac?e.metaKey:e.ctrlKey&&!e.altKey}},Pf=Yn;Of.compareRanges=Sf,Of.getCaretRangeFromPoint=wf,Of.getSelectedNode=Ou,Of.getNode=Bu;var Lf,If,Mf=(Lf=\"height\",If=function(e){var t=e.dom;return In(e)?t.getBoundingClientRect().height:t.offsetHeight},{set:function(e,t){if(!E(t)&&!t.match(/^[0-9]+$/))throw new Error(Lf+\".set accepts only positive integer values. Value was \"+t);var n=e.dom;mn(n)&&(n.style[Lf]=t+\"px\")},get:Ff,getOuter:Ff,aggregate:Uf,max:function(e,t,n){var r=Uf(e,n);return r<t?t-r:0}});function Ff(e){var t=If(e);if(t<=0||null===t){var n=xn(e,Lf);return parseFloat(n)||0}return t}function Uf(o,e){return L(e,function(e,t){var n=xn(o,t),r=void 0===n?0:parseInt(n,10);return isNaN(r)?e:e+r},0)}function zf(e){return\"textarea\"===kt(e)}function Hf(e,t){var n=function(e){var t=e.dom.ownerDocument,n=t.body,r=t.defaultView,o=t.documentElement;if(n===e.dom)return Fn(n.offsetLeft,n.offsetTop);var i=Gt(null==r?void 0:r.pageYOffset,o.scrollTop),a=Gt(null==r?void 0:r.pageXOffset,o.scrollLeft),u=Gt(o.clientTop,n.clientTop),s=Gt(o.clientLeft,n.clientLeft);return Un(e).translate(a-s,i-u)}(e),r=Mf.get(e);return{element:e,bottom:n.top+r,height:r,pos:n,cleanup:t}}function jf(n,r,o,i){Rd(n,function(e,t){return Ad(n,r,o,i)},o)}function Vf(e,t,n,r,o){var i={elm:r.element.dom,alignToTop:o};e.fire(\"ScrollIntoView\",i).isDefaultPrevented()||(n(t,Jt(t).top,r,o),e.fire(\"AfterScrollIntoView\",i))}function qf(e,t,n,r){var o=Nt.fromDom(e.getDoc());Vf(e,o,n,Hf(Nt.fromDom(t),te),r)}function $f(e,t,n,r){var o,i=e.pos;n?Qt(i.left,i.top,r):(o=i.top-t+e.height,Qt(i.left,o,r))}function Wf(e,t,n,r,o){var i=n+t,a=r.pos.top,u=r.bottom,s=n<=u-a;a<t?$f(r,n,!1!==o,e):i<a?$f(r,n,s?!1!==o:!0===o,e):i<u&&!s&&$f(r,n,!0===o,e)}function Kf(e,t,n,r){Wf(e,t,e.dom.defaultView.innerHeight,n,r)}function Xf(e,t,n,r){Wf(e,t,e.dom.defaultView.innerHeight,n,r);var o,i,a,u,s,c,l,f=(o=n.element,u=Jt(Nt.fromDom(document)),a=(i=_d).owner(o),s=kd(i,a),c=Un(o),l=P(s,function(e,t){var n=Un(t);return{left:e.left+n.left,top:e.top+n.top}},{left:0,top:0}),Fn(l.left+c.left+u.left,l.top+c.top+u.top)),d=tn(window);f.top<d.y?Zt(n.element,!1!==r):f.top>d.bottom&&Zt(n.element,!0===r)}function Yf(e,t,n){return jf(e,Kf,t,n)}function Gf(e,t,n){return qf(e,t,Kf,n)}function Jf(e,t,n){return jf(e,Xf,t,n)}function Qf(e,t,n){return qf(e,t,Xf,n)}function Zf(e,t,n){(e.inline?Yf:Jf)(e,t,n)}function ed(e){var t=Bn(e).dom;return e.dom===t.activeElement}function td(e){return void 0===e&&(e=Nt.fromDom(document)),ve.from(e.dom.activeElement).map(Nt.fromDom)}function nd(e,t){var n=_n(t)?Pl(t).length:Dn(t).length+1;return n<e?n:e<0?0:e}function rd(e){return Bd.range(e.start,nd(e.soffset,e.start),e.finish,nd(e.foffset,e.finish))}function od(e,t){return!rn(t.dom)&&(Ve(e,t)||je(e,t))}function id(t){return function(e){return od(t,e.start)&&od(t,e.finish)}}function ad(e){return!0===e.inline||Pd.isIE()}function ud(e){return Bd.range(Nt.fromDom(e.startContainer),e.startOffset,Nt.fromDom(e.endContainer),e.endOffset)}function sd(e){var t=document.createRange();try{return t.setStart(e.start.dom,e.soffset),t.setEnd(e.finish.dom,e.foffset),ve.some(t)}catch(e){return ve.none()}}function cd(e){var t,n,r=ad(e)?(t=Nt.fromDom(e.getBody()),((n=Tt(t).dom.getSelection())&&0!==n.rangeCount?ve.from(n.getRangeAt(0)):ve.none()).map(ud).filter(id(t))):ve.none();e.bookmark=r.isSome()?r:e.bookmark}function ld(n){return(n.bookmark||ve.none()).bind(function(e){return t=Nt.fromDom(n.getBody()),ve.from(e).filter(id(t)).map(rd);var t}).bind(sd)}function fd(u){var s=lu(function(){cd(u)},0);u.on(\"init\",function(){function e(){n.throttle()}var t,n,r,o,i,a;u.inline&&(t=u,n=s,Ja.DOM.bind(document,\"mouseup\",e),t.on(\"remove\",function(){Ja.DOM.unbind(document,\"mouseup\",e)})),r=u,o=s,dt().browser.isIE()?(a=r).on(\"focusout\",function(){cd(a)}):(i=o,r.on(\"mouseup touchend\",function(e){i.throttle()})),r.on(\"keyup NodeChange\",function(e){\"nodechange\"===e.type&&e.selectionChange||cd(r)})}),u.on(\"remove\",function(){s.cancel()})}function dd(t,e){var n=t.getParam(\"custom_ui_selector\",\"\",\"string\");return null!==Id.getParent(e,function(e){return Ld.isEditorUIElement(e)||!!n&&t.dom.is(e,n)})}function md(n,e){var t=e.editor;fd(t),t.on(\"focusin\",function(){var e=n.focusedEditor;e!==t&&(e&&e.fire(\"blur\",{focusedEditor:t}),n.setActive(t),(n.focusedEditor=t).fire(\"focus\",{blurredEditor:e}),t.focus(!0))}),t.on(\"focusout\",function(){_r.setEditorTimeout(t,function(){var e=n.focusedEditor;dd(t,function(e){try{return td(Bn(Nt.fromDom(e.getElement()))).fold(function(){return document.body},function(e){return e.dom})}catch(e){return document.body}}(t))||e!==t||(t.fire(\"blur\",{focusedEditor:null}),n.focusedEditor=null)})}),Nd||(Nd=function(e){var t=n.activeEditor;t&&!function(e){if(On()&&V(e.target)){var t=Nt.fromDom(e.target);if(kn(t)&&V(t.dom.shadowRoot)&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return Q(n)}}return ve.from(e.target)}(e).each(function(e){e.ownerDocument===document&&(e===document.body||dd(t,e)||n.focusedEditor!==t||(t.fire(\"blur\",{focusedEditor:null}),n.focusedEditor=null))})},Id.bind(document,\"focusin\",Nd))}function gd(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(Id.unbind(document,\"focusin\",Nd),Nd=null)}function pd(t,e){var n,r;n=Nt.fromDom(t.getBody()),((r=e).collapsed?ve.from(Bu(r.startContainer,r.startOffset)).map(Nt.fromDom):ve.none()).bind(function(e){return po(e)?ve.some(e):!1===Ve(n,e)?ve.some(n):ve.none()}).bind(function(e){return ef(e.dom)}).fold(function(){t.selection.normalize()},function(e){return t.selection.setRng(e.toRange())})}function hd(t){if(t.setActive)try{t.setActive()}catch(e){t.focus()}else t.focus()}function vd(e){return e.inline?(r=e.getBody())&&(ed(t=Nt.fromDom(r))||td(Bn(n=t)).filter(function(e){return n.dom.contains(e.dom)}).isSome()):e.iframeElement&&ed(Nt.fromDom(e.iframeElement));var t,n,r}function bd(e,t,n,r,o){var i=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return ve.from(i).map(Nt.fromDom).map(function(e){return r&&t.collapsed?e:Mt(e,o(e,a)).getOr(e)}).bind(function(e){return kn(e)?ve.some(e):Ot(e).filter(kn)}).map(function(e){return e.dom}).getOr(e)}function yd(e,t,n){return bd(e,t,!0,n,function(e,t){return Math.min(zt(e),t)})}function Cd(e,t,n){return bd(e,t,!1,n,function(e,t){return 0<t?t-1:t})}function xd(e,t){for(var n=e;e&&jn(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n}function wd(n,e){return T(e,function(e){var t=n.fire(\"GetSelectionRange\",{range:e});return t.range!==e?t.range:e})}function Sd(e,t,n){var r=n?\"lastChild\":\"firstChild\",o=n?\"prev\":\"next\";if(e[r])return e[r];if(e!==t){var i=e[o];if(i)return i;for(var a=e.parent;a&&a!==t;a=a.parent)if(i=a[o])return i}}function Ed(e){var t=\"a\"===e.name&&!e.attr(\"href\")&&e.attr(\"id\");return e.attr(\"name\")||e.attr(\"id\")&&!e.firstChild||e.attr(\"data-mce-bookmark\")||t}var Nd,kd=function(r,e){return r.view(e).fold(J([]),function(e){var t=r.owner(e),n=kd(r,t);return[e].concat(n)})},_d=Object.freeze({__proto__:null,view:function(e){var t;return(e.dom===document?ve.none():ve.from(null===(t=e.dom.defaultView)||void 0===t?void 0:t.frameElement)).map(Nt.fromDom)},owner:Dt}),Ad=function(e,t,n,r){var o=Nt.fromDom(e.getBody()),i=Nt.fromDom(e.getDoc());o.dom.offsetWidth;var a,u,s,c,l=(a=Nt.fromDom(n.startContainer),u=n.startOffset,s=function(e,t){var n=Dn(e);if(0===n.length||zf(e))return{element:e,offset:t};if(t<n.length&&!zf(n[t]))return{element:n[t],offset:0};var r=n[n.length-1];return zf(r)?{element:e,offset:t}:\"img\"===kt(r)?{element:r,offset:1}:_n(r)?{element:r,offset:Pl(r).length}:{element:r,offset:Dn(r).length}}(a,u),c=Nt.fromHtml('<span data-mce-bogus=\"all\" style=\"display: inline-block;\">\\ufeff</span>'),qt(s.element,c),Hf(c,function(){return Ln(c)}));Vf(e,i,t,l,r),l.cleanup()},Rd=function(e,t,n){var r=n.startContainer,o=n.startOffset,i=n.endContainer,a=n.endOffset;t(Nt.fromDom(r),Nt.fromDom(i));var u=e.dom.createRng();u.setStart(r,o),u.setEnd(i,a),e.selection.setRng(n)},Dd=or([{before:[\"element\"]},{on:[\"element\",\"offset\"]},{after:[\"element\"]}]),Td=(Dd.before,Dd.on,Dd.after,function(e){return e.fold(u,u,u)}),Od=or([{domRange:[\"rng\"]},{relative:[\"startSitu\",\"finishSitu\"]},{exact:[\"start\",\"soffset\",\"finish\",\"foffset\"]}]),Bd={domRange:Od.domRange,relative:Od.relative,exact:Od.exact,exactFromRange:function(e){return Od.exact(e.start,e.soffset,e.finish,e.foffset)},getWin:function(e){return Tt(e.match({domRange:function(e){return Nt.fromDom(e.startContainer)},relative:function(e,t){return Td(e)},exact:function(e,t,n,r){return e}}))},range:function(e,t,n,r){return{start:e,soffset:t,finish:n,foffset:r}}},Pd=dt().browser,Ld={isEditorUIElement:function(e){var t=e.className.toString();return-1!==t.indexOf(\"tox-\")||-1!==t.indexOf(\"mce-\")}},Id=Ja.DOM,Md=function(e){return e.editorManager.setActive(e)},Fd={\"#text\":3,\"#comment\":8,\"#cdata\":4,\"#pi\":7,\"#doctype\":10,\"#document-fragment\":11},Ud=(zd.create=function(e,t){var n=new zd(e,Fd[e]||1);return t&&ne(t,function(e,t){n.attr(t,e)}),n},zd.prototype.replace=function(e){return e.parent&&e.remove(),this.insert(e,this),this.remove(),this},zd.prototype.attr=function(e,t){var n,r=this;if(\"string\"!=typeof e)return null!=e&&ne(e,function(e,t){r.attr(t,e)}),r;if(n=r.attributes){if(void 0===t)return n.map[e];if(null===t){if(e in n.map){delete n.map[e];for(var o=n.length;o--;)if(n[o].name===e)return n.splice(o,1),r}return r}if(e in n.map){for(o=n.length;o--;)if(n[o].name===e){n[o].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,r}},zd.prototype.clone=function(){var e,t=new zd(this.name,this.type);if(e=this.attributes){var n=[];n.map={};for(var r=0,o=e.length;r<o;r++){var i=e[r];\"id\"!==i.name&&(n[n.length]={name:i.name,value:i.value},n.map[i.name]=i.value)}t.attributes=n}return t.value=this.value,t.shortEnded=this.shortEnded,t},zd.prototype.wrap=function(e){return this.parent.insert(e,this),e.append(this),this},zd.prototype.unwrap=function(){for(var e=this.firstChild;e;){var t=e.next;this.insert(e,this,!0),e=t}this.remove()},zd.prototype.remove=function(){var e=this.parent,t=this.next,n=this.prev;return e&&(e.firstChild===this?(e.firstChild=t)&&(t.prev=null):n.next=t,e.lastChild===this?(e.lastChild=n)&&(n.next=null):t.prev=n,this.parent=this.next=this.prev=null),this},zd.prototype.append=function(e){e.parent&&e.remove();var t=this.lastChild;return t?((t.next=e).prev=t,this.lastChild=e):this.lastChild=this.firstChild=e,e.parent=this,e},zd.prototype.insert=function(e,t,n){e.parent&&e.remove();var r=t.parent||this;return n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,(e.next=t).prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,(e.prev=t).next=e),e.parent=r,e},zd.prototype.getAll=function(e){for(var t=[],n=this.firstChild;n;n=Sd(n,this))n.name===e&&t.push(n);return t},zd.prototype.children=function(){for(var e=[],t=this.firstChild;t;t=t.next)e.push(t);return e},zd.prototype.empty=function(){if(this.firstChild){for(var e=[],t=this.firstChild;t;t=Sd(t,this))e.push(t);for(var n=e.length;n--;)(t=e[n]).parent=t.firstChild=t.lastChild=t.next=t.prev=null}return this.firstChild=this.lastChild=null,this},zd.prototype.isEmpty=function(e,t,n){void 0===t&&(t={});var r=this.firstChild;if(Ed(this))return!1;if(r)do{if(1===r.type){if(r.attr(\"data-mce-bogus\"))continue;if(e[r.name])return!1;if(Ed(r))return!1}if(8===r.type)return!1;if(3===r.type&&!function(e){if(qr(e.value)){var t=e.parent;return!t||\"span\"===t.name&&!t.attr(\"style\")||!/^[ ]+$/.test(e.value)}}(r))return!1;if(3===r.type&&r.parent&&t[r.parent.name]&&qr(r.value))return!1;if(n&&n(r))return!1}while(r=Sd(r,this));return!0},zd.prototype.walk=function(e){return Sd(this,null,e)},zd);function zd(e,t){this.name=e,1===(this.type=t)&&(this.attributes=[],this.attributes.map={})}function Hd(e,t){return e.replace(t.re,function(e){return ue(t.uris,e).getOr(e)})}var jd=Et.each,Vd=Et.trim,qd=\"source protocol authority userInfo user password host port relative path directory file query anchor\".split(\" \"),$d={ftp:21,http:80,https:443,mailto:25},Wd=[\"img\",\"video\"],Kd=(Xd.parseDataUri=function(e){var t,n=decodeURIComponent(e).split(\",\"),r=/data:([^;]+)/.exec(n[0]);return{type:t=r?r[1]:t,data:n[1]}},Xd.isDomSafe=function(e,t,n){if((n=void 0===n?{}:n).allow_script_urls)return!0;var r,o,i,a,u=Go.decode(e).replace(/[\\s\\u0000-\\u001F]+/g,\"\");try{u=decodeURIComponent(u)}catch(e){u=unescape(u)}return!(/((java|vb)script|mhtml):/i.test(u)||(o=u,i=t,!(r=n).allow_html_data_urls&&(/^data:image\\//i.test(o)?(V(a=r.allow_svg_data_urls)?!a:!V(i)||!D(Wd,i))&&/^data:image\\/svg\\+xml/i.test(o):/^data:/i.test(o))))},Xd.getDocumentBaseUrl=function(e){var t=0!==e.protocol.indexOf(\"http\")&&\"file:\"!==e.protocol?e.href:e.protocol+\"//\"+e.host+e.pathname;return/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(t)&&(t=t.replace(/[\\?#].*$/,\"\").replace(/[\\/\\\\][^\\/]+$/,\"\"),/[\\/\\\\]$/.test(t)||(t+=\"/\")),t},Xd.prototype.setPath=function(e){var t=/^(.*?)\\/?(\\w+)?$/.exec(e);this.path=t[0],this.directory=t[1],this.file=t[2],this.source=\"\",this.getURI()},Xd.prototype.toRelative=function(e){var t;if(\"./\"===e)return e;var n=new Xd(e,{base_uri:this});if(\"mce_host\"!==n.host&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&\"\"!==n.protocol)return n.getURI();var r=this.getURI(),o=n.getURI();return r===o||\"/\"===r.charAt(r.length-1)&&r.substr(0,r.length-1)===o?r:(t=this.toRelPath(this.path,n.path),n.query&&(t+=\"?\"+n.query),n.anchor&&(t+=\"#\"+n.anchor),t)},Xd.prototype.toAbsolute=function(e,t){var n=new Xd(e,{base_uri:this});return n.getURI(t&&this.isSameOrigin(n))},Xd.prototype.isSameOrigin=function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=$d[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},Xd.prototype.toRelPath=function(e,t){var n,r,o=0,i=\"\",a=e.substring(0,e.lastIndexOf(\"/\")).split(\"/\"),u=t.split(\"/\");if(a.length>=u.length)for(n=0,r=a.length;n<r;n++)if(n>=u.length||a[n]!==u[n]){o=n+1;break}if(a.length<u.length)for(n=0,r=u.length;n<r;n++)if(n>=a.length||a[n]!==u[n]){o=n+1;break}if(1===o)return t;for(n=0,r=a.length-(o-1);n<r;n++)i+=\"../\";for(n=o-1,r=u.length;n<r;n++)i+=n!==o-1?\"/\"+u[n]:u[n];return i},Xd.prototype.toAbsPath=function(e,t){var n,r,o=0,i=[],a=/\\/$/.test(t)?\"/\":\"\",u=e.split(\"/\"),s=t.split(\"/\");for(jd(u,function(e){e&&i.push(e)}),u=i,n=s.length-1,i=[];0<=n;n--)0!==s[n].length&&\".\"!==s[n]&&(\"..\"!==s[n]?0<o?o--:i.push(s[n]):o++);return 0!==(r=(n=u.length-o)<=0?q(i).join(\"/\"):u.slice(0,n).join(\"/\")+\"/\"+q(i).join(\"/\")).indexOf(\"/\")&&(r=\"/\"+r),a&&r.lastIndexOf(\"/\")!==r.length-1&&(r+=a),r},Xd.prototype.getURI=function(e){var t;return void 0===e&&(e=!1),this.source&&!e||(t=\"\",e||(this.protocol?t+=this.protocol+\"://\":t+=\"//\",this.userInfo&&(t+=this.userInfo+\"@\"),this.host&&(t+=this.host),this.port&&(t+=\":\"+this.port)),this.path&&(t+=this.path),this.query&&(t+=\"?\"+this.query),this.anchor&&(t+=\"#\"+this.anchor),this.source=t),this.source},Xd);function Xd(e,t){e=Vd(e),this.settings=t||{};var n,r,o,i,a=this.settings.base_uri,u=this;/^([\\w\\-]+):([^\\/]{2})/i.test(e)||/^\\s*#/.test(e)?u.source=e:(n=0===e.indexOf(\"//\"),0!==e.indexOf(\"/\")||n||(e=(a&&a.protocol||\"http\")+\"://mce_host\"+e),/^[\\w\\-]*:?\\/\\//.test(e)||(r=this.settings.base_uri?this.settings.base_uri.path:new Xd(document.location.href).directory,e=this.settings.base_uri&&\"\"==this.settings.base_uri.protocol?\"//mce_host\"+u.toAbsPath(r,e):(o=/([^#?]*)([#?]?.*)/.exec(e),(a&&a.protocol||\"http\")+\"://mce_host\"+u.toAbsPath(r,o[1])+o[2])),e=e.replace(/@@/g,\"(mce_at)\"),i=/^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@\\/]*):?([^:@\\/]*))?@)?(\\[[a-zA-Z0-9:.%]+\\]|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/.exec(e),jd(qd,function(e,t){var n=(n=i[t])&&n.replace(/\\(mce_at\\)/g,\"@@\");u[e]=n}),a&&(u.protocol||(u.protocol=a.protocol),u.userInfo||(u.userInfo=a.userInfo),u.port||\"mce_host\"!==u.host||(u.port=a.port),u.host&&\"mce_host\"!==u.host||(u.host=a.host),u.source=\"\"),n&&(u.protocol=\"\"))}function Yd(e,t,n){for(var r=/<([!?\\/])?([A-Za-z0-9\\-_:.]+)/g,o=/(?:\\s(?:[^'\">]+(?:\"[^\"]*\"|'[^']*'))*[^\"'>]*(?:\"[^\">]*|'[^'>]*)?|\\s*|\\/)>/g,i=e.getShortEndedElements(),a=1,u=n;0!==a;)for(r.lastIndex=u;;){var s=r.exec(t);if(null===s)return u;if(\"!\"===s[1]){u=Ge(s[2],\"--\")?Qd(t,!1,s.index+\"!--\".length):Qd(t,!0,s.index+1);break}o.lastIndex=r.lastIndex;var c=o.exec(t);if(!l(c)&&c.index===r.lastIndex){\"/\"===s[1]?--a:Ne(i,s[2])||(a+=1),u=r.lastIndex+c[0].length;break}}return u}function Gd(q,$){var e;void 0===$&&($=to());var W=null!==(e=(q=q||{}).document)&&void 0!==e?e:document,K=W.createElement(\"form\");function n(s,e){void 0===e&&(e=\"html\");for(var t,i,n,c,r,o,a,l,u,f,d,m,g,p,h,v,b,y,C,x=s.html,w=0,S=[],E=0,N=Go.decode,k=Et.makeMap(\"src,href,data,background,action,formaction,poster,xlink:href\"),_=\"html\"===e?0:1,A=function(e){for(var t,n=S.length;n--&&S[n].name!==e;);if(0<=n){for(t=S.length-1;n<=t;t--)(e=S[t]).valid&&Q(e.name);S.length=n}},R=function(e,t){return G(Hd(e,s),t)},D=function(e){\"\"!==e&&(\">\"===e.charAt(0)&&(e=\" \"+e),q.allow_conditional_comments||\"[if\"!==e.substr(0,3).toLowerCase()||(e=\" \"+e),X(Hd(e,s)))},T=function(e,t){var n=e||\"\",r=!Ge(n,\"--\"),o=Qd(x,r,t);return e=x.substr(t,o-t),D(r?n+e:e),o+1},O=new RegExp(\"<(?:(?:!--([\\\\w\\\\W]*?)--!?>)|(?:!\\\\[CDATA\\\\[([\\\\w\\\\W]*?)\\\\]\\\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\\\w\\\\W]*?)>)|(?:!(--)?)|(?:\\\\?([^\\\\s\\\\/<>]+) ?([\\\\w\\\\W]*?)[?/]>)|(?:\\\\/([A-Za-z][A-Za-z0-9\\\\-_\\\\:\\\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\\\-_:.]*)(\\\\s(?:[^'\\\">]+(?:\\\"[^\\\"]*\\\"|'[^']*'))*[^\\\"'>]*(?:\\\"[^\\\">]*|'[^'>]*)?|\\\\s*|\\\\/)>))\",\"g\"),B=/([\\w:\\-]+)(?:\\s*=\\s*(?:(?:\\\"((?:[^\\\"])*)\\\")|(?:\\'((?:[^\\'])*)\\')|([^>\\s]+)))?/g,P=$.getShortEndedElements(),L=q.self_closing_elements||$.getSelfClosingElements(),I=$.getBoolAttrs(),M=q.validate,F=q.remove_internals,U=q.fix_self_closing,z=$.getSpecialElements(),H=x+\">\";t=O.exec(H);){var j=t[0];if(w<t.index&&R(N(x.substr(w,t.index-w))),i=t[7])A(i=\":\"===(i=i.toLowerCase()).charAt(0)?i.substr(1):i);else if(i=t[8]){if(t.index+j.length>x.length){R(N(x.substr(t.index))),w=t.index+j.length;continue}u=(i=\":\"===(i=i.toLowerCase()).charAt(0)?i.substr(1):i)in P,U&&L[i]&&0<S.length&&S[S.length-1].name===i&&A(i);var V=function(e,t){var n=e.exec(t);if(n){var r=n[1],o=n[2];return\"string\"==typeof r&&\"data-mce-bogus\"===r.toLowerCase()?o:null}return null}(B,t[9]);if(null!==V){if(\"all\"===V){w=Yd($,x,O.lastIndex),O.lastIndex=w;continue}d=!1}if(!M||(f=$.getElementRule(i))){if(d=!0,M&&(p=f.attributes,h=f.attributePatterns),(g=t[9])?((l=-1!==g.indexOf(\"data-mce-type\"))&&F&&(d=!1),(c=[]).map={},g.replace(B,function(e,t,n,r,o){return function(e,t,n,r,o){var i;if(n=Hd((t=t.toLowerCase())in I?t:N(n||r||o||\"\"),s),M&&!l&&0==(0===(i=t).indexOf(\"data-\")||0===i.indexOf(\"aria-\"))){var a=p[t];if(!a&&h){for(var u=h.length;u--&&!(a=h[u]).pattern.test(t););-1===u&&(a=null)}if(!a)return;if(a.validValues&&!(n in a.validValues))return}(\"name\"===t||\"id\"===t)&&e in Jd&&(n in W||n in K)||k[t]&&!Kd.isDomSafe(n,e,q)||l&&(t in k||0===t.indexOf(\"on\"))||(c.map[t]=n,c.push({name:t,value:n}))}(i,t,n,r,o),\"\"})):(c=[]).map={},M&&!l){if(v=f.attributesRequired,b=f.attributesDefault,y=f.attributesForced,f.removeEmptyAttrs&&!c.length&&(d=!1),y)for(r=y.length;r--;)a=(m=y[r]).name,\"{$uid}\"===(C=m.value)&&(C=\"mce_\"+E++),c.map[a]=C,c.push({name:a,value:C});if(b)for(r=b.length;r--;)(a=(m=b[r]).name)in c.map||(\"{$uid}\"===(C=m.value)&&(C=\"mce_\"+E++),c.map[a]=C,c.push({name:a,value:C}));if(v){for(r=v.length;r--&&!(v[r]in c.map););-1===r&&(d=!1)}if(m=c.map[\"data-mce-bogus\"]){if(\"all\"===m){w=Yd($,x,O.lastIndex),O.lastIndex=w;continue}d=!1}}d&&J(i,c,u)}else d=!1;if(n=z[i]){n.lastIndex=w=t.index+j.length,w=(t=n.exec(x))?(d&&(o=x.substr(w,t.index-w)),t.index+t[0].length):(o=x.substr(w),x.length),d&&(0<o.length&&R(o,!0),Q(i)),O.lastIndex=w;continue}u||(g&&g.indexOf(\"/\")===g.length-1?d&&Q(i):S.push({name:i,valid:d}))}else if(i=t[1])D(i);else if(i=t[2]){if(!(1==_||q.preserve_cdata||0<S.length&&$.isValidChild(S[S.length-1].name,\"#cdata\"))){w=T(\"\",t.index+2),O.lastIndex=w;continue}Y(i)}else if(i=t[3])ee(i);else{if((i=t[4])||\"<!\"===j){w=T(i,t.index+j.length),O.lastIndex=w;continue}if(i=t[5]){if(1!=_){w=T(\"?\",t.index+2),O.lastIndex=w;continue}Z(i,t[6])}}w=t.index+j.length}for(w<x.length&&R(N(x.substr(w))),r=S.length-1;0<=r;r--)(i=S[r]).valid&&Q(i.name)}!1!==q.fix_self_closing&&(q.fix_self_closing=!0);var X=q.comment||te,Y=q.cdata||te,G=q.text||te,J=q.start||te,Q=q.end||te,Z=q.pi||te,ee=q.doctype||te;return{parse:function(e,t){void 0===t&&(t=\"html\"),n(function(e){for(var t,n=/data:[^;]+;base64,([a-z0-9\\+\\/=\\s]+)/gi,r=[],o={},i=yu(\"img\"),a=0,u=0;t=n.exec(e);){var s=t[0],c=i+\"_\"+u++;o[c]=s,a<t.index&&r.push(e.substr(a,t.index-a)),r.push(c),a=t.index+s.length}var l=new RegExp(i+\"_[0-9]+\",\"g\");return 0===a?{prefix:i,uris:o,html:e,re:l}:(a<e.length&&r.push(e.substr(a)),{prefix:i,uris:o,html:r.join(\"\"),re:l})}(e),t)}}}var Jd=Et.makeMap(\"button,fieldset,form,iframe,img,image,input,object,output,select,textarea\"),Qd=function(e,t,n){void 0===n&&(n=0);var r=e.toLowerCase();if(-1!==r.indexOf(\"[if \",n)&&(u=n,/^\\s*\\[if [\\w\\W]+\\]>.*<!\\[endif\\](--!?)?>/.test(r.substr(u)))){var o=r.indexOf(\"[endif]\",n);return r.indexOf(\">\",o)}if(t){var i=r.indexOf(\">\",n);return-1!==i?i:r.length}var a=/--!?>/g;a.lastIndex=n;var u,s=a.exec(e);return s?s.index+s[0].length:r.length};function Zd(e,t){for(var n,r,o,i,a=/<(\\w+) [^>]*data-mce-bogus=\"all\"[^>]*>/g,u=e.schema,s=(n=e.getTempAttrs(),r=t,o=new RegExp([\"\\\\s?(\"+n.join(\"|\")+')=\"[^\"]+\"'].join(\"|\"),\"gi\"),r.replace(o,\"\")),c=u.getShortEndedElements();i=a.exec(s);){var l=a.lastIndex,f=i[0].length,d=c[i[1]]?l:Gd.findEndTag(u,s,l),s=s.substring(0,l-f)+s.substring(d);a.lastIndex=l-f}return wo(s)}function em(o){return{compare:function(e,t){return e.nodeName===t.nodeName&&!(!r(n(e),n(t))||!r(o.parseStyle(o.getAttrib(e,\"style\")),o.parseStyle(o.getAttrib(t,\"style\")))||Yc(e)||Yc(t));function n(n){var r={};return om(o.getAttribs(n),function(e){var t=e.nodeName.toLowerCase();0!==t.indexOf(\"_\")&&\"style\"!==t&&0!==t.indexOf(\"data-\")&&(r[t]=o.getAttrib(n,t))}),r}function r(e,t){var n,r;for(r in e)if(Ne(e,r)){if(void 0===(n=t[r]))return;if(e[r]!==n)return;delete t[r]}for(r in t)if(Ne(t,r))return;return 1}}}}function tm(e){var u=[],s=(e=e||{}).indent,c=im(e.indent_before||\"\"),l=im(e.indent_after||\"\"),f=Go.getEncodeFunc(e.entity_encoding||\"raw\",e.entities),d=\"html\"===e.element_format;return{start:function(e,t,n){var r,o,i,a;if(s&&c[e]&&0<u.length&&0<(a=u[u.length-1]).length&&\"\\n\"!==a&&u.push(\"\\n\"),u.push(\"<\",e),t)for(r=0,o=t.length;r<o;r++)i=t[r],u.push(\" \",i.name,'=\"',f(i.value,!0),'\"');u[u.length]=!n||d?\">\":\" />\",n&&s&&l[e]&&0<u.length&&0<(a=u[u.length-1]).length&&\"\\n\"!==a&&u.push(\"\\n\")},end:function(e){var t;u.push(\"</\",e,\">\"),s&&l[e]&&0<u.length&&0<(t=u[u.length-1]).length&&\"\\n\"!==t&&u.push(\"\\n\")},text:function(e,t){0<e.length&&(u[u.length]=t?e:f(e))},cdata:function(e){u.push(\"<![CDATA[\",e,\"]]>\")},comment:function(e){u.push(\"\\x3c!--\",e,\"--\\x3e\")},pi:function(e,t){t?u.push(\"<?\",e,\" \",f(t),\"?>\"):u.push(\"<?\",e,\"?>\"),s&&u.push(\"\\n\")},doctype:function(e){u.push(\"<!DOCTYPE\",e,\">\",s?\"\\n\":\"\")},reset:function(){u.length=0},getContent:function(){return u.join(\"\").replace(/\\n$/,\"\")}}}function nm(t,g){void 0===g&&(g=to());var p=tm(t);return(t=t||{}).validate=!(\"validate\"in t)||t.validate,{serialize:function(e){var f=t.validate,d={3:function(e){p.text(e.value,e.raw)},8:function(e){p.comment(e.value)},7:function(e){p.pi(e.name,e.value)},10:function(e){p.doctype(e.value)},4:function(e){p.cdata(e.value)},11:function(e){if(e=e.firstChild)for(;m(e),e=e.next;);}};p.reset();var m=function(e){var t=d[e.type];if(t)t(e);else{var n=e.name,r=e.shortEnded,o=e.attributes;if(f&&o&&1<o.length){var i=[];i.map={};var a=g.getElementRule(e.name);if(a){for(var u=0,s=a.attributesOrder.length;u<s;u++)(c=a.attributesOrder[u])in o.map&&(l=o.map[c],i.map[c]=l,i.push({name:c,value:l}));for(var c,l,u=0,s=o.length;u<s;u++)(c=o[u].name)in i.map||(l=o.map[c],i.map[c]=l,i.push({name:c,value:l}));o=i}}if(p.start(e.name,o,r),!r){if(e=e.firstChild)for(;m(e),e=e.next;);p.end(n)}}};return 1!==e.type||t.inner?d[11](e):m(e),p.getContent()}}}Gd.findEndTag=Yd;var rm=Zd,om=Et.each,im=Et.makeMap,am=new Set;function um(e,t){return we(e.parseStyle(e.getAttrib(t,\"style\")))}function sm(n,r,o){return ve.from(o.container()).filter(jn).exists(function(e){var t=n?0:-1;return r(e.data.charAt(o.offset()+t))})}function cm(e){var t=e.container();return jn(t)&&(0===t.data.length||xo(t.data)&&Fl.isBookmarkNode(t.parentNode))}function lm(t,n){return function(e){return ve.from(Gs(t?0:-1,e)).filter(n).isSome()}}function fm(e){return Kn(e)&&\"block\"===xn(Nt.fromDom(e),\"display\")}function dm(e){return Yn(e)&&!(zn(t=e)&&\"all\"===t.getAttribute(\"data-mce-bogus\"));var t}function mm(e){Xt(e),Pn(e,Nt.fromHtml('<br data-mce-bogus=\"1\">'))}function gm(n){Ut(n).each(function(t){Bt(t).each(function(e){lo(n)&&Br(t)&&lo(e)&&Ln(t)})})}function pm(e,t){return o=R,Ve(r=t,n=e)?function(e,t){for(var n=y(t)?t:R,r=e.dom,o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=Nt.fromDom(i);if(o.push(a),!0===n(a))break;r=i}return o}(n,function(e){return o(e)||je(e,r)}).slice(0,-1):[];var n,r,o}function hm(e,t){return[e].concat(pm(e,t))}function vm(e,t,n){return Jl(e,t,n,cm)}function bm(e,t){return M(hm(Nt.fromDom(t.container()),e),lo)}function ym(e,n,r){return vm(e,n.dom,r).forall(function(t){return bm(n,r).fold(function(){return!1===Ys(t,r,n.dom)},function(e){return!1===Ys(t,r,n.dom)&&Ve(e,Nt.fromDom(t.container()))})})}function Cm(t,n,r){return bm(n,r).fold(function(){return vm(t,n.dom,r).forall(function(e){return!1===Ys(e,r,n.dom)})},function(e){return vm(t,e.dom,r).isNone()})}function xm(e){return nc(e).exists(Br)}function wm(e,t,n){var r=Q(U(hm(Nt.fromDom(n.container()),t),lo)).getOr(t);return Gl(e,r.dom,n).filter(xm)}function Sm(e,t){return nc(t).exists(Br)||wm(!0,e,t).isSome()}function Em(e,t){return ve.from(t.getNode(!0)).map(Nt.fromDom).exists(Br)||wm(!1,e,t).isSome()}function Nm(e){return as.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()}function km(e,t){return Q(U(hm(Nt.fromDom(t.container()),e),lo)).getOr(e)}function _m(e,t){return Nm(t)?Kg(t):Kg(t)||Zl(km(e,t).dom,t).exists(Kg)}function Am(e,t){return Nm(t)?Wg(t):Wg(t)||Ql(km(e,t).dom,t).exists(Wg)}function Rm(e){return nc(e).bind(function(e){return pr(e,kn)}).exists(function(e){return D([\"pre\",\"pre-wrap\"],xn(e,\"white-space\"))})}function Dm(e,t){return!Rm(t)&&(np(e,t)||op(e,t)||Em(e,t)||_m(e,t))}function Tm(e,t){return!Rm(t)&&(rp(e,t)||ip(e,t)||Sm(e,t)||Am(e,t))}function Om(e,t){return Dm(e,t)||Tm(e,(r=(n=t).container(),o=n.offset(),jn(r)&&o<r.data.length?as(r,o+1):n));var n,r,o}function Bm(e,t){return of(e.charAt(t))}function Pm(e){var t=e.container();return jn(t)&&Te(t.data,yo)}function Lm(g,e){return ve.some(e).filter(Pm).bind(function(e){var t,n,r,o,i,a,u,s,c,l=e.container(),f=g,d=(i=l).data,m=as(i,0);return(!Bm(d,0)||Om(f,m)?(s=(a=l).data,(c=T(u=s.split(\"\"),function(e,t){return of(e)&&0<t&&t<u.length-1&&Jc(u[t-1])&&Jc(u[t+1])?\" \":e}).join(\"\"))!==s&&(a.data=c,1)):(i.data=\" \"+d.slice(1),1))||(t=g,r=(n=l).data,o=as(n,r.length-1),Bm(r,r.length-1)&&!Om(t,o)&&(n.data=r.slice(0,-1)+\" \",1))?ve.some(e):ve.none()})}function Im(t){var e=Nt.fromDom(t.getBody());t.selection.isCollapsed()&&Lm(e,as.fromRangeStart(t.selection.getRng())).each(function(e){t.selection.setRng(e.toRange())})}function Mm(e,t,n){var r,o,i,a,u,s,c,l;0!==n&&(o=gr(r=Nt.fromDom(e),lo).getOr(r),i=e.data.slice(t,t+n),a=t+n>=e.data.length&&Tm(o,as(e,e.data.length)),u=0===t&&Dm(o,as(e,0)),e.replaceData(t,n,(c=u,l=a,L(s=i,function(e,t){return Gc(t)||of(t)?e.previousCharIsSpace||\"\"===e.str&&c||e.str.length===s.length-1&&l?{previousCharIsSpace:!1,str:e.str+yo}:{previousCharIsSpace:!0,str:e.str+\" \"}:{previousCharIsSpace:!1,str:e.str+t}},{previousCharIsSpace:!1,str:\"\"}).str)))}function Fm(e,t){var n=e.data.slice(t);Mm(e,t,n.length-Qe(n).length)}function Um(e,t){var n=e.data.slice(0,t),r=n.length-Ze(n).length;Mm(e,t-r,r)}function zm(e,t,n,r){void 0===r&&(r=!0);var o=Ze(e.data).length,i=r?e:t,a=r?t:e;return r?i.appendData(a.data):i.insertData(0,a.data),Ln(Nt.fromDom(a)),n&&Fm(i,o),i}function Hm(e,t){return r=e,o=(n=t).container(),i=n.offset(),!1===as.isTextPosition(n)&&o===r.parentNode&&i>as.before(r).offset()?as(t.container(),t.offset()-1):t;var n,r,o,i}function jm(e){return jr(e.previousSibling)?ve.some((t=e.previousSibling,jn(t)?as(t,t.data.length):as.after(t))):e.previousSibling?tf(e.previousSibling):ve.none();var t}function Vm(e){return jr(e.nextSibling)?ve.some((t=e.nextSibling,jn(t)?as(t,0):as.before(t))):e.nextSibling?ef(e.nextSibling):ve.none();var t}function qm(r,o){return jm(o).orThunk(function(){return Vm(o)}).orThunk(function(){return e=r,n=as.before((t=o).previousSibling||t.parentNode),Zl(e,n).fold(function(){return Ql(e,as.after(t))},ve.some);var e,t,n})}function $m(n,r){return Vm(r).orThunk(function(){return jm(r)}).orThunk(function(){return Ql(e=n,as.after(t=r)).fold(function(){return Zl(e,as.before(t))},ve.some);var e,t})}function Wm(t,n,e){e.fold(function(){t.focus()},function(e){t.selection.setRng(e.toRange(),n)})}function Km(e,t){return t&&Ne(e.schema.getBlockElements(),kt(t))}function Xm(e){if(Wr(e)){var t=Nt.fromHtml('<br data-mce-bogus=\"1\">');return Xt(e),Pn(e,t),ve.some(as.before(t.dom))}return ve.none()}function Ym(t,n,e,r){void 0===r&&(r=!0);var o,i,a,u,s,c,l,f,d,m,g,p,h,v,b=(p=n,h=t.getBody(),v=e.dom,(p?$m:qm)(h,v).map(A(Hm,v))),y=gr(e,A(Km,t),(o=t.getBody(),function(e){return e.dom===o})),C=(u=b,i=a=e,s=Ne(t.schema.getTextInlineElements(),kt(i)),m=Bt(a).filter(_n),g=Pt(a).filter(_n),Ln(a),l=g,f=u,d=function(e,t,n){var r=e.dom,o=t.dom,i=r.data.length;return zm(r,o,s),n.container()===o?as(r,i):n},((c=m).isSome()&&l.isSome()&&f.isSome()?ve.some(d(c.getOrDie(),l.getOrDie(),f.getOrDie())):ve.none()).orThunk(function(){return s&&(m.each(function(e){return Um(e.dom,e.dom.length)}),g.each(function(e){return Fm(e.dom,0)})),u}));t.dom.isEmpty(t.getBody())?(t.setContent(\"\"),t.selection.setCursorLocation()):y.bind(Xm).fold(function(){r&&Wm(t,n,C)},function(e){r&&Wm(t,n,ve.some(e))})}function Gm(e){return hu(e,\"td,th\")}function Jm(e,t){return{start:e,end:t}}function Qm(e,t){return br(Nt.fromDom(e),\"td,th\",t)}function Zm(e){return!je(e.start,e.end)}function eg(e,n){return Al(e.start,n).bind(function(t){return Al(e.end,n).bind(function(e){return je(t,e)?ve.some(t):ve.none()})})}function tg(e){return function(t){return eg(t,e).map(function(e){return{rng:t,table:e,cells:Gm(e)}})}}function ng(e,t,n,r){if(n.collapsed||!e.forall(Zm))return ve.none();if(t.isSameTable){var o=e.bind(tg(r));return ve.some({start:o,end:o})}var i,a,u=Qm(n.startContainer,r),s=Qm(n.endContainer,r),c=u.bind((a=r,function(t){return Al(t,a).bind(function(e){return Z(Gm(e)).map(function(e){return Jm(t,e)})})})).bind(tg(r)),l=s.bind((i=r,function(t){return Al(t,i).bind(function(e){return Q(Gm(e)).map(function(e){return Jm(e,t)})})})).bind(tg(r));return ve.some({start:c,end:l})}function rg(e,t){return z(e,function(e){return je(e,t)})}function og(n){return dn(rg(n.cells,n.rng.start),rg(n.cells,n.rng.end),function(e,t){return n.cells.slice(e,t+1)})}function ig(e,t){var n=t.startTable,r=t.endTable,o=e.cloneRange();return n.each(function(e){return o.setStartAfter(e.dom)}),r.each(function(e){return o.setEndBefore(e.dom)}),o}function ag(e,t){var n,r,o,i,a,u,s,c,l,f,d,m,g,p,h,v,b=(n=e,function(e){return je(n,e)}),y=dn(Qm((r=t).startContainer,o=b),Qm(r.endContainer,o),Jm),C=(l=b,f=x((c=t).startContainer),d=x(c.endContainer),m=f.isSome(),g=d.isSome(),p=dn(f,d,je).getOr(!1),{startTable:f,endTable:d,isStartInTable:m,isEndInTable:g,isSameTable:p,isMultiTable:!p&&m&&g});function x(e){return Al(Nt.fromDom(e),l)}return h=t,v=b,y.exists(function(e){return!Zm(t=e)&&eg(t,v).exists(function(e){var t=e.dom.rows;return 1===t.length&&1===t[0].cells.length})&&Rl(e.start,h);var t})?y.map(function(e){return sp.singleCellTable(t,e.start)}):C.isMultiTable?ng(y,u=C,s=t,b).bind(function(e){var t=e.start,n=e.end,r=t.bind(og).getOr([]),o=n.bind(og).getOr([]);if(0<r.length&&0<o.length){var i=ig(s,u);return ve.some(sp.multiTable(r,o,i))}return ve.none()}):ng(y,i=C,a=t,b).bind(function(e){var t=e.start,n=e.end;return t.or(n)}).bind(function(e){var t=i.isSameTable,n=og(e).getOr([]);if(t&&e.cells.length===n.length)return ve.some(sp.fullTable(e.table));if(0<n.length){if(t)return ve.some(sp.partialTable(n,ve.none()));var r=ig(a,i);return ve.some(sp.partialTable(n,ve.some(_e(_e({},i),{rng:r}))))}return ve.none()})}function ug(e){return Y(e,function(e){yn(e,\"contenteditable\"),mm(e)}),0}function sg(e,t,n,r){var o=n.cloneRange();r?(o.setStart(n.startContainer,n.startOffset),o.setEndAfter(t.dom.lastChild)):(o.setStartBefore(t.dom.firstChild),o.setEnd(n.endContainer,n.endOffset)),lp(e,o,t,!1)}function cg(e){var t=_l(e),n=Nt.fromDom(e.selection.getNode());Gn(n.dom)&&Wr(n)?e.selection.setCursorLocation(n.dom,0):e.selection.collapse(!0),1<t.length&&F(t,function(e){return je(e,n)})&&pn(n,\"data-mce-selected\",\"1\")}function lg(s,c,e){var l=s.selection.getRng();return ug(e.bind(function(e){var t,n,r,o=e.rng,i=e.isStartInTable,a=(t=i?o.endContainer:o.startContainer,ve.from(s.dom.getParent(t,s.dom.isBlock)).map(Nt.fromDom));o.deleteContents(),n=s,r=i,a.filter(Wr).each(function(e){r?Ln(e):(mm(e),n.selection.setCursorLocation(e.dom,0))});var u=i?c[0]:c[c.length-1];return sg(s,u,l,i),Wr(u)?ve.none():ve.some(i?c.slice(1):c.slice(0,-1))}).getOr(c)),cg(s),!0}function fg(e,t,n,r){var o=e.selection.getRng(),i=t[0],a=n[n.length-1];sg(e,i,o,!0),sg(e,a,o,!1);var u=Wr(i)?t:t.slice(1),s=Wr(a)?n:n.slice(0,-1);return ug(u.concat(s)),r.deleteContents(),cg(e),!0}function dg(e,t){return Ym(e,!1,t),!0}function mg(e,t){return M(hm(t,e),ho)}function gg(e,t){return(e?Qg:Zg)(t)}function pg(f,d,s){var m=Nt.fromDom(f.getBody());return fp(m,s).fold(function(){return o=f,i=d,a=m,e=s,u=as.fromRangeStart(o.selection.getRng()),mg(a,e).bind(function(e){return Wr(e)?dp(o,e):(t=a,n=e,r=u,Fc(i,o.getBody(),r).bind(function(e){return mg(t,Nt.fromDom(e.getNode())).map(function(e){return!1===je(e,n)})}));var t,n,r}).getOr(!1)||(n=d,r=as.fromRangeStart((t=f).selection.getRng()),gg(n,r)||Gl(n,t.getBody(),r).exists(function(e){return gg(n,e)}));var o,i,a,e,u,t,n,r},function(e){return n=d,r=m,o=e,i=as.fromRangeStart((t=f).selection.getRng()),(Wr(o)?dp(t,o):(u=r,c=o,l=i,Fc(s=n,(a=t).getBody(),l).bind(function(e){return r=s,o=l,i=e,ef((n=c).dom).bind(function(t){return tf(n.dom).map(function(e){return r?o.isEqual(t)&&i.isEqual(e):o.isEqual(e)&&i.isEqual(t)})}).getOr(!0)?dp(a,c):(t=c,fp(u,Nt.fromDom(e.getNode())).map(function(e){return!1===je(e,t)}));var t,n,r,o,i}).or(ve.some(!0)))).getOr(!1);var a,u,s,c,l,t,n,r,o,i})}function hg(e,t){var n,r,o,i,a,u,s,c,l=Nt.fromDom(e.selection.getStart(!0)),f=_l(e);return e.selection.isCollapsed()&&0===f.length?pg(e,t,l):(r=l,o=f,i=Nt.fromDom((n=e).getBody()),a=n.selection.getRng(),0!==o.length?lg(n,o,ve.none()):(u=n,c=a,fp(s=i,r).fold(function(){return t=u,ag(s,c).map(function(e){return e.fold(A(lp,t),A(dg,t),A(lg,t),A(fg,t))});var t},function(e){return dp(u,e)}).getOr(!1)))}function vg(e){return e.collapsed?e:(a=e,u=as.fromRangeStart(a),s=as.fromRangeEnd(a),c=a.commonAncestorContainer,Gl(!1,c,s).map(function(e){return!Ys(u,s,c)&&Ys(u,e,c)?(t=u.container(),n=u.offset(),r=e.container(),o=e.offset(),(i=document.createRange()).setStart(t,n),i.setEnd(r,o),i):a;var t,n,r,o,i}).getOr(a));var a,u,s,c}function bg(e,t){var n,r,o,i,a,u=t.firstChild,s=t.lastChild;return u&&\"meta\"===u.name&&(u=u.next),r=s=s&&\"mce_marker\"===s.attr(\"id\")?s.prev:s,o=(n=e).getNonEmptyElements(),r&&(r.isEmpty(o)||(i=r,n.getBlockElements()[i.name]&&i.firstChild&&i.firstChild===i.lastChild&&(\"br\"===(a=i.firstChild).name||a.value===yo)))&&(s=s.prev),u&&u===s&&(\"ul\"===u.name||\"ol\"===u.name)}function yg(e){return 0<e.length&&(!(r=e[e.length-1]).firstChild||(t=r)&&t.firstChild&&t.firstChild===t.lastChild&&((n=t.firstChild).data===yo||Wn(n)))?e.slice(0,-1):e;var t,n,r}function Cg(e,t){var n=e.getParent(t,e.isBlock);return n&&\"LI\"===n.nodeName?n:null}function xg(e,t){var n=as.after(e),r=Pc(t).prev(n);return r?r.toRange():null}function wg(e,o,i,t){function n(e){var t=as.fromRangeStart(i),n=Pc(o.getRoot()),r=1===e?n.prev(t):n.next(t);return!r||Cg(o,r.getNode())!==R}var r,a,u,s,c,l,f,d,m,g,p,h,v,b,y,C,x,w,S,E,N,k,_,A=(r=o,c=e.serialize(t),u=(a=r.createFragment(c)).firstChild,s=a.lastChild,u&&\"META\"===u.nodeName&&u.parentNode.removeChild(u),s&&\"mce_marker\"===s.id&&s.parentNode.removeChild(s),a),R=Cg(o,i.startContainer),D=yg(U(A.firstChild.childNodes,function(e){return\"LI\"===e.nodeName})),T=o.getRoot();return n(1)?(S=T,_=(w=R).parentNode,Et.each(D,function(e){_.insertBefore(e,w)}),E=S,N=as.before(w),(k=Pc(E).next(N))?k.toRange():null):n(2)?(l=R,d=T,o.insertAfter((f=D).reverse(),l),xg(f[0],d)):(g=D,p=T,h=m=R,b=(v=i).cloneRange(),y=v.cloneRange(),b.setStartBefore(h),y.setEndAfter(h),C=[b.cloneContents(),y.cloneContents()],(x=m.parentNode).insertBefore(C[0],m),Et.each(g,function(e){x.insertBefore(e,m)}),x.insertBefore(C[1],m),x.removeChild(m),xg(g[g.length-1],p))}function Sg(e,t,n){var r,o,i,a,u=e.selection,s=e.dom;/^ | $/.test(t)&&(r=s,o=u.getRng(),i=t,i=Dm(a=Nt.fromDom(r.getRoot()),as.fromRangeStart(o))?i.replace(/^ /,\"&nbsp;\"):i.replace(/^&nbsp;/,\" \"),t=i=Tm(a,as.fromRangeEnd(o))?i.replace(/(&nbsp;| )(<br( \\/)>)?$/,\"&nbsp;\"):i.replace(/&nbsp;(<br( \\/)?>)?$/,\" \"));var c=e.parser,l=n.merge,f=nm({validate:e.getParam(\"validate\")},e.schema),d='<span id=\"mce_marker\" data-mce-type=\"bookmark\">&#xFEFF;</span>',m=e.fire(\"BeforeSetContent\",{content:t,format:\"html\",selection:!0,paste:n.paste});if(m.isDefaultPrevented())e.fire(\"SetContent\",{content:m.content,format:\"html\",selection:!0,paste:n.paste});else{-1===(t=m.content).indexOf(\"{$caret}\")&&(t+=\"{$caret}\"),t=t.replace(/\\{\\$caret\\}/,d);var g,p,h=(g=u.getRng()).startContainer||(g.parentElement?g.parentElement():null),v=e.getBody();h===v&&u.isCollapsed()&&s.isBlock(v.firstChild)&&((p=v.firstChild)&&!e.schema.getShortEndedElements()[p.nodeName])&&s.isEmpty(v.firstChild)&&((g=s.createRng()).setStart(v.firstChild,0),g.setEnd(v.firstChild,0),u.setRng(g)),u.isCollapsed()||function(e){var t=e.dom,n=vg(e.selection.getRng());e.selection.setRng(n);var r,o=t.getParent(n.startContainer,mp),i=n;null!==(r=o)&&r===t.getParent(i.endContainer,mp)&&Rl(Nt.fromDom(r),i)?lp(e,n,Nt.fromDom(o)):e.getDoc().execCommand(\"Delete\",!1,null)}(e);var b,y,C,x,w,S,E,N,k,_,A,R,D,T,O={context:(I=u.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0},B=c.parse(t,O);if(!0===n.paste&&bg(e.schema,B)&&Cg(s,I))return g=wg(f,s,u.getRng(),B),u.setRng(g),void e.fire(\"SetContent\",m);if(function(){for(var e=B;e=e.walk();)1===e.type&&e.attr(\"data-mce-fragment\",\"1\")}(),\"mce_marker\"===(L=B.lastChild).attr(\"id\"))for(var P=L,L=L.prev;L;L=L.walk(!0))if(3===L.type||!s.isBlock(L.name)){e.schema.isValidChild(L.parent.name,\"span\")&&L.parent.insert(P,L,\"br\"===L.name);break}if(e._selectionOverrides.showBlockCaretContainer(I),O.invalid){e.selection.setContent(d);var I=u.getNode(),M=e.getBody();for(9===I.nodeType?I=L=M:L=I;L!==M;)L=(I=L).parentNode;t=I===M?M.innerHTML:s.getOuterHTML(I),t=f.serialize(c.parse(t.replace(/<span (id=\"mce_marker\"|id=mce_marker).+?<\\/span>/i,function(){return f.serialize(B)}))),I===M?s.setHTML(M,t):s.setOuterHTML(I,t)}else b=e,y=t=f.serialize(B),\"all\"===(C=I).getAttribute(\"data-mce-bogus\")?C.parentNode.insertBefore(b.dom.createFragment(y),C):(x=C.firstChild,w=C.lastChild,!x||x===w&&\"BR\"===x.nodeName?b.dom.setHTML(C,y):b.selection.setContent(y));E=l,_=(S=e).schema.getTextInlineElements(),A=S.dom,E&&(N=S.getBody(),k=em(A),Et.each(A.select(\"*[data-mce-fragment]\"),function(e){if(V(_[e.nodeName.toLowerCase()])&&j(um(A,e),function(e){return!am.has(e)}))for(var t=e.parentNode;V(t)&&t!==N&&!function(r,o,i){function a(e){var t=r.getStyle(o,e),n=r.getStyle(i,e);return Be(t)&&Be(n)&&t!==n}var e=um(r,o),u=um(r,i);return F(e,function(t){function e(e){return F(e,function(e){return e===t})}if(e(u)||!e($g))return a(t);var n=U(u,function(t){return F($g,function(e){return Ge(t,e)})});return F(n,a)})}(A,e,t);t=t.parentNode)if(k.compare(t,e)){A.remove(e,!0);break}})),function(n,e){var t,r=n.dom,o=n.selection;if(e){o.scrollIntoView(e);var i=pf(n.getBody(),e);if(\"false\"===r.getContentEditable(i))return r.remove(e),o.select(i);var a,u=r.createRng(),s=e.previousSibling;jn(s)?(u.setStart(s,s.nodeValue.length),xt.ie||(a=e.nextSibling,jn(a)&&(s.appendData(a.data),a.parentNode.removeChild(a)))):(u.setStartBefore(e),u.setEndBefore(e));var c=r.getParent(e,r.isBlock);r.remove(e),c&&r.isEmpty(c)&&(n.$(c).empty(),u.setStart(c,0),u.setEnd(c,0),mp(c)||c.getAttribute(\"data-mce-fragment\")||!(t=function(e){var t=as.fromRangeStart(e);if(t=Pc(n.getBody()).next(t))return t.toRange()}(u))?r.add(c,r.create(\"br\",{\"data-mce-bogus\":\"1\"})):(u=t,r.remove(c))),o.setRng(u)}}(e,s.get(\"mce_marker\")),R=e.getBody(),Et.each(R.getElementsByTagName(\"*\"),function(e){e.removeAttribute(\"data-mce-fragment\")}),D=s,T=u.getStart(),ve.from(D.getParent(T,\"td,th\")).map(Nt.fromDom).each(gm),e.fire(\"SetContent\",m),e.addVisual()}}function Eg(e){return e instanceof Ud}function Ng(e,t,n){var r;e.dom.setHTML(e.getBody(),t),!0!==n&&vd(r=e)&&ef(r.getBody()).each(function(e){var t=e.getNode(),n=cn(t)?ef(t).getOr(e):e;r.selection.setRng(n.toRange())})}function kg(u,s,e){var t,n=(t=s,_e(_e({format:\"html\"},e),{set:!0,content:Eg(t)?\"\":t})),c=e.no_events?n:u.fire(\"BeforeSetContent\",n);return Eg(s)||(s=c.content),ve.from(u.getBody()).fold(J(s),function(e){return Eg(s)?function(e,t,n,r){var o,i,u,a;o=e.parser.getNodeFilters(),i=e.parser.getAttributeFilters(),u=n,a=function(e,n){var t,r,o={},i={},a=[];for(t in u.firstChild&&gp(u.firstChild,function(t){Y(e,function(e){e.name===t.name&&(o[e.name]?o[e.name].nodes.push(t):o[e.name]={filter:e,nodes:[t]})}),Y(n,function(e){\"string\"==typeof t.attr(e.name)&&(i[e.name]?i[e.name].nodes.push(t):i[e.name]={filter:e,nodes:[t]})})}),o)Ne(o,t)&&a.push(o[t]);for(r in i)Ne(i,r)&&a.push(i[r]);return a}(o,i),Y(a,function(t){Y(t.filter.callbacks,function(e){e(t.nodes,t.filter.name,{})})});var s=nm({validate:e.validate},e.schema).serialize(n);return r.content=vo(Nt.fromDom(t))?s:Et.trim(s),Ng(e,r.content,r.no_selection),r.no_events||e.fire(\"SetContent\",r),n}(u,e,s,c):(t=u,n=e,o=c,0===(r=s).length||/^\\s+$/.test(r)?(i='<br data-mce-bogus=\"1\">',\"TABLE\"===n.nodeName?r=\"<tr><td>\"+i+\"</td></tr>\":/^(UL|OL)$/.test(n.nodeName)&&(r=\"<li>\"+i+\"</li>\"),r=(a=Ss(t))&&t.schema.isValidChild(n.nodeName.toLowerCase(),a.toLowerCase())?(r=i,t.dom.createHTML(a,Es(t),r)):r||'<br data-mce-bogus=\"1\">',Ng(t,r,o.no_selection),t.fire(\"SetContent\",o)):(\"raw\"!==o.format&&(r=nm({validate:t.validate},t.schema).serialize(t.parser.parse(r,{isRootContent:!0,insert:!0}))),o.content=vo(Nt.fromDom(n))?r:Et.trim(r),Ng(t,o.content,o.no_selection),o.no_events||t.fire(\"SetContent\",o)),o.content);var t,n,r,o,i,a})}function _g(e){return y(e)?e:R}function Ag(i,e,t){var n=e(i),a=_g(t);return n.orThunk(function(){return a(i)?ve.none():function(e){for(var t=i.dom,n=_g(a);t.parentNode;){var t=t.parentNode,r=Nt.fromDom(t),o=e(r);if(o.isSome())return o;if(n(r))break}return ve.none()}(e)})}function Rg(e,t,n){var r=e.formatter.get(n);if(r)for(var o=0;o<r.length;o++){var i=r[o];if(fl(i)&&!1===i.inherit&&e.dom.is(t,i.selector))return 1}}function Dg(t,e,n,r,o){var i=t.dom.getRoot();return e!==i&&(e=t.dom.getParent(e,function(e){return!!Rg(t,e,n)||e.parentNode===i||!!hp(t,e,n,r,!0)}),!!hp(t,e,n,r,o))}function Tg(e,t,n){return!!pp(t,n.inline)||!!pp(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0)}function Og(e,t,n,r,o,i){var a=n[r];if(y(n.onmatch))return n.onmatch(t,n,r);if(a)if(b(a.length)){for(var u in a)if(Ne(a,u)){var s=\"attributes\"===r?e.getAttrib(t,u):al(e,t,u),c=rl(a[u],i),l=K(s)||Pe(s);if(!l||!K(c)){if(o&&l&&!n.exact)return;if((!o||n.exact)&&!pp(s,il(e,c,u)))return}}}else for(var f=0;f<a.length;f++)if(\"attributes\"===r?e.getAttrib(t,a[f]):al(e,t,a[f]))return 1;return 1}function Bg(e,t,n,r,o){if(r)return Dg(e,r,t,n,o);if(r=e.selection.getNode(),Dg(e,r,t,n,o))return!0;var i=e.selection.getStart();return!(i===r||!Dg(e,i,t,n,o))}function Pg(e){return 0<function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==vp||1<e.childNodes.length)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t}(e).length}function Lg(e){if(e){var t=new Rr(e,e);for(e=t.current();e;e=t.next())if(jn(e))return e}return null}function Ig(e){var t=Nt.fromTag(\"span\");return hn(t,{id:bp,\"data-mce-bogus\":\"1\",\"data-mce-type\":\"format-caret\"}),e&&Pn(t,Nt.fromText(vp)),t}function Mg(e,t,n){void 0===n&&(n=!0);var r,o,i,a,u,s,c,l,f=e.dom,d=e.selection;Pg(t)?Ym(e,!1,Nt.fromDom(t),n):(r=d.getRng(),o=f.getParent(t,f.isBlock),i=r.startContainer,a=r.startOffset,u=r.endContainer,s=r.endOffset,(l=Lg(t))&&l.nodeValue.charAt(0)===vp&&l.deleteData(0,1),c=l,f.remove(t,!0),i===c&&0<a&&r.setStart(c,a-1),u===c&&0<s&&r.setEnd(c,s-1),o&&f.isEmpty(o)&&mm(Nt.fromDom(o)),d.setRng(r))}function Fg(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(t)Mg(e,t,n);else if(!(t=Hc(e.getBody(),o.getStart())))for(;t=r.get(bp);)Mg(e,t,!1)}function Ug(e,t){return e.appendChild(t),t}function zg(e,t){var n=P(e,function(e,t){return Ug(e,t.cloneNode(!1))},t);return Ug(n,n.ownerDocument.createTextNode(vp))}function Hg(o,e,t,i,n,r){var a,u,s=o.formatter,c=o.dom,l=U(we(s.get()),function(e){return e!==i&&!Te(e,\"removeformat\")});if(0<U((a=o,u=t,L(l,function(e,t){var n=cl(a,t);return a.formatter.matchNode(u,t,{},n)?e.concat([t]):e},[])),function(e){return n=i,r=[\"inline\",\"block\",\"selector\",\"attributes\",\"styles\",\"classes\"],!F((t=o).formatter.get(e),function(e){var i=a(e);return F(t.formatter.get(n),function(e){var t,n=a(e),r=i,o=n;return d(t=void 0===t?p:t).eq(r,o)})});function a(e){return ae(e,function(e,t){return F(r,function(e){return e===t})})}var t,n,r}).length){var f=t.cloneNode(!1);return c.add(e,f),s.remove(i,n,f,r),c.remove(f),ve.some(f)}return ve.none()}function jg(e,t,n,r){var o,i,a,u,s,c,l,f,d,m,g,p,h,v,b,y=e.dom,C=e.selection,x=[],w=C.getRng(),S=w.startContainer,E=w.startOffset,N=S;for(3===S.nodeType&&(E!==S.nodeValue.length&&(o=!0),N=N.parentNode);N;){if(hp(e,N,t,n,r)){i=N;break}N.nextSibling&&(o=!0),x.push(N),N=N.parentNode}i&&(o?(a=C.getBookmark(),w.collapse(!0),u=Tf(Sl(e,w,e.formatter.get(t),!0)),e.formatter.remove(t,n,u,r),C.moveToBookmark(a)):(s=Hc(e.getBody(),i),d=c=Ig(!1).dom,(p=(g=e.dom).getParent(m=null!==s?s:i,A(tl,e)))&&g.isEmpty(p)?m.parentNode.replaceChild(d,m):(h=Nt.fromDom(m),v=hu(h,\"br\"),b=U(function(){for(var e=[],t=h.dom;t;)e.push(Nt.fromDom(t)),t=t.lastChild;return e}().slice(-1),Br),v.length===b.length&&Y(b,Ln),g.isEmpty(m)?m.parentNode.replaceChild(d,m):g.insertAfter(d,m)),l=Hg(e,c,i,t,n,r),f=zg(x.concat(l.toArray()),c),Mg(e,s,!1),C.setCursorLocation(f,1),y.isEmpty(i)&&y.remove(i)))}function Vg(e,t){var n=e.schema.getTextInlineElements();return Ne(n,kt(t))&&!zc(t.dom)&&!sn(t.dom)}Y([\"margin\",\"margin-left\",\"margin-right\",\"margin-top\",\"margin-bottom\",\"padding\",\"padding-left\",\"padding-right\",\"padding-top\",\"padding-bottom\",\"border\",\"border-width\",\"border-style\",\"border-color\",\"background\",\"background-attachment\",\"background-clip\",\"background-color\",\"background-image\",\"background-origin\",\"background-position\",\"background-repeat\",\"background-size\",\"float\",\"position\",\"left\",\"right\",\"top\",\"bottom\",\"z-index\",\"display\",\"transform\",\"width\",\"max-width\",\"min-width\",\"height\",\"max-height\",\"min-height\",\"overflow\",\"overflow-x\",\"overflow-y\",\"text-overflow\",\"vertical-align\",\"transition\",\"transition-delay\",\"transition-duration\",\"transition-property\",\"transition-timing-function\"],function(e){am.add(e)});var qg,$g=[\"font\",\"text-decoration\",\"text-emphasis\"],Wg=A(sm,!0,Gc),Kg=A(sm,!1,Gc),Xg=lm(!0,fm),Yg=lm(!1,fm),Gg=lm(!0,Jn),Jg=lm(!1,Jn),Qg=lm(!0,cn),Zg=lm(!1,cn),ep=lm(!0,dm),tp=lm(!1,dm),np=A(Cm,!1),rp=A(Cm,!0),op=A(ym,!1),ip=A(ym,!0),ap=A(wm,!1),up=A(wm,!0),sp=or([{singleCellTable:[\"rng\",\"cell\"]},{fullTable:[\"table\"]},{partialTable:[\"cells\",\"outsideDetails\"]},{multiTable:[\"startTableCells\",\"endTableCells\",\"betweenRng\"]}]),cp=function(e){var t;return(8===_t(t=e)||\"#comment\"===kt(t)?Bt:Ut)(e).bind(cp).orThunk(function(){return ve.some(e)})},lp=function(e,t,n,r){void 0===r&&(r=!0),t.deleteContents();var o,i=cp(n).getOr(n),a=Nt.fromDom(e.dom.getParent(i.dom,e.dom.isBlock));return Wr(a)&&(mm(a),r&&e.selection.setCursorLocation(a.dom,0)),je(n,a)||Y((fn(Ot(a),n)?[]:Ot(o=a).map(Dn).map(function(e){return U(e,function(e){return!je(o,e)})}).getOr([])).concat(Dn(n)),function(e){je(e,a)||Ve(e,a)||!Wr(e)||Ln(e)}),!0},fp=function(e,t){return M(hm(t,e),function(e){return kn(e)&&\"caption\"===kt(e)})},dp=function(e,t){return mm(t),e.selection.setCursorLocation(t.dom,0),ve.some(!0)},mp=Gn,gp=function(e,t){t(e),e.firstChild&&gp(e.firstChild,t),e.next&&gp(e.next,t)},pp=ol,hp=function(e,t,n,r,o){var i=e.formatter.get(n),a=e.dom;if(i&&t)for(var u=0;u<i.length;u++){var s=i[u];if(Tg(e.dom,t,s)&&Og(a,t,s,\"attributes\",o,r)&&Og(a,t,s,\"styles\",o,r)){var c=s.classes;if(c)for(var l=0;l<c.length;l++)if(!e.dom.hasClass(t,rl(c[l],r)))return;return s}}},vp=Co,bp=\"_mce_caret\",yp={},Cp=fe,xp=ce;function wp(e){return zn(e)&&!Yc(e)&&!zc(e)&&!sn(e)}function Sp(e,t){for(var n=e;n;n=n[t]){if(jn(n)&&Be(n.data))return e;if(zn(n)&&!Yc(n))return n}return e}function Ep(e,t,n){var r=em(e);if(t&&n&&(t=Sp(t,\"previousSibling\"),n=Sp(n,\"nextSibling\"),r.compare(t,n))){for(var o=t.nextSibling;o&&o!==n;){var i=o,o=o.nextSibling;t.appendChild(i)}return e.remove(n),Et.each(Et.grep(n.childNodes),function(e){t.appendChild(e)}),t}return n}function Np(e,t,n,r){var o;r&&!1!==t.merge_siblings&&(o=Ep(e,el(r),r),Ep(e,o,el(o,!0)))}function kp(t,n){return function(e){return!(!e||!al(t,e,n))}}function _p(r,o,i){return function(e){var t,n;r.setStyle(e,o,i),\"\"===e.getAttribute(\"style\")&&e.removeAttribute(\"style\"),t=r,\"SPAN\"===(n=e).nodeName&&0===t.getAttribs(n).length&&t.remove(n,!0)}}function Ap(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)}function Rp(e,t,n){var r,o=t[n?\"startContainer\":\"endContainer\"],i=t[n?\"startOffset\":\"endOffset\"];return zn(o)&&(r=o.childNodes.length-1,!n&&i&&i--,o=o.childNodes[r<i?r:i]),jn(o)&&n&&i>=o.nodeValue.length&&(o=new Rr(o,e.getBody()).next()||o),jn(o)&&!n&&0===i&&new Rr(o,e.getBody()).prev()||o}function Dp(e,t){var n=t?\"firstChild\":\"lastChild\";if(/^(TR|TH|TD)$/.test(e.nodeName)&&e[n]){var r=e[n];return\"TR\"===e.nodeName&&r[n]||r}return e}function Tp(e,t,n,r){var o=e.create(n,r);return t.parentNode.insertBefore(o,t),o.appendChild(t),o}function Op(e,t,n,r,o){var i=Nt.fromDom(t),a=Nt.fromDom(e.create(r,o));return Kt(a,(n?It:Lt)(i)),n?(qt(i,a),Wt(a,i)):($t(i,a),Pn(a,i)),a.dom}function Bp(e,t,n,r){var o=el(t,n,r);return K(o)||\"BR\"===o.nodeName||e.isBlock(o)}function Pp(e,r,o,t,i){var n,a,u=e.dom,s=u,c=t;if(!(dl(a=r)&&kh(c,a.inline)||ll(a)&&kh(c,a.block)||fl(a)&&(zn(c)&&s.is(c,a.selector))||r.links&&\"A\"===t.nodeName))return Sh.keep();var l,f,d,m,g,p,h,v,b=t;if(dl(r)&&\"all\"===r.remove&&S(r.preserve_attributes)){var y=U(u.getAttribs(b),function(e){return D(r.preserve_attributes,e.name.toLowerCase())});if(u.removeAllAttribs(b),Y(y,function(e){return u.setAttrib(b,e.name,e.value)}),0<y.length)return Sh.rename(\"span\")}if(\"all\"!==r.remove){Nh(r.styles,function(e,t){e=il(u,rl(e,o),t+\"\"),E(t)&&(t=e,i=null),!r.remove_similar&&i&&!kh(al(u,i,t),e)||u.setStyle(b,t,\"\"),n=!0}),n&&\"\"===u.getAttrib(b,\"style\")&&(b.removeAttribute(\"style\"),b.removeAttribute(\"data-mce-style\")),Nh(r.attributes,function(e,t){var n;if(e=rl(e,o),E(t)&&(t=e,i=null),r.remove_similar||!i||kh(u.getAttrib(i,t),e))if(\"class\"===t&&(e=u.getAttrib(b,t))&&(n=\"\",Y(e.split(/\\s+/),function(e){/mce\\-\\w+/.test(e)&&(n+=(n?\" \":\"\")+e)}),n))u.setAttrib(b,t,n);else{if(Eh.test(t)&&b.removeAttribute(\"data-mce-\"+t),\"style\"===t&&on([\"li\"])(b)&&\"none\"===u.getStyle(b,\"list-style-type\"))return b.removeAttribute(t),void u.setStyle(b,\"list-style-type\",\"none\");\"class\"===t&&b.removeAttribute(\"className\"),b.removeAttribute(t)}}),Nh(r.classes,function(e){e=rl(e,o),i&&!u.hasClass(i,e)||u.removeClass(b,e)});for(var C=u.getAttribs(b),x=0;x<C.length;x++){var w=C[x].nodeName;if(0!==w.indexOf(\"_\")&&0!==w.indexOf(\"data-\"))return Sh.keep()}}return\"none\"!==r.remove?(l=e,d=r,p=(f=b).parentNode,h=l.dom,v=Ss(l),ll(d)&&(v?p===h.getRoot()&&(d.list_block&&kh(f,d.list_block)||Y(xe(f.childNodes),function(e){nl(l,v,e.nodeName.toLowerCase())?m?m.appendChild(e):(m=Tp(h,e,v),h.setAttribs(m,l.settings.forced_root_block_attrs)):m=null})):h.isBlock(f)&&!h.isBlock(p)&&(Bp(h,f,!1)||Bp(h,f.firstChild,!0,!0)||f.insertBefore(h.create(\"br\"),f.firstChild),Bp(h,f,!0)||Bp(h,f.lastChild,!1,!0)||f.appendChild(h.create(\"br\")))),fl(g=d)&&dl(g)&&fn(ue(g,\"mixed\"),!0)&&!kh(d.inline,f)||h.remove(f,!0),Sh.removed()):Sh.keep()}function Lp(t,e,n,r,o){return Pp(t,e,n,r,o).fold(R,function(e){return t.dom.rename(r,e),!0},w)}function Ip(u,s,c,e,l){function a(e){var n,r,o,i,a,t=(r=s,o=c,i=l,Y(sl((n=u).dom,e.parentNode).reverse(),function(e){var t;a||\"_start\"===e.id||\"_end\"===e.id||(t=hp(n,e,r,o,i))&&!1!==t.split&&(a=e)}),a);return function(e,t,n,r,o,i,a,u){var s,c,l=e.dom;if(n){for(var f=n.parentNode,d=r.parentNode;d&&d!==f;d=d.parentNode){for(var m=l.clone(d,!1),g=0;g<t.length&&null!==(m=function(t,e,n){return Pp(t,e,u,n,n).fold(J(n),function(e){return t.dom.createFragment().appendChild(n),t.dom.rename(n,e)},J(null))}(e,t[g],m));g++);m&&(s&&m.appendChild(s),c=c||m,s=m)}!i||a.mixed&&l.isBlock(n)||(r=l.split(n,r)),s&&(o.parentNode.insertBefore(s,o),c.appendChild(o),dl(a)&&Np(l,a,0,s))}return r}(u,m,t,e,e,!0,g,c)}function f(t){return F(m,function(e){return Lp(u,e,c,t,t)})}function d(e){var t,n=h.get(e?\"_start\":\"_end\"),r=n[e?\"firstChild\":\"lastChild\"];return Yc(t=r)&&zn(t)&&(\"_start\"===t.id||\"_end\"===t.id)&&(r=r[e?\"firstChild\":\"lastChild\"]),jn(r)&&0===r.data.length&&(r=e?n.previousSibling||n.nextSibling:n.nextSibling||n.previousSibling),h.remove(n,!0),r}function t(e){var t=Sl(u,e,m,e.collapsed);if(g.split){if(t=Tf(t),(r=Rp(u,t,!0))!==(o=Rp(u,t))){if(r=Dp(r,!0),o=Dp(o,!1),Ap(h,r,o)){var n=ve.from(r.firstChild).getOr(r);return a(Op(h,n,!0,\"span\",{id:\"_start\",\"data-mce-type\":\"bookmark\"})),void d(!0)}if(Ap(h,o,r))return n=ve.from(o.lastChild).getOr(o),a(Op(h,n,!1,\"span\",{id:\"_end\",\"data-mce-type\":\"bookmark\"})),void d(!1);var r=Tp(h,r,\"span\",{id:\"_start\",\"data-mce-type\":\"bookmark\"}),o=Tp(h,o,\"span\",{id:\"_end\",\"data-mce-type\":\"bookmark\"}),i=h.createRng();i.setStartAfter(r),i.setEndBefore(o),El(h,i,function(e){Y(e,function(e){Yc(e)||Yc(e.parentNode)||a(e)})}),a(r),a(o),r=d(!0),o=d()}else r=o=a(r);t.startContainer=r.parentNode||r,t.startOffset=h.nodeIndex(r),t.endContainer=o.parentNode||o,t.endOffset=h.nodeIndex(o)+1}El(h,t,function(e){Y(e,v)})}var n,m=u.formatter.get(s),g=m[0],p=!0,h=u.dom,r=u.selection,v=function(t){var e=!0,n=!1;zn(t)&&h.getContentEditable(t)&&(e=p,p=\"true\"===h.getContentEditable(t),n=!0);var r,o,i=xe(t.childNodes);if(p&&!n&&(r=f(t),o=t.parentNode,!r&&V(o)&&ml(g)&&f(o)),g.deep&&i.length){for(var a=0;a<i.length;a++)v(i[a]);n&&(p=e)}Y([\"underline\",\"line-through\",\"overline\"],function(e){zn(t)&&u.dom.getStyle(t,\"text-decoration\")===e&&t.parentNode&&ul(h,t.parentNode)===e&&Lp(u,{deep:!1,exact:!0,inline:\"span\",styles:{textDecoration:e}},null,t)})};if(e)return Qc(e)?((n=h.createRng()).setStartBefore(e),n.setEndAfter(e),t(n)):t(e),void yf(u,s,e,c);if(\"false\"!==h.getContentEditable(r.getNode()))r.isCollapsed()&&dl(g)&&!_l(u).length?jg(u,s,c,l):(Bl(r,!0,function(){Ol(u,t)}),dl(g)&&Bg(u,s,c,r.getStart())&&Zc(h,r,r.getRng()),u.nodeChanged()),yf(u,s,e,c);else{e=r.getNode();for(var o=0;o<m.length&&(!m[o].ceFalseOverride||!Lp(u,m[o],c,e,e));o++);yf(u,s,e,c)}}function Mp(e){return zn(e)&&!Yc(e)&&!zc(e)&&!sn(e)}function Fp(e){return Ne(e,\"vars\")}function Up(n,e,r,o,i){return I(e,function(e){var t=n.formatter.matchNode(e,r,null!=i?i:{},o);return!b(t)},function(e){return Rg(n,e,r)||!o&&V(n.formatter.matchNode(e,r,i,!0))})}function zp(e,t){var n=null!=t?t:Dh(e);return U(sl(e.dom,n),function(e){return zn(e)&&!sn(e)})}function Hp(e,o,i,a,t,n){var r,u,s,c,l,f,d,m,g;return null===o.get()&&(u=e,(r=o).set({}),u.on(\"NodeChange\",function(e){Th(u,e.element,r.get())}),u.on(\"FormatApply FormatRemove\",function(e){var t=ve.from(e.node).map(function(e){return Qc(e)?e:e.startContainer}).bind(function(e){return zn(e)?ve.some(e):ve.from(e.parentElement)}).getOrThunk(function(){return Dh(u)});Th(u,t,r.get())})),s=e,l=i,f=a,d=t,m=n,g=(c=o).get(),Y(l.split(\",\"),function(t){function e(){var e=zp(s);return Up(s,e,t,d,m).isSome()}var n,r=ue(g,t).getOrThunk(function(){var e={withSimilar:{state:ru(!1),similar:!0,callbacks:[]},withoutSimilar:{state:ru(!1),similar:!1,callbacks:[]},withVars:[]};return g[t]=e});b(m)?((n=d?r.withSimilar:r.withoutSimilar).callbacks.push(f),1===n.callbacks.length&&n.state.set(e())):r.withVars.push({state:ru(e()),similar:d,vars:m,callback:f})}),c.set(g),{unbind:function(){var e,t=i,n=a,r=(e=o).get();Y(t.split(\",\"),function(t){return ue(r,t).each(function(e){r[t]={withSimilar:_e(_e({},e.withSimilar),{callbacks:U(e.withSimilar.callbacks,function(e){return e!==n})}),withoutSimilar:_e(_e({},e.withoutSimilar),{callbacks:U(e.withoutSimilar.callbacks,function(e){return e!==n})}),withVars:U(e.withVars,function(e){return e.callback!==n})}})}),e.set(r)}}}function jp(e,t){var n=(t||document).createDocumentFragment();return Y(e,function(e){n.appendChild(e.dom)}),Nt.fromDom(n)}function Vp(e,t,n){return{element:e,width:t,rows:n}}function qp(e,t){return{element:e,cells:t}}function $p(e,t){var n=parseInt(vn(e,t),10);return isNaN(n)?1:n}function Wp(e){return L(e,function(e,t){return t.cells.length>e?t.cells.length:e},0)}function Kp(e,t){for(var n=e.rows,r=0;r<n.length;r++)for(var o=n[r].cells,i=0;i<o.length;i++)if(je(o[i],t))return ve.some({x:i,y:r});return ve.none()}function Xp(e,t,n,r,o){for(var i=[],a=e.rows,u=n;u<=o;u++){var s=a[u].cells,c=t<r?s.slice(t,r+1):s.slice(r,t+1);i.push(qp(a[u].element,c))}return i}function Yp(e){var o=Vp(wu(e),0,[]);return Y(hu(e,\"tr\"),function(n,r){Y(hu(n,\"td,th\"),function(e,t){!function(e,t,n,r,o){for(var i=$p(o,\"rowspan\"),a=$p(o,\"colspan\"),u=e.rows,s=n;s<n+i;s++){u[s]||(u[s]=qp(Su(r),[]));for(var c=t;c<t+a;c++)u[s].cells[c]=s===n&&c===t?o:wu(o)}}(o,function(e,t,n){for(;r=t,((o=e.rows)[n]?o[n].cells:[])[r];)t++;var r,o;return t}(o,t,r),r,n,e)})}),Vp(o.element,Wp(o.rows),o.rows)}function Gp(e,t){var n,r,o,i=Nt.fromDom(t.commonAncestorContainer),a=hm(i,e),u=U(a,function(e){return Or(e)||co(e)}),s=(o=t,M(r=a,function(e){return\"li\"===kt(e)&&Rl(e,o)}).fold(J([]),function(e){return M(r,function(e){return\"ul\"===kt(e)||\"ol\"===kt(e)}).map(function(e){var t=Nt.fromTag(kt(e));return Cn(t,ae(Sn(e),function(e,t){return Ge(t,\"list-style\")})),[Nt.fromTag(\"li\"),t]}).getOr([])}));return T(u.concat(s.length?s:go(n=i)?Ot(n).filter(mo).fold(J([]),function(e){return[n,e]}):mo(n)?[n]:[]),wu)}function Jp(){return jp([])}function Qp(e,i){return hr(i[0],\"table\",A(je,e)).bind(function(e){var s,t,n=i[0],r=i[i.length-1],o=Yp(e);return t=r,Kp(s=o,n).bind(function(u){return Kp(s,t).map(function(e){return t=s,n=u.x,r=u.y,o=e.x,a=r<(i=e.y)?Xp(t,n,r,o,i):Xp(t,n,i,o,r),Vp(t.element,Wp(a),a);var t,n,r,o,i,a})}).map(function(e){return jp([(n=T((t=e).rows,function(e){var t=T(e.cells,function(e){var t=Su(e);return yn(t,\"colspan\"),yn(t,\"rowspan\"),t}),n=wu(e.element);return Kt(n,t),n}),r=wu(t.element),Kt(o=Nt.fromTag(\"tbody\"),n),Pn(r,o),r)]);var t,n,r,o})}).getOrThunk(Jp)}function Zp(e,t){var n,r,o,i,a,u,s,c=kl(t,e);return 0<c.length?Qp(e,c):(n=e,0<(r=t).length&&r[0].collapsed?Jp():(o=n,i=r[0],a=Nt.fromDom(i.cloneContents()),s=L(u=Gp(o,i),function(e,t){return Pn(t,e),t},a),0<u.length?jp([s]):s))}function eh(e,t){return 0<=t&&t<e.length&&Gc(e.charAt(t))}function th(e,t){var n=wo(e.innerText);return t?n.replace(/^[ \\f\\n\\r\\t\\v]+/,\"\"):n}function nh(e){return zn(e)?e.outerHTML:jn(e)?Go.encodeRaw(e.data,!1):Vn(e)?\"\\x3c!--\"+e.data+\"--\\x3e\":\"\"}function rh(e,c){var l=0;Y(e,function(e){var t,n,r,o,i,a,u,s;0===e[0]?l++:1===e[0]?(o=c,i=e[1],a=l,s=function(e){var t,n=document.createElement(\"div\"),r=document.createDocumentFragment();for(e&&(n.innerHTML=e);t=n.firstChild;)r.appendChild(t);return r}(i),o.hasChildNodes()&&a<o.childNodes.length?(u=o.childNodes[a]).parentNode.insertBefore(s,u):o.appendChild(s),l++):2===e[0]&&(n=l,(t=c).hasChildNodes()&&n<t.childNodes.length&&(r=t.childNodes[n]).parentNode.removeChild(r))})}function oh(n){var e,t=H((e=n.getBody(),U(T(xe(e.childNodes),nh),function(e){return 0<e.length})),function(e){var t=Zd(n.serializer,e);return 0<t.length?[t]:[]}),r=t.join(\"\");return-1!==r.indexOf(\"</iframe>\")?{type:\"fragmented\",fragments:t,content:\"\",bookmark:null,beforeBookmark:null}:{type:\"complete\",fragments:null,content:r,bookmark:null,beforeBookmark:null}}function ih(e,t,n){var r,o,i,g,p,a,h,v,c,l,u,s=n?t.beforeBookmark:t.bookmark;function b(e,t,n,r){for(var o=e;o-t<r&&o<n&&g[o]===p[o-t];)++o;return{start:e,end:o,diag:t}}\"fragmented\"===t.type?(r=t.fragments,o=e.getBody(),i=T(xe(o.childNodes),nh),rh((p=r,a=(g=i).length+p.length+2,h=new Array(a),v=new Array(a),c=function(e,t,n,r,o){var i=l(e,t,n,r);if(null===i||i.start===t&&i.diag===t-r||i.end===e&&i.diag===e-n)for(var a=e,u=n;a<t||u<r;)a<t&&u<r&&g[a]===p[u]?(o.push([0,g[a]]),++a,++u):r-n<t-e?(o.push([2,g[a]]),++a):(o.push([1,p[u]]),++u);else{c(e,i.start,n,i.start-i.diag,o);for(var s=i.start;s<i.end;++s)o.push([0,g[s]]);c(i.end,t,i.end-i.diag,r,o)}},l=function(e,t,n,r){var o=t-e,i=r-n;if(0==o||0==i)return null;var a,u,s,c,l,f=o-i,d=i+o,m=(d%2==0?d:1+d)/2;for(h[1+m]=e,v[1+m]=t+1,a=0;a<=m;++a){for(u=-a;u<=a;u+=2){for(s=u+m,u===-a||u!==a&&h[s-1]<h[s+1]?h[s]=h[s+1]:h[s]=h[s-1]+1,l=(c=h[s])-e+n-u;c<t&&l<r&&g[c]===p[l];)h[s]=++c,++l;if(f%2!=0&&f-a<=u&&u<=f+a&&v[s-f]<=h[s])return b(v[s-f],u+e-n,t,r)}for(u=f-a;u<=f+a;u+=2){for(s=u+m-f,u===f-a||u!==f+a&&v[s+1]<=v[s-1]?v[s]=v[s+1]-1:v[s]=v[s-1],l=(c=v[s]-1)-e+n-u;e<=c&&n<=l&&g[c]===p[l];)v[s]=c--,l--;if(f%2==0&&-a<=u&&u<=a&&v[s]<=h[s+f])return b(v[s],u+e-n,t,r)}}},u=[],c(0,g.length,0,p.length,u),u),o)):e.setContent(t.content,{format:\"raw\",no_selection:!V(s)||!jc(s)||!s.isFakeCaret}),e.selection.moveToBookmark(s)}function ah(e){return\"fragmented\"===e.type?e.fragments.join(\"\"):e.content}function uh(e){var t=Nt.fromTag(\"body\",Oh());return Cu(t,ah(e)),Y(hu(t,\"*[data-mce-bogus]\"),Yt),t.dom.innerHTML}function sh(e,t){return!(!e||!t)&&(r=t,ah(e)===ah(r)||(n=t,uh(e)===uh(n)));var n,r}function ch(e){return 0===e.get()}function lh(e,t,n){ch(n)&&(e.typing=t)}function fh(e,t){e.typing&&(lh(e,!1,t),e.add())}function dh(c){return{undoManager:{beforeChange:function(e,t){var n=c,r=t;ch(e)&&r.set(mc(n.selection))},add:function(e,t,n,r,o,i){return function(e,t,n,r,o,i,a){var u=oh(e);if(i=Et.extend(i=i||{},u),!1===ch(r)||e.removed)return null;var s=t.data[n.get()];if(e.fire(\"BeforeAddUndo\",{level:i,lastLevel:s,originalEvent:a}).isDefaultPrevented())return null;if(s&&sh(s,i))return null;t.data[n.get()]&&o.get().each(function(e){t.data[n.get()].beforeBookmark=e});var c=e.getParam(\"custom_undo_redo_levels\",0,\"number\");if(c&&t.data.length>c){for(var l=0;l<t.data.length-1;l++)t.data[l]=t.data[l+1];t.data.length--,n.set(t.data.length)}i.bookmark=mc(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(i),n.set(t.data.length-1);var f={level:i,lastLevel:s,originalEvent:a};return 0<n.get()?(e.setDirty(!0),e.fire(\"AddUndo\",f),e.fire(\"change\",f)):e.fire(\"AddUndo\",f),i}(c,e,t,n,r,o,i)},undo:function(e,t,n){return r=c,i=t,a=n,(o=e).typing&&(o.add(),o.typing=!1,lh(o,!1,i)),0<a.get()&&(a.set(a.get()-1),ih(r,u=o.data[a.get()],!0),r.setDirty(!0),r.fire(\"Undo\",{level:u})),u;var r,o,i,a,u},redo:function(e,t){return n=c,o=t,(r=e).get()<o.length-1&&(r.set(r.get()+1),ih(n,i=o[r.get()],!1),n.setDirty(!0),n.fire(\"Redo\",{level:i})),i;var n,r,o,i},clear:function(e,t){var n,r=c,o=t;(n=e).data=[],o.set(0),n.typing=!1,r.fire(\"ClearUndos\")},reset:function(e){var t;(t=e).clear(),t.add()},hasUndo:function(e,t){return n=c,r=e,0<t.get()||r.typing&&r.data[0]&&!sh(oh(n),r.data[0]);var n,r},hasRedo:function(e,t){return n=e,t.get()<n.data.length-1&&!n.typing;var n},transact:function(e,t,n){return o=n,fh(r=e,t),r.beforeChange(),r.ignore(o),r.add();var r,o},ignore:function(e,t){try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}},extra:function(e,t,n,r){var o,i,a=c,u=t,s=r;(o=e).transact(n)&&(i=o.data[u.get()].bookmark,ih(a,o.data[u.get()-1],!0),o.transact(s)&&(o.data[u.get()-1].beforeBookmark=i))}},formatter:{match:function(e,t,n,r){return Bg(c,e,t,n,r)},matchAll:function(e,t){return o=e,i=t,a=[],u={},n=(r=c).selection.getStart(),r.dom.getParent(n,function(e){for(var t=0;t<o.length;t++){var n=o[t];!u[n]&&hp(r,e,n,i)&&(u[n]=!0,a.push(n))}},r.dom.getRoot()),a;var r,o,i,a,u,n},matchNode:function(e,t,n,r){return hp(c,e,t,n,r)},canApply:function(u){return function(e){var t=e.formatter.get(u),n=e.dom;if(t)for(var r=sl(n,e.selection.getStart()),o=t.length-1;0<=o;o--){var i=t[o];if(!fl(i)||V(i.defaultBlock))return!0;for(var a=r.length-1;0<=a;a--)if(n.is(r[a],i.selector))return!0}return!1}(c)},closest:function(e){return r=c,o=e,ve.from(r.selection.getStart(!0)).bind(function(e){return Ag(Nt.fromDom(e),function(n){return ee(o,function(e){return hp(r,n.dom,t=e)?ve.some(t):ve.none();var t})},t)}).getOrNull();function t(e){return je(e,Nt.fromDom(r.getBody()))}var r,o},apply:function(e,t,n){return Rh(c,e,t,n)},remove:function(e,t,n,r){return Ip(c,e,t,n,r)},toggle:function(e,t,n){var r,o=e,i=t,a=n,u=(r=c).formatter.get(o);(!Bg(r,o,i,a)||\"toggle\"in u[0]&&!u[0].toggle?Rh:Ip)(r,o,i,a)},formatChanged:function(e,t,n,r,o){return Hp(c,e,t,n,r,o)}},editor:{getContent:function(e,t){return d=c,m=e,g=t,ve.from(d.getBody()).fold(J(\"tree\"===m.format?new Ud(\"body\",11):\"\"),function(e){return t=d,r=e,o=g,c=_e(_e({},n=m),{format:o,get:!0,getInner:!0}),l=n.no_events?c:t.fire(\"BeforeGetContent\",c),f=\"raw\"===l.format?Et.trim(rm(t.serializer,r.innerHTML)):\"text\"===l.format?t.dom.isEmpty(r)?\"\":wo(r.innerText||r.textContent):\"tree\"===l.format?t.serializer.serialize(r,l):(a=(i=t).serializer.serialize(r,l),u=Ss(i),s=new RegExp(\"^(<\"+u+\"[^>]*>(&nbsp;|&#160;|\\\\s|\\xa0|<br \\\\/>|)<\\\\/\"+u+\">[\\r\\n]*|<br \\\\/>[\\r\\n]*)$\"),a.replace(s,\"\")),D([\"text\",\"tree\"],l.format)||vo(Nt.fromDom(r))?l.content=f:l.content=Et.trim(f),(l.no_events?l:t.fire(\"GetContent\",l)).content;var t,n,r,o,i,a,u,s,c,l,f});var d,m,g},setContent:function(e,t){return kg(c,e,t)},insertContent:function(e,t){return Sg(c,e,t)},addVisual:function(e){var i,t=e,a=(i=c).dom,n=V(t)?t:i.getBody();b(i.hasVisual)&&(i.hasVisual=i.getParam(\"visual\",!0,\"boolean\")),Y(a.select(\"table,a\",n),function(e){switch(e.nodeName){case\"TABLE\":var t=i.getParam(\"visual_table_class\",\"mce-item-table\",\"string\"),n=a.getAttrib(e,\"border\");n&&\"0\"!==n||!i.hasVisual?a.removeClass(e,t):a.addClass(e,t);break;case\"A\":var r,o;a.getAttrib(e,\"href\")||(r=a.getAttrib(e,\"name\")||e.id,o=i.getParam(\"visual_anchor_class\",\"mce-item-anchor\",\"string\"),r&&i.hasVisual?a.addClass(e,o):a.removeClass(e,o))}}),i.fire(\"VisualAid\",{element:t,hasVisual:i.hasVisual})}},selection:{getContent:function(e,t){return function(e,t,n){var r,o=(r=t,_e(_e({},n=void 0===n?{}:n),{format:r,get:!0,selection:!0})),i=e.fire(\"BeforeGetContent\",o);if(i.isDefaultPrevented())return e.fire(\"GetContent\",i),i.content;if(\"text\"===i.format)return m=e,ve.from(m.selection.getRng()).map(function(e){var t=ve.from(m.dom.getParent(e.commonAncestorContainer,m.dom.isBlock)),n=m.getBody(),r=t.map(function(e){return e.nodeName}).getOr(\"div\").toLowerCase(),o=xt.browser.isIE()&&\"pre\"!==r,i=m.dom.add(n,r,{\"data-mce-bogus\":\"all\",style:\"overflow: hidden; opacity: 0;\"},e.cloneContents()),a=th(i,o),u=wo(i.textContent);if(m.dom.remove(i),eh(u,0)||eh(u,u.length-1)){var s=th(t.getOr(n),o),c=s.indexOf(a);return-1===c?a:(eh(s,c-1)?\" \":\"\")+a+(eh(s,c+a.length)?\" \":\"\")}return a}).getOr(\"\");i.getInner=!0;var a,u,s,c,l,f,d,m,g=(u=i,s=(a=e).selection.getRng(),c=a.dom.create(\"body\"),l=a.selection.getSel(),f=wd(a,Nl(l)),(d=u.contextual?Zp(Nt.fromDom(a.getBody()),f).dom:s.cloneContents())&&c.appendChild(d),a.selection.serializer.serialize(c,u));return\"tree\"===i.format?g:(i.content=e.selection.isCollapsed()?\"\":g,e.fire(\"GetContent\",i),i.content)}(c,e,t)}},raw:{getModel:function(){return ve.none()}}}}function mh(e){return Ne(e.plugins,\"rtc\")}function gh(e){var u=e;return ue(e.plugins,\"rtc\").bind(function(e){return ve.from(e.setup)}).fold(function(){return u.rtcInstance=dh(e),ve.none()},function(e){var t,n;return u.rtcInstance=(t=J(null),n=J(\"\"),{undoManager:{beforeChange:te,add:t,undo:t,redo:t,clear:te,reset:te,hasUndo:R,hasRedo:R,transact:t,ignore:te,extra:te},formatter:{match:R,matchAll:J([]),matchNode:J(void 0),canApply:R,closest:n,apply:te,remove:te,toggle:te,formatChanged:J({unbind:te})},editor:{getContent:n,setContent:n,insertContent:te,addVisual:te},selection:{getContent:n},raw:{getModel:J(ve.none())}}),ve.some(function(){return e().then(function(e){return u.rtcInstance=(i=e.undoManager,a=e.formatter,n=e.editor,r=e.selection,t=e.raw,{undoManager:{beforeChange:i.beforeChange,add:i.add,undo:i.undo,redo:i.redo,clear:i.clear,reset:i.reset,hasUndo:i.hasUndo,hasRedo:i.hasRedo,transact:function(e,t,n){return i.transact(n)},ignore:function(e,t){return i.ignore(t)},extra:function(e,t,n,r){return i.extra(n,r)}},formatter:{match:function(e,t,n,r){return a.match(e,o(t),r)},matchAll:a.matchAll,matchNode:a.matchNode,canApply:function(e){return a.canApply(e)},closest:function(e){return a.closest(e)},apply:function(e,t,n){return a.apply(e,o(t))},remove:function(e,t,n,r){return a.remove(e,o(t))},toggle:function(e,t,n){return a.toggle(e,o(t))},formatChanged:function(e,t,n,r,o){return a.formatChanged(t,n,r,o)}},editor:{getContent:function(e,t){return n.getContent(e)},setContent:function(e,t){return n.setContent(e,t)},insertContent:function(e,t){return n.insertContent(e)},addVisual:n.addVisual},selection:{getContent:function(e,t){return r.getContent(t)}},raw:{getModel:function(){return ve.some(t.getRawModel())}}}),e.rtc.isRemote;function o(e){return h(e)?e:{}}var i,a,n,r,t})})})}function ph(e){return e.rtcInstance||dh(e)}function hh(e){var t=e.rtcInstance;if(t)return t;throw new Error(\"Failed to get RTC instance not yet initialized.\")}function vh(e){return 0===e.dom.length?(Ln(e),ve.none()):ve.some(e)}function bh(e,t,u,s){e.bind(function(a){return(s?Um:Fm)(a.dom,s?a.dom.length:0),t.filter(_n).map(function(e){var t=u,n=s,r=a.dom,o=e.dom,i=(n?r:o).length;n?(zm(r,o,!1,!n),t.setStart(o,i)):(zm(o,r,!1,!n),t.setEnd(o,i))})}).orThunk(function(){var e=s;return t.filter(function(e){return Fl.isBookmarkNode(e.dom)}).bind(e?Pt:Bt).or(t).filter(_n).map(function(e){var n,r=s;Ot(n=e).each(function(e){var t=n.dom;r&&Dm(e,as(t,0))?Fm(t,0):!r&&Tm(e,as(t,t.length))&&Um(t,t.length)})})})}function yh(e,t,n){var r,o=(r=t,_e(_e({format:\"html\"},n=void 0===n?{}:n),{set:!0,selection:!0,content:r})),i=o;if(!o.no_events){var a=e.fire(\"BeforeSetContent\",o);if(a.isDefaultPrevented())return void e.fire(\"SetContent\",a);i=a}i.content=function(e,t){if(\"raw\"===t.format)return t.content;var n=e.selection.getRng(),r=e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock),o=r?{context:r.nodeName.toLowerCase()}:{},i=e.parser.parse(t.content,_e(_e({isRootContent:!0,forced_root_block:!1},o),t));return nm({validate:e.validate},e.schema).serialize(i)}(e,i);var u=e.selection.getRng();!function(e,t){var n=ve.from(t.firstChild).map(Nt.fromDom),r=ve.from(t.lastChild).map(Nt.fromDom);e.deleteContents(),e.insertNode(t);var o=n.bind(Bt).filter(_n).bind(vh),i=r.bind(Pt).filter(_n).bind(vh);bh(o,n,e,!0),bh(i,r,e,!1),e.collapse(!1)}(u,u.createContextualFragment(i.content)),e.selection.setRng(u),Zf(e,u),i.no_events||e.fire(\"SetContent\",i)}function Ch(e,t,n){var r;e&&Ne(e,t)&&(0===(r=U(e[t],function(e){return e!==n})).length?delete e[t]:e[t]=r)}qg=function(e){var t,n=e.selection.getRng(),r=on([\"pre\"]);n.collapsed||(t=e.selection.getSelectedBlocks(),xp(Cp(Cp(t,r),function(e){return r(e.previousSibling)&&-1!==de(t,e.previousSibling)}),function(e){var t,n=e.previousSibling;Wa(t=e).remove(),Wa(n).append(\"<br><br>\").append(t.childNodes)}))},yp[\"pre\"]||(yp.pre=[]),yp.pre.push(qg);var xh=Et.each,wh=function(e,t,n){xh(e.childNodes,function(e){wp(e)&&(t(e)&&n(e),e.hasChildNodes()&&wh(e,t,n))})},Sh=or([{keep:[]},{rename:[\"name\"]},{removed:[]}]),Eh=/^(src|href|style)$/,Nh=Et.each,kh=ol,_h=Et.each,Ah=Et.each,Rh=function(S,E,N,r){function k(n,e){var t;y((e=void 0===e?A:e).onformat)&&e.onformat(n,e,N,r),Ah(e.styles,function(e,t){u.setStyle(n,t,rl(e,N))}),!e.styles||(t=u.getAttrib(n,\"style\"))&&u.setAttrib(n,\"data-mce-style\",t),Ah(e.attributes,function(e,t){u.setAttrib(n,t,rl(e,N))}),Ah(e.classes,function(e){e=rl(e,N),u.hasClass(n,e)||u.addClass(n,e)})}function g(e,t){var n=!1;return Ah(e,function(e){return!!fl(e)&&(V(e.collapsed)&&e.collapsed!==a||!u.is(t,e.selector)||zc(t)?void 0:(k(t,e),!(n=!0)))}),n}function o(x,e,l){var w=[],f=!0,d=A.inline||A.block,m=function(e){if(X(e)){var t=u.create(e);return k(t),t}return null}(d);El(x,e,function(e){var s,c=function(e){var t=!1,n=f,r=e.nodeName.toLowerCase(),o=e.parentNode,i=o.nodeName.toLowerCase();if(zn(e)&&x.getContentEditable(e)&&(n=f,f=\"true\"===x.getContentEditable(e),t=!0),Wn(e)&&!function(e,t,n,r){if(e.getParam(\"format_empty_lines\",!1,\"boolean\")&&dl(t)){var o=_e(_e({},e.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}}),i=(a=Nt.fromDom(n),s=function(e){return zc(e.dom)},((c=(u=a).dom).parentNode?Nr(Nt.fromDom(c.parentNode),function(e){return!je(u,e)&&s(e)}):ve.none()).isSome());return se(o,r)&&Wr(Nt.fromDom(n.parentNode),!1)&&!i}var a,u,s,c}(S,A,e,i))return s=null,void(ll(A)&&x.remove(e));if(ll(A)&&A.wrapper&&hp(S,e,E,N))s=null;else{if(f&&!t&&ll(A)&&!A.wrapper&&tl(S,r)&&nl(S,i,d)){var a=x.rename(e,d);return k(a),w.push(a),void(s=null)}if(fl(A)){var u=g(_,e);if(!u&&V(o)&&ml(A)&&(u=g(_,o)),!dl(A)||u)return void(s=null)}!f||t||!nl(S,d,r)||!nl(S,i,d)||!l&&jn(e)&&xo(e.data)||zc(e)||dl(A)&&x.isBlock(e)?(s=null,Y(xe(e.childNodes),c),t&&(f=n),s=null):(s||(s=x.clone(m,!1),e.parentNode.insertBefore(s,e),w.push(s)),s.appendChild(e))}};Y(e,c)}),!0===A.links&&Y(w,function(e){var t=function(e){\"A\"===e.nodeName&&k(e,A),Y(xe(e.childNodes),t)};t(e)}),Y(w,function(e){var n,t,r,o,i,a,u,s,c,l,f,d,m,g,p,h,v,b,y=(n=0,Y(e.childNodes,function(e){var t;V(t=e)&&jn(t)&&0===t.length||Yc(e)||n++}),n);function C(e){var t;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(t=ul(m,e.parentNode),m.getStyle(e,\"color\")&&t?m.setStyle(e,\"text-decoration\",t):m.getStyle(e,\"text-decoration\")===t&&m.setStyle(e,\"text-decoration\",null))}!(1<w.length)&&x.isBlock(e)||0!==y?(dl(A)||ll(A)&&A.wrapper)&&(A.exact||1!==y||(e=M((d=e).childNodes,Mp).filter(function(e){return Tg(x,e,A)}).map(function(e){var t=x.clone(e,!1);return k(t),x.replace(t,d,!0),x.remove(e,!0),t}).getOr(d)),h=S,v=N,b=e,_h(_,function(t){var r,e,n;dl(t)&&_h(h.dom.select(t.inline,b),function(e){wp(e)&&Lp(h,t,v,e,t.exact?e:null)}),r=h.dom,(e=t).clear_child_styles&&(n=e.links?\"*:not(a)\":\"*\",xh(r.select(n,b),function(n){wp(n)&&xh(e.styles,function(e,t){r.setStyle(n,t,\"\")})}))}),s=A,hp(u=S,(f=e).parentNode,c=E,l=N)&&Lp(u,s,l,f)||s.merge_with_parents&&u.dom.getParent(f.parentNode,function(e){if(hp(u,e,c,l))return Lp(u,s,l,f),!0}),a=e,(i=A).styles&&i.styles.backgroundColor&&wh(a,kp(x,\"fontSize\"),_p(x,\"backgroundColor\",rl(i.styles.backgroundColor,N))),m=x,p=e,(g=A).styles&&(g.styles.color||g.styles.textDecoration)&&(Et.walk(p,C,\"childNodes\"),C(p)),t=x,o=e,!dl(r=A)||\"sub\"!==r.inline&&\"sup\"!==r.inline||(wh(o,kp(t,\"fontSize\"),_p(t,\"fontSize\",\"\")),t.remove(t.select(\"sup\"===r.inline?\"sub\":\"sup\",o),!0)),Np(x,A,0,e)):x.remove(e,!0)})}var e,t,n,i,_=S.formatter.get(E),A=_[0],a=!r&&S.selection.isCollapsed(),u=S.dom,s=S.selection;if(\"false\"!==u.getContentEditable(s.getNode()))A&&(r?Qc(r)?g(_,r)||((e=u.createRng()).setStartBefore(r),e.setEndAfter(r),o(u,Sl(S,e,_),!0)):o(u,r,!0):a&&dl(A)&&!_l(S).length?function(e,t,n){var r,o=e.selection,i=o.getRng(),a=i.startOffset,u=i.startContainer.nodeValue,s=Hc(e.getBody(),o.getStart());s&&(r=Lg(s));var c,l,f,d,m=/[^\\s\\u00a0\\u00ad\\u200b\\ufeff]/;u&&0<a&&a<u.length&&m.test(u.charAt(a))&&m.test(u.charAt(a-1))?(c=o.getBookmark(),i.collapse(!0),l=Tf(Sl(e,i,e.formatter.get(t))),e.formatter.apply(t,n,l),o.moveToBookmark(c)):(s&&r.nodeValue===vp||(f=e.getDoc(),d=Ig(!0).dom,r=(s=f.importNode(d,!0)).firstChild,i.insertNode(s),a=1),e.formatter.apply(t,n,s),o.setCursorLocation(r,a))}(S,E,N):(t=s.getNode(),n=_[0],S.settings.forced_root_block||!n.defaultBlock||u.getParent(t,u.isBlock)||Rh(S,n.defaultBlock),s.setRng(vg(s.getRng())),Bl(s,!0,function(){Ol(S,function(e,t){var n=t?e:Sl(S,e,_);o(u,n,!1)})}),Zc(u,s,s.getRng()),S.nodeChanged()),i=S,xp(yp[E],function(e){e(i)})),bf(S,E,r,N);else{r=s.getNode();for(var c=0,l=_.length;c<l;c++){var f=_[c];if(f.ceFalseOverride&&fl(f)&&u.is(r,f.selector)){k(r,f);break}}bf(S,E,r,N)}},Dh=function(e){return e.selection.getStart()},Th=function(i,a,e){var u=zp(i,a);ne(e,function(e,o){function t(e){var t,n=Up(i,u,o,e.similar,Fp(e)?e.vars:void 0),r=n.isSome();e.state.get()!==r&&(e.state.set(r),t=n.getOr(a),Fp(e)?e.callback(r,{node:t,format:o,parents:u}):Y(e.callbacks,function(e){return e(r,{node:t,format:o,parents:u})}))}Y([e.withSimilar,e.withoutSimilar],t),Y(e.withVars,t)})},Oh=Re(function(){return document.implementation.createHTMLDocument(\"undo\")});function Bh(e){return e.select}function Ph(e){return e&&e.ownerDocument&&Ve(Nt.fromDom(e.ownerDocument),Nt.fromDom(e))}function Lh(a,u,e,s){function t(e,t){return yh(s,e,t)}function n(){var e=c(),t=null==e?void 0:e.anchorNode,n=null==e?void 0:e.focusNode;if(!e||!t||!n||rn(t)||rn(n))return!0;var r=a.createRng();r.setStart(t,e.anchorOffset),r.collapse(!0);var o=a.createRng();return o.setStart(n,e.focusOffset),o.collapse(!0),r.compareBoundaryPoints(r.START_TO_START,o)<=0}function r(e){var t=p();t.collapse(!!e),h(t)}function c(){return u.getSelection?u.getSelection():u.document.selection}var l,f,o,i,d,m,g=function(e,t){return d||(d={},m={},i.on(\"NodeChange\",function(e){var n=e.element,r=x(n),o={};Et.each(d,function(e,n){C(n,r).each(function(t){m[n]||(Y(e,function(e){e(!0,{node:t,selector:n,parents:r})}),m[n]=e),o[n]=e})}),Et.each(m,function(e,t){o[t]||(delete m[t],Et.each(e,function(e){e(!1,{node:n,selector:t,parents:r})}))})})),d[e]||(d[e]=[]),d[e].push(t),C(e,x(i.selection.getStart())).each(function(){m[e]=d[e]}),{unbind:function(){Ch(d,e,t),Ch(m,e,t)}}},p=function(){function e(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(e){return-1}}var t,n,r,o=u.document;if(void 0!==s.bookmark&&!1===vd(s)){var i=ld(s);if(i.isSome())return i.map(function(e){return wd(s,[e])[0]}).getOr(o.createRange())}try{(t=c())&&!rn(t.anchorNode)&&(n=0<t.rangeCount?t.getRangeAt(0):(t.createRange?t:o).createRange(),n=wd(s,[n])[0])}catch(e){}return(n=n||(o.createRange?o.createRange():o.body.createTextRange())).setStart&&9===n.startContainer.nodeType&&n.collapsed&&(r=a.getRoot(),n.setStart(r,0),n.setEnd(r,0)),l&&f&&(0===e(n.START_TO_START,n,l)&&0===e(n.END_TO_END,n,l)?n=f:f=l=null),n},h=function(e,t){var n;if((r=e)&&(Bh(r)||Ph(r.startContainer)&&Ph(r.endContainer))){var r,o=Bh(e)?e:null;if(o){f=null;try{o.select()}catch(e){}}else{var i=c();if(e=s.fire(\"SetSelectionRange\",{range:e,forward:t}).range,i){f=e;try{i.removeAllRanges(),i.addRange(e)}catch(e){}!1===t&&i.extend&&(i.collapse(e.endContainer,e.endOffset),i.extend(e.startContainer,e.startOffset)),l=0<i.rangeCount?i.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!i.setBaseAndExtent||xt.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(n=e.startContainer.childNodes[e.startOffset])&&\"IMG\"===n.tagName&&(i.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),i.anchorNode===e.startContainer&&i.focusNode===e.endContainer||i.setBaseAndExtent(n,0,n,1)),s.fire(\"AfterSetSelectionRange\",{range:e,forward:t})}}},v={bookmarkManager:null,controlSelection:null,dom:o=a,win:u,serializer:e,editor:i=s,collapse:r,setCursorLocation:function(e,t){var n=a.createRng();V(e)&&V(t)?(n.setStart(e,t),n.setEnd(e,t),h(n),r(!1)):(Dl(a,n,s.getBody(),!0),h(n))},getContent:function(e){return n=(t=void 0===(t=e)?{}:t).format||\"html\",r=t,hh(s).selection.getContent(n,r);var t,n,r},setContent:t,getBookmark:function(e,t){return b.getBookmark(e,t)},moveToBookmark:function(e){return b.moveToBookmark(e)},select:function(e,t){var r=a,o=t;return ve.from(e).map(function(e){var t=r.nodeIndex(e),n=r.createRng();return n.setStart(e.parentNode,t),n.setEnd(e.parentNode,t+1),o&&(Dl(r,n,e,!0),Dl(r,n,e,!1)),n}).each(h),e},isCollapsed:function(){var e=p(),t=c();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints(\"StartToEnd\",e):!t||e.collapsed)},isForward:n,setNode:function(e){return t(a.getOuterHTML(e)),e},getNode:function(){return function(e,t){if(!t)return e;var n=t.startContainer,r=t.endContainer,o=t.startOffset,i=t.endOffset,a=t.commonAncestorContainer;return!t.collapsed&&(n===r&&i-o<2&&n.hasChildNodes()&&(a=n.childNodes[o]),3===n.nodeType&&3===r.nodeType&&(n=n.length===o?xd(n.nextSibling,!0):n.parentNode,r=0===i?xd(r.previousSibling,!1):r.parentNode,n&&n===r))?n:a&&3===a.nodeType?a.parentNode:a}(s.getBody(),p())},getSel:c,setRng:h,getRng:p,getStart:function(e){return yd(s.getBody(),p(),e)},getEnd:function(e){return Cd(s.getBody(),p(),e)},getSelectedBlocks:function(e,t){return function(e,t,n,r){var o=[],i=e.getRoot();if(n=e.getParent(n||yd(i,t,t.collapsed),e.isBlock),r=e.getParent(r||Cd(i,t,t.collapsed),e.isBlock),n&&n!==i&&o.push(n),n&&r&&n!==r)for(var a,u=new Rr(n,i);(a=u.next())&&a!==r;)e.isBlock(a)&&o.push(a);return r&&n!==r&&r!==i&&o.push(r),o}(a,p(),e,t)},normalize:function(){var e=p();if(1<Nl(c()).length||!Tl(s))return e;var t=Rf(a,e);return t.each(function(e){h(e,n())}),t.getOr(e)},selectorChanged:function(e,t){return g(e,t),v},selectorChangedWithUnbind:g,getScrollContainer:function(){for(var e,t=a.getRoot();t&&\"BODY\"!==t.nodeName;){if(t.scrollHeight>t.clientHeight){e=t;break}t=t.parentNode}return e},scrollIntoView:function(e,t){V(e)?(s.inline?Gf:Qf)(s,e,t):Zf(s,p(),t)},placeCaretAt:function(e,t){return h(wf(e,t,s.getDoc()))},getBoundingClientRect:function(){var e=p();return e.collapsed?as.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){u=l=f=null,y.destroy()}},b=Fl(v),y=Cf(v,s);function C(t,e){return M(e,function(e){return o.is(e,t)})}function x(e){return o.getParents(e,null,o.getRoot())}return v.bookmarkManager=b,v.controlSelection=y,v}function Ih(e,t){var n,r,a,u,o=ro();t.convert_fonts_to_spans&&(r=e,a=o,u=Et.explode(t.font_size_legacy_values),r.addNodeFilter(\"font\",function(e){Y(e,function(e){var t,n=a.parse(e.attr(\"style\")),r=e.attr(\"color\"),o=e.attr(\"face\"),i=e.attr(\"size\");r&&(n.color=r),o&&(n[\"font-family\"]=o),i&&(n[\"font-size\"]=u[parseInt(e.attr(\"size\"),10)-1]),e.name=\"span\",e.attr(\"style\",a.serialize(n)),t=e,Y([\"color\",\"face\",\"size\"],function(e){t.attr(e,null)})})})),n=o,e.addNodeFilter(\"strike\",function(e){Y(e,function(e){var t=n.parse(e.attr(\"style\"));t[\"text-decoration\"]=\"line-through\",e.name=\"span\",e.attr(\"style\",n.serialize(t))})})}function Mh(e){var t,n=decodeURIComponent(e).split(\",\"),r=/data:([^;]+)/.exec(n[0]);return{type:t=r?r[1]:t,data:n[1]}}function Fh(e,t){var n;try{n=atob(t)}catch(e){return ve.none()}for(var r=new Uint8Array(n.length),o=0;o<r.length;o++)r[o]=n.charCodeAt(o);return ve.some(new Blob([r],{type:e}))}function Uh(e){return 0===e.indexOf(\"blob:\")?(o=e,new kr(function(e,t){function n(){t(\"Cannot convert \"+o+\" to Blob. Resource might not exist or is inaccessible.\")}try{var r=new XMLHttpRequest;r.open(\"GET\",o,!0),r.responseType=\"blob\",r.onload=function(){200===r.status?e(r.response):n()},r.onerror=n,r.send()}catch(e){n()}})):0===e.indexOf(\"data:\")?(n=e,new kr(function(e){var t=Mh(n);Fh(t.type,t.data).fold(function(){return e(new Blob([]))},e)})):null;var o,n}function zh(e){return(e||\"blobid\")+lv++}function Hh(r,d){var o={};return{findAll:function(e,n){n=n||w;var t=T(U(e?xe(e.getElementsByTagName(\"img\")):[],function(e){var t=e.src;return xt.fileApi&&!e.hasAttribute(\"data-mce-bogus\")&&!e.hasAttribute(\"data-mce-placeholder\")&&t&&t!==xt.transparentSrc&&(0===t.indexOf(\"blob:\")?!r.isUploaded(t)&&n(e):0===t.indexOf(\"data:\")&&n(e))}),function(f){if(void 0!==o[f.src])return new kr(function(t){o[f.src].then(function(e){return\"string\"==typeof e?e:void t({image:f,blobInfo:e.blobInfo})})});var e=new kr(function(e,t){var r,o,i,n,a,u,s,c,l;r=d,i=e,n=t,0!==(o=f).src.indexOf(\"blob:\")?(u=(a=Mh(o.src)).data,s=a.type,c=u,(l=r.getByData(c,s))?i({image:o,blobInfo:l}):Uh(o.src).then(function(e){l=r.create(zh(),e,c),r.add(l),i({image:o,blobInfo:l})},function(e){n(e)})):(l=r.getByUri(o.src))?i({image:o,blobInfo:l}):Uh(o.src).then(function(t){var n=t;new kr(function(e){var t=new FileReader;t.onloadend=function(){e(t.result)},t.readAsDataURL(n)}).then(function(e){c=Mh(e).data,l=r.create(zh(),t,c),r.add(l),i({image:o,blobInfo:l})})},function(e){n(e)})}).then(function(e){return delete o[e.image.src],e}).catch(function(e){return delete o[f.src],e});return o[f.src]=e});return kr.all(t)}}}function jh(e,t,n,r){(e.padd_empty_with_br||t.insert)&&n[r.name]?r.empty().append(new Ud(\"br\",1)).shortEnded=!0:r.empty().append(new Ud(\"#text\",3)).value=yo}function Vh(n,e,t,r){return r.isEmpty(e,t,function(e){return(t=n.getElementRule(e.name))&&t.paddEmpty;var t})}function qh(e,p){var t,o,i,h=e.schema;function n(t){var e,n,r=t.attr(\"src\");(e=t).attr(\"src\")===xt.transparentSrc||V(e.attr(\"data-mce-placeholder\"))||V(t.attr(\"data-mce-bogus\"))||((n=/data:([^;]+);base64,([a-z0-9\\+\\/=\\s]+)/i.exec(r))?ve.some({type:n[1],data:decodeURIComponent(n[2])}):ve.none()).filter(function(){return function(e,t){if(t.images_dataimg_filter){var n=new Image;return n.src=e.attr(\"src\"),ne(e.attributes.map,function(e,t){n.setAttribute(t,e)}),t.images_dataimg_filter(n)}return!0}(t,o)}).bind(function(e){var t=e.type,n=e.data;return ve.from(i.getByData(n,t)).orThunk(function(){return Fh(t,n).map(function(e){var t=i.create(zh(),e,n);return i.add(t),t})})}).each(function(e){t.attr(\"src\",e.blobUri())})}p.remove_trailing_brs&&e.addNodeFilter(\"br\",function(e,t,n){var r,o,i,a,u,s,c,l,f=e.length,d=Et.extend({},h.getBlockElements()),m=h.getNonEmptyElements(),g=h.getWhiteSpaceElements();for(d.body=1,r=0;r<f;r++)if(i=(o=e[r]).parent,d[o.parent.name]&&o===i.lastChild){for(u=o.prev;u;){if(\"span\"!==(s=u.name)||\"bookmark\"!==u.attr(\"data-mce-type\")){\"br\"===s&&(o=null);break}u=u.prev}o&&(o.remove(),Vh(h,m,g,i)&&(c=h.getElementRule(i.name))&&(c.removeEmpty?i.remove():c.paddEmpty&&jh(p,n,d,i)))}else{for(a=o;i&&i.firstChild===a&&i.lastChild===a&&!d[(a=i).name];)i=i.parent;a===i&&!0!==p.padd_empty_with_br&&((l=new Ud(\"#text\",3)).value=yo,o.replace(l))}}),e.addAttributeFilter(\"href\",function(e){var t,n,r=e.length;if(!p.allow_unsafe_link_target)for(;r--;){var o=e[r];\"a\"===o.name&&\"_blank\"===o.attr(\"target\")&&o.attr(\"rel\",(n=void 0,n=(t=o.attr(\"rel\"))?Et.trim(t):\"\",/\\b(noopener)\\b/g.test(n)?n:n.split(\" \").filter(function(e){return 0<e.length}).concat([\"noopener\"]).sort().join(\" \")))}}),p.allow_html_in_named_anchor||e.addAttributeFilter(\"id,name\",function(e){for(var t,n,r,o,i=e.length;i--;)if(\"a\"===(o=e[i]).name&&o.firstChild&&!o.attr(\"href\"))for(r=o.parent,t=o.lastChild;n=t.prev,r.insert(t,o),t=n;);}),p.fix_list_elements&&e.addNodeFilter(\"ul,ol\",function(e){for(var t,n,r,o=e.length;o--;)\"ul\"!==(r=(n=e[o]).parent).name&&\"ol\"!==r.name||(n.prev&&\"li\"===n.prev.name?n.prev.append(n):((t=new Ud(\"li\",1)).attr(\"style\",\"list-style-type: none\"),n.wrap(t)))}),p.validate&&h.getValidClasses()&&e.addAttributeFilter(\"class\",function(e){for(var t=h.getValidClasses(),n=e.length;n--;){for(var r=e[n],o=r.attr(\"class\").split(\" \"),i=\"\",a=0;a<o.length;a++){var u=o[a],s=!1,c=t[\"*\"];c&&c[u]&&(s=!0),c=t[r.name],(s=!(s||!c||!c[u])||s)&&(i&&(i+=\" \"),i+=u)}i.length||(i=null),r.attr(\"class\",i)}}),t=e,(i=(o=p).blob_cache)&&t.addAttributeFilter(\"src\",function(e){return Y(e,n)})}function $h(_,A){void 0===A&&(A=to());var R={},D=[],T={},O={};(_=_||{}).validate=!(\"validate\"in _)||_.validate,_.root_name=_.root_name||\"body\";function B(e){var t=e.name;t in R&&((r=T[t])?r.push(e):T[t]=[e]);for(var n=D.length;n--;){var r,o=D[n].name;o in e.attributes.map&&((r=O[o])?r.push(e):O[o]=[e])}return e}var e={schema:A,addAttributeFilter:function(e,n){mv(gv(e),function(e){for(var t=0;t<D.length;t++)if(D[t].name===e)return void D[t].callbacks.push(n);D.push({name:e,callbacks:[n]})})},getAttributeFilters:function(){return[].concat(D)},addNodeFilter:function(e,n){mv(gv(e),function(e){var t=R[e];t||(R[e]=t=[]),t.push(n)})},getNodeFilters:function(){var e,t=[];for(e in R)Ne(R,e)&&t.push({name:e,callbacks:R[e]});return t},filterNode:B,parse:function(e,u){var t,n,r,o,i,s,a,c,l=[];function f(e){for(var t=A.getBlockElements(),n=e.prev;n&&3===n.type;){var r=n.value.replace(x,\"\");if(0<r.length)return n.value=r,0;var o=n.next;if(o){if(3===o.type&&o.value.length){n=n.prev;continue}if(!t[o.name]&&\"script\"!==o.name&&\"style\"!==o.name){n=n.prev;continue}}var i=n.prev;n.remove(),n=i}}u=u||{},T={},O={};function d(e,t){var n,r=new Ud(e,t);return e in R&&((n=T[e])?n.push(r):T[e]=[r]),r}var m=pv(dv(\"script,style,head,html,body,title,meta,param\"),A.getBlockElements()),g=A.getNonEmptyElements(),p=A.children,h=_.validate,v=(\"forced_root_block\"in u?u:_).forced_root_block,b=!1===v?\"\":!0===v?\"p\":v,y=A.getWhiteSpaceElements(),C=/^[ \\t\\r\\n]+/,x=/[ \\t\\r\\n]+$/,w=/[ \\t\\r\\n]+/g,S=/^[ \\t\\r\\n]+$/,E=Ne(y,u.context)||Ne(y,_.root_name),N=Gd({validate:h,document:_.document,allow_html_data_urls:_.allow_html_data_urls,allow_svg_data_urls:_.allow_svg_data_urls,allow_script_urls:_.allow_script_urls,allow_conditional_comments:_.allow_conditional_comments,preserve_cdata:_.preserve_cdata,self_closing_elements:function(e){var t,n={};for(t in e)\"li\"!==t&&\"p\"!==t&&(n[t]=e[t]);return n}(A.getSelfClosingElements()),cdata:function(e){c.append(d(\"#cdata\",4)).value=e},text:function(e,t){var n,r;E||(e=e.replace(w,\" \"),(r=c.lastChild)&&(Ne(m,r.name)||\"br\"===r.name)&&(e=e.replace(C,\"\"))),0!==e.length&&((n=d(\"#text\",3)).raw=!!t,c.append(n).value=e)},comment:function(e){c.append(d(\"#comment\",8)).value=e},pi:function(e,t){c.append(d(e,7)).value=t,f(c)},doctype:function(e){c.append(d(\"#doctype\",10)).value=e,f(c)},start:function(e,t,n){var r=h?A.getElementRule(e):{};if(r){var o=d(r.outputName||e,1);o.attributes=t,o.shortEnded=n,c.append(o);var i=p[c.name];i&&p[o.name]&&!i[o.name]&&l.push(o);for(var a=D.length;a--;){var u=D[a].name;u in t.map&&((s=O[u])?s.push(o):O[u]=[o])}m[e]&&f(o),n||(c=o),!E&&y[e]&&(E=!0)}},end:function(e){var t,n,r,o,i,a=h?A.getElementRule(e):{};if(a){if(m[e]&&!E){if((t=c.firstChild)&&3===t.type)if(0<(n=t.value.replace(C,\"\")).length)t.value=n,t=t.next;else for(r=t.next,t.remove(),t=r;t&&3===t.type;)n=t.value,r=t.next,0!==n.length&&!S.test(n)||(t.remove(),t=r),t=r;if((t=c.lastChild)&&3===t.type)if(0<(n=t.value.replace(x,\"\")).length)t.value=n,t=t.prev;else for(r=t.prev,t.remove(),t=r;t&&3===t.type;)n=t.value,r=t.prev,0!==n.length&&!S.test(n)||(t.remove(),t=r),t=r}if(E&&y[e]&&(E=!1),a.removeEmpty&&Vh(A,g,y,c))return o=c.parent,m[c.name]?c.empty().remove():c.unwrap(),void(c=o);a.paddEmpty&&(fv(i=c,\"#text\")&&i.firstChild.value===yo||Vh(A,g,y,c))&&jh(_,u,m,c),c=c.parent}}},A),k=c=new Ud(u.context||_.root_name,11);if(N.parse(e,u.format),h&&l.length&&(u.context?u.invalid=!0:function(e){for(var t=dv(\"tr,td,th,tbody,thead,tfoot,table\"),n=A.getNonEmptyElements(),r=A.getWhiteSpaceElements(),o=A.getTextBlockElements(),i=A.getSpecialElements(),a=function(e,t){if(void 0===t&&(t=e.parent),i[e.name])e.empty().remove();else{for(var n=0,r=e.children();n<r.length;n++){var o=r[n];A.isValidChild(t.name,o.name)||a(o,t)}e.unwrap()}},u=0;u<e.length;u++){var s,c=e[u],l=void 0,f=void 0;if(c.parent&&!c.fixed)if(o[c.name]&&\"li\"===c.parent.name){for(var d=c.next;d&&o[d.name];)d.name=\"li\",d.fixed=!0,c.parent.insert(d,c.parent),d=d.next;c.unwrap()}else{for(var m=[c],l=c.parent;l&&!A.isValidChild(l.name,c.name)&&!t[l.name];l=l.parent)m.push(l);if(l&&1<m.length)if(A.isValidChild(l.name,c.name)){m.reverse();for(var g=s=B(m[0].clone()),p=0;p<m.length-1;p++){A.isValidChild(g.name,m[p].name)?(f=B(m[p].clone()),g.append(f)):f=g;for(var h=m[p].firstChild;h&&h!==m[p+1];){var v=h.next;f.append(h),h=v}g=f}Vh(A,n,r,s)?l.insert(c,m[0],!0):(l.insert(s,m[0],!0),l.insert(c,s)),l=m[0],(Vh(A,n,r,l)||fv(l,\"br\"))&&l.empty().remove()}else a(c);else c.parent&&(\"li\"!==c.name?A.isValidChild(c.parent.name,\"div\")&&A.isValidChild(\"div\",c.name)?c.wrap(B(new Ud(\"div\",1))):a(c):!(d=c.prev)||\"ul\"!==d.name&&\"ol\"!==d.name?!(d=c.next)||\"ul\"!==d.name&&\"ol\"!==d.name?c.wrap(B(new Ud(\"ul\",1))):d.insert(c,d.firstChild,!0):d.append(c))}}}(l)),b&&(\"body\"===k.name||u.isRootContent)&&function(){function e(e){e&&((t=e.firstChild)&&3===t.type&&(t.value=t.value.replace(C,\"\")),(t=e.lastChild)&&3===t.type&&(t.value=t.value.replace(x,\"\")))}var t=k.firstChild,n=null;if(A.isValidChild(k.name,b.toLowerCase())){for(;t;){var r=t.next;3===t.type||1===t.type&&\"p\"!==t.name&&!m[t.name]&&!t.attr(\"data-mce-type\")?(n||((n=d(b,1)).attr(_.forced_root_block_attrs),k.insert(n,t)),n.append(t)):(e(n),n=null),t=r}e(n)}}(),!u.invalid){for(a in T)if(Ne(T,a)){for(s=R[a],o=(t=T[a]).length;o--;)t[o].parent||t.splice(o,1);for(n=0,r=s.length;n<r;n++)s[n](t,a,u)}for(n=0,r=D.length;n<r;n++)if((s=D[n]).name in O){for(o=(t=O[s.name]).length;o--;)t[o].parent||t.splice(o,1);for(o=0,i=s.callbacks.length;o<i;o++)s.callbacks[o](t,s.name,u)}}return k}};return qh(e,_),_.inline_styles&&Ih(e,_),e}function Wh(e,t,n){-1===Et.inArray(t,n)&&(e.addAttributeFilter(n,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),t.push(n))}function Kh(L,I){var e=[\"data-mce-selected\"],M=I&&I.dom?I.dom:Ja.DOM,F=I&&I.schema?I.schema:to(L);L.entity_encoding=L.entity_encoding||\"named\",L.remove_trailing_brs=!(\"remove_trailing_brs\"in L)||L.remove_trailing_brs;var t,U=$h(L,F),s=L,c=M;return(t=U).addAttributeFilter(\"data-mce-tabindex\",function(e,t){for(var n=e.length;n--;){var r=e[n];r.attr(\"tabindex\",r.attr(\"data-mce-tabindex\")),r.attr(t,null)}}),t.addAttributeFilter(\"src,href,style\",function(e,t){for(var n=\"data-mce-\"+t,r=s.url_converter,o=s.url_converter_scope,i=e.length;i--;){var a=e[i],u=a.attr(n);void 0!==u?(a.attr(t,0<u.length?u:null),a.attr(n,null)):(u=a.attr(t),\"style\"===t?u=c.serializeStyle(c.parseStyle(u),a.name):r&&(u=r.call(o,u,t,a.name)),a.attr(t,0<u.length?u:null))}}),t.addAttributeFilter(\"class\",function(e){for(var t=e.length;t--;){var n,r=e[t];r.attr(\"class\")&&(n=r.attr(\"class\").replace(/(?:^|\\s)mce-item-\\w+(?!\\S)/g,\"\"),r.attr(\"class\",0<n.length?n:null))}}),t.addAttributeFilter(\"data-mce-type\",function(e,t,n){for(var r=e.length;r--;){var o=e[r];\"bookmark\"!==o.attr(\"data-mce-type\")||n.cleanup||(ve.from(o.firstChild).exists(function(e){return!xo(e.value)})?o.unwrap():o.remove())}}),t.addNodeFilter(\"noscript\",function(e){for(var t=e.length;t--;){var n=e[t].firstChild;n&&(n.value=Go.decode(n.value))}}),t.addNodeFilter(\"script,style\",function(e,t){for(var n=function(e){return e.replace(/(<!--\\[CDATA\\[|\\]\\]-->)/g,\"\\n\").replace(/^[\\r\\n]*|[\\r\\n]*$/g,\"\").replace(/^\\s*((<!--)?(\\s*\\/\\/)?\\s*<!\\[CDATA\\[|(<!--\\s*)?\\/\\*\\s*<!\\[CDATA\\[\\s*\\*\\/|(\\/\\/)?\\s*<!--|\\/\\*\\s*<!--\\s*\\*\\/)\\s*[\\r\\n]*/gi,\"\").replace(/\\s*(\\/\\*\\s*\\]\\]>\\s*\\*\\/(-->)?|\\s*\\/\\/\\s*\\]\\]>(-->)?|\\/\\/\\s*(-->)?|\\]\\]>|\\/\\*\\s*-->\\s*\\*\\/|\\s*-->\\s*)\\s*$/g,\"\")},r=e.length;r--;){var o,i=e[r],a=i.firstChild?i.firstChild.value:\"\";\"script\"===t?((o=i.attr(\"type\"))&&i.attr(\"type\",\"mce-no/type\"===o?null:o.replace(/^mce\\-/,\"\")),\"xhtml\"===s.element_format&&0<a.length&&(i.firstChild.value=\"// <![CDATA[\\n\"+n(a)+\"\\n// ]]>\")):\"xhtml\"===s.element_format&&0<a.length&&(i.firstChild.value=\"\\x3c!--\\n\"+n(a)+\"\\n--\\x3e\")}}),t.addNodeFilter(\"#comment\",function(e){for(var t=e.length;t--;){var n=e[t];s.preserve_cdata&&0===n.value.indexOf(\"[CDATA[\")?(n.name=\"#cdata\",n.type=4,n.value=c.decode(n.value.replace(/^\\[CDATA\\[|\\]\\]$/g,\"\"))):0===n.value.indexOf(\"mce:protected \")&&(n.name=\"#text\",n.type=3,n.raw=!0,n.value=unescape(n.value).substr(14))}}),t.addNodeFilter(\"xml:namespace,input\",function(e,t){for(var n=e.length;n--;){var r=e[n];7===r.type?r.remove():1===r.type&&(\"input\"!==t||r.attr(\"type\")||r.attr(\"type\",\"text\"))}}),t.addAttributeFilter(\"data-mce-type\",function(e){Y(e,function(e){\"format-caret\"===e.attr(\"data-mce-type\")&&(e.isEmpty(t.schema.getNonEmptyElements())?e.remove():e.unwrap())})}),t.addAttributeFilter(\"data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder\",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),{schema:F,addNodeFilter:U.addNodeFilter,addAttributeFilter:U.addAttributeFilter,serialize:function(e,t){var n,r,o,i,a,u,s,c,l,f,d,m,g,p,h,v,b,y,C,x,w,S,E,N,k,_,A,R,D,T=_e({format:\"html\"},t=void 0===t?{}:t),O=(n=(m=e,E=g=T,(d=I)&&d.hasEventListeners(\"PreProcess\")&&!E.no_events?(h=g,x=(p=d).dom,w=m.cloneNode(!0),(S=document.implementation).createHTMLDocument&&(b=S.createHTMLDocument(\"\"),Et.each(\"BODY\"===w.nodeName?w.childNodes:[w],function(e){b.body.appendChild(b.importNode(e,!0))}),w=\"BODY\"!==w.nodeName?b.body.firstChild:b.body,v=x.doc,x.doc=b),y=p,C=_e(_e({},h),{node:w}),y.fire(\"PreProcess\",C),v&&(x.doc=v),w):m),o=wo((r=T).getInner?n.innerHTML:M.getOuterHTML(n)),r.selection||vo(Nt.fromDom(n))?o:Et.trim(o)),B=(i=U,a=O,s=(u=T).selection?_e({forced_root_block:!1},u):u,c=i.parse(a,s),!P(f=c.lastChild)||P(l=f.prev)&&(f.remove(),l.remove()),c);function P(e){return e&&\"br\"===e.name}return\"tree\"===T.format?B:(N=I,k=T,_=B,D=nm(L,F).serialize(_),k.no_events||!N?D:(A=N,R=_e(_e({},k),{content:D}),A.fire(\"PostProcess\",R).content))},addRules:F.addValidElements,setRules:F.setValidElements,addTempAttr:A(Wh,U,e),getTempAttrs:J(e),getNodeFilters:U.getNodeFilters,getAttributeFilters:U.getAttributeFilters}}function Xh(e,t){var n=Kh(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters}}function Yh(e,t,n){return r=n=void 0===n?{}:n,ph(e).editor.setContent(t,r);var r}function Gh(e){return ve.from(e).each(function(e){return e.destroy()})}function Jh(e,t){var n,r,o,i,a,u,s,c=(n=e,r=U(bv,function(e){return Ne(n,e)}),!1!==(o=n.forced_root_block)&&\"\"!==o||r.push(\"forced_root_block (false only)\"),W(r)),l=(s=Et.makeMap(t.plugins,\" \"),W(Ae(Ae([],U(yv,g),!0),H(Cv,function(e){return g(e)?[e+\" (moving to premium)\"]:[]}),!0))),f=0<l.length,d=0<c.length,m=\"mobile\"===t.theme;function g(e){return Ne(s,e)}(f||d||m)&&(i=m?\"\\n\\nThemes:\\n- mobile\":\"\",a=f?\"\\n\\nPlugins:\\n- \"+l.join(\"\\n- \"):\"\",u=d?\"\\n\\nSettings:\\n- \"+c.join(\"\\n- \"):\"\",console.warn(\"The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information.\"+i+a+u))}function Qh(e){var t=S(e)?e.join(\" \"):e;return U(T(X(t)?t.split(\" \"):[],Je),function(e){return 0<e.length})}function Zh(e,t){return Ne(e.sections(),t)}function ev(e,t){return ue(e,\"toolbar_mode\").orThunk(function(){return ue(e,\"toolbar_drawer\").map(function(e){return!1===e?\"wrap\":e})}).getOr(t)}function tv(e,t,n,r){var o,i,a,u,s,c,l,f,d=Qh(n.forced_plugins),m=Qh(r.plugins),g=Zh(o=t,\"mobile\")?o.sections().mobile:{},p=g.plugins?Qh(g.plugins):m,h=(i=(u=t,s=m,c=p,(a=e)&&(0,f=(l=u).sections(),Zh(l,\"mobile\")&&\"mobile\"===f.mobile.theme)?U(c,A(D,Nv)):a&&Zh(u,\"mobile\")?c:s),[].concat(Qh(d)).concat(Qh(i)));if(xt.browser.isIE()&&D(h,\"rtc\"))throw new Error(\"RTC plugin is not supported on IE 11.\");return Et.extend(r,{plugins:h.join(\" \")})}function nv(e,t,n,r,o){var i,a,u,s,c,l,f,d,m=e?{mobile:(i=t,a={resize:!1,toolbar_mode:ev(o.mobile||{},\"scrolling\"),toolbar_sticky:!1},_e(_e(_e({},kv),a),i?{menubar:!1}:{}))}:{},g=(c=[\"mobile\"],ie(vv(m,o),function(e,t){return D(c,t)},oe(l={}),oe(f={})),{sections:J((d={t:l,f:f}).t),settings:J(d.f)}),p=Et.extend(n,r,g.settings(),e&&Zh(g,\"mobile\")?function(e){void 0===e&&(e={});var t=ue(g.sections(),\"mobile\").getOr({});return Et.extend({},e,t)}():{},{validate:!0,external_plugins:(u=r,s=g.settings().external_plugins||{},u&&u.external_plugins?Et.extend({},u.external_plugins,s):s)});return tv(e,g,r,p)}function rv(e,t,n){return ve.from(t.settings[n]).filter(e)}function ov(e,t){return t.dom[e]}function iv(e,t){return parseInt(xn(t,e),10)}function av(e,t,n){var r,o,i,a,u,s,c=Nt.fromDom(e.getBody()),l=e.inline?c:Nt.fromDom(Dt(c).dom.documentElement),f=(r=e.inline,i=t,a=n,u=(o=l).dom.getBoundingClientRect(),{x:i-(r?u.left+o.dom.clientLeft+Tv(o):0),y:a-(r?u.top+o.dom.clientTop+Dv(o):0)}),d=f.x,m=f.y,g=Av(s=l),p=Rv(s);return 0<=d&&0<=m&&d<=g&&m<=p}function uv(o){function i(){var e=o.theme;return e&&e.getNotificationManagerImpl?e.getNotificationManagerImpl():{open:t,close:t,reposition:t,getArgs:t};function t(){throw new Error(\"Theme did not provide a NotificationManager implementation.\")}}function a(){return ve.from(c[0])}function u(){0<c.length&&i().reposition(c)}function s(t){z(c,function(e){return e===t}).each(function(e){c.splice(e,1)})}function t(n,e){if(void 0===e&&(e=!0),!o.removed&&(r=(t=o).inline?t.getBody():t.getContentAreaContainer(),ve.from(r).map(Nt.fromDom).map(In).getOr(!1)))return e&&o.fire(\"BeforeOpenNotification\",{notification:n}),M(c,function(e){return!((t=i().getArgs(e)).type!==n.type||t.text!==n.text||t.progressBar||t.timeout||n.progressBar||n.timeout);var t}).getOrThunk(function(){o.editorManager.setActive(o);var e=i().open(n,function(){s(e),u(),a().fold(function(){return o.focus()},function(e){return Nt.fromDom(e.getEl()).dom.focus()})});return c.push(e),u(),o.fire(\"OpenNotification\",{notification:_e({},e)}),e});var t,r}var n,c=[],e=J(c);return(n=o).on(\"SkinLoaded\",function(){var e=n.getParam(\"service_message\");e&&t({text:e,type:\"warning\",timeout:0},!1),u()}),n.on(\"show ResizeEditor ResizeWindow NodeChange\",function(){_r.requestAnimationFrame(u)}),n.on(\"remove\",function(){Y(c.slice(),function(e){i().close(e)})}),{open:t,close:function(){a().each(function(e){i().close(e),s(e),u()})},getNotifications:e}}var sv,cv,lv=0,fv=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},dv=Et.makeMap,mv=Et.each,gv=Et.explode,pv=Et.extend,hv=Ja.DOM,vv=(sv=function(e,t){return h(e)&&h(t)?vv(e,t):t},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error(\"Can't merge zero objects\");for(var n={},r=0;r<e.length;r++){var o,i=e[r];for(o in i)Ne(i,o)&&(n[o]=sv(n[o],i[o]))}return n}),bv=\"autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists\".split(\",\"),yv=\"bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor\".split(\",\"),Cv=\"imagetools,toc\".split(\",\"),xv=dt().deviceType,wv=xv.isTouch(),Sv=xv.isPhone(),Ev=xv.isTablet(),Nv=[\"lists\",\"autolink\",\"autosave\"],kv={table_grid:!1,object_resizing:!1,resize:!1},_v=(cv={},{add:function(e,t){cv[e]=t},get:function(e){return cv[e]||{icons:{}}},has:function(e){return Ne(cv,e)}}),Av=A(ov,\"clientWidth\"),Rv=A(ov,\"clientHeight\"),Dv=A(iv,\"margin-top\"),Tv=A(iv,\"margin-left\"),Ov=su.PluginManager,Bv=su.ThemeManager;function Pv(r){function o(){var e=r.theme;return e&&e.getWindowManagerImpl?e.getWindowManagerImpl():{open:t,openUrl:t,alert:t,confirm:t,close:t,getParams:t,setParams:t};function t(){throw new Error(\"Theme did not provide a WindowManager implementation.\")}}function i(n,r){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r?r.apply(n,e):void 0}}function n(t){r.fire(\"CloseWindow\",{dialog:t}),0===(u=U(u,function(e){return e!==t})).length&&r.focus()}function a(e){r.editorManager.setActive(r),cd(r);var t,n=e();return t=n,u.push(t),r.fire(\"OpenWindow\",{dialog:t}),n}var u=[];return r.on(\"remove\",function(){Y(u,function(e){o().close(e)})}),{open:function(e,t){return a(function(){return o().open(e,t,n)})},openUrl:function(e){return a(function(){return o().openUrl(e,n)})},alert:function(e,t,n){var r=o();r.alert(e,i(n||r,t))},confirm:function(e,t,n){var r=o();r.confirm(e,i(n||r,t))},close:function(){ve.from(u[u.length-1]).each(function(e){o().close(e),n(e)})}}}function Lv(e,t){e.notificationManager.open({type:\"error\",text:t})}function Iv(e,t){e._skinLoaded?Lv(e,t):e.on(\"SkinLoaded\",function(){Lv(e,t)})}function Mv(e,t,n){vf(e,t,{message:n}),console.error(n)}function Fv(e,t,n){return n?\"Failed to load \"+e+\": \"+n+\" from url \"+t:\"Failed to load \"+e+\" url: \"+t}function Uv(e,t,n){Mv(e,\"PluginLoadError\",Fv(\"plugin\",t,n))}function zv(e){var t,n;e.contentCSS=e.contentCSS.concat(cy(e,(n=(t=e).getParam(\"content_css\"),X(n)?T(n.split(\",\"),Je):S(n)?n:!1===n||t.inline?[]:[\"default\"])),cy(e,Ds(e)))}function Hv(){function n(e,t){return{status:e,resultUri:t}}function t(e){return e in r}var r={};return{hasBlobUri:t,getResultUri:function(e){var t=r[e];return t?t.resultUri:null},isPending:function(e){return!!t(e)&&1===r[e].status},isUploaded:function(e){return!!t(e)&&2===r[e].status},markPending:function(e){r[e]=n(1,null)},markUploaded:function(e,t){r[e]=n(2,t)},removeFailed:function(e){delete r[e]},destroy:function(){r={}}}}function jv(e){return e+ly+++(\"s\"+(new Date).getTime().toString(36)+t()+t()+t());function t(){return Math.round(4294967295*Math.random()).toString(36)}}function Vv(){function e(e){return M(n,e).getOrUndefined()}function i(e){if(!e.blob||!e.base64)throw new Error(\"blob and base64 representations of the image are required for BlobInfo to be created\");var t=e.id||jv(\"blobid\"),n=e.name||t,r=e.blob;return{id:J(t),name:J(n),filename:J(e.filename||n+\".\"+({\"image/jpeg\":\"jpg\",\"image/jpg\":\"jpg\",\"image/gif\":\"gif\",\"image/png\":\"png\",\"image/apng\":\"apng\",\"image/avif\":\"avif\",\"image/svg+xml\":\"svg\",\"image/webp\":\"webp\",\"image/bmp\":\"bmp\",\"image/tiff\":\"tiff\"}[r.type.toLowerCase()]||\"dat\")),blob:J(r),base64:J(e.base64),blobUri:J(e.blobUri||URL.createObjectURL(r)),uri:J(e.uri)}}function t(t){return e(function(e){return e.id()===t})}var n=[];return{create:function(e,t,n,r,o){if(X(e))return i({id:e,name:r,filename:o,blob:t,base64:n});if(h(e))return i(e);throw new Error(\"Unknown input type\")},add:function(e){t(e.id())||n.push(e)},get:t,getByUri:function(t){return e(function(e){return e.blobUri()===t})},getByData:function(t,n){return e(function(e){return e.base64()===t&&e.blob().type===n})},findFirst:e,removeByUri:function(t){n=U(n,function(e){return e.blobUri()!==t||void URL.revokeObjectURL(e.blobUri())})},destroy:function(){Y(n,function(e){URL.revokeObjectURL(e.blobUri())}),n=[]}}}function qv(u,s){function o(e,r,o,t){var i=new XMLHttpRequest;i.open(\"POST\",s.url),i.withCredentials=s.credentials,i.upload.onprogress=function(e){t(e.loaded/e.total*100)},i.onerror=function(){o(\"Image upload failed due to a XHR Transport error. Code: \"+i.status)},i.onload=function(){var e,t,n;i.status<200||300<=i.status?o(\"HTTP Error: \"+i.status):(e=JSON.parse(i.responseText))&&\"string\"==typeof e.location?r((t=s.basePath,n=e.location,t?t.replace(/\\/$/,\"\")+\"/\"+n.replace(/^\\//,\"\"):n)):o(\"Invalid JSON: \"+i.responseText)};var n=new FormData;n.append(\"file\",e.blob(),e.filename()),i.send(n)}function c(e,t){return{url:t,blobInfo:e,status:!0}}function l(e,t,n){return{url:\"\",blobInfo:e,status:!1,error:{message:t,options:n}}}function f(e,t){Et.each(d[e],function(e){e(t)}),delete d[e]}var d={};return!1===y(s.handler)&&(s.handler=o),{upload:function(e,t){return s.url||s.handler!==o?(n=e,r=t,n=Et.grep(e,function(e){return!u.isUploaded(e.blobUri())}),kr.all(Et.map(n,function(e){return u.isPending(e.blobUri())?(n=e.blobUri(),new kr(function(e){d[n]=d[n]||[],d[n].push(e)})):(i=e,t=s.handler,a=r,u.markPending(i.blobUri()),new kr(function(r){var n;try{var o=function(){n&&n.close()};t(i,function(e){o(),u.markUploaded(i.blobUri(),e),f(i.blobUri(),c(i,e)),r(c(i,e))},function(e,t){var n=t||{};o(),u.removeFailed(i.blobUri()),f(i.blobUri(),l(i,e,n)),r(l(i,e,n))},function(t){t<0||100<t||ve.from(n).orThunk(function(){return ve.from(a).map(C)}).each(function(e){(n=e).progressBar.value(t)})})}catch(e){r(l(i,e.message,{}))}}));var i,t,a,n}))):new kr(function(e){e([])});var n,r}}}function $v(e){return function(){return e.notificationManager.open({text:e.translate(\"Image uploading...\"),type:\"info\",timeout:-1,progressBar:!0})}}function Wv(e,t){return qv(t,{url:e.getParam(\"images_upload_url\",\"\",\"string\"),basePath:e.getParam(\"images_upload_base_path\",\"\",\"string\"),credentials:e.getParam(\"images_upload_credentials\",!1,\"boolean\"),handler:e.getParam(\"images_upload_handler\",null,\"function\")})}function Kv(l){function t(t){return function(e){return l.selection?t(e):[]}}function r(e,t,n){for(var r=0;-1!==(r=e.indexOf(t,r))&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1),-1!==r;);return e}function o(e,t,n){return e=r(e,'src=\"'+t+'\"','src=\"'+n+'\"'+(n===xt.transparentSrc?' data-mce-placeholder=\"1\"':\"\")),r(e,'data-mce-src=\"'+t+'\"','data-mce-src=\"'+n+'\"')}function f(t,n){Y(l.undoManager.data,function(e){\"fragmented\"===e.type?e.fragments=T(e.fragments,function(e){return o(e,t,n)}):e.content=o(e.content,t,n)})}function n(n){return u=u||Wv(l,g),v().then(t(function(c){var e=T(c,function(e){return e.blobInfo});return u.upload(e,$v(l)).then(t(function(e){var s=[],t=T(e,function(e,t){var n,r,o,i,a=c[t].blobInfo,u=c[t].image;return e.status&&l.getParam(\"images_replace_blob_uris\",!0,\"boolean\")?(m.removeByUri(u.src),mh(l)||(r=u,o=e.url,i=l.convertURL(o,\"src\"),f(r.src,o),l.$(r).attr({src:l.getParam(\"images_reuse_filename\",!1,\"boolean\")?o+(-1===o.indexOf(\"?\")?\"?\":\"&\")+(new Date).getTime():o,\"data-mce-src\":i}))):e.error&&(e.error.options.remove&&(f(u.getAttribute(\"src\"),xt.transparentSrc),s.push(u)),n=e.error.message,Iv(l,uu.translate([\"Failed to upload image: {0}\",n]))),{element:u,status:e.status,uploadUri:e.url,blobInfo:a}});return 0<t.length&&h.fireIfChanged(),0<s.length&&(mh(l)?console.error(\"Removing images on failed uploads is currently unsupported for RTC\"):l.undoManager.transact(function(){Y(s,function(e){l.dom.remove(e),m.removeByUri(e.src)})})),n&&n(t),t}))}))}function e(e){if(Ns(l))return n(e)}function i(t){return!1!==j(p,function(e){return e(t)})&&(0!==t.getAttribute(\"src\").indexOf(\"data:\")||l.getParam(\"images_dataimg_filter\",w,\"function\")(t))}function a(e){return e.replace(/src=\"(blob:[^\"]+)\"/g,function(e,n){var t=g.getResultUri(n);if(t)return'src=\"'+t+'\"';var r=(r=m.getByUri(n))||L(l.editorManager.get(),function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)},null);return r?'src=\"data:'+r.blob().type+\";base64,\"+r.base64()+'\"':e})}var u,s,c,d,m=Vv(),g=Hv(),p=[],h=(d=ru(null),(c=l).on(\"change AddUndo\",function(e){d.set(_e({},e.level))}),{fireIfChanged:function(){var t=c.undoManager.data;Z(t).filter(function(e){return!sh(d.get(),e)}).each(function(e){c.setDirty(!0),c.fire(\"change\",{level:e,lastLevel:G(t,t.length-2).getOrNull()})})}}),v=function(){return(s=s||Hh(g,m)).findAll(l.getBody(),i).then(t(function(e){return e=U(e,function(e){return\"string\"!=typeof e||void Iv(l,e)}),mh(l)||Y(e,function(e){f(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute(\"data-mce-src\")}),e}))};return l.on(\"SetContent\",function(){(Ns(l)?e:v)()}),l.on(\"RawSaveContent\",function(e){e.content=a(e.content)}),l.on(\"GetContent\",function(e){e.source_view||\"raw\"===e.format||\"tree\"===e.format||(e.content=a(e.content))}),l.on(\"PostRender\",function(){l.parser.addNodeFilter(\"img\",function(e){Y(e,function(e){var t,n=e.attr(\"src\");m.getByUri(n)||(t=g.getResultUri(n))&&e.attr(\"src\",t)})})}),{blobCache:m,addFilter:function(e){p.push(e)},uploadImages:n,uploadImagesAuto:e,scanForImages:v,destroy:function(){m.destroy(),g.destroy(),s=u=null}}}function Xv(e,t){function m(e){o=\"string\"==typeof e?{name:e,classes:[],attrs:{}}:e;var t,n=dy.create(o.name),r=n;return(t=o).classes.length&&dy.addClass(r,t.classes.join(\" \")),dy.setAttribs(r,t.attrs),n}var n,o,r,g=t&&t.schema||to({}),p=function(n,e,t){var r,o,i,a,u,s,c,l=0<e.length&&e[0],f=l&&l.name,d=(a=f,u=\"string\"!=typeof(i=n)?i.nodeName.toLowerCase():i,!(!(c=(s=g.getElementRule(u))&&s.parentsRequired)||!c.length)&&(a&&-1!==Et.inArray(c,a)?a:c[0]));if(d)f===d?(o=e[0],e=e.slice(1)):o=d;else if(l)o=e[0],e=e.slice(1);else if(!t)return n;return o&&(r=m(o)).appendChild(n),t&&(r||(r=dy.create(\"div\")).appendChild(n),Et.each(t,function(e){var t=m(e);r.insertBefore(t,n)})),p(r,e,o&&o.siblings)};return e&&e.length?(n=m(o=e[0]),(r=dy.create(\"div\")).appendChild(p(n,e.slice(1),o.siblings)),r):\"\"}function Yv(e){var t,a={classes:[],attrs:{}};return\"*\"!==(e=a.selector=Et.trim(e))&&(t=e.replace(/(?:([#\\.]|::?)([\\w\\-]+)|(\\[)([^\\]]+)\\]?)/g,function(e,t,n,r,o){switch(t){case\"#\":a.attrs.id=n;break;case\".\":a.classes.push(n);break;case\":\":-1!==Et.inArray(\"checked disabled enabled read-only required\".split(\" \"),n)&&(a.attrs[n]=n)}var i;return\"[\"!==r||(i=o.match(/([\\w\\-]+)(?:\\=\\\"([^\\\"]+))?/))&&(a.attrs[i[1]]=i[2]),\"\"})),a.name=t||\"div\",a}function Gv(n,e){var r,t,o=\"\",i=(t=n.getParam(\"preview_styles\",\"font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow\"),X(t)?t:\"\");if(\"\"===i)return\"\";function a(e){return e.replace(/%(\\w+)/g,\"\")}if(\"string\"==typeof e){if(!(e=n.formatter.get(e)))return;e=e[0]}if(\"preview\"in e){var u=ue(e,\"preview\");if(fn(u,!1))return\"\";i=u.getOr(i)}var s,c=e.block||e.inline||\"span\",l=(s=e.selector)&&\"string\"==typeof s?(s=(s=s.split(/\\s*,\\s*/)[0]).replace(/\\s*(~\\+|~|\\+|>)\\s*/g,\"$1\"),Et.map(s.split(/(?:>|\\s+(?![^\\[\\]]+\\]))/),function(e){var t=Et.map(e.split(/(?:~\\+|~|\\+)/),Yv),n=t.pop();return t.length&&(n.siblings=t),n}).reverse()):[],f=l.length?(l[0].name||(l[0].name=c),c=e.selector,Xv(l,n)):Xv([c],n),d=dy.select(c,f)[0]||f.firstChild;return fy(e.styles,function(e,t){var n=a(e);n&&dy.setStyle(d,t,n)}),fy(e.attributes,function(e,t){var n=a(e);n&&dy.setAttrib(d,t,n)}),fy(e.classes,function(e){var t=a(e);dy.hasClass(d,t)||dy.addClass(d,t)}),n.fire(\"PreviewFormats\"),dy.setStyles(f,{position:\"absolute\",left:-65535}),n.getBody().appendChild(f),r=dy.getStyle(n.getBody(),\"fontSize\",!0),r=/px$/.test(r)?parseInt(r,10):0,fy(i.split(\" \"),function(e){var t=dy.getStyle(d,e,!0);if(!(\"background-color\"===e&&/transparent|rgba\\s*\\([^)]+,\\s*0\\)/.test(t)&&(t=dy.getStyle(n.getBody(),e,!0),\"#ffffff\"===dy.toHex(t).toLowerCase())||\"color\"===e&&\"#000000\"===dy.toHex(t).toLowerCase())){if(\"font-size\"===e&&/em|%$/.test(t)){if(0===r)return;t=parseFloat(t)/(/%$/.test(t)?100:1)*r+\"px\"}\"border\"===e&&t&&(o+=\"padding:0 2px;\"),o+=e+\":\"+t+\";\"}}),n.fire(\"AfterPreviewFormats\"),dy.remove(f),o}function Jv(c){var e,r,t,n,o,i,a=(n={},(o=function(e,t){e&&(X(e)?(Y(t=!S(t)?[t]:t,function(e){b(e.deep)&&(e.deep=!fl(e)),b(e.split)&&(e.split=!fl(e)||dl(e)),b(e.remove)&&fl(e)&&!dl(e)&&(e.remove=\"none\"),fl(e)&&dl(e)&&(e.mixed=!0,e.block_expand=!0),X(e.classes)&&(e.classes=e.classes.split(/\\s+/))}),n[e]=t):ne(e,function(e,t){o(t,e)}))})((r=(e=c).dom,t={valigntop:[{selector:\"td,th\",styles:{verticalAlign:\"top\"}}],valignmiddle:[{selector:\"td,th\",styles:{verticalAlign:\"middle\"}}],valignbottom:[{selector:\"td,th\",styles:{verticalAlign:\"bottom\"}}],alignleft:[{selector:\"figure.image\",collapsed:!1,classes:\"align-left\",ceFalseOverride:!0,preview:\"font-family font-size\"},{selector:\"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li\",styles:{textAlign:\"left\"},inherit:!1,preview:!1,defaultBlock:\"div\"},{selector:\"img,table,audio,video\",collapsed:!1,styles:{float:\"left\"},preview:\"font-family font-size\"}],aligncenter:[{selector:\"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li\",styles:{textAlign:\"center\"},inherit:!1,preview:\"font-family font-size\",defaultBlock:\"div\"},{selector:\"figure.image\",collapsed:!1,classes:\"align-center\",ceFalseOverride:!0,preview:\"font-family font-size\"},{selector:\"img,audio,video\",collapsed:!1,styles:{display:\"block\",marginLeft:\"auto\",marginRight:\"auto\"},preview:!1},{selector:\"table\",collapsed:!1,styles:{marginLeft:\"auto\",marginRight:\"auto\"},preview:\"font-family font-size\"}],alignright:[{selector:\"figure.image\",collapsed:!1,classes:\"align-right\",ceFalseOverride:!0,preview:\"font-family font-size\"},{selector:\"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li\",styles:{textAlign:\"right\"},inherit:!1,preview:\"font-family font-size\",defaultBlock:\"div\"},{selector:\"img,table,audio,video\",collapsed:!1,styles:{float:\"right\"},preview:\"font-family font-size\"}],alignjustify:[{selector:\"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li\",styles:{textAlign:\"justify\"},inherit:!1,defaultBlock:\"div\",preview:\"font-family font-size\"}],bold:[{inline:\"strong\",remove:\"all\",preserve_attributes:[\"class\",\"style\"]},{inline:\"span\",styles:{fontWeight:\"bold\"}},{inline:\"b\",remove:\"all\",preserve_attributes:[\"class\",\"style\"]}],italic:[{inline:\"em\",remove:\"all\",preserve_attributes:[\"class\",\"style\"]},{inline:\"span\",styles:{fontStyle:\"italic\"}},{inline:\"i\",remove:\"all\",preserve_attributes:[\"class\",\"style\"]}],underline:[{inline:\"span\",styles:{textDecoration:\"underline\"},exact:!0},{inline:\"u\",remove:\"all\",preserve_attributes:[\"class\",\"style\"]}],strikethrough:[{inline:\"span\",styles:{textDecoration:\"line-through\"},exact:!0},{inline:\"strike\",remove:\"all\",preserve_attributes:[\"class\",\"style\"]},{inline:\"s\",remove:\"all\",preserve_attributes:[\"class\",\"style\"]}],forecolor:{inline:\"span\",styles:{color:\"%value\"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:\"span\",styles:{backgroundColor:\"%value\"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:\"span\",toggle:!1,styles:{fontFamily:\"%value\"},clear_child_styles:!0},fontsize:{inline:\"span\",toggle:!1,styles:{fontSize:\"%value\"},clear_child_styles:!0},lineheight:{selector:\"h1,h2,h3,h4,h5,h6,p,li,td,th,div\",defaultBlock:\"p\",styles:{lineHeight:\"%value\"}},fontsize_class:{inline:\"span\",attributes:{class:\"%value\"}},blockquote:{block:\"blockquote\",wrapper:!0,remove:\"all\"},subscript:{inline:\"sub\"},superscript:{inline:\"sup\"},code:{inline:\"code\"},link:{inline:\"a\",selector:\"a\",remove:\"all\",split:!0,deep:!0,onmatch:function(e,t,n){return zn(e)&&e.hasAttribute(\"href\")},onformat:function(n,e,t){Et.each(t,function(e,t){r.setAttrib(n,t,e)})}},lang:{inline:\"span\",clear_child_styles:!0,remove_similar:!0,attributes:{lang:\"%value\",\"data-mce-lang\":function(e){var t;return null!==(t=null==e?void 0:e.customValue)&&void 0!==t?t:null}}},removeformat:[{selector:\"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small\",remove:\"all\",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:\"span\",attributes:[\"style\",\"class\"],remove:\"empty\",split:!0,expand:!1,deep:!0},{selector:\"*\",attributes:[\"style\",\"class\"],split:!1,expand:!1,deep:!0}]},Et.each(\"p h1 h2 h3 h4 h5 h6 div address pre dt dd samp\".split(/\\s/),function(e){t[e]={block:e,remove:\"all\"}}),t)),o(e.getParam(\"formats\")),{get:function(e){return V(e)?n[e]:n},has:function(e){return Ne(n,e)},register:o,unregister:function(e){return e&&n[e]&&delete n[e],n}}),l=ru(null);return function(e){e.addShortcut(\"meta+b\",\"\",\"Bold\"),e.addShortcut(\"meta+i\",\"\",\"Italic\"),e.addShortcut(\"meta+u\",\"\",\"Underline\");for(var t=1;t<=6;t++)e.addShortcut(\"access+\"+t,\"\",[\"FormatBlock\",!1,\"h\"+t]);e.addShortcut(\"access+7\",\"\",[\"FormatBlock\",!1,\"p\"]),e.addShortcut(\"access+8\",\"\",[\"FormatBlock\",!1,\"div\"]),e.addShortcut(\"access+9\",\"\",[\"FormatBlock\",!1,\"address\"])}(c),(i=c).on(\"mouseup keydown\",function(e){var t=i,n=e.keyCode,r=t.selection,o=t.getBody();Fg(t,null,!1),8!==n&&46!==n||!r.isCollapsed()||r.getStart().innerHTML!==vp||Fg(t,Hc(o,r.getStart())),37!==n&&39!==n||Fg(t,Hc(o,r.getStart()))}),{get:a.get,has:a.has,register:a.register,unregister:a.unregister,apply:function(e,t,n){var r=e,o=t,i=n;hh(c).formatter.apply(r,o,i)},remove:function(e,t,n,r){var o=e,i=t,a=n,u=r;hh(c).formatter.remove(o,i,a,u)},toggle:function(e,t,n){var r=e,o=t,i=n;hh(c).formatter.toggle(r,o,i)},match:function(e,t,n,r){return o=e,i=t,a=n,u=r,hh(c).formatter.match(o,i,a,u);var o,i,a,u},closest:function(e){return t=e,hh(c).formatter.closest(t);var t},matchAll:function(e,t){return n=e,r=t,hh(c).formatter.matchAll(n,r);var n,r},matchNode:function(e,t,n,r){return o=e,i=t,a=n,u=r,hh(c).formatter.matchNode(o,i,a,u);var o,i,a,u},canApply:function(e){return t=e,hh(c).formatter.canApply(t);var t},formatChanged:function(e,t,n,r){return o=l,i=e,a=t,u=n,s=r,hh(c).formatter.formatChanged(o,i,a,u,s);var o,i,a,u,s},getCssText:A(Gv,c)}}function Qv(e){switch(e.toLowerCase()){case\"undo\":case\"redo\":case\"mcerepaint\":case\"mcefocus\":return 1;default:return}}function Zv(s){var e,n,r,o,i,c=cu(),l=ru(0),f=ru(0),d={data:[],typing:!1,beforeChange:function(){var e=l,t=c;hh(s).undoManager.beforeChange(e,t)},add:function(e,t){return n=d,r=f,o=l,i=c,a=e,u=t,hh(s).undoManager.add(n,r,o,i,a,u);var n,r,o,i,a,u},undo:function(){return e=d,t=l,n=f,hh(s).undoManager.undo(e,t,n);var e,t,n},redo:function(){return e=f,t=d.data,hh(s).undoManager.redo(e,t);var e,t},clear:function(){var e=d,t=f;hh(s).undoManager.clear(e,t)},reset:function(){var e=d;hh(s).undoManager.reset(e)},hasUndo:function(){return e=d,t=f,hh(s).undoManager.hasUndo(e,t);var e,t},hasRedo:function(){return e=d,t=f,hh(s).undoManager.hasRedo(e,t);var e,t},transact:function(e){return t=d,n=l,r=e,hh(s).undoManager.transact(t,n,r);var t,n,r},ignore:function(e){var t=l,n=e;hh(s).undoManager.ignore(t,n)},extra:function(e,t){var n=d,r=f,o=e,i=t;hh(s).undoManager.extra(n,r,o,i)}};return mh(s)||(r=d,o=l,i=ru(!1),(n=s).on(\"init\",function(){r.add()}),n.on(\"BeforeExecCommand\",function(e){Qv(e.command)||(fh(r,o),r.beforeChange())}),n.on(\"ExecCommand\",function(e){Qv(e.command)||a(e)}),n.on(\"ObjectResizeStart cut\",function(){r.beforeChange()}),n.on(\"SaveContent ObjectResized blur\",a),n.on(\"dragend\",a),n.on(\"keyup\",function(e){var t=e.keyCode;e.isDefaultPrevented()||((33<=t&&t<=36||37<=t&&t<=40||45===t||e.ctrlKey)&&(a(),n.nodeChanged()),46!==t&&8!==t||n.nodeChanged(),i.get()&&r.typing&&!1===sh(oh(n),r.data[0])&&(!1===n.isDirty()&&(n.setDirty(!0),n.fire(\"change\",{level:r.data[0],lastLevel:null})),n.fire(\"TypingUndo\"),i.set(!1),n.nodeChanged()))}),n.on(\"keydown\",function(e){var t,n=e.keyCode;e.isDefaultPrevented()||(33<=n&&n<=36||37<=n&&n<=40||45===n?r.typing&&a(e):(t=e.ctrlKey&&!e.altKey||e.metaKey,!(n<16||20<n)||224===n||91===n||r.typing||t||(r.beforeChange(),lh(r,!0,o),r.add({},e),i.set(!0))))}),n.on(\"mousedown\",function(e){r.typing&&a(e)}),n.on(\"input\",function(e){e.inputType&&(\"insertReplacementText\"===e.inputType||\"insertText\"===e.inputType&&null===e.data||\"insertFromPaste\"===e.inputType||\"insertFromDrop\"===e.inputType)&&a(e)}),n.on(\"AddUndo Undo Redo ClearUndos\",function(e){e.isDefaultPrevented()||n.nodeChanged()})),(e=s).addShortcut(\"meta+z\",\"\",\"Undo\"),e.addShortcut(\"meta+y,meta+shift+z\",\"\",\"Redo\"),d;function a(e){lh(r,!1,o),r.add({},e)}}function eb(e){return\"keydown\"===e.type||\"keyup\"===e.type}function tb(e){var t=e.keyCode;return t===Bf.BACKSPACE||t===Bf.DELETE}function nb(e,t){return ze(Nt.fromDom(t),e.getParam(\"inline_boundaries_selector\",\"a[href],code,.mce-annotation\",\"string\"))}function rb(e,t,n){var r,o,i=(r=e,o=t,U(Ja.DOM.getParents(n.container(),\"*\",o),r));return ve.from(i[i.length-1])}function ob(e,t){if(!t)return t;var n=t.container(),r=t.offset();return e?Lr(n)?jn(n.nextSibling)?as(n.nextSibling,0):as.after(n):Fr(t)?as(n,r+1):t:Lr(n)?jn(n.previousSibling)?as(n.previousSibling,n.previousSibling.data.length):as.before(n):Ur(t)?as(n,r-1):t}function ib(e){return fo(e)||go(e)}function ab(e,t){return Ve(e,t)?pr(t,ib,(n=e,function(e){return je(n,Nt.fromDom(e.dom.parentNode))})):ve.none();var n}function ub(e){var t,n,r;e.dom.isEmpty(e.getBody())&&(e.setContent(\"\"),r=(n=(t=e).getBody()).firstChild&&t.dom.isBlock(n.firstChild)?n.firstChild:n,t.selection.setCursorLocation(r,0))}function sb(e,t){return{from:e,to:t}}function cb(e,t){return ab(Nt.fromDom(e),Nt.fromDom(t.container())).map(function(e){return{block:e,position:t}})}function lb(e){var t,n=z(t=Dn(e),lo).fold(J(t),function(e){return t.slice(0,e)});return Y(n,Ln),n}function fb(e,t){return M(hm(t,e).reverse(),function(e){return Wr(e)}).each(Ln)}function db(e,t,n,r){if(Wr(n))return mm(n),ef(n.dom);0===U(Lt(r),function(e){return!Wr(e)}).length&&Wr(t)&&qt(r,Nt.fromTag(\"br\"));var o=Zl(n.dom,as.before(r.dom));return Y(lb(t),function(e){qt(r,e)}),fb(e,t),o}function mb(e,t,n){if(Wr(n))return Ln(n),Wr(t)&&mm(t),ef(t.dom);var r=tf(n.dom);return Y(lb(t),function(e){Pn(n,e)}),fb(e,t),r}function gb(e,t){Uc(e,t.dom).map(function(e){return e.getNode()}).map(Nt.fromDom).filter(Br).each(Ln)}function pb(e,t,n){return gb(!0,t),gb(!1,n),(Ve(o=n,r=t)?(i=hm(r,o),ve.from(i[i.length-1])):ve.none()).fold(A(mb,e,t,n),A(db,e,t,n));var r,o,i}function hb(e,t,n,r){return t?pb(e,r,n):pb(e,n,r)}function vb(t,n){var e,r,o,i,a,u,s,c=Nt.fromDom(t.getBody()),l=(e=c.dom,r=n,((o=t.selection.getRng()).collapsed?(a=r,u=cb(i=e,as.fromRangeStart(o)),s=u.bind(function(e){return Gl(a,i,e.position).bind(function(e){return cb(i,e).map(function(e){return t=i,n=a,Wn((r=e).position.getNode())&&!1===Wr(r.block)?Uc(!1,r.block.dom).bind(function(e){return e.isEqual(r.position)?Gl(n,t,e).bind(function(e){return cb(t,e)}):ve.some(r)}).getOr(r):r;var t,n,r})})}),dn(u,s,sb).filter(function(e){return!1===je(e.from.block,e.to.block)&&Ot((n=e).from.block).bind(function(t){return Ot(n.to.block).filter(function(e){return je(t,e)})}).isSome()&&!1===Yn((t=e).from.block.dom)&&!1===Yn(t.to.block.dom);var t,n})):ve.none()).bind(function(e){return hb(c,n,e.from.block,e.to.block)}));return l.each(function(e){t.selection.setRng(e.toRange())}),l.isSome()}function bb(e,t){var n=Nt.fromDom(t),r=A(je,e);return gr(n,ho,r).isSome()}function yb(e){var n,r,o,t,i,a,u,s,c,l,f=Nt.fromDom(e.getBody()),d=e.selection.getRng();return a=d,c=Zl((i=f).dom,as.fromRangeStart(a)).isNone(),l=Ql(i.dom,as.fromRangeEnd(a)).isNone(),!bb(u=i,(s=a).startContainer)&&!bb(u,s.endContainer)&&c&&l?((t=e).setContent(\"\"),t.selection.setCursorLocation(),!0):(n=f,r=e.selection,o=r.getRng(),dn(ab(n,Nt.fromDom(o.startContainer)),ab(n,Nt.fromDom(o.endContainer)),function(e,t){return!1===je(e,t)&&(o.deleteContents(),hb(n,!0,e,t).each(function(e){r.setRng(e.toRange())}),!0)}).getOr(!1))}function Cb(e,t){return!e.selection.isCollapsed()&&yb(e)}function xb(e,t,n,r,o){return ve.from(t._selectionOverrides.showCaret(e,n,r,o))}function wb(e,t){var n,r;return e.fire(\"BeforeObjectSelected\",{target:t}).isDefaultPrevented()?ve.none():ve.some(((r=(n=t).ownerDocument.createRange()).selectNode(n),r))}function Sb(e,t,n){var r=Zs(1,e.getBody(),t),o=as.fromRangeStart(r),i=o.getNode();if(wc(i))return xb(1,e,i,!o.isAtEnd(),!1);var a=o.getNode(!0);if(wc(a))return xb(1,e,a,!1,!1);var u=e.dom.getParent(o.getNode(),function(e){return yy(e)||by(e)});return wc(u)?xb(1,e,u,!1,n):ve.none()}function Eb(e,t,n){return t.collapsed?Sb(e,t,n).getOr(t):t}function Nb(e){return ep(e)||Gg(e)}function kb(e){return tp(e)||Jg(e)}function _b(n,r,e,t,o,i){var a,u;return xb(t,n,i.getNode(!o),o,!0).each(function(e){var t;r.collapsed?(t=r.cloneRange(),o?t.setEnd(e.startContainer,e.startOffset):t.setStart(e.endContainer,e.endOffset),t.deleteContents()):r.deleteContents(),n.selection.setRng(e)}),a=n.dom,jn(u=e)&&0===u.data.length&&a.remove(u),!0}function Ab(e,t){var n=e.selection.getRng();if(!jn(n.commonAncestorContainer))return!1;var r=t?ic.Forwards:ic.Backwards,o=Pc(e.getBody()),i=A(rc,t?o.next:o.prev),a=t?Nb:kb,u=tc(r,e.getBody(),n),s=ob(t,i(u));if(!s||!oc(u,s))return!1;if(a(s))return _b(e,n,u.getNode(),r,t,s);var c=i(s);return!!(c&&a(c)&&oc(s,c))&&_b(e,n,u.getNode(),r,t,c)}function Rb(l,f,d){return Gl(f,l,d).bind(function(e){return s=e.getNode(),ho(Nt.fromDom(s))||go(Nt.fromDom(s))||(o=l,u=e,ec(!(i=f),a=d).fold(function(){return ec(i,u).fold(R,c)},c))?ve.none():f&&Yn(e.getNode())||!1===f&&Yn(e.getNode(!0))?(t=l,n=d,r=e.getNode(!1===f),ab(Nt.fromDom(t),Nt.fromDom(n.getNode())).map(function(e){return Wr(e)?Cy.remove(e.dom):Cy.moveToElement(r)}).orThunk(function(){return ve.some(Cy.moveToElement(r))})):f&&tp(d)||!1===f&&ep(d)?ve.some(Cy.moveToPosition(e)):ve.none();var t,n,r,o,i,a,u,s;function c(e){return Or(Nt.fromDom(e))&&!Ys(a,u,o)}})}function Db(e,t){return ve.from(pf(e.getBody(),t))}function Tb(m,g){var e=m.selection.getNode();return Db(m,e).filter(Yn).fold(function(){return s=m.getBody(),l=Zs((c=g)?1:-1,s,m.selection.getRng()),f=as.fromRangeStart(l),d=Nt.fromDom(s),(!1===c&&tp(f)?ve.some(Cy.remove(f.getNode(!0))):c&&ep(f)?ve.some(Cy.remove(f.getNode())):!1===c&&ep(f)&&Em(d,f)?ap(d,f).map(function(e){return Cy.remove(e.getNode())}):c&&tp(f)&&Sm(d,f)?up(d,f).map(function(e){return Cy.remove(e.getNode())}):(r=s,e=c,a=(o=f).getNode(!1===(i=e)),u=i?\"after\":\"before\",zn(a)&&a.getAttribute(\"data-mce-caret\")===u?(n=o.getNode(!1===(t=e)),(t&&Yn(n.nextSibling)?ve.some(Cy.moveToElement(n.nextSibling)):!1===t&&Yn(n.previousSibling)?ve.some(Cy.moveToElement(n.previousSibling)):ve.none()).fold(function(){return Rb(r,e,o)},ve.some)):Rb(r,e,o).bind(function(e){return t=r,n=o,e.fold(function(e){return ve.some(Cy.remove(e))},function(e){return ve.some(Cy.moveToElement(e))},function(e){return Ys(n,e,t)?ve.none():ve.some(Cy.moveToPosition(e))});var t,n}))).exists(function(e){return e.fold(function(e){return o._selectionOverrides.hideFakeCaret(),Ym(o,i,Nt.fromDom(e)),!0},(r=i=g,function(e){var t=r?as.before(e):as.after(e);return n.selection.setRng(t.toRange()),!0}),(t=n=o=m,function(e){return t.selection.setRng(e.toRange()),!0}));var t,n,r,o,i});var r,e,o,t,n,i,a,u,s,c,l,f,d},w)}function Ob(e,t){var n=e.selection.getNode();return!(!Yn(n)||Gn(n))&&Db(e,n.parentNode).filter(Yn).fold(function(){return Y(hu(Nt.fromDom(e.getBody()),\".mce-offscreen-selection\"),Ln),Ym(e,t,Nt.fromDom(e.selection.getNode())),ub(e),!0},w)}function Bb(e){var t,n=e.dom,r=e.selection,o=pf(e.getBody(),r.getNode());return Xn(o)&&n.isBlock(o)&&n.isEmpty(o)&&(t=n.create(\"br\",{\"data-mce-bogus\":\"1\"}),n.setHTML(o,\"\"),o.appendChild(t),r.setRng(as.before(t).toRange())),!0}function Pb(e,t){return(e.selection.isCollapsed()?Tb:Ob)(e,t)}function Lb(e,t){return!!e.selection.isCollapsed()&&(n=e,r=t,o=as.fromRangeStart(n.selection.getRng()),Gl(r,n.getBody(),o).filter(function(e){return(r?Xg:Yg)(e)}).bind(function(e){return ve.from(Gs(r?0:-1,e))}).exists(function(e){return n.selection.select(e),!0}));var n,r,o}function Ib(e){return xy(e)&&e.data[0]===Co}function Mb(e){return xy(e)&&e.data[e.data.length-1]===Co}function Fb(e){return e.ownerDocument.createTextNode(Co)}function Ub(e,t){return(e?function(e){if(xy(e.previousSibling))return Mb(e.previousSibling)||e.previousSibling.appendData(Co),e.previousSibling;if(xy(e))return Ib(e)||e.insertData(0,Co),e;var t=Fb(e);return e.parentNode.insertBefore(t,e),t}:function(e){if(xy(e.nextSibling))return Ib(e.nextSibling)||e.nextSibling.insertData(0,Co),e.nextSibling;if(xy(e))return Mb(e)||e.appendData(Co),e;var t=Fb(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t})(t)}function zb(e,t){return jn(e.container())?Ub(t,e.container()):Ub(t,e.getNode())}function Hb(e,t){var n=t.get();return n&&e.container()===n&&Lr(n)}function jb(n,e){return e.fold(function(e){vc(n.get());var t=wy(e);return n.set(t),ve.some(as(t,t.length-1))},function(e){return ef(e).map(function(e){if(Hb(e,n))return as(n.get(),1);vc(n.get());var t=zb(e,!0);return n.set(t),as(t,1)})},function(e){return tf(e).map(function(e){if(Hb(e,n))return as(n.get(),n.get().length-1);vc(n.get());var t=zb(e,!1);return n.set(t),as(t,t.length-1)})},function(e){vc(n.get());var t=Sy(e);return n.set(t),ve.some(as(t,1))})}function Vb(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return ve.none()}function qb(e,t){return Xs(t,e)||e}function $b(e,t,n){var r=hy(n),o=qb(t,r.container());return rb(e,o,r).fold(function(){return Ql(o,r).bind(A(rb,e,o)).map(function(e){return Ey.before(e)})},ve.none)}function Wb(e,t){return null===Hc(e,t)}function Kb(e,t,n){return rb(e,t,n).filter(A(Wb,t))}function Xb(e,t,n){var r=vy(n);return Kb(e,t,r).bind(function(e){return Zl(e,r).isNone()?ve.some(Ey.start(e)):ve.none()})}function Yb(e,t,n){var r=hy(n);return Kb(e,t,r).bind(function(e){return Ql(e,r).isNone()?ve.some(Ey.end(e)):ve.none()})}function Gb(e,t,n){var r=vy(n),o=qb(t,r.container());return rb(e,o,r).fold(function(){return Zl(o,r).bind(A(rb,e,o)).map(function(e){return Ey.after(e)})},ve.none)}function Jb(e){return!1===(t=Ny(e),\"rtl\"===Ja.DOM.getStyle(t,\"direction\",!0)||(n=t.textContent,py.test(n)));var t,n}function Qb(e,t,n){return Vb([$b,Xb,Yb,Gb],[e,t,n]).filter(Jb)}function Zb(e){return e.fold(J(\"before\"),J(\"start\"),J(\"end\"),J(\"after\"))}function ey(e){return e.fold(Ey.before,Ey.before,Ey.after,Ey.after)}function ty(e){return e.fold(Ey.start,Ey.start,Ey.end,Ey.end)}function ny(a,e,u,t,n,s){return dn(rb(e,u,t),rb(e,u,n),function(e,t){return e!==t&&(r=t,o=Xs(e,n=u),i=Xs(r,n),o&&o===i)?Ey.after(a?e:t):s;var n,r,o,i}).getOr(s)}function ry(e,r){return e.fold(w,function(e){return n=r,!(Zb(t=e)===Zb(n)&&Ny(t)===Ny(n));var t,n})}function oy(e,t){return e?t.fold(i(ve.some,Ey.start),ve.none,i(ve.some,Ey.after),ve.none):t.fold(ve.none,i(ve.some,Ey.before),ve.none,i(ve.some,Ey.end))}function iy(e,a,u,s){var t=ob(e,s),c=Qb(a,u,t);return Qb(a,u,t).bind(A(oy,e)).orThunk(function(){return n=a,r=u,o=c,i=ob(t=e,s),Gl(t,r,i).map(A(ob,t)).fold(function(){return o.map(ey)},function(e){return Qb(n,r,e).map(A(ny,t,n,r,i,e)).filter(A(ry,o))}).filter(Jb);var t,n,r,o,i})}function ay(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=window.console;r&&(r.error||r.log).apply(r,Ae([e],t,!1))}var uy,sy,cy=function(t,e){var n=t.editorManager.baseURL+\"/skins/content\",r=\"content\"+t.editorManager.suffix+\".css\",o=!0===t.inline;return T(e,function(e){return/^[a-z0-9\\-]+$/i.test(e)&&!o?n+\"/\"+e+\"/\"+r:t.documentBaseURI.toAbsolute(e)})},ly=0,fy=Et.each,dy=Ja.DOM,my=[9,27,Bf.HOME,Bf.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Bf.DOWN,Bf.UP,Bf.LEFT,Bf.RIGHT].concat(xt.browser.isFirefox()?[224]:[]),gy=\"data-mce-placeholder\",py=/[\\u0591-\\u07FF\\uFB1D-\\uFDFF\\uFE70-\\uFEFC]/,hy=A(ob,!0),vy=A(ob,!1),by=Xn,yy=Yn,Cy=or([{remove:[\"element\"]},{moveToElement:[\"element\"]},{moveToPosition:[\"position\"]}]),xy=jn,wy=A(Ub,!0),Sy=A(Ub,!1),Ey=or([{before:[\"element\"]},{start:[\"element\"]},{end:[\"element\"]},{after:[\"element\"]}]),Ny=function(e){return e.fold(u,u,u,u)};function ky(e,t,n){var r=e?1:-1;return t.setRng(as(n.container(),n.offset()+r).toRange()),t.getSel().modify(\"move\",e?\"forward\":\"backward\",\"word\"),!0}function _y(e,t){return e===ic.Backwards?q(t):t}function Ay(e,t,n,r){for(var o,i,a,u,s=Pc(n),c=r,l=[];c;){var f=(a=s,u=c,t===ic.Forwards?a.next(u):a.prev(u));if(!f)break;if(Wn(f.getNode(!1)))return t===ic.Forwards?{positions:_y(t,l).concat([f]),breakType:uy.Br,breakAt:ve.some(f)}:{positions:_y(t,l),breakType:uy.Br,breakAt:ve.some(f)};if(f.isVisible()){if(e(c,f)){var d=(o=c,Wn((i=f).getNode(t===ic.Forwards))?uy.Br:!1===Ys(o,i)?uy.Block:uy.Wrap);return{positions:_y(t,l),breakType:d,breakAt:ve.some(f)}}l.push(f),c=f}else c=f}return{positions:_y(t,l),breakType:uy.Eol,breakAt:ve.none()}}function Ry(n,r,o,e){return r(o,e).breakAt.map(function(e){var t=r(o,e).positions;return n===ic.Backwards?t.concat(e):[e].concat(t)}).getOr([])}function Dy(e,i){return L(e,function(e,o){return e.fold(function(){return ve.some(o)},function(r){return dn(Q(r.getClientRects()),Q(o.getClientRects()),function(e,t){var n=Math.abs(i-e.left);return Math.abs(i-t.left)<=n?o:r}).or(e)})},ve.none())}function Ty(t,e){return Q(e.getClientRects()).bind(function(e){return Dy(t,e.left)})}function Oy(n){function e(e){return T(e,function(e){var t=ku(e);return t.node=n,t})}if(zn(n))return e(n.getClientRects());if(jn(n)){var t=n.ownerDocument.createRange();return t.setStart(n,0),t.setEnd(n,n.data.length),e(t.getClientRects())}}function By(e){return H(e,Oy)}A(iy,!1),A(iy,!0),(sy=uy={})[sy.Br=0]=\"Br\",sy[sy.Block=1]=\"Block\",sy[sy.Wrap=2]=\"Wrap\",sy[sy.Eol=3]=\"Eol\";var Py,Ly,Iy=A(Ay,as.isAbove,-1),My=A(Ay,as.isBelow,1),Fy=A(Ry,-1,Iy),Uy=A(Ry,1,My);function zy(o,i,a,e,u,t){function n(e){var t=By([e]);-1===o&&(t=t.reverse());for(var n=0;n<t.length;n++){var r=t[n];if(!a(r,l)){if(0<c.length&&i(r,pe(c))&&s++,r.line=s,u(r))return!0;c.push(r)}}}var s=0,c=[],l=pe(t.getClientRects());if(!l)return c;var r=t.getNode();return n(r),function(e,t,n,r){for(;r=Ks(r,e,Vr,t);)if(n(r))return}(o,e,n,r),c}function Hy(t){return function(e){return e.line>t}}function jy(t){return function(e){return e.line===t}}function Vy(e,t){return Math.abs(e.left-t)}function qy(e,t){return Math.abs(e.right-t)}function $y(e,t){return e>=t.left&&e<=t.right}function Wy(e,t){return e>=t.top&&e<=t.bottom}function Ky(e,o,i){return void 0===i&&(i=w),me(e,function(e,t){if($y(o,t))return i(t)?t:e;if($y(o,e))return i(e)?e:t;var n=Math.min(Vy(e,o),qy(e,o)),r=Math.min(Vy(t,o),qy(t,o));return r===n&&se(t,\"node\")&&MC(t.node)||r<n?t:e})}function Xy(e,t,n,r,o){var i=FC(r,e,Vr,t,!o);do{if(!i||n(i))return}while(i=FC(i,e,Vr,t))}function Yy(e,t,n){function r(e){return!cn(e.node)&&!Jn(e.node)}var o,i,a,u=By(U(xe(e.getElementsByTagName(\"*\")),$s)),s=U(u,A(Wy,n));if((a=Ky(s,t,r))&&((a=Ky(function(e,r,t){function n(t,e){var n=U(By([e]),function(e){return!t(e,r)});return o=o.concat(n),0===n.length}void 0===t&&(t=!0);var o=[];return o.push(r),Xy(Py.Up,e,A(n,Ru),r.node,t),Xy(Py.Down,e,A(n,Du),r.node,t),o}(e,a,r(a)),t,r))&&$s(a.node)))return{node:(o=a).node,before:Vy(o,i=t)<qy(o,i)};return null}function Gy(e,t){e.selection.setRng(t),Zf(e,e.selection.getRng())}function Jy(e,t,n){return ve.some(Eb(e,t,n))}function Qy(e,t,n,r,o,i){var a=t===ic.Forwards,u=Pc(e.getBody()),s=A(rc,a?u.next:u.prev),c=a?r:o;if(!n.collapsed){var l=Ou(n);if(i(l))return xb(t,e,l,t===ic.Backwards,!1)}var f=tc(t,e.getBody(),n);if(c(f))return wb(e,f.getNode(!a));var d=ob(a,s(f)),m=Hr(n);if(!d)return m?ve.some(n):ve.none();if(c(d))return xb(t,e,d.getNode(!a),a,!1);var g=s(d);return g&&c(g)&&oc(d,g)?xb(t,e,g.getNode(!a),a,!1):m?Jy(e,d.toRange(),!1):ve.none()}function Zy(t,e,n,r,o,i){var a=tc(e,t.getBody(),n),u=pe(a.getClientRects()),s=e===Py.Down;if(!u)return ve.none();var c,l=U((s?IC:LC)(t.getBody(),Hy(1),a),jy(1)),f=u.left,d=Ky(l,f);if(d&&i(d.node)){var m=Math.abs(f-d.left),g=Math.abs(f-d.right);return xb(e,t,d.node,m<g,!1)}if(c=r(a)?a.getNode():o(a)?a.getNode(!0):Ou(n)){var p=function(e,t,n,r){function o(e){return pe(e.getClientRects())}var i,a,u,s=Pc(t),c=[],l=0,f=1===e?(i=s.next,a=Du,u=Ru,as.after(r)):(i=s.prev,a=Ru,u=Du,as.before(r)),d=o(f);do{if(f.isVisible()){var m=o(f);if(!u(m,d)){0<c.length&&a(m,pe(c))&&l++;var g=ku(m);if(g.position=f,g.line=l,n(g))return c;c.push(g)}}}while(f=i(f));return c}(e,t.getBody(),Hy(1),c),h=Ky(U(p,jy(1)),f);if(h)return Jy(t,h.position.toRange(),!1);if(h=pe(U(p,jy(0))))return Jy(t,h.position.toRange(),!1)}return 0===l.length?UC(t,s).filter(s?o:r).map(function(e){return Eb(t,e.toRange(),!1)}):ve.none()}function e0(t,e,n){return UC(t,e).filter(n).exists(function(e){return t.selection.setRng(e.toRange()),!0})}function t0(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)}function n0(e,t){e?t.setAttribute(\"data-mce-selected\",\"inline-boundary\"):t.removeAttribute(\"data-mce-selected\")}function r0(t,e,n){return jb(e,n).map(function(e){return t0(t,e),n})}function o0(e,t,n){return!!Ps(e)&&(o=t,i=n,a=(r=e).getBody(),u=as.fromRangeStart(r.selection.getRng()),iy(i,A(nb,r),a,u).bind(function(e){return r0(r,o,e)}).isSome());var r,o,i,a,u}function i0(e,t,n){return!!Ps(t)&&(r=e,i=(o=t).selection.getRng(),a=r?as.fromRangeEnd(i):as.fromRangeStart(i),!!y(o.selection.getSel().modify)&&(r&&Fr(a)?ky(!0,o.selection,a):!(r||!Ur(a))&&ky(!1,o.selection,a)));var r,o,i,a}function a0(g){var p=ru(null),h=A(nb,g);return g.on(\"NodeChange\",function(e){var n,r,o,t,i,a,u,s,c,l,f,d,m;!Ps(g)||xt.browser.isIE()&&e.initial||(i=h,a=g.dom,u=e.parents,Y($(s=U(T(hu(Nt.fromDom(a.getRoot()),'*[data-mce-selected=\"inline-boundary\"]'),function(e){return e.dom}),i),c=U(u,i)),A(n0,!1)),Y($(c,s),A(n0,!0)),f=p,(l=g).selection.isCollapsed()&&!0!==l.composing&&f.get()&&(d=as.fromRangeStart(l.selection.getRng()),as.isTextPosition(d)&&!1===(Fr(m=d)||Ur(m))&&(t0(l,Hs(f.get(),d)),f.set(null))),n=h,r=g,o=p,t=e.parents,r.selection.isCollapsed()&&Y(U(t,n),function(e){var t=as.fromRangeStart(r.selection.getRng());Qb(n,r.getBody(),t).bind(function(e){return r0(r,o,e)})}))}),p}function u0(n,t,r){if(Ps(n)){var e=UC(n,t).getOrThunk(function(){var e=n.selection.getRng();return t?as.fromRangeEnd(e):as.fromRangeStart(e)});return Qb(A(nb,n),n.getBody(),e).exists(function(e){var t=ey(e);return jb(r,t).exists(function(e){return t0(n,e),!0})})}return!1}function s0(t,n){return function(e){return jb(n,e).exists(function(e){return t0(t,e),!0})}}function c0(r,o,i,a){var u=r.getBody(),s=A(nb,r);r.undoManager.ignore(function(){var e,t,n;r.selection.setRng((e=i,t=a,(n=document.createRange()).setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n)),r.execCommand(\"Delete\"),Qb(s,u,as.fromRangeStart(r.selection.getRng())).map(ty).map(s0(r,o))}),r.nodeChanged()}function l0(e,t,n){if(e.selection.isCollapsed()&&Ps(e)){var r=as.fromRangeStart(e.selection.getRng());return o=t,a=n,u=r,s=(i=e).getBody(),c=Xs(u.container(),s)||s,l=A(nb,i),(f=Qb(l,c,u)).bind(function(e){return a?e.fold(J(ve.some(ty(e))),ve.none,J(ve.some(ey(e))),ve.none):e.fold(ve.none,J(ve.some(ey(e))),ve.none,J(ve.some(ty(e))))}).map(s0(i,o)).getOrThunk(function(){var t=Fc(a,c,u),e=t.bind(function(e){return Qb(l,c,e)});return dn(f,e,function(){return rb(l,c,u).exists(function(e){return!!dn(ef(o=e),tf(o),function(e,t){var n=ob(!0,e),r=ob(!1,t);return Ql(o,n).forall(function(e){return e.isEqual(r)})}).getOr(!0)&&(Ym(i,a,Nt.fromDom(e)),!0);var o})}).orThunk(function(){return e.bind(function(e){return t.map(function(e){return a?c0(i,o,u,e):c0(i,o,e,u),!0})})}).getOr(!1)})}var i,o,a,u,s,c,l,f;return!1}function f0(e){return 1===zt(e)}function d0(g,p){var t,e=Nt.fromDom(g.getBody()),n=Nt.fromDom(g.selection.getStart()),h=U(z(t=hm(n,e),lo).fold(J(t),function(e){return t.slice(0,e)}),f0);return Z(h).exists(function(e){var t,n,r,o,i,a,u,s,c,l=as.fromRangeStart(g.selection.getRng()),f=p,d=l,m=e.dom;return!(!dn(ef(m),tf(m),function(e,t){var n=ob(!0,e),r=ob(!1,t),o=ob(!1,d);return f?Ql(m,o).exists(function(e){return e.isEqual(r)&&d.isEqual(n)}):Zl(m,o).exists(function(e){return e.isEqual(n)&&d.isEqual(r)})}).getOr(!0)||zc((t=e).dom)&&Pg(t.dom)||(n=p,o=e,0===(c=T(U(h,A(Vg,r=g)),function(e){return e.dom})).length?Ym(r,n,o):(a=o.dom,s=zg(c,(u=Ig(!1)).dom),qt(Nt.fromDom(a),u),Ln(Nt.fromDom(a)),i=as(s,0),r.selection.setRng(i.toRange())),0))})}function m0(e,t){return!!e.selection.isCollapsed()&&d0(e,t)}function g0(e,t,n){return e._selectionOverrides.hideFakeCaret(),Ym(e,t,Nt.fromDom(n)),!0}function p0(e,t){return e.selection.isCollapsed()?(i=e,u=(a=t)?Gg:Jg,s=a?ic.Forwards:ic.Backwards,c=tc(s,i.getBody(),i.selection.getRng()),u(c)?g0(i,a,c.getNode(!a)):ve.from(ob(a,c)).filter(function(e){return u(e)&&oc(c,e)}).exists(function(e){return g0(i,a,e.getNode(!a))})):(r=t,o=(n=e).selection.getNode(),!!Jn(o)&&g0(n,r,o));var n,r,o,i,a,u,s,c}function h0(e){var t=parseInt(e,10);return isNaN(t)?0:t}function v0(e,t){return(e||\"table\"===kt(t)?\"margin\":\"padding\")+(\"rtl\"===xn(t,\"direction\")?\"-right\":\"-left\")}function b0(e){var n,t=jC(e);return!e.mode.isReadOnly()&&(1<t.length||(n=e,j(t,function(e){var t=wn(e,v0(Rs(n),e)).map(h0).getOr(0);return\"false\"!==n.dom.getContentEditable(e.dom)&&0<t})))}function y0(e){return mo(e)||go(e)}function C0(e,s){var c=e.dom,t=e.selection,n=e.formatter,r=e.getParam(\"indentation\",\"40px\",\"string\"),l=/[a-z%]+$/i.exec(r)[0],f=parseInt(r,10),d=Rs(e),o=Ss(e);e.queryCommandState(\"InsertUnorderedList\")||e.queryCommandState(\"InsertOrderedList\")||\"\"!==o||c.getParent(t.getNode(),c.isBlock)||n.apply(\"div\"),Y(jC(e),function(e){var t,n=c,r=s,o=f,i=l,a=e.dom,u=v0(d,Nt.fromDom(a));\"outdent\"===r?(t=Math.max(0,h0(a.style[u])-o),n.setStyle(a,u,t?t+i:\"\")):(t=h0(a.style[u])+o+i,n.setStyle(a,u,t))})}function x0(e,t){if(e.selection.isCollapsed()&&b0(e)){var n=e.dom,r=e.selection.getRng(),o=as.fromRangeStart(r),i=n.getParent(r.startContainer,n.isBlock);if(null!==i&&np(Nt.fromDom(i),o))return C0(e,\"outdent\"),!0}return!1}function w0(e,t){e.getDoc().execCommand(t,!1,null)}function S0(e){return void 0===e.touches||1!==e.touches.length?ve.none():ve.some(e.touches[0])}function E0(e,t){return Ne(e,t.nodeName)}function N0(e){var t,n,r,o=e.dom,i=e.selection,a=e.schema,u=a.getBlockElements(),s=i.getStart(),c=e.getBody(),l=Ss(e);if(s&&zn(s)&&l){var f=c.nodeName.toLowerCase();if(a.isValidChild(f,l.toLowerCase())&&(d=u,m=c,g=s,!F(pm(Nt.fromDom(g),Nt.fromDom(m)),function(e){return E0(d,e.dom)}))){for(var d,m,g,p,h,v=i.getRng(),b=v.startContainer,y=v.startOffset,C=v.endContainer,x=v.endOffset,w=vd(e),s=c.firstChild;s;)p=u,jn(h=s)||zn(h)&&!E0(p,h)&&!Yc(h)?function(e,t){if(jn(t)){if(0===t.nodeValue.length)return 1;if(/^\\s+$/.test(t.nodeValue)&&(!t.nextSibling||E0(e,t.nextSibling)))return 1}}(u,s)?(s=(n=s).nextSibling,o.remove(n)):(t||(t=o.create(l,Es(e)),s.parentNode.insertBefore(t,s),r=!0),s=(n=s).nextSibling,t.appendChild(n)):(t=null,s=s.nextSibling);r&&w&&(v.setStart(b,y),v.setEnd(C,x),i.setRng(v),e.nodeChanged())}}}function k0(e,t){t.hasAttribute(\"data-mce-caret\")&&(zr(t),e.selection.setRng(e.selection.getRng()),e.selection.scrollIntoView(t))}function _0(e,t){var n=vr(Nt.fromDom(e.getBody()),\"*[data-mce-caret]\").map(function(e){return e.dom}).getOrNull();if(n)return\"compositionstart\"===t.type?(t.preventDefault(),t.stopPropagation(),void k0(e,n)):void(Mr(n)&&(k0(e,n),e.undoManager.add()))}function A0(e,t,n){var r,o,i,a=Pc(e.getBody()),u=A(rc,1===t?a.next:a.prev);!n.collapsed||\"\"===Ss(e)||(r=e.dom.getParent(n.startContainer,\"PRE\"))&&(u(as.fromRangeStart(n))||(i=e.dom.create(Ss(e)),(!xt.ie||11<=xt.ie)&&(i.innerHTML='<br data-mce-bogus=\"1\">'),o=i,1===t?e.$(r).after(o):e.$(r).before(o),e.selection.select(o,!0),e.selection.collapse()))}function R0(t,e){return n=t,r=e?ic.Forwards:ic.Backwards,o=n.selection.getRng(),Qy(n,r,o,ep,tp,VC).orThunk(function(){return A0(n,r,o),ve.none()}).exists(function(e){return Gy(t,e),!0});var n,r,o}function D0(t,e){return r=e?1:-1,o=(n=t).selection.getRng(),Zy(n,r,o,function(e){return ep(e)||Qg(e)},function(e){return tp(e)||Zg(e)},VC).orThunk(function(){return A0(n,r,o),ve.none()}).exists(function(e){return Gy(t,e),!0});var n,r,o}function T0(e,t){return e0(e,t,t?tp:ep)}function O0(e){return D([\"figcaption\"],kt(e))}function B0(e){var t=document.createRange();return t.setStartBefore(e.dom),t.setEndBefore(e.dom),t}function P0(e,t,n){(n?Pn:Wt)(e,t)}function L0(h,v){var b=Nt.fromDom(h.getBody()),y=as.fromRangeStart(h.selection.getRng()),C=Ss(h),x=Es(h),e=y,t=A(je,b);return pr(Nt.fromDom(e.container()),lo,t).filter(O0).exists(function(){if(d=b,m=y,v?(p=d.dom,My(p,m).breakAt.isNone()):(g=d.dom,Iy(g,m).breakAt.isNone())){var e=(t=b,r=x,o=v,\"\"===(n=C)?(l=o,P0(t,f=Nt.fromTag(\"br\"),l),B0(f)):(i=t,a=o,u=r,s=Nt.fromTag(n),c=Nt.fromTag(\"br\"),hn(s,u),Pn(s,c),P0(i,s,a),B0(c)));return h.selection.setRng(e),!0}var t,n,r,o,i,a,u,s,c,l,f,d,m,g,p;return!1})}function I0(e,t){return!!e.selection.isCollapsed()&&L0(e,t)}function M0(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(null,t)}}function F0(e,t){return M((n=t,H(T(e,function(e){return _e({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:te},e)}),function(e){return n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey?[e]:[]})),function(e){return e.action()});var n}function U0(t,e){var n=e?ic.Forwards:ic.Backwards,r=t.selection.getRng();return Qy(t,n,r,Gg,Jg,Jn).exists(function(e){return Gy(t,e),!0})}function z0(t,e){var n=e?1:-1,r=t.selection.getRng();return Zy(t,n,r,Gg,Jg,Jn).exists(function(e){return Gy(t,e),!0})}function H0(e,t){return e0(e,t,t?Jg:Gg)}function j0(e,t,n,r,o){var i,a=hu(Nt.fromDom(n),\"td,th,caption\").map(function(e){return e.dom}),u=U((i=e,H(a,function(e){var t,n={left:(t=ku(e.getBoundingClientRect())).left- -1,top:t.top- -1,right:t.right+-2,bottom:t.bottom+-2,width:t.width+-1,height:t.height+-1};return[{x:n.left,y:i(n),cell:e},{x:n.right,y:i(n),cell:e}]})),function(e){return t(e,o)}),s=r,c=o;return L(u,function(e,r){return e.fold(function(){return ve.some(r)},function(e){var t=Math.sqrt(Math.abs(e.x-s)+Math.abs(e.y-c)),n=Math.sqrt(Math.abs(r.x-s)+Math.abs(r.y-c));return ve.some(n<t?r:e)})},ve.none()).map(function(e){return e.cell})}function V0(e,t,n){var r,o,i=e(t,n);return i.breakType===uy.Wrap&&0===i.positions.length||!Wn(n.getNode())&&i.breakType===uy.Br&&1===i.positions.length?(r=e,o=t,!i.breakAt.exists(function(e){return r(o,e).breakAt.isSome()})):i.breakAt.isNone()}function q0(t,e,n,r){var o,i,a,u=t.selection.getRng(),s=e?1:-1;return!(!qs()||(o=e,i=n,a=as.fromRangeStart(u),!Uc(!o,i).exists(function(e){return e.isEqual(a)}))||(xb(s,t,n,!e,!1).each(function(e){Gy(t,e)}),0))}function $0(u,s,c){var e,t,n=(e=!!s,t=c.getNode(e),zn(t)&&\"TABLE\"===t.nodeName?ve.some(t):ve.none()),r=!1===s;n.fold(function(){return Gy(u,c.toRange())},function(a){return Uc(r,u.getBody()).filter(function(e){return e.isEqual(c)}).fold(function(){return Gy(u,c.toRange())},function(e){var n,r,o=s,i=a,t=c;(r=Ss(n=u))?n.undoManager.transact(function(){var e=Nt.fromTag(r);hn(e,Es(n)),Pn(e,Nt.fromTag(\"br\")),(o?$t:qt)(Nt.fromDom(i),e);var t=n.dom.createRng();t.setStart(e.dom,0),t.setEnd(e.dom,0),Gy(n,t)}):Gy(n,t.toRange())})})}function W0(e,t,n,r){var o,i,a,u,s,c,l,f,d,m,g=e.selection.getRng(),p=as.fromRangeStart(g),h=e.getBody();if(t||!WC(r,p))return!(!t||!KC(r,p))&&(o=h,d=i=n,$0(e,t,v=Z((m=a=p).getClientRects()).bind(function(e){return $C(d,e.left,e.top)}).bind(function(e){return Ty(ef(t=e).map(function(e){return[e].concat(My(t,e).positions)}).getOr([]),m);var t}).orThunk(function(){return Q(a.getClientRects()).bind(function(e){return Dy(Uy(o,as.after(i)),e.left)})}).getOr(as.after(i))),!0);var v=(u=h,l=s=n,Q((f=c=p).getClientRects()).bind(function(e){return qC(l,e.left,e.top)}).bind(function(e){return Ty(tf(t=e).map(function(e){return Iy(t,e).positions.concat(e)}).getOr([]),f);var t}).orThunk(function(){return Q(c.getClientRects()).bind(function(e){return Dy(Fy(u,as.before(s)),e.left)})}).getOr(as.before(s)));return $0(e,t,v),!0}function K0(n,r,o){return ve.from(n.dom.getParent(n.selection.getNode(),\"td,th\")).bind(function(t){return ve.from(n.dom.getParent(t,\"table\")).map(function(e){return o(n,r,e,t)})}).getOr(!1)}function X0(e,t){return K0(e,t,q0)}function Y0(e,t){return K0(e,t,W0)}function G0(e,t){var n,r,o=t,i=e.dom,a=e.schema.getMoveCaretBeforeOnEnterElements();if(t){!/^(LI|DT|DD)$/.test(t.nodeName)||(r=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\\r\\n\\s]/.test(e.data))return e;e=e.nextSibling}}(t.firstChild))&&/^(UL|OL|DL)$/.test(r.nodeName)&&t.insertBefore(i.doc.createTextNode(yo),t.firstChild);var u=i.createRng();if(t.normalize(),t.hasChildNodes()){for(var s=new Rr(t,t);n=s.current();){if(jn(n)){u.setStart(n,0),u.setEnd(n,0);break}if(a[n.nodeName.toLowerCase()]){u.setStartBefore(n),u.setEndBefore(n);break}o=n,n=s.next()}n||(u.setStart(o,0),u.setEnd(o,0))}else Wn(t)?t.nextSibling&&i.isBlock(t.nextSibling)?(u.setStartBefore(t),u.setEndBefore(t)):(u.setStartAfter(t),u.setEndAfter(t)):(u.setStart(t,0),u.setEnd(t,0));e.selection.setRng(u),Zf(e,u)}}function J0(e){return ve.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))}function Q0(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t}function Z0(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)}function eC(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e}function tC(e,t,n){for(var r=e[n?\"firstChild\":\"lastChild\"];r&&!zn(r);)r=r[n?\"nextSibling\":\"previousSibling\"];return r===t}function nC(e){e.innerHTML='<br data-mce-bogus=\"1\">'}function rC(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t}function oC(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&\"true\"!==e.getContentEditable(t)}function iC(e,t,n){return!1===jn(t)?n:e?1===n&&t.data.charAt(n-1)===Co?0:n:n===t.data.length-1&&t.data.charAt(n)===Co?t.data.length:n}function aC(e,t){for(var n,r=e.getRoot(),o=t;o!==r&&\"false\"!==e.getContentEditable(o);)\"true\"===e.getContentEditable(o)&&(n=o),o=o.parentNode;return o!==r?n:r}function uC(e,t){var n=Ss(e);n&&n.toLowerCase()===t.tagName.toLowerCase()&&function(e,o,t){var i=e.dom;ve.from(t.style).map(i.parseStyle).each(function(e){var t=Sn(Nt.fromDom(o)),n=_e(_e({},t),e);i.setStyles(o,n)}),dn(ve.from(t.class).map(function(e){return e.split(/\\s+/)}),ve.from(o.className).map(function(e){return U(e.split(/\\s+/),function(e){return\"\"!==e})}),function(t,e){var n=U(e,function(e){return!D(t,e)}),r=Ae(Ae([],t,!0),n,!0);i.setAttrib(o,\"class\",r.join(\" \"))});var n=[\"style\",\"class\"],r=ae(t,function(e,t){return!D(n,t)});i.setAttribs(o,r)}(e,t,Es(e))}function sC(a,e){function t(e){var t,n=m,r=l.getTextInlineElements(),o=e||\"TABLE\"===C||\"HR\"===C?c.create(e||p):b.cloneNode(!1),i=o;if(!1===a.getParam(\"keep_styles\",!0))c.setAttrib(o,\"style\",null),c.setAttrib(o,\"class\",null);else for(;r[n.nodeName]&&(zc(n)||Yc(n)||(t=n.cloneNode(!1),c.setAttrib(t,\"id\",\"\"),o.hasChildNodes()?t.appendChild(o.firstChild):i=t,o.appendChild(t))),(n=n.parentNode)&&n!==F;);return uC(a,o),nC(i),o}function n(e){var t,n,r=iC(e,m,g);if(!jn(m)||!(e?0<r:r<m.nodeValue.length)){if(m.parentNode===b&&s&&!e)return 1;if(e&&zn(m)&&m===b.firstChild)return 1;if(rC(m,\"TABLE\")||rC(m,\"HR\"))return s&&!e||!s&&e;var o=new Rr(m,b);for(jn(m)&&(e&&0===r?o.prev():e||r!==m.nodeValue.length||o.next());t=o.current();){if(zn(t)){if(!t.getAttribute(\"data-mce-bogus\")&&(n=t.nodeName.toLowerCase(),f[n]&&\"br\"!==n))return}else if(jn(t)&&!qr(t.nodeValue))return;e?o.prev():o.next()}return 1}}function r(){u=/^(H[1-6]|PRE|FIGURE)$/.test(C)&&\"HGROUP\"!==x?t(p):t(),a.getParam(\"end_container_on_empty_block\",!1)&&oC(c,y)&&c.isEmpty(b)?u=c.split(y,b):c.insertAfter(u,b),G0(a,u)}var o,u,i,s,c=a.dom,l=a.schema,f=l.getNonEmptyElements(),d=a.selection.getRng();Rf(c,d).each(function(e){d.setStart(e.startContainer,e.startOffset),d.setEnd(e.endContainer,e.endOffset)});var m=d.startContainer,g=d.startOffset,p=Ss(a),h=!(!e||!e.shiftKey),v=!(!e||!e.ctrlKey);zn(m)&&m.hasChildNodes()&&(s=g>m.childNodes.length-1,m=m.childNodes[Math.min(g,m.childNodes.length-1)]||m,g=s&&jn(m)?m.nodeValue.length:0);var b,y,C,x,w,S,p,E,N,k,_,A,R,D,T,O,B,P,L,I,M,F=aC(c,m);F&&((p&&!h||!p&&h)&&(m=function(e,t,n,r){var o,i,a,u,s,c,l=p||\"P\",f=e.dom,d=aC(f,n),m=f.getParent(n,f.isBlock);if(!m||!oC(f,m)){if(s=((m=m||d)===e.getBody()||(c=m)&&/^(TD|TH|CAPTION)$/.test(c.nodeName)?m:m.parentNode).nodeName.toLowerCase(),!m.hasChildNodes())return uC(e,o=f.create(l)),m.appendChild(o),t.setStart(o,0),t.setEnd(o,0),o;for(a=n;a.parentNode!==m;)a=a.parentNode;for(;a&&!f.isBlock(a);)a=(i=a).previousSibling;if(i&&e.schema.isValidChild(s,l.toLowerCase())){for(uC(e,o=f.create(l)),i.parentNode.insertBefore(o,i),a=i;a&&!f.isBlock(a);)u=a.nextSibling,o.appendChild(a),a=u;t.setStart(n,r),t.setEnd(n,r)}}return n}(a,d,m,g)),y=(b=c.getParent(m,c.isBlock))?c.getParent(b.parentNode,c.isBlock):null,C=b?b.nodeName.toUpperCase():\"\",\"LI\"!==(x=y?y.nodeName.toUpperCase():\"\")||v||(y=(b=y).parentNode,C=x),/^(LI|DT|DD)$/.test(C)&&c.isEmpty(b)?(N=t,k=y,_=b,A=p,I=(E=a).dom,M=E.selection.getRng(),k!==E.getBody()&&(D=(A=Z0(R=k)&&Z0(R.parentNode)?\"LI\":A)?N(A):I.create(\"BR\"),tC(k,_,!0)&&tC(k,_,!1)?Q0(k,\"LI\")?(T=eC(k),I.insertAfter(D,T),(null===(L=(P=k).parentNode)||void 0===L?void 0:L.firstChild)===P?I.remove(T):I.remove(k)):I.replace(D,k):(tC(k,_,!0)?Q0(k,\"LI\")?(I.insertAfter(D,eC(k)),D.appendChild(I.doc.createTextNode(\" \")),D.appendChild(k)):k.parentNode.insertBefore(D,k):tC(k,_,!1)?I.insertAfter(D,eC(k)):(k=eC(k),(O=M.cloneRange()).setStartAfter(_),O.setEndAfter(k),B=O.extractContents(),\"LI\"===A&&(B.firstChild&&\"LI\"===B.firstChild.nodeName)?(D=B.firstChild,I.insertAfter(B,k)):(I.insertAfter(B,k),I.insertAfter(D,k))),I.remove(_)),G0(E,D))):p&&b===a.getBody()||(p=p||\"P\",Pr(b)?(u=zr(b),c.isEmpty(b)&&nC(b),uC(a,u),G0(a,u)):n()?r():n(!0)?(u=b.parentNode.insertBefore(t(),b),G0(a,rC(b,\"HR\")?u:b)):((S=(w=d).cloneRange()).setStart(w.startContainer,iC(!0,w.startContainer,w.startOffset)),S.setEnd(w.endContainer,iC(!1,w.endContainer,w.endOffset)),(o=S.cloneRange()).setEndAfter(b),i=o.extractContents(),Y(Hu(Nt.fromDom(i),_n),function(e){var t=e.dom;t.nodeValue=wo(t.nodeValue)}),function(e){for(;jn(e)&&(e.nodeValue=e.nodeValue.replace(/^[\\r\\n]+/,\"\")),e=e.firstChild;);}(i),u=i.firstChild,c.insertAfter(i,b),function(e,t){var n,r,o=u,i=[];if(o){for(;o=o.firstChild;){if(e.isBlock(o))return;zn(o)&&!t[o.nodeName.toLowerCase()]&&i.push(o)}for(n=i.length;n--;)!(o=i[n]).hasChildNodes()||o.firstChild===o.lastChild&&\"\"===o.firstChild.nodeValue?e.remove(o):(r=o)&&\"A\"===r.nodeName&&e.isEmpty(r)&&e.remove(o)}}(c,f),function(e,t){t.normalize();var n=t.lastChild;n&&!/^(left|right)$/gi.test(e.getStyle(n,\"float\",!0))||e.add(t,\"br\")}(c,b),c.isEmpty(b)&&nC(b),u.normalize(),c.isEmpty(u)?(c.remove(u),r()):(uC(a,u),G0(a,u))),c.setAttrib(u,\"id\",\"\"),a.fire(\"NewBlock\",{newBlock:u})))}function cC(e,t,n){var r=e.dom.createRng();n?(r.setStartBefore(t),r.setEndBefore(t)):(r.setStartAfter(t),r.setEndAfter(t)),e.selection.setRng(r),Zf(e,r)}function lC(e,t){var n=Nt.fromTag(\"br\");qt(Nt.fromDom(t),n),e.undoManager.add()}function fC(e,t){XC(e.getBody(),t)||$t(Nt.fromDom(t),Nt.fromTag(\"br\"));var n=Nt.fromTag(\"br\");$t(Nt.fromDom(t),n),cC(e,n.dom,!1),e.undoManager.add()}function dC(e){return e&&\"A\"===e.nodeName&&\"href\"in e}function mC(e){return e.fold(R,dC,dC,R)}function gC(e,t){t.fold(te,A(lC,e),A(fC,e),te)}function pC(e,t){var n,r,o,i=(r=A(nb,n=e),o=as.fromRangeStart(n.selection.getRng()),Qb(r,n.getBody(),o).filter(mC));i.isSome()?i.each(A(gC,e)):function(e,t){var n,r,o=e.selection,i=e.dom,a=o.getRng();Rf(i,a).each(function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)});var u,s=a.startOffset,c=a.startContainer;1===c.nodeType&&c.hasChildNodes()&&(u=s>c.childNodes.length-1,c=c.childNodes[Math.min(s,c.childNodes.length-1)]||c,s=u&&3===c.nodeType?c.nodeValue.length:0);var l=i.getParent(c,i.isBlock),f=l?i.getParent(l.parentNode,i.isBlock):null,d=f?f.nodeName.toUpperCase():\"\",m=!(!t||!t.ctrlKey);\"LI\"!==d||m||(l=f),c&&3===c.nodeType&&s>=c.nodeValue.length&&!function(e){for(var t,n=new Rr(c,l),r=e.getNonEmptyElements();t=n.next();)if(r[t.nodeName.toLowerCase()]||0<t.length)return 1}(e.schema)&&(n=i.create(\"br\"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0),n=i.create(\"br\"),ss(i,a,n),cC(e,n,r),e.undoManager.add()}(e,t)}function hC(e,t){return J0(e).filter(function(e){return 0<t.length&&ze(Nt.fromDom(e),t)}).isSome()}function vC(e,t){return hC(e,e.getParam(\"no_newline_selector\",\"\"))}function bC(n){return function(e,t){return\"\"===Ss(e)===n}}function yC(n){return function(e,t){return J0(e).filter(function(e){return go(Nt.fromDom(e))}).isSome()===n}}function CC(n,r){return function(e,t){return J0(e).fold(J(\"\"),function(e){return e.nodeName.toUpperCase()})===n.toUpperCase()===r}}function xC(e){return CC(\"pre\",e)}function wC(n){return function(e,t){return e.getParam(\"br_in_pre\",!0)===n}}function SC(e,t){return hC(e,e.getParam(\"br_newline_selector\",\".mce-toc h2,figcaption,caption\"))}function EC(e,t){return t}function NC(e){var t=Ss(e),n=function(e,t){for(var n,r=e.getRoot(),o=t;o!==r&&\"false\"!==e.getContentEditable(o);)\"true\"===e.getContentEditable(o)&&(n=o),o=o.parentNode;return o!==r?n:r}(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||\"P\")}function kC(e,t){return function(n,r){return L(e,function(e,t){return e&&t(n,r)},!0)?ve.some(t):ve.none()}}function _C(e,t){var n,r;n=e,r=t,Vb([kC([vC],YC.none()),kC([CC(\"summary\",!0)],YC.br()),kC([xC(!0),wC(!1),EC],YC.br()),kC([xC(!0),wC(!1)],YC.block()),kC([xC(!0),wC(!0),EC],YC.block()),kC([xC(!0),wC(!0)],YC.br()),kC([yC(!0),EC],YC.br()),kC([yC(!0)],YC.block()),kC([bC(!0),EC,NC],YC.block()),kC([bC(!0)],YC.br()),kC([SC],YC.br()),kC([bC(!1),EC],YC.br()),kC([NC],YC.block())],[n,!(!r||!r.shiftKey)]).getOr(YC.none()).fold(function(){pC(e,t)},function(){sC(e,t)},te)}function AC(e){return e.stopImmediatePropagation()}function RC(e){return e.keyCode===Bf.PAGE_UP||e.keyCode===Bf.PAGE_DOWN}function DC(e,t,n){n&&!e.get()?t.on(\"NodeChange\",AC,!0):!n&&e.get()&&t.off(\"NodeChange\",AC),e.set(n)}function TC(n,r){var e=r.container(),t=r.offset();return jn(e)?(e.insertData(t,n),ve.some(as(e,t+n.length))):nc(r).map(function(e){var t=Nt.fromText(n);return(r.isAtEnd()?$t:qt)(e,t),as(t.dom,n.length)})}function OC(i,a){return function(e){return r=i,(!Rm(o=e)&&(n=o,Zl((t=r).dom,n).isNone()||Ql(t.dom,n).isNone()||np(t,n)||rp(t,n)||Em(t,n)||Sm(t,n)||_m(r,o)||Am(r,o))?QC:ZC)(a);var t,n,r,o}}function BC(e){var t,n,r=as.fromRangeStart(e.selection.getRng()),o=Nt.fromDom(e.getBody());if(e.selection.isCollapsed()){var i=A(nb,e),a=as.fromRangeStart(e.selection.getRng());return Qb(i,e.getBody(),a).bind((n=o,function(e){return e.fold(function(e){return Zl(n.dom,as.before(e))},function(e){return ef(e)},function(e){return tf(e)},function(e){return Ql(n.dom,as.after(e))})})).bind(OC(o,r)).exists((t=e,function(e){return t.selection.setRng(e.toRange()),t.nodeChanged(),!0}))}return!1}function PC(e){var o,i,a,u,s,t,n,r,c,l,f,d,m,g,p=a0(e);return e.on(\"keyup compositionstart\",A(_0,e)),g=p,(m=e).on(\"keydown\",function(e){var t,n,r,o;!1===e.isDefaultPrevented()&&(t=m,n=g,r=e,o=dt().os,F0([{keyCode:Bf.RIGHT,action:M0(R0,t,!0)},{keyCode:Bf.LEFT,action:M0(R0,t,!1)},{keyCode:Bf.UP,action:M0(D0,t,!1)},{keyCode:Bf.DOWN,action:M0(D0,t,!0)},{keyCode:Bf.RIGHT,action:M0(X0,t,!0)},{keyCode:Bf.LEFT,action:M0(X0,t,!1)},{keyCode:Bf.UP,action:M0(Y0,t,!1)},{keyCode:Bf.DOWN,action:M0(Y0,t,!0)},{keyCode:Bf.RIGHT,action:M0(U0,t,!0)},{keyCode:Bf.LEFT,action:M0(U0,t,!1)},{keyCode:Bf.UP,action:M0(z0,t,!1)},{keyCode:Bf.DOWN,action:M0(z0,t,!0)},{keyCode:Bf.RIGHT,action:M0(o0,t,n,!0)},{keyCode:Bf.LEFT,action:M0(o0,t,n,!1)},{keyCode:Bf.RIGHT,ctrlKey:!o.isOSX(),altKey:o.isOSX(),action:M0(zC,t,n)},{keyCode:Bf.LEFT,ctrlKey:!o.isOSX(),altKey:o.isOSX(),action:M0(HC,t,n)},{keyCode:Bf.UP,action:M0(I0,t,!1)},{keyCode:Bf.DOWN,action:M0(I0,t,!0)}],r).each(function(e){r.preventDefault()}))}),d=p,(f=e).on(\"keydown\",function(e){var t,n,r;!1===e.isDefaultPrevented()&&(n=d,r=e,F0([{keyCode:Bf.BACKSPACE,action:M0(x0,t=f,!1)},{keyCode:Bf.BACKSPACE,action:M0(Pb,t,!1)},{keyCode:Bf.DELETE,action:M0(Pb,t,!0)},{keyCode:Bf.BACKSPACE,action:M0(Ab,t,!1)},{keyCode:Bf.DELETE,action:M0(Ab,t,!0)},{keyCode:Bf.BACKSPACE,action:M0(l0,t,n,!1)},{keyCode:Bf.DELETE,action:M0(l0,t,n,!0)},{keyCode:Bf.BACKSPACE,action:M0(hg,t,!1)},{keyCode:Bf.DELETE,action:M0(hg,t,!0)},{keyCode:Bf.BACKSPACE,action:M0(Lb,t,!1)},{keyCode:Bf.DELETE,action:M0(Lb,t,!0)},{keyCode:Bf.BACKSPACE,action:M0(p0,t,!1)},{keyCode:Bf.DELETE,action:M0(p0,t,!0)},{keyCode:Bf.BACKSPACE,action:M0(Cb,t,!1)},{keyCode:Bf.DELETE,action:M0(Cb,t,!0)},{keyCode:Bf.BACKSPACE,action:M0(vb,t,!1)},{keyCode:Bf.DELETE,action:M0(vb,t,!0)},{keyCode:Bf.BACKSPACE,action:M0(m0,t,!1)},{keyCode:Bf.DELETE,action:M0(m0,t,!0)}],r).each(function(e){r.preventDefault()}))}),f.on(\"keyup\",function(e){var t,n;!1===e.isDefaultPrevented()&&(n=e,F0([{keyCode:Bf.BACKSPACE,action:M0(Bb,t=f)},{keyCode:Bf.DELETE,action:M0(Bb,t)}],n))}),(l=e).on(\"keydown\",function(e){var t,n,r;e.keyCode===Bf.ENTER&&(t=l,(n=e).isDefaultPrevented()||(n.preventDefault(),(r=t.undoManager).typing&&(r.typing=!1,r.add()),t.undoManager.transact(function(){!1===t.selection.isCollapsed()&&t.execCommand(\"Delete\"),_C(t,n)})))}),(c=e).on(\"keydown\",function(e){var t;!1===e.isDefaultPrevented()&&(t=e,F0([{keyCode:Bf.SPACEBAR,action:M0(BC,c)}],t).each(function(e){t.preventDefault()}))}),n=t=e,r=lu(function(){n.composing||Im(n)},0),GC.isIE()&&(n.on(\"keypress\",function(e){r.throttle()}),n.on(\"remove\",function(e){r.cancel()})),t.on(\"input\",function(e){!1===e.isComposing&&Im(t)}),s=p,(u=e).on(\"keydown\",function(e){var t,n,r;!1===e.isDefaultPrevented()&&(n=s,r=e,F0([{keyCode:Bf.END,action:M0(T0,t=u,!0)},{keyCode:Bf.HOME,action:M0(T0,t,!1)},{keyCode:Bf.END,action:M0(H0,t,!0)},{keyCode:Bf.HOME,action:M0(H0,t,!1)},{keyCode:Bf.END,action:M0(u0,t,!0,n)},{keyCode:Bf.HOME,action:M0(u0,t,!1,n)}],r).each(function(e){r.preventDefault()}))}),o=e,i=p,JC.os.isOSX()||(a=ru(!1),o.on(\"keydown\",function(e){RC(e)&&DC(a,o,!0)}),o.on(\"keyup\",function(e){var t,n,r;!1===e.isDefaultPrevented()&&(r=e,F0([{keyCode:Bf.PAGE_UP,action:M0(u0,t=o,!1,n=i)},{keyCode:Bf.PAGE_DOWN,action:M0(u0,t,!0,n)}],r)),RC(e)&&a.get()&&(DC(a,o,!1),o.nodeChanged())})),p}(Ly=Py=Py||{})[Ly.Up=-1]=\"Up\",Ly[Ly.Down=1]=\"Down\";var LC=A(zy,Py.Up,Ru,Du),IC=A(zy,Py.Down,Du,Ru),MC=Yn,FC=Ks,UC=function(e,t){var n=e.selection.getRng(),r=e.getBody();if(t){var o=as.fromRangeEnd(n),i=My(r,o);return Z(i.positions)}return o=as.fromRangeStart(n),Q((i=Iy(r,o)).positions)},zC=A(i0,!0),HC=A(i0,!1),jC=function(e){return U(T(e.selection.getSelectedBlocks(),Nt.fromDom),function(e){return!y0(e)&&!Ot(e).exists(y0)&&pr(e,function(e){return Xn(e.dom)||Yn(e.dom)}).exists(function(e){return Xn(e.dom)})})},VC=Yn,qC=A(j0,function(e){return e.bottom},function(e,t){return e.y<t}),$C=A(j0,function(e){return e.top},function(e,t){return e.y>t}),WC=A(V0,Iy),KC=A(V0,My),XC=function(e,t){return n=as.after(t),!!Wn(n.getNode())||Ql(e,as.after(t)).map(function(e){return Wn(e.getNode())}).getOr(!1);var n},YC=or([{br:[]},{block:[]},{none:[]}]),GC=dt().browser,JC=dt(),QC=A(TC,yo),ZC=A(TC,\" \"),e1=(t1.prototype.nodeChanged=function(e){var t,n,r,o=this.editor.selection;this.editor.initialized&&o&&!this.editor.getParam(\"disable_nodechange\")&&!this.editor.mode.isReadOnly()&&(r=this.editor.getBody(),(t=o.getStart(!0)||r).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(t,r)||(t=r),n=[],this.editor.dom.getParent(t,function(e){return e===r||void n.push(e)}),(e=e||{}).element=t,e.parents=n,this.editor.fire(\"NodeChange\",e))},t1.prototype.isSameElementPath=function(e){var t,n=this.editor.$(e).parentsUntil(this.editor.getBody()).add(e);if(n.length===this.lastPath.length){for(t=n.length;0<=t&&n[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=n,!0}return this.lastPath=n,!1},t1);function t1(r){var o;this.lastPath=[],this.editor=r;var t=this;\"onselectionchange\"in r.getDoc()||r.on(\"NodeChange click mouseup keyup focus\",function(e){var t=r.selection.getRng(),n={startContainer:t.startContainer,startOffset:t.startOffset,endContainer:t.endContainer,endOffset:t.endOffset};\"nodechange\"!==e.type&&Sf(n,o)||r.fire(\"SelectionChange\"),o=n}),r.on(\"contextmenu\",function(){r.fire(\"SelectionChange\")}),r.on(\"SelectionChange\",function(){var e=r.selection.getStart(!0);!e||!xt.range&&r.selection.isCollapsed()||Tl(r)&&!t.isSameElementPath(e)&&r.dom.isChildOf(e,r.getBody())&&r.nodeChanged({selectionChange:!0})}),r.on(\"mouseup\",function(e){!e.isDefaultPrevented()&&Tl(r)&&(\"IMG\"===r.selection.getNode().nodeName?_r.setEditorTimeout(r,function(){r.nodeChanged()}):r.nodeChanged())})}function n1(e){return zn(e)&&fo(Nt.fromDom(e))}function r1(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,r=n.documentElement,o=n.defaultView;return{top:t.top+o.pageYOffset-r.clientTop,left:t.left+o.pageXOffset-r.clientLeft}}function o1(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function i1(e,S){var E=_r.throttle(function(e,t){S._selectionOverrides.hideFakeCaret(),S.selection.placeCaretAt(e,t)},0);return S.on(\"remove\",E.stop),function(w){return e.on(function(e){var t,n,r,o,i,a,u,s,c,l,f,d,m,g,p,h,v,b,y,C,x=Math.max(Math.abs(w.screenX-e.screenX),Math.abs(w.screenY-e.screenY));if(!e.dragging&&10<x){if(S.fire(\"dragstart\",{target:e.element}).isDefaultPrevented())return;e.dragging=!0,S.focus()}e.dragging&&(d=e,t={pageX:(p=w,h=(g=S).inline?r1(g.getBody()):{left:0,top:0},C=(y=g).getBody(),v=y.inline?{left:C.scrollLeft,top:C.scrollTop}:{left:0,top:0},(m={pageX:(b=function(e,t){if(t.target.ownerDocument===e.getDoc())return{left:t.pageX,top:t.pageY};var n,r,o,i,a,u=r1(e.getContentAreaContainer()),s=(r=(n=e).getBody(),o=n.getDoc().documentElement,i={left:r.scrollLeft,top:r.scrollTop},a={left:r.scrollLeft||o.scrollLeft,top:r.scrollTop||o.scrollTop},n.inline?i:a);return{left:t.pageX-u.left+s.left,top:t.pageY-u.top+s.top}}(g,p)).left-h.left+v.left,pageY:b.top-h.top+v.top}).pageX-d.relX),pageY:m.pageY+5},l=e.ghost,f=S.getBody(),l.parentNode!==f&&f.appendChild(l),n=e.ghost,o=e.width,i=e.height,a=e.maxX,u=e.maxY,c=s=0,n.style.left=(r=t).pageX+\"px\",n.style.top=r.pageY+\"px\",u<r.pageY+i&&(c=r.pageY+i-u),n.style.width=o-(s=a<r.pageX+o?r.pageX+o-a:s)+\"px\",n.style.height=i-c+\"px\",E(w.clientX,w.clientY))})}}function a1(e){function t(e){var t,n,r,o,i,a;0===e.button&&(t=M(c.dom.getParents(e.target),function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return function(e){for(var t=0;t<n.length;t++)if(n[t](e))return!0;return!1}}(D1,T1)).getOr(null),i=c.getBody(),D1(a=t)&&a!==i&&(n=c.dom.getPos(t),r=c.getBody(),o=c.getDoc().documentElement,u.set({element:t,dragging:!1,screenX:e.screenX,screenY:e.screenY,maxX:(c.inline?r.scrollWidth:o.offsetWidth)-2,maxY:(c.inline?r.scrollHeight:o.offsetHeight)-2,relX:e.pageX-n.x,relY:e.pageY-n.y,width:t.offsetWidth,height:t.offsetHeight,ghost:function(e,t,n){var r=c.dom,o=e.cloneNode(!0);r.setStyles(o,{width:t,height:n}),r.setAttrib(o,\"data-mce-selected\",null);var i=r.create(\"div\",{class:\"mce-drag-container\",\"data-mce-bogus\":\"all\",unselectable:\"on\",contenteditable:\"false\"});return r.setStyles(i,{position:\"absolute\",opacity:.5,overflow:\"hidden\",border:0,padding:0,margin:0,width:t,height:n}),r.setStyles(o,{margin:0,boxSizing:\"border-box\"}),i.appendChild(o),i}(t,t.offsetWidth,t.offsetHeight)})))}function n(u){i.on(function(e){var t,n,r,o,i,a;e.dragging&&((o=3===(a=(r=s).selection.getSel().getRangeAt(0).startContainer).nodeType?a.parentNode:a)===(i=e.element)||r.dom.isChildOf(o,i)||D1(o)||((n=e.element.cloneNode(!0)).removeAttribute(\"data-mce-selected\"),t=n,s.fire(\"drop\",{clientX:u.clientX,clientY:u.clientY}).isDefaultPrevented()||s.undoManager.transact(function(){o1(e.element),s.insertContent(s.dom.getOuterHTML(t)),s._selectionOverrides.hideFakeCaret()})),s.fire(\"dragend\"))}),O1(i)}var r,o,i,s,u,c,a=cu(),l=Ja.DOM,f=document,d=i1(u=a,c=e),m=(r=i=a,function(){r.on(function(e){e.dragging&&o.fire(\"dragend\")}),O1(r)});(o=s=e).on(\"mousedown\",t),e.on(\"mousemove\",d),e.on(\"mouseup\",n),l.bind(f,\"mousemove\",d),l.bind(f,\"mouseup\",m),e.on(\"remove\",function(){l.unbind(f,\"mousemove\",d),l.unbind(f,\"mouseup\",m)}),e.on(\"keydown\",function(e){e.keyCode===Bf.ESC&&m()})}function u1(e){var n,i;function a(e){var t;e.isDefaultPrevented()||(t=e.dataTransfer)&&(D(t.types,\"Files\")||0<t.files.length)&&(e.preventDefault(),\"drop\"===e.type&&Iv(i,\"Dropped file type is not supported\"))}function u(e){dd(i,e.target)&&a(e)}function t(){var t=Ja.DOM,n=i.dom,r=document,o=i.inline?i.getBody():i.getDoc(),e=[\"drop\",\"dragover\"];Y(e,function(e){t.bind(r,e,u),n.bind(o,e,a)}),i.on(\"remove\",function(){Y(e,function(e){t.unbind(r,e,u),n.unbind(o,e,a)})})}a1(e),(n=e).on(\"drop\",function(e){var t=void 0!==e.clientX?n.getDoc().elementFromPoint(e.clientX,e.clientY):null;!D1(t)&&\"false\"!==n.dom.getContentEditableParent(t)||e.preventDefault()}),e.getParam(\"block_unsupported_drop\",!0,\"boolean\")&&(i=e).on(\"init\",function(){_r.setEditorTimeout(i,t,0)})}function s1(e,t){return pf(e.getBody(),t)}function c1(l){function f(e){return e!==x&&(P1(e)||Jn(e))&&y.isChildOf(e,x)}function c(e){return ep(e)||tp(e)||Gg(e)||Jg(e)}function d(e){e&&b.setRng(e)}function m(e,t,n,r){return void 0===r&&(r=!0),l.fire(\"ShowCaret\",{target:t,direction:e,before:n}).isDefaultPrevented()?null:(r&&b.scrollIntoView(t,-1===e),i.show(n,t))}function t(e){return Ir(e)||No(e)||ko(e)}function g(e){return t(e.startContainer)||t(e.endContainer)}function p(e,t){if(!e)return null;if(e.collapsed){if(!g(e)){var n=t?1:-1,r=tc(n,x,e),o=r.getNode(!t);if($s(o))return m(n,o,!!t&&!r.isAtEnd(),!1);var i=r.getNode(t);if($s(i))return m(n,i,!t&&!r.isAtEnd(),!1)}return null}var a=e.startContainer,u=e.startOffset,s=e.endOffset;if(3===a.nodeType&&0===u&&P1(a.parentNode)&&(a=a.parentNode,u=y.nodeIndex(a),a=a.parentNode),1!==a.nodeType)return null;if(s===u+1&&a===e.endContainer){var c=a.childNodes[u];if(f(c))return function(e){var t=e.cloneNode(!0),n=l.fire(\"ObjectSelected\",{target:e,targetClone:t});if(n.isDefaultPrevented())return null;var r=function(e,t,n){var r=l.$,o=vr(Nt.fromDom(l.getBody()),\"#\"+w).fold(function(){return r([])},function(e){return r([e.dom])});0===o.length&&(o=r('<div data-mce-bogus=\"all\" class=\"mce-offscreen-selection\"></div>').attr(\"id\",w)).appendTo(l.getBody());var i=y.createRng();t===n&&xt.ie?(o.empty().append('<p style=\"font-size: 0\" data-mce-bogus=\"all\">\\xa0</p>').append(t),i.setStartAfter(o[0].firstChild.firstChild),i.setEndAfter(t)):(o.empty().append(yo).append(t).append(yo),i.setStart(o[0].firstChild,1),i.setEnd(o[0].lastChild,0)),o.css({top:y.getPos(e,l.getBody()).y}),o[0].focus();var a=b.getSel();return a.removeAllRanges(),a.addRange(i),i}(e,n.targetClone,t),o=Nt.fromDom(e);return Y(hu(Nt.fromDom(l.getBody()),\"*[data-mce-selected]\"),function(e){je(o,e)||yn(e,S)}),y.getAttrib(e,S)||e.setAttribute(S,\"1\"),v=e,E(),r}(c)}return null}function h(){v&&v.removeAttribute(S),vr(Nt.fromDom(l.getBody()),\"#\"+w).each(Ln),v=null}var v,n,e,o,b=l.selection,y=l.dom,C=y.isBlock,x=l.getBody(),i=Vs(l,x,C,function(){return vd(l)}),w=\"sel-\"+y.uniqueId(),S=\"data-mce-selected\",r=b.getRng,E=function(){i.hide()};return xt.ceFalse&&!mh(l)&&(l.on(\"mouseup\",function(e){var t=r();t.collapsed&&av(l,e.clientX,e.clientY)&&Sb(l,t,!1).each(d)}),l.on(\"click\",function(e){var t=s1(l,e.target);t&&(P1(t)&&(e.preventDefault(),l.focus()),B1(t)&&y.isChildOf(t,b.getNode())&&h())}),l.on(\"blur NewBlock\",h),l.on(\"ResizeWindow FullscreenStateChanged\",i.reposition),l.on(\"tap\",function(e){var t=e.target,n=s1(l,t);P1(n)?(e.preventDefault(),wb(l,n).each(p)):f(t)&&wb(l,t).each(p)},!0),l.on(\"mousedown\",function(e){var t,n,r,o,i,a,u,s=e.target;s!==x&&\"HTML\"!==s.nodeName&&!y.isChildOf(s,x)||!1===av(l,e.clientX,e.clientY)||((t=s1(l,s))?P1(t)?(e.preventDefault(),wb(l,t).each(p)):(h(),B1(t)&&e.shiftKey||hf(e.clientX,e.clientY,b.getRng())||(E(),b.placeCaretAt(e.clientX,e.clientY))):f(s)?wb(l,s).each(p):!1===$s(s)&&(h(),E(),(n=Yy(x,e.clientX,e.clientY))&&(r=s,o=n.node,a=y.getParent(r,C),u=y.getParent(o,C),!K(a)&&(r!==u&&y.isChildOf(a,u)&&!1===P1(s1(l,a))||!y.isChildOf(u,a)&&(i=u,y.getParent(a,C)!==y.getParent(i,C))&&function(e){var t=e.firstChild;if(!K(t)){var n=as.before(t);if(Wn(n.getNode())&&1===e.childNodes.length)return!c(n);var r=Pc(e).next(n);return r&&!c(r)}}(a))||(e.preventDefault(),d(m(1,n.node,n.before,!1)),l.getBody().focus()))))}),l.on(\"keypress\",function(e){Bf.modifierPressed(e)||P1(b.getNode())&&e.preventDefault()}),l.on(\"GetSelectionRange\",function(e){var t=e.range;v&&(v.parentNode?((t=t.cloneRange()).selectNode(v),e.range=t):v=null)}),l.on(\"SetSelectionRange\",function(e){var t,n,r,o,i,a,u;e.range=(t=e.range,n=l.schema.getShortEndedElements(),r=y.createRng(),o=t.startContainer,i=t.startOffset,a=t.endContainer,u=t.endOffset,Ne(n,o.nodeName.toLowerCase())?0===i?r.setStartBefore(o):r.setStartAfter(o):r.setStart(o,i),Ne(n,a.nodeName.toLowerCase())?0===u?r.setEndBefore(a):r.setEndAfter(a):r.setEnd(a,u),r);var s=p(e.range,e.forward);s&&(e.range=s)}),l.on(\"AfterSetSelectionRange\",function(e){var t=e.range,n=t.startContainer.parentNode;g(t)||\"mcepastebin\"===n.id||E(),y.hasClass(n,\"mce-offscreen-selection\")||h()}),l.on(\"copy\",function(e){var t,n,r=e.clipboardData;e.isDefaultPrevented()||!e.clipboardData||xt.ie||(t=(n=y.get(w))&&n.getElementsByTagName(\"*\")[0])&&(e.preventDefault(),r.clearData(),r.setData(\"text/html\",t.outerHTML),r.setData(\"text/plain\",t.outerText||t.innerText))}),u1(l),e=lu(function(){var e,t;n.removed||!n.getBody().contains(document.activeElement)||(e=n.selection.getRng()).collapsed&&(t=Eb(n,e,!1),n.selection.setRng(t))},0),(n=l).on(\"focus\",function(){e.throttle()}),n.on(\"blur\",function(){e.cancel()}),(o=l).on(\"init\",function(){o.on(\"focusin\",function(e){var t,n,r=e.target;Jn(r)&&(t=pf(o.getBody(),r),n=Yn(t)?t:r,o.selection.getNode()!==n&&wb(o,n).each(function(e){return o.selection.setRng(e)}))})})),{showCaret:m,showBlockCaretContainer:function(e){e.hasAttribute(\"data-mce-caret\")&&(zr(e),d(r()),b.scrollIntoView(e))},hideFakeCaret:E,destroy:function(){i.destroy(),v=null}}}function l1(a){function e(e,t){try{a.getDoc().execCommand(e,!1,t)}catch(e){}}function u(e){return e.isDefaultPrevented()}function t(){a.shortcuts.add(\"meta+a\",null,\"SelectAll\")}function n(){a.inline||b.bind(a.getDoc(),\"mousedown mouseup\",function(e){var t;e.target===a.getDoc().documentElement&&(t=y.getRng(),a.getBody().focus(),\"mousedown\"===e.type?Ir(t.startContainer)||y.placeCaretAt(e.clientX,e.clientY):y.setRng(t))})}function r(){Range.prototype.getClientRects||a.on(\"mousedown\",function(e){var t;u(e)||\"HTML\"!==e.target.nodeName||((t=a.getBody()).blur(),_r.setEditorTimeout(a,function(){t.focus()}))})}function o(){a.on(\"click\",function(e){var t=e.target;/^(IMG|HR)$/.test(t.nodeName)&&\"false\"!==b.getContentEditableParent(t)&&(e.preventDefault(),a.selection.select(t),a.nodeChanged()),\"A\"===t.nodeName&&b.hasClass(t,\"mce-item-anchor\")&&(e.preventDefault(),y.select(t))})}function i(){a.on(\"keydown\",function(e){if(!u(e)&&e.keyCode===h&&y.isCollapsed()&&0===y.getRng().startOffset){var t=y.getNode().previousSibling;if(t&&t.nodeName&&\"table\"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})}function s(){a.getParam(\"readonly\")||a.on(\"BeforeExecCommand mousedown\",function(){e(\"StyleWithCSS\",!1),e(\"enableInlineTableEditing\",!1),Ts(a)||e(\"enableObjectResizing\",!1)})}function c(){a.contentStyles.push(\"img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}\")}function l(){a.inline||a.on(\"keydown\",function(){document.activeElement===document.body&&a.getWin().focus()})}function f(){a.inline||(a.contentStyles.push(\"body {min-height: 150px}\"),a.on(\"click\",function(e){var t;\"HTML\"===e.target.nodeName&&(11<xt.ie?a.getBody().focus():(t=a.selection.getRng(),a.getBody().focus(),a.selection.setRng(t),a.selection.normalize(),a.nodeChanged()))}))}function d(){xt.mac&&a.on(\"keydown\",function(e){!Bf.metaKeyPressed(e)||e.shiftKey||37!==e.keyCode&&39!==e.keyCode||(e.preventDefault(),a.selection.getSel().modify(\"move\",37===e.keyCode?\"backward\":\"forward\",\"lineboundary\"))})}function m(){a.on(\"click\",function(e){var t=e.target;do{if(\"A\"===t.tagName)return void e.preventDefault()}while(t=t.parentNode)}),a.contentStyles.push(\".mce-content-body {-webkit-touch-callout: none}\")}function g(){a.on(\"init\",function(){a.dom.bind(a.getBody(),\"submit\",function(e){e.preventDefault()})})}var p=Et.each,h=Bf.BACKSPACE,v=Bf.DELETE,b=a.dom,y=a.selection,C=a.parser,x=xt.gecko,w=xt.ie,S=xt.webkit,E=\"data:text/mce-internal,\",N=w?\"Text\":\"URL\",k=te;return mh(a)?(S&&(n(),o(),g(),t(),xt.iOS&&(l(),f(),m())),x&&(r(),s(),c(),d())):(a.on(\"keydown\",function(e){if(!u(e)&&e.keyCode===Bf.BACKSPACE){var t,n=(t=y.getRng()).startContainer,r=t.startOffset,o=b.getRoot(),i=n;if(t.collapsed&&0===r){for(;i&&i.parentNode&&i.parentNode.firstChild===i&&i.parentNode!==o;)i=i.parentNode;\"BLOCKQUOTE\"===i.tagName&&(a.formatter.toggle(\"blockquote\",null,i),(t=b.createRng()).setStart(n,0),t.setEnd(n,0),y.setRng(t))}}}),a.on(\"keydown\",function(e){var t,n,r,o,i=e.keyCode;u(e)||i!==v&&i!==h||(t=a.selection.isCollapsed(),n=a.getBody(),t&&!b.isEmpty(n)||!t&&(r=R(a.selection.getRng()),(o=b.createRng()).selectNode(a.getBody()),r!==R(o))||(e.preventDefault(),a.setContent(\"\"),n.firstChild&&b.isBlock(n.firstChild)?a.selection.setCursorLocation(n.firstChild,0):a.selection.setCursorLocation(n,0),a.nodeChanged()))}),xt.windowsPhone||a.on(\"keyup focusin mouseup\",function(e){Bf.modifierPressed(e)||y.normalize()},!0),S&&(n(),o(),Ss(a)&&a.on(\"init\",function(){e(\"DefaultParagraphSeparator\",Ss(a))}),g(),i(),C.addNodeFilter(\"br\",function(e){for(var t=e.length;t--;)\"Apple-interchange-newline\"===e[t].attr(\"class\")&&e[t].remove()}),xt.iOS?(l(),f(),m()):t()),11<=xt.ie&&(f(),i()),xt.ie&&(t(),e(\"AutoUrlDetect\",!1),a.on(\"dragstart\",function(e){var t,n,r;(t=e).dataTransfer&&(a.selection.isCollapsed()&&\"IMG\"===t.target.tagName&&y.select(t.target),0<(n=a.selection.getContent()).length&&(r=E+escape(a.id)+\",\"+escape(n),t.dataTransfer.setData(N,r)))}),a.on(\"drop\",function(e){var t,n,r,o;u(e)||(t=e.dataTransfer&&(o=e.dataTransfer.getData(N))&&0<=o.indexOf(E)?(o=o.substr(E.length).split(\",\"),{id:unescape(o[0]),html:unescape(o[1])}):null)&&t.id!==a.id&&(e.preventDefault(),n=wf(e.x,e.y,a.getDoc()),y.setRng(n),r=t.html,a.queryCommandSupported(\"mceInsertClipboardContent\")?a.execCommand(\"mceInsertClipboardContent\",!1,{content:r,internal:!0}):a.execCommand(\"mceInsertContent\",!1,r))})),x&&(a.on(\"keydown\",function(e){if(!u(e)&&e.keyCode===h&&a.getBody().getElementsByTagName(\"hr\").length&&y.isCollapsed()&&0===y.getRng().startOffset){var t=y.getNode(),n=t.previousSibling;if(\"HR\"===t.nodeName)return b.remove(t),void e.preventDefault();n&&n.nodeName&&\"hr\"===n.nodeName.toLowerCase()&&(b.remove(n),e.preventDefault())}}),r(),a.on(\"keypress\",function(e){var t;if(!u(e)&&(8===e.keyCode||46===e.keyCode)&&A())return t=_(),a.getDoc().execCommand(\"delete\",!1,null),t(),e.preventDefault(),!1}),b.bind(a.getDoc(),\"cut\",function(e){var t;!u(e)&&A()&&(t=_(),_r.setEditorTimeout(a,function(){t()}))}),s(),a.on(\"SetContent ExecCommand\",function(e){\"setcontent\"!==e.type&&\"mceInsertLink\"!==e.command||p(b.select(\"a\"),function(e){var t=e.parentNode,n=b.getRoot();if(t.lastChild===e){for(;t&&!b.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}b.add(t,\"br\",{\"data-mce-bogus\":1})}})}),c(),d(),i())),{refreshContentEditable:k,isHidden:function(){if(!x||a.removed)return!1;var e=a.selection.getSel();return!e||!e.rangeCount||0===e.rangeCount}};function _(){var e=b.getAttribs(y.getStart().cloneNode(!1));return function(){var t=y.getStart();t!==a.getBody()&&(b.setAttrib(t,\"style\",null),p(e,function(e){t.setAttributeNode(e.cloneNode(!0))}))}}function A(){return!y.isCollapsed()&&b.getParent(y.getStart(),b.isBlock)!==b.getParent(y.getEnd(),b.isBlock)}function R(e){var t=b.create(\"body\"),n=e.cloneContents();return t.appendChild(n),y.serializer.serialize(t,{format:\"html\"})}}function f1(e){return ae(e,function(e){return!1===b(e)})}function d1(e){var t=e.settings,n=e.editorUpload.blobCache;return f1({allow_conditional_comments:t.allow_conditional_comments,allow_html_data_urls:t.allow_html_data_urls,allow_svg_data_urls:t.allow_svg_data_urls,allow_html_in_named_anchor:t.allow_html_in_named_anchor,allow_script_urls:t.allow_script_urls,allow_unsafe_link_target:t.allow_unsafe_link_target,convert_fonts_to_spans:t.convert_fonts_to_spans,fix_list_elements:t.fix_list_elements,font_size_legacy_values:t.font_size_legacy_values,forced_root_block:t.forced_root_block,forced_root_block_attrs:t.forced_root_block_attrs,padd_empty_with_br:t.padd_empty_with_br,preserve_cdata:t.preserve_cdata,remove_trailing_brs:t.remove_trailing_brs,inline_styles:t.inline_styles,root_name:e.inline?e.getElement().nodeName.toLowerCase():void 0,validate:!0,blob_cache:n,document:e.getDoc(),images_dataimg_filter:t.images_dataimg_filter})}function m1(e){var t,u,n;e.bindPendingEventDelegates(),e.initialized=!0,e.fire(\"Init\"),e.focus(!0),n=(u=e).dom.getRoot(),u.inline||Tl(u)&&u.selection.getStart(!0)!==n||ef(n).each(function(e){var t,n,r,o,i=e.getNode(),a=cn(i)?ef(i).getOr(e):e;xt.browser.isIE()?(t=u,n=a.toRange(),r=Nt.fromDom(t.getBody()),o=(ad(t)?ve.from(n):ve.none()).map(ud).filter(id(r)),t.bookmark=o.isSome()?o:t.bookmark):u.selection.setRng(a.toRange())}),e.nodeChanged({initial:!0}),e.execCallback(\"init_instance_callback\",e),(t=e).settings.auto_focus&&_r.setEditorTimeout(t,function(){var e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus);e.destroyed||e.focus()},100)}function g1(e){return(e.inline?e.ui:e.dom).styleSheetLoader}function p1(e){function t(){o.unloadAll(a),e.inline||e.ui.styleSheetLoader.unloadAll(i)}function n(){e.removed?t():e.on(\"remove\",t)}var r,o=g1(e),i=Ds(e),a=e.contentCSS;0<e.contentStyles.length&&(r=\"\",Et.each(e.contentStyles,function(e){r+=e+\"\\r\\n\"}),e.dom.addStyle(r));var u,s,c,l,f,d,m,g,p,h=kr.all((u=e,s=a,c=i,l=[new kr(function(e,t){return g1(u).loadAll(s,e,t)})],u.inline?l:l.concat([new kr(function(e,t){return u.ui.styleSheetLoader.loadAll(c,e,t)})]))).then(n).catch(n);return e.settings.content_style&&(d=(f=e).settings.content_style,m=Nt.fromDom(f.getBody()),g=jt(Bn(m)),pn(p=Nt.fromTag(\"style\"),\"type\",\"text/css\"),Pn(p,Nt.fromText(d)),Pn(g,p),f.on(\"remove\",function(){Ln(p)})),h}function h1(e){var t;!0!==e.removed&&(mh(t=e)||t.load({initial:!0,format:\"html\"}),t.startContent=t.getContent({format:\"raw\"}),m1(e))}function v1(t,e){var n=t.settings,r=t.getElement(),o=t.getDoc();n.inline||(t.getElement().style.visibility=t.orgVisibility),e||t.inline||(o.open(),o.write(t.iframeHTML),o.close()),t.inline&&(L1.addClass(r,\"mce-content-body\"),t.contentDocument=o=document,t.contentWindow=window,t.bodyElement=r,t.contentAreaContainer=r);var u,i,a,s,c,l,f,d,m,g,p,h=t.getBody();h.disabled=!0,t.readonly=!!n.readonly,t.readonly||(t.inline&&\"static\"===L1.getStyle(h,\"position\",!0)&&(h.style.position=\"relative\"),h.contentEditable=t.getParam(\"content_editable_state\",!0)),h.disabled=!1,t.editorUpload=Kv(t),t.schema=to(n),t.dom=Ja(o,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:n.force_hex_style_colors,update_styles:!0,root_element:t.inline?t.getBody():null,collect:function(){return t.inline},schema:t.schema,contentCssCors:t.getParam(\"content_css_cors\",!1,\"boolean\"),referrerPolicy:_s(t),onSetAttrib:function(e){t.fire(\"SetAttrib\",e)}}),t.parser=((i=$h(d1(u=t),u.schema)).addAttributeFilter(\"src,href,style,tabindex\",function(e,t){for(var n,r,o=e.length,i=u.dom,a=\"data-mce-\"+t;o--;)(r=(n=e[o]).attr(t))&&!n.attr(a)&&0!==r.indexOf(\"data:\")&&0!==r.indexOf(\"blob:\")&&(\"style\"===t?((r=i.serializeStyle(i.parseStyle(r),n.name)).length||(r=null),n.attr(a,r),n.attr(t,r)):\"tabindex\"===t?(n.attr(a,r),n.attr(t,null)):n.attr(a,u.convertURL(r,t,n.name)))}),i.addNodeFilter(\"script\",function(e){for(var t=e.length;t--;){var n=e[t],r=n.attr(\"type\")||\"no/type\";0!==r.indexOf(\"mce-\")&&n.attr(\"type\",\"mce-\"+r)}}),u.settings.preserve_cdata&&i.addNodeFilter(\"#cdata\",function(e){for(var t=e.length;t--;){var n=e[t];n.type=8,n.name=\"#comment\",n.value=\"[CDATA[\"+u.dom.encode(n.value)+\"]]\"}}),i.addNodeFilter(\"p,h1,h2,h3,h4,h5,h6,div\",function(e){for(var t=e.length,n=u.schema.getNonEmptyElements();t--;){var r=e[t];r.isEmpty(n)&&0===r.getAll(\"br\").length&&(r.append(new Ud(\"br\",1)).shortEnded=!0)}}),i),t.serializer=Xh((a=t.settings,_e(_e({},d1(t)),f1({url_converter:a.url_converter,url_converter_scope:a.url_converter_scope,element_format:a.element_format,entities:a.entities,entity_encoding:a.entity_encoding,indent:a.indent,indent_after:a.indent_after,indent_before:a.indent_before,block_elements:a.block_elements,boolean_attributes:a.boolean_attributes,custom_elements:a.custom_elements,extended_valid_elements:a.extended_valid_elements,invalid_elements:a.invalid_elements,invalid_styles:a.invalid_styles,move_caret_before_on_enter_elements:a.move_caret_before_on_enter_elements,non_empty_elements:a.non_empty_elements,schema:a.schema,self_closing_elements:a.self_closing_elements,short_ended_elements:a.short_ended_elements,special:a.special,text_block_elements:a.text_block_elements,text_inline_elements:a.text_inline_elements,valid_children:a.valid_children,valid_classes:a.valid_classes,valid_elements:a.valid_elements,valid_styles:a.valid_styles,verify_html:a.verify_html,whitespace_elements:a.whitespace_elements}))),t),t.selection=Lh(t.dom,t.getWin(),t.serializer,t),t.annotator=Ml(t),t.formatter=Jv(t),t.undoManager=Zv(t),t._nodeChangeDispatcher=new e1(t),t._selectionOverrides=c1(t),d=t,m=cu(),g=ru(!1),p=fu(function(e){d.fire(\"longpress\",_e(_e({},e),{type:\"longpress\"})),g.set(!0)},400),d.on(\"touchstart\",function(n){S0(n).each(function(e){p.cancel();var t={x:e.clientX,y:e.clientY,target:n.target};p.throttle(n),g.set(!1),m.set(t)})},!0),d.on(\"touchmove\",function(e){p.cancel(),S0(e).each(function(i){m.on(function(e){var t=i,n=e,r=Math.abs(t.clientX-n.x),o=Math.abs(t.clientY-n.y);(5<r||5<o)&&(m.clear(),g.set(!1),d.fire(\"longpresscancel\"))})})},!0),d.on(\"touchend touchcancel\",function(t){p.cancel(),\"touchcancel\"!==t.type&&m.get().filter(function(e){return e.target.isEqualNode(t.target)}).each(function(){g.get()?t.preventDefault():d.fire(\"tap\",_e(_e({},t),{type:\"tap\"}))})},!0),(l=c=t).on(\"click\",function(e){l.dom.getParent(e.target,\"details\")&&e.preventDefault()}),(f=c).parser.addNodeFilter(\"details\",function(e){Y(e,function(e){e.attr(\"data-mce-open\",e.attr(\"open\")),e.attr(\"open\",\"open\")})}),f.serializer.addNodeFilter(\"details\",function(e){Y(e,function(e){var t=e.attr(\"data-mce-open\");e.attr(\"open\",X(t)?t:null),e.attr(\"data-mce-open\",null)})}),mh(t)||(s=t).on(\"click\",function(e){var t,n,r,o,i;3<=e.detail&&(r=(t=s).selection.getRng(),o=as.fromRangeStart(r),i=as.fromRangeEnd(r),!as.isElementPosition(o)||n1(n=o.container())&&ef(n).each(function(e){return r.setStart(e.container(),e.offset())}),!as.isElementPosition(i)||n1(n=o.container())&&tf(n).each(function(e){return r.setEnd(e.container(),e.offset())}),t.selection.setRng(vg(r)))});var v,b,y,C,x,w,S,E,N,k=mh(v=t)?ru(null):PC(v);N=k,(E=t).addCommand(\"delete\",function(){var e,t=N;x0(e=E)||Pb(e,!1)||Ab(e,!1)||l0(e,t,!1)||vb(e,!1)||hg(e)||Lb(e,!1)||p0(e,!1)||Cb(e)||m0(e,!1)||(w0(e,\"Delete\"),ub(e))}),E.addCommand(\"forwardDelete\",function(){var e,t=N;Pb(e=E,!0)||Ab(e,!0)||l0(e,t,!0)||vb(e,!0)||hg(e)||Lb(e,!0)||p0(e,!0)||Cb(e)||m0(e,!0)||w0(e,\"ForwardDelete\")}),Ss(b=t)&&b.on(\"NodeChange\",A(N0,b)),C=(y=t).dom,x=Ss(y),w=y.getParam(\"placeholder\",gc.getAttrib(y.getElement(),\"placeholder\"),\"string\"),S=function(e,t){var n,r,o;!function(e){if(eb(e)){var t=e.keyCode;return!tb(e)&&(Bf.metaKeyPressed(e)||e.altKey||112<=t&&t<=123||D(my,t))}}(e)&&(n=y.getBody(),r=!(eb(o=e)&&!(tb(o)||\"keyup\"===o.type&&229===o.keyCode))&&function(e,t,n){if(Wr(Nt.fromDom(t),!1)){var r=\"\"===n,o=t.firstElementChild;return!o||!e.getStyle(t.firstElementChild,\"padding-left\")&&!e.getStyle(t.firstElementChild,\"padding-right\")&&(r?!e.isBlock(o):n===o.nodeName.toLowerCase())}return!1}(C,n,x),\"\"!==C.getAttrib(n,gy)===r&&!t||(C.setAttrib(n,gy,r?w:null),C.setAttrib(n,\"aria-placeholder\",r?w:null),y.fire(\"PlaceholderToggle\",{state:r}),y.on(r?\"keydown\":\"keyup\",S),y.off(r?\"keyup\":\"keydown\",S)))},w&&y.on(\"init\",function(e){S(e,!0),y.on(\"change SetContent ExecCommand\",S),y.on(\"paste\",function(e){return _r.setEditorTimeout(y,function(){return S(e)})})});var _=gh(t);(function(t){var e=t.settings,n=t.getDoc(),r=t.getBody();t.fire(\"PreInit\"),e.browser_spellcheck||e.gecko_spellcheck||(n.body.spellcheck=!1,L1.setAttrib(r,\"spellcheck\",\"false\")),t.quirks=l1(t),t.fire(\"PostRender\");var o=t.getParam(\"directionality\",uu.isRtl()?\"rtl\":void 0);void 0!==o&&(r.dir=o),e.protect&&t.on(\"BeforeSetContent\",function(t){Et.each(e.protect,function(e){t.content=t.content.replace(e,function(e){return\"\\x3c!--mce:protected \"+escape(e)+\"--\\x3e\"})})}),t.on(\"SetContent\",function(){t.addVisual(t.getBody())}),t.on(\"compositionstart compositionend\",function(e){t.composing=\"compositionstart\"===e.type})})(t),_.fold(function(){p1(t).then(function(){return h1(t)})},function(e){t.setProgressState(!0),p1(t).then(function(){e().then(function(e){t.setProgressState(!1),h1(t)},function(e){t.notificationManager.open({type:\"error\",text:String(e)}),h1(t)})})})}function b1(e,t){var n,r,o,i,a=e.translate(\"Rich Text Area\"),u=(n=e.id,r=a,t.height,o=e.getParam(\"iframe_attrs\",{}),hn(i=Nt.fromTag(\"iframe\"),o),hn(i,{id:n+\"_ifr\",frameBorder:\"0\",allowTransparency:\"true\",title:r}),gu(i,\"tox-edit-area__iframe\"),i.dom);u.onload=function(){u.onload=null,e.fire(\"load\")};var s=function(e,t){if(document.domain!==window.location.hostname&&xt.browser.isIE()){var n=jv(\"mce\");e[n]=function(){v1(e)};var r='javascript:(function(){document.open();document.domain=\"'+document.domain+'\";var ed = window.parent.tinymce.get(\"'+e.id+'\");document.write(ed.iframeHTML);document.close();ed.'+n+\"(true);})()\";return I1.setAttrib(t,\"src\",r),!0}return!1}(e,u);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=u,e.iframeHTML=function(e){var t=e.getParam(\"doctype\",\"<!DOCTYPE html>\")+\"<html><head>\";e.getParam(\"document_base_url\",\"\")!==e.documentBaseUrl&&(t+='<base href=\"'+e.documentBaseURI.getURI()+'\" />'),t+='<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />';var n=xs(e,\"body_id\",\"tinymce\"),r=xs(e,\"body_class\",\"\"),o=e.translate(e.getParam(\"iframe_aria_text\",\"Rich Text Area. Press ALT-0 for help.\",\"string\"));return ws(e)&&(t+='<meta http-equiv=\"Content-Security-Policy\" content=\"'+ws(e)+'\" />'),t+('</head><body id=\"'+n+'\" class=\"mce-content-body '+r+'\" data-id=\"'+e.id)+'\" aria-label=\"'+o+'\"><br></body></html>'}(e),I1.add(t.iframeContainer,u),s}function y1(e){return e.replace(/^\\-/,\"\")}function C1(e){return{editorContainer:e,iframeContainer:e,api:{}}}function x1(e){var t,n,r,o,i,a,u,s=e.getElement();return e.orgDisplay=s.style.display,X(Bs(e))?e.theme.renderUI():y(Bs(e))?(n=(t=e).getElement(),(r=Bs(t)(t,n)).editorContainer.nodeType&&(r.editorContainer.id=r.editorContainer.id||t.id+\"_parent\"),r.iframeContainer&&r.iframeContainer.nodeType&&(r.iframeContainer.id=r.iframeContainer.id||t.id+\"_iframecontainer\"),r.height=r.iframeHeight||n.offsetHeight,r):(u=(o=e).getElement(),o.inline?C1(null):(i=u,a=M1.create(\"div\"),M1.insertAfter(a,i),C1(a)))}function w1(e){var n,t,r,o,i,a,u,s;e.fire(\"ScriptsLoaded\"),n=e,t=Et.trim(ks(n)),r=n.ui.registry.getAll().icons,ne(_e(_e({},_v.get(\"default\").icons),_v.get(t).icons),function(e,t){Ne(r,t)||n.ui.registry.addIcon(t,e)}),a=Bs(o=e),X(a)?(o.settings.theme=y1(a),i=Bv.get(a),o.theme=new i(o,Bv.urls[a]),o.theme.init&&o.theme.init(o,Bv.urls[a]||o.documentBaseUrl.replace(/\\/$/,\"\"),o.$)):o.theme={},s=[],Et.each(Ls(u=e).split(/[ ,]/),function(e){F1(u,s,y1(e))});var c=x1(e),l=e,f=ve.from(c.api).getOr({}),d={show:ve.from(f.show).getOr(te),hide:ve.from(f.hide).getOr(te),disable:ve.from(f.disable).getOr(te),isDisabled:ve.from(f.isDisabled).getOr(R),enable:function(){l.mode.isReadOnly()||ve.from(f.enable).map(x)}};l.ui=_e(_e({},l.ui),d);var m,g,p,h={editorContainer:c.editorContainer,iframeContainer:c.iframeContainer};return e.editorContainer=h.editorContainer||null,zv(e),e.inline?v1(e):(p=b1(m=e,g=h),g.editorContainer&&(I1.get(g.editorContainer).style.display=m.orgDisplay,m.hidden=I1.isHidden(g.editorContainer)),m.getElement().style.display=\"none\",I1.setAttrib(m.id,\"aria-hidden\",\"true\"),void(p||v1(m)))}function S1(e){return\"-\"===e.charAt(0)}function E1(t,e,n){return ve.from(e).filter(function(e){return 0<e.length&&!_v.has(e)}).map(function(e){return{url:t.editorManager.baseURL+\"/icons/\"+e+\"/icons\"+n+\".js\",name:ve.some(e)}})}function N1(c,l){var e,t,f=tu.ScriptLoader,n=f,r=l,o=function(){var r,o,t,n,e,i,a,u,s;e=f,u=As(i=c),s=i.getParam(\"language_url\",\"\",\"string\"),!1===uu.hasCode(u)&&\"en\"!==u&&(a=\"\"!==s?s:i.editorManager.baseURL+\"/langs/\"+u+\".js\",e.add(a,te,void 0,function(){Mv(i,\"LanguageLoadError\",Fv(\"language\",a,u))})),t=f,Y(function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t}([E1(n=c,\"default\",l),ve.from(n.getParam(\"icons_url\",\"\",\"string\")).filter(function(e){return 0<e.length}).map(function(e){return{url:e,name:ve.none()}}).orThunk(function(){return E1(n,ks(n),\"\")})]),function(e){t.add(e.url,te,void 0,function(){Mv(n,\"IconsLoadError\",Fv(\"icons\",e.url,e.name.getOrUndefined()))})}),r=c,o=l,Et.each(r.getParam(\"external_plugins\"),function(e,t){Ov.load(t,e,te,void 0,function(){Uv(r,e,t)}),r.settings.plugins+=\" \"+t}),Et.each(Ls(r).split(/[ ,]/),function(e){var t,n;(e=Et.trim(e))&&!Ov.urls[e]&&(S1(e)?(e=e.substr(1,e.length),t=Ov.dependencies(e),Et.each(t,function(e){var t=Ov.createUrl({prefix:\"plugins/\",resource:e,suffix:\"/plugin\"+o+\".js\"},e);Ov.load(t.resource,t,te,void 0,function(){Uv(r,t.prefix+t.resource+t.suffix,t.resource)})})):(n={prefix:\"plugins/\",resource:e,suffix:\"/plugin\"+o+\".js\"},Ov.load(e,n,te,void 0,function(){Uv(r,n.prefix+n.resource+n.suffix,e)})))}),f.loadQueue(function(){c.removed||w1(c)},c,function(){c.removed||w1(c)})},i=Bs(e=c);X(i)?(S1(i)||Ne(Bv.urls,i)||((t=e.getParam(\"theme_url\"))?Bv.load(i,e.documentBaseURI.toAbsolute(t)):Bv.load(i,\"themes/\"+i+\"/theme\"+r+\".js\")),n.loadQueue(function(){Bv.waitFor(i,o)})):o()}function k1(a){return function(i,e){return ve.from(e).map(Nt.fromDom).filter(kn).bind(function(e){return n=a,t=i,r=e.dom,Ag(Nt.fromDom(r),function(e){return wn(t=e,n).orThunk(function(){return\"font\"===kt(t)?ue(z1,n).bind(function(e){return bn(t,e)}):ve.none()});var t},function(e){return je(Nt.fromDom(t),e)}).or((o=e.dom,ve.from(Ja.DOM.getStyle(o,a,!0))));var n,t,r,o}).getOr(\"\")}}function _1(e){return ef(e.getBody()).map(function(e){var t=e.container();return jn(t)?t.parentNode:t})}function A1(e,t){return n=e,r=a(ve.some,t),o=n,ve.from(o.selection.getRng()).bind(function(e){var t=o.getBody();return e.startContainer===t&&0===e.startOffset?ve.none():ve.from(o.selection.getStart(!0))}).orThunk(A(_1,n)).map(Nt.fromDom).filter(kn).bind(r);var n,r,o}function R1(e,t){if(/^[0-9.]+$/.test(t)){var n=parseInt(t,10);if(1<=n&&n<=7){var r=Et.explode(e.getParam(\"font_size_style_values\",\"xx-small,x-small,small,medium,large,x-large,xx-large\")),o=Et.explode(e.getParam(\"font_size_classes\",\"\"));return o?o[n-1]||t:r[n-1]||t}return t}return t}var D1=Yn,T1=Xn,O1=function(e){e.on(function(e){o1(e.ghost)}),e.clear()},B1=Xn,P1=Yn,L1=Ja.DOM,I1=Ja.DOM,M1=Ja.DOM,F1=function(t,n,r){var o,i,a,u,e=Ov.get(r),s=Ov.urls[r]||t.documentBaseUrl.replace(/\\/$/,\"\");if(r=Et.trim(r),e&&-1===Et.inArray(n,r)&&(Et.each(Ov.dependencies(r),function(e){F1(t,n,e)}),!t.plugins[r]))try{var c=new e(t,s,t.$);(t.plugins[r]=c).init&&(c.init(t,s),n.push(r))}catch(e){i=r,a=e,vf(o=t,\"PluginLoadError\",{message:u=uu.translate([\"Failed to initialize plugin: {0}\",i])}),ay(u,a),Iv(o,u)}},U1=Ja.DOM,z1={\"font-size\":\"size\",\"font-family\":\"face\"},H1=k1(\"font-size\"),j1=i(function(e){return e.replace(/[\\'\\\"\\\\]/g,\"\").replace(/,\\s+/g,\",\")},k1(\"font-family\")),V1=Et.each,q1=Et.map,$1=Et.inArray,W1=(K1.prototype.execCommand=function(t,n,r,e){var o,i,a=!1,u=this;if(!u.editor.removed){if(\"mcefocus\"!==t.toLowerCase()&&(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||e&&e.skip_focus?ld(i=u.editor).each(function(e){return i.selection.setRng(e)}):u.editor.focus()),(e=u.editor.fire(\"BeforeExecCommand\",{command:t,ui:n,value:r})).isDefaultPrevented())return!1;var s=t.toLowerCase();if(o=u.commands.exec[s])return o(s,n,r),u.editor.fire(\"ExecCommand\",{command:t,ui:n,value:r}),!0;if(V1(this.editor.plugins,function(e){if(e.execCommand&&e.execCommand(t,n,r))return u.editor.fire(\"ExecCommand\",{command:t,ui:n,value:r}),!(a=!0)}),a)return a;if(u.editor.theme&&u.editor.theme.execCommand&&u.editor.theme.execCommand(t,n,r))return u.editor.fire(\"ExecCommand\",{command:t,ui:n,value:r}),!0;try{a=u.editor.getDoc().execCommand(t,n,r)}catch(e){}return!!a&&(u.editor.fire(\"ExecCommand\",{command:t,ui:n,value:r}),!0)}},K1.prototype.queryCommandState=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.state[e])return t(e);try{return this.editor.getDoc().queryCommandState(e)}catch(e){}return!1}},K1.prototype.queryCommandValue=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.value[e])return t(e);try{return this.editor.getDoc().queryCommandValue(e)}catch(e){}}},K1.prototype.addCommands=function(e,n){void 0===n&&(n=\"exec\");var r=this;V1(e,function(t,e){V1(e.toLowerCase().split(\",\"),function(e){r.commands[n][e]=t})})},K1.prototype.addCommand=function(e,o,i){var a=this;e=e.toLowerCase(),this.commands.exec[e]=function(e,t,n,r){return o.call(i||a.editor,t,n,r)}},K1.prototype.queryCommandSupported=function(e){if(e=e.toLowerCase(),this.commands.exec[e])return!0;try{return this.editor.getDoc().queryCommandSupported(e)}catch(e){}return!1},K1.prototype.addQueryStateHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.state[e]=function(){return t.call(n||r.editor)}},K1.prototype.addQueryValueHandler=function(e,t,n){var r=this;e=e.toLowerCase(),this.commands.value[e]=function(){return t.call(n||r.editor)}},K1.prototype.hasCustomCommand=function(e){return e=e.toLowerCase(),!!this.commands.exec[e]},K1.prototype.execNativeCommand=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=null),this.editor.getDoc().execCommand(e,t,n)},K1.prototype.isFormatMatch=function(e){return this.editor.formatter.match(e)},K1.prototype.toggleFormat=function(e,t){this.editor.formatter.toggle(e,t),this.editor.nodeChanged()},K1.prototype.storeSelection=function(e){this.selectionBookmark=this.editor.selection.getBookmark(e)},K1.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},K1.prototype.setupCommands=function(u){var o=this;function e(r){return function(){var e=u.selection,t=e.isCollapsed()?[u.dom.getParent(e.getNode(),u.dom.isBlock)]:e.getSelectedBlocks(),n=q1(t,function(e){return!!u.formatter.matchNode(e,r)});return-1!==$1(n,!0)}}this.addCommands({\"mceResetDesignMode,mceBeginUndoLevel\":te,\"mceEndUndoLevel,mceAddUndoLevel\":function(){u.undoManager.add()},mceFocus:function(e,t,n){var r,o;o=n,(r=u).removed||(o?Md:function(t){var e=t.selection,n=t.getBody(),r=e.getRng();t.quirks.refreshContentEditable(),void 0!==t.bookmark&&!1===vd(t)&&ld(t).each(function(e){t.selection.setRng(e),r=e});var o,i,a=(o=t,i=e.getNode(),o.dom.getParent(i,function(e){return\"true\"===o.dom.getContentEditable(e)}));if(t.$.contains(n,a))return hd(a),pd(t,r),Md(t);t.inline||(xt.opera||hd(n),t.getWin().focus()),(xt.gecko||t.inline)&&(hd(n),pd(t,r)),Md(t)})(r)},\"Cut,Copy,Paste\":function(e){var t,n,r=u.getDoc();try{o.execNativeCommand(e)}catch(e){t=!0}!(t=\"paste\"===e&&!r.queryCommandEnabled(e)||t)&&r.queryCommandSupported(e)||(n=u.translate(\"Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.\"),xt.mac&&(n=n.replace(/Ctrl\\+/g,\"\\u2318+\")),u.notificationManager.open({text:n,type:\"error\"}))},unlink:function(){var e;u.selection.isCollapsed()?(e=u.dom.getParent(u.selection.getStart(),\"a\"))&&u.dom.remove(e,!0):u.formatter.remove(\"link\")},\"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone\":function(e){var t=e.substring(7);\"full\"===t&&(t=\"justify\"),V1(\"left,center,right,justify\".split(\",\"),function(e){t!==e&&u.formatter.remove(\"align\"+e)}),\"none\"!==t&&o.toggleFormat(\"align\"+t)},\"InsertUnorderedList,InsertOrderedList\":function(e){var t;o.execNativeCommand(e);var n=u.dom.getParent(u.selection.getNode(),\"ol,ul\");n&&(t=n.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(t.nodeName)&&(o.storeSelection(),u.dom.split(t,n),o.restoreSelection()))},\"Bold,Italic,Underline,Strikethrough,Superscript,Subscript\":function(e){o.toggleFormat(e)},\"ForeColor,HiliteColor\":function(e,t,n){o.toggleFormat(e,{value:n})},FontName:function(e,t,n){var r,o;o=R1(r=u,n),r.formatter.toggle(\"fontname\",{value:T(o.split(/\\s*,\\s*/),function(e){return-1===e.indexOf(\" \")||Ge(e,'\"')||Ge(e,\"'\")?e:\"'\"+e+\"'\"}).join(\",\")}),r.nodeChanged()},FontSize:function(e,t,n){var r;(r=u).formatter.toggle(\"fontsize\",{value:R1(r,n)}),r.nodeChanged()},LineHeight:function(e,t,n){var r;(r=u).formatter.toggle(\"lineheight\",{value:String(n)}),r.nodeChanged()},Lang:function(e,t,n){o.toggleFormat(e,{value:n.code,customValue:n.customCode})},RemoveFormat:function(e){u.formatter.remove(e)},mceBlockQuote:function(){o.toggleFormat(\"blockquote\")},FormatBlock:function(e,t,n){return o.toggleFormat(n||\"p\")},mceCleanup:function(){var e=u.selection.getBookmark();u.setContent(u.getContent()),u.selection.moveToBookmark(e)},mceRemoveNode:function(e,t,n){var r=n||u.selection.getNode();r!==u.getBody()&&(o.storeSelection(),u.dom.remove(r,!0),o.restoreSelection())},mceSelectNodeDepth:function(e,t,n){var r=0;u.dom.getParent(u.selection.getNode(),function(e){if(1===e.nodeType&&r++===n)return u.selection.select(e),!1},u.getBody())},mceSelectNode:function(e,t,n){u.selection.select(n)},mceInsertContent:function(e,t,n){var r,o,i,a;r=u,o=function(e){if(\"string\"==typeof e)return{content:e,details:{}};var t=Et.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:t}}(n),i=o.content,a=o.details,ph(r).editor.insertContent(i,a)},mceInsertRawHTML:function(e,t,n){u.selection.setContent(\"tiny_mce_marker\");var r=u.getContent();u.setContent(r.replace(/tiny_mce_marker/g,function(){return n}))},mceInsertNewLine:function(e,t,n){_C(u,n)},mceToggleFormat:function(e,t,n){o.toggleFormat(n)},mceSetContent:function(e,t,n){u.setContent(n)},\"Indent,Outdent\":function(e){C0(u,e)},mceRepaint:te,InsertHorizontalRule:function(){u.execCommand(\"mceInsertContent\",!1,\"<hr />\")},mceToggleVisualAid:function(){u.hasVisual=!u.hasVisual,u.addVisual()},mceReplaceContent:function(e,t,n){u.execCommand(\"mceInsertContent\",!1,n.replace(/\\{\\$selection\\}/g,u.selection.getContent({format:\"text\"})))},mceInsertLink:function(e,t,n){\"string\"==typeof n&&(n={href:n});var r=u.dom.getParent(u.selection.getNode(),\"a\");n.href=n.href.replace(/ /g,\"%20\"),r&&n.href||u.formatter.remove(\"link\"),n.href&&u.formatter.apply(\"link\",n,r)},selectAll:function(){var e,t=u.dom.getParent(u.selection.getStart(),Xn);t&&((e=u.dom.createRng()).selectNodeContents(t),u.selection.setRng(e))},mceNewDocument:function(){u.setContent(\"\")},InsertLineBreak:function(e,t,n){return pC(u,n),!0}}),o.addCommands({JustifyLeft:e(\"alignleft\"),JustifyCenter:e(\"aligncenter\"),JustifyRight:e(\"alignright\"),JustifyFull:e(\"alignjustify\"),\"Bold,Italic,Underline,Strikethrough,Superscript,Subscript\":function(e){return o.isFormatMatch(e)},mceBlockQuote:function(){return o.isFormatMatch(\"blockquote\")},Outdent:function(){return b0(u)},\"InsertUnorderedList,InsertOrderedList\":function(e){var t=u.dom.getParent(u.selection.getNode(),\"ul,ol\");return t&&(\"insertunorderedlist\"===e&&\"UL\"===t.tagName||\"insertorderedlist\"===e&&\"OL\"===t.tagName)}},\"state\"),o.addCommands({Undo:function(){u.undoManager.undo()},Redo:function(){u.undoManager.redo()}}),o.addQueryValueHandler(\"FontName\",function(){return A1(t=u,function(e){return j1(t.getBody(),e.dom)}).getOr(\"\");var t},this),o.addQueryValueHandler(\"FontSize\",function(){return A1(t=u,function(e){return H1(t.getBody(),e.dom)}).getOr(\"\");var t},this),o.addQueryValueHandler(\"LineHeight\",function(){return A1(t=u,function(n){var e=Nt.fromDom(t.getBody());return Ag(n,function(e){return wn(e,\"line-height\")},A(je,e)).getOrThunk(function(){var e=parseFloat(xn(n,\"line-height\")),t=parseFloat(xn(n,\"font-size\"));return String(e/t)})}).getOr(\"\");var t},this)},K1);function K1(e){this.commands={state:{},exec:{},value:{}},this.editor=e,this.setupCommands(e)}function X1(e,t,n){var r,o,i,a,u,s;pu(e,t)&&!1===n?(o=t,mu(r=e)?r.dom.classList.remove(o):(u=o,0<(s=U(du(a=r,\"class\"),function(e){return e!==u})).length?pn(a,\"class\",s.join(\" \")):yn(a,\"class\")),0===(mu(i=r)?i.dom.classList:du(i,\"class\")).length&&yn(i,\"class\")):n&&gu(e,t)}function Y1(e,t,n){try{e.getDoc().execCommand(t,!1,String(n))}catch(e){}}function G1(e,t){e.dom.contentEditable=t?\"true\":\"false\"}function J1(e,t){var n,r,o=Nt.fromDom(e.getBody());X1(o,\"mce-content-readonly\",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),ve.from(e.selection.getNode()).each(function(e){e.removeAttribute(\"data-mce-selected\")}),G1(o,!(e.readonly=!0)),Y(hu(o,'*[contenteditable=\"true\"]'),function(e){pn(e,ex,\"true\"),G1(e,!1)})):(G1(o,!(e.readonly=!1)),Y(hu(o,\"*[\"+ex+'=\"true\"]'),function(e){yn(e,ex),G1(e,!0)}),Y1(e,\"StyleWithCSS\",!1),Y1(e,\"enableInlineTableEditing\",!1),Y1(e,\"enableObjectResizing\",!1),(vd(n=e)||(r=n,td(Bn(Nt.fromDom(r.getElement()))).filter(function(e){return!(void 0!==(t=e.dom.classList)&&(t.contains(\"tox-edit-area\")||t.contains(\"tox-edit-area__iframe\")||t.contains(\"mce-content-body\")))&&dd(r,e.dom);var t}).isSome()))&&e.focus(),e.selection.setRng(e.selection.getRng()),e.nodeChanged())}function Q1(e){return e.readonly}function Z1(t){t.parser.addAttributeFilter(\"contenteditable\",function(e){Q1(t)&&Y(e,function(e){e.attr(ex,e.attr(\"contenteditable\")),e.attr(\"contenteditable\",\"false\")})}),t.serializer.addAttributeFilter(ex,function(e){Q1(t)&&Y(e,function(e){e.attr(\"contenteditable\",e.attr(ex))})}),t.serializer.addTempAttr(ex)}var ex=\"data-mce-contenteditable\",tx=Et.makeMap(\"focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel\",\" \"),nx=(rx.isNative=function(e){return!!tx[e.toLowerCase()]},rx.prototype.fire=function(e,t){var n=e.toLowerCase(),r=io(n,t||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(r);var o=this.bindings[n];if(o)for(var i=0,a=o.length;i<a;i++){var u=o[i];if(!u.removed){if(u.once&&this.off(n,u.func),r.isImmediatePropagationStopped())return r;if(!1===u.func.call(this.scope,r))return r.preventDefault(),r}}return r},rx.prototype.on=function(e,t,n,r){if(t=!1===t?R:t){var o={func:t,removed:!1};r&&Et.extend(o,r);for(var i=e.toLowerCase().split(\" \"),a=i.length;a--;){var u=i[a],s=this.bindings[u];s||(s=[],this.toggleEvent(u,!0)),s=n?Ae([o],s,!0):Ae(Ae([],s,!0),[o],!1),this.bindings[u]=s}}return this},rx.prototype.off=function(e,t){var n=this;if(e)for(var r=e.toLowerCase().split(\" \"),o=r.length;o--;){var i,a=r[o],u=this.bindings[a];if(!a)return ne(this.bindings,function(e,t){n.toggleEvent(t,!1),delete n.bindings[t]}),this;u&&(t?(u=(i=B(u,function(e){return e.func===t})).fail,this.bindings[a]=u,Y(i.pass,function(e){e.removed=!0})):u.length=0,u.length||(this.toggleEvent(e,!1),delete this.bindings[a]))}else ne(this.bindings,function(e,t){n.toggleEvent(t,!1)}),this.bindings={};return this},rx.prototype.once=function(e,t,n){return this.on(e,t,n,{once:!0})},rx.prototype.has=function(e){return e=e.toLowerCase(),!(!this.bindings[e]||0===this.bindings[e].length)},rx);function rx(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||R}function ox(n){return n._eventDispatcher||(n._eventDispatcher=new nx({scope:n,toggleEvent:function(e,t){nx.isNative(e)&&n.toggleNativeEvent&&n.toggleNativeEvent(e,t)}})),n._eventDispatcher}function ix(e,t){if(\"selectionchange\"===t)return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement;var n=Os(e);return n?(e.eventRoot||(e.eventRoot=dx.select(n)[0]),e.eventRoot):e.getBody()}function ax(e,t,n){var r,o,i,a;e.hidden||Q1(e)?Q1(e)&&(r=e,\"click\"!==(o=n).type||Bf.metaKeyPressed(o)||(i=Nt.fromDom(o.target),a=r,br(i,\"a\",function(e){return je(e,Nt.fromDom(a.getBody()))}).bind(function(e){return bn(e,\"href\")}).each(function(e){var t,n;o.preventDefault(),/^#/.test(e)?(t=r.dom.select(e+',[name=\"'+(Ge(n=e,\"#\")?n.substring(\"#\".length):n)+'\"]')).length&&r.selection.scrollIntoView(t[0],!0):window.open(e,\"_blank\",\"rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes\")}))):e.fire(t,n)}function ux(i,a){var e,t;i.delegates||(i.delegates={}),i.delegates[a]||i.removed||(t=ix(i,a),Os(i)?(lx||(lx={},i.editorManager.on(\"removeEditor\",function(){i.editorManager.activeEditor||lx&&(ne(lx,function(e,t){i.dom.unbind(ix(i,t))}),lx=null)})),lx[a]||(lx[a]=e=function(e){for(var t=e.target,n=i.editorManager.get(),r=n.length;r--;){var o=n[r].getBody();o!==t&&!dx.isChildOf(t,o)||ax(n[r],a,e)}},dx.bind(t,a,e))):(dx.bind(t,a,e=function(e){ax(i,a,e)}),i.delegates[a]=e))}function sx(e,t,n,r){var o=n[t.get()],i=n[r];try{i.activate()}catch(e){return void console.error(\"problem while activating editor mode \"+r+\":\",e)}o.deactivate(),o.editorReadOnly!==i.editorReadOnly&&J1(e,i.editorReadOnly),t.set(r),e.fire(\"SwitchMode\",{mode:r})}function cx(e){var t,n={};px(hx(e.toLowerCase(),\"+\"),function(e){e in bx?n[e]=!0:/^[0-9]{2,}$/.test(e)?n.keyCode=parseInt(e,10):(n.charCode=e.charCodeAt(0),n.keyCode=vx[e]||e.toUpperCase().charCodeAt(0))});var r=[n.keyCode];for(t in bx)n[t]?r.push(t):n[t]=!1;return n.id=r.join(\",\"),n.access&&(n.alt=!0,xt.mac?n.ctrl=!0:n.shift=!0),n.meta&&(xt.mac?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n}var lx,fx={fire:function(e,t,n){if(this.removed&&\"remove\"!==e&&\"detach\"!==e)return t;var r=ox(this).fire(e,t);if(!1!==n&&this.parent)for(var o=this.parent();o&&!r.isPropagationStopped();)o.fire(e,r,!1),o=o.parent();return r},on:function(e,t,n){return ox(this).on(e,t,n)},off:function(e,t){return ox(this).off(e,t)},once:function(e,t){return ox(this).once(e,t)},hasEventListeners:function(e){return ox(this).has(e)}},dx=Ja.DOM,mx=_e(_e({},fx),{bindPendingEventDelegates:function(){var t=this;Et.each(t._pendingNativeEvents,function(e){ux(t,e)})},toggleNativeEvent:function(e,t){var n=this;\"focus\"!==e&&\"blur\"!==e&&(n.removed||(t?n.initialized?ux(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(ix(n,e),e,n.delegates[e]),delete n.delegates[e])))},unbindAllNativeEvents:function(){var n=this,e=n.getBody(),t=n.dom;n.delegates&&(ne(n.delegates,function(e,t){n.dom.unbind(ix(n,t),t,e)}),delete n.delegates),!n.inline&&e&&t&&(e.onload=null,t.unbind(n.getWin()),t.unbind(n.getDoc())),t&&(t.unbind(e),t.unbind(n.getContainer()))}}),gx=[\"design\",\"readonly\"],px=Et.each,hx=Et.explode,vx={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},bx=Et.makeMap(\"alt,ctrl,shift,meta,access\"),yx=(Cx.prototype.add=function(e,n,t,r){var o=this,i=o.normalizeCommandFunc(t);return px(hx(Et.trim(e)),function(e){var t=o.createShortcut(e,n,i,r);o.shortcuts[t.id]=t}),!0},Cx.prototype.remove=function(e){var t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)},Cx.prototype.normalizeCommandFunc=function(e){var t=this,n=e;return\"string\"==typeof n?function(){t.editor.execCommand(n,!1,null)}:Et.isArray(n)?function(){t.editor.execCommand(n[0],n[1],n[2])}:n},Cx.prototype.createShortcut=function(e,t,n,r){var o=Et.map(hx(e,\">\"),cx);return o[o.length-1]=Et.extend(o[o.length-1],{func:n,scope:r||this.editor}),Et.extend(o[0],{desc:this.editor.translate(t),subpatterns:o.slice(1)})},Cx.prototype.hasModifier=function(e){return e.altKey||e.ctrlKey||e.metaKey},Cx.prototype.isFunctionKey=function(e){return\"keydown\"===e.type&&112<=e.keyCode&&e.keyCode<=123},Cx.prototype.matchShortcut=function(e,t){return!!t&&t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0)},Cx.prototype.executeShortcutAction=function(e){return e.func?e.func.call(e.scope):null},Cx);function Cx(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;var n=this;e.on(\"keyup keypress keydown\",function(t){!n.hasModifier(t)&&!n.isFunctionKey(t)||t.isDefaultPrevented()||(px(n.shortcuts,function(e){if(n.matchShortcut(t,e))return n.pendingPatterns=e.subpatterns.slice(0),\"keydown\"===t.type&&n.executeShortcutAction(e),!0}),n.matchShortcut(t,n.pendingPatterns[0])&&(1===n.pendingPatterns.length&&\"keydown\"===t.type&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}var xx=Ja.DOM,wx=Et.extend,Sx=Et.each,Ex=Et.resolve,Nx=xt.ie,kx=(_x.prototype.render=function(){!function(t){var e=t.id;uu.setCode(As(t));var n,r,o,i,a=function(){U1.unbind(window,\"ready\",a),t.render()};ai.Event.domLoaded?t.getElement()&&xt.contentEditable&&(n=Nt.fromDom(t.getElement()),r=L(n.dom.attributes,function(e,t){return e[t.name]=t.value,e},{}),t.on(\"remove\",function(){O(n.dom.attributes,function(e){return yn(n,e.name),0}),hn(n,r)}),t.ui.styleSheetLoader=Ar.forElement(n,{contentCssCors:(o=t).getParam(\"content_css_cors\"),referrerPolicy:_s(o)}),t.getParam(\"inline\")?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility=\"hidden\"),(i=t.getElement().form||U1.getParent(e,\"form\"))&&(t.formElement=i,t.getParam(\"hidden_input\")&&!Hn(t.getElement())&&(U1.insertAfter(U1.create(\"input\",{type:\"hidden\",name:e}),e),t.hasHiddenInput=!0),t.formEventDelegate=function(e){t.fire(e.type,e)},U1.bind(i,\"submit reset\",t.formEventDelegate),t.on(\"reset\",function(){t.resetContent()}),!t.getParam(\"submit_patch\")||i.submit.nodeType||i.submit.length||i._mceOldSubmit||(i._mceOldSubmit=i.submit,i.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),i._mceOldSubmit(i)})),t.windowManager=Pv(t),t.notificationManager=uv(t),\"xml\"===t.getParam(\"encoding\")&&t.on(\"GetContent\",function(e){e.save&&(e.content=U1.encode(e.content))}),t.getParam(\"add_form_submit_trigger\")&&t.on(\"submit\",function(){t.initialized&&t.save()}),t.getParam(\"add_unload_trigger\")&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:\"raw\",no_events:!0,set_dirty:!1})},t.editorManager.on(\"BeforeUnload\",t._beforeUnload)),t.editorManager.add(t),N1(t,t.suffix)):U1.bind(window,\"ready\",a)}(this)},_x.prototype.focus=function(e){this.execCommand(\"mceFocus\",!1,e)},_x.prototype.hasFocus=function(){return vd(this)},_x.prototype.execCallback=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,o=this.settings[e];if(o)return this.callbackLookup&&(r=this.callbackLookup[e])&&(o=r.func,r=r.scope),\"string\"==typeof o&&(r=(r=o.replace(/\\.\\w+$/,\"\"))?Ex(r):0,o=Ex(o),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[e]={func:o,scope:r}),o.apply(r||this,t)},_x.prototype.translate=function(e){return uu.translate(e)},_x.prototype.getParam=function(e,t,n){return i=t,a=n,l=(o=e)in(r=this).settings?r.settings[o]:i,\"hash\"===a?(c={},\"string\"==typeof(s=l)?Y(0<s.indexOf(\"=\")?s.split(/[;,](?![^=;,]*(?:[;,]|$))/):s.split(\",\"),function(e){var t=e.split(\"=\");1<t.length?c[Et.trim(t[0])]=Et.trim(t[1]):c[Et.trim(t[0])]=Et.trim(t[0])}):c=s,c):\"string\"===a?rv(X,r,o).getOr(i):\"number\"===a?rv(E,r,o).getOr(i):\"boolean\"===a?rv(v,r,o).getOr(i):\"object\"===a?rv(h,r,o).getOr(i):\"array\"===a?rv(S,r,o).getOr(i):\"string[]\"===a?rv((u=X,function(e){return S(e)&&j(e,u)}),r,o).getOr(i):\"function\"===a?rv(y,r,o).getOr(i):l;var r,o,i,a,u,s,c,l},_x.prototype.hasPlugin=function(e,t){return!(!D(Ls(this).split(/[ ,]/),e)||t&&void 0===Ov.get(e))},_x.prototype.nodeChanged=function(e){this._nodeChangeDispatcher.nodeChanged(e)},_x.prototype.addCommand=function(e,t,n){this.editorCommands.addCommand(e,t,n)},_x.prototype.addQueryStateHandler=function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},_x.prototype.addQueryValueHandler=function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},_x.prototype.addShortcut=function(e,t,n,r){this.shortcuts.add(e,t,n,r)},_x.prototype.execCommand=function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},_x.prototype.queryCommandState=function(e){return this.editorCommands.queryCommandState(e)},_x.prototype.queryCommandValue=function(e){return this.editorCommands.queryCommandValue(e)},_x.prototype.queryCommandSupported=function(e){return this.editorCommands.queryCommandSupported(e)},_x.prototype.show=function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=\"true\":(xx.show(this.getContainer()),xx.hide(this.id)),this.load(),this.fire(\"show\"))},_x.prototype.hide=function(){var e=this,t=e.getDoc();e.hidden||(Nx&&t&&!e.inline&&t.execCommand(\"SelectAll\"),e.save(),e.inline?(e.getBody().contentEditable=\"false\",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(xx.hide(e.getContainer()),xx.setStyle(e.id,\"display\",e.orgDisplay)),e.hidden=!0,e.fire(\"hide\"))},_x.prototype.isHidden=function(){return!!this.hidden},_x.prototype.setProgressState=function(e,t){this.fire(\"ProgressState\",{state:e,time:t})},_x.prototype.load=function(e){var t=this.getElement();if(this.removed)return\"\";if(t){(e=e||{}).load=!0;var n=Hn(t)?t.value:t.innerHTML,r=this.setContent(n,e);return e.element=t,e.no_events||this.fire(\"LoadContent\",e),e.element=t=null,r}},_x.prototype.save=function(e){var t,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return(e=e||{}).save=!0,e.element=o,e.content=r.getContent(e),e.no_events||r.fire(\"SaveContent\",e),\"raw\"===e.format&&r.fire(\"RawSaveContent\",e),t=e.content,Hn(o)?o.value=t:(!e.is_removing&&r.inline||(o.innerHTML=t),(n=xx.getParent(r.id,\"form\"))&&Sx(n.elements,function(e){if(e.name===r.id)return e.value=t,!1})),e.element=o=null,!1!==e.set_dirty&&r.setDirty(!1),t},_x.prototype.setContent=function(e,t){return Yh(this,e,t)},_x.prototype.getContent=function(e){return t=this,r=(n=void 0===(n=e)?{}:n).format||\"html\",o=n,ph(t).editor.getContent(o,r);var t,n,r,o},_x.prototype.insertContent=function(e,t){t&&(e=wx({content:e},t)),this.execCommand(\"mceInsertContent\",!1,e)},_x.prototype.resetContent=function(e){void 0===e?Yh(this,this.startContent,{format:\"raw\"}):Yh(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},_x.prototype.isDirty=function(){return!this.isNotDirty},_x.prototype.setDirty=function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire(\"dirty\")},_x.prototype.getContainer=function(){return this.container||(this.container=xx.get(this.editorContainer||this.id+\"_parent\")),this.container},_x.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},_x.prototype.getElement=function(){return this.targetElm||(this.targetElm=xx.get(this.id)),this.targetElm},_x.prototype.getWin=function(){var e;return this.contentWindow||(e=this.iframeElement)&&(this.contentWindow=e.contentWindow),this.contentWindow},_x.prototype.getDoc=function(){var e;return this.contentDocument||(e=this.getWin())&&(this.contentDocument=e.document),this.contentDocument},_x.prototype.getBody=function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},_x.prototype.convertURL=function(e,t,n){var r=this.settings;return r.urlconverter_callback?this.execCallback(\"urlconverter_callback\",e,n,!0,t):!r.convert_urls||n&&\"LINK\"===n.nodeName||0===e.indexOf(\"file:\")||0===e.length?e:r.relative_urls?this.documentBaseURI.toRelative(e):this.documentBaseURI.toAbsolute(e,r.remove_script_host)},_x.prototype.addVisual=function(e){var t;t=e,hh(this).editor.addVisual(t)},_x.prototype.remove=function(){var e,t,n,r,o;(e=this).removed||(t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),o=e.getElement(),r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&o&&hv.remove(o.nextSibling),e.fire(\"remove\"),e.editorManager.remove(e),!e.inline&&r&&hv.setStyle(e.id,\"display\",e.orgDisplay),e.fire(\"detach\"),hv.remove(e.getContainer()),Gh(t),Gh(n),e.destroy())},_x.prototype.destroy=function(e){var t,n,r,o,i,a,u;n=e,a=(t=this).selection,u=t.dom,t.destroyed||(n||t.removed?(n||(t.editorManager.off(\"beforeunload\",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),Gh(a),Gh(u)),(o=(r=t).formElement)&&(o._mceOldSubmit&&(o.submit=o._mceOldSubmit,o._mceOldSubmit=null),hv.unbind(o,\"submit reset\",r.formEventDelegate)),(i=t).contentAreaContainer=i.formElement=i.container=i.editorContainer=null,i.bodyElement=i.contentDocument=i.contentWindow=null,i.iframeElement=i.targetElm=null,i.selection&&(i.selection=i.selection.win=i.selection.dom=i.selection.dom.doc=null),t.destroyed=!0):t.remove())},_x.prototype.uploadImages=function(e){return this.editorUpload.uploadImages(e)},_x.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},_x.prototype.addButton=function(){throw new Error(\"editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead\")},_x.prototype.addSidebar=function(){throw new Error(\"editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead\")},_x.prototype.addMenuItem=function(){throw new Error(\"editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead\")},_x.prototype.addContextToolbar=function(){throw new Error(\"editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead\")},_x);function _x(e,t,n){var r,o,i,a,u,s,c,l,f,d,m,g,p,h,v,b,y,C,x=this;function w(n,r){return function(e,t){return n[e.toLowerCase()]=_e(_e({},t),{type:r})}}this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,wx(this,mx),this.settings=(d=(f=this).documentBaseUrl,m=n.defaultSettings,p=d,h=wv,v=f,b={id:e,theme:\"silver\",toolbar_mode:ev(g=t,\"floating\"),plugins:\"\",document_base_url:p,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:\"<!DOCTYPE html>\",visual:!0,font_size_legacy_values:\"xx-small,small,medium,large,x-large,xx-large,300%\",forced_root_block:\"p\",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:\"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist\",indent_after:\"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist\",entity_encoding:\"named\",url_converter:v.convertURL,url_converter_scope:v},y=_e(_e({},b),h?kv:{}),!1!==(C=nv(Sv||Ev,Sv,y,m,g)).deprecation_warnings&&Jh(g,C),C),this.settings.suffix&&(n.suffix=this.settings.suffix),this.suffix=n.suffix,this.settings.base_url&&n._setBaseUrl(this.settings.base_url),this.baseUri=n.baseURI,this.settings.referrer_policy&&(tu.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Ja.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),su.languageLoad=this.settings.language_load,su.baseURL=n.baseURL,this.id=e,this.setDirty(!1),this.documentBaseURI=new Kd(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new yx(this),this.editorCommands=new W1(this),this.settings.cache_suffix&&(xt.cacheSuffix=this.settings.cache_suffix.replace(/^[\\?\\&]+/,\"\")),this.ui={registry:{addAutocompleter:(u={},(r={addButton:w(o={},\"button\"),addGroupToolbarButton:w(o,\"grouptoolbarbutton\"),addToggleButton:w(o,\"togglebutton\"),addMenuButton:w(o,\"menubutton\"),addSplitButton:w(o,\"splitbutton\"),addMenuItem:w(i={},\"menuitem\"),addNestedMenuItem:w(i,\"nestedmenuitem\"),addToggleMenuItem:w(i,\"togglemenuitem\"),addAutocompleter:w(a={},\"autocompleter\"),addContextMenu:w(s={},\"contextmenu\"),addContextToolbar:w(c={},\"contexttoolbar\"),addContextForm:w(c,\"contextform\"),addSidebar:w(l={},\"sidebar\"),addIcon:function(e,t){return u[e.toLowerCase()]=t},getAll:function(){return{buttons:o,menuItems:i,icons:u,popups:a,contextMenus:s,contextToolbars:c,sidebars:l}}}).addAutocompleter),addButton:r.addButton,addContextForm:r.addContextForm,addContextMenu:r.addContextMenu,addContextToolbar:r.addContextToolbar,addIcon:r.addIcon,addMenuButton:r.addMenuButton,addMenuItem:r.addMenuItem,addNestedMenuItem:r.addNestedMenuItem,addSidebar:r.addSidebar,addSplitButton:r.addSplitButton,addToggleButton:r.addToggleButton,addGroupToolbarButton:r.addGroupToolbarButton,addToggleMenuItem:r.addToggleMenuItem,getAll:r.getAll},styleSheetLoader:void 0,show:te,hide:te,enable:te,disable:te,isDisabled:R};var S,E,N,k,_,A=(k=ru(\"design\"),_=ru({design:{activate:te,deactivate:te,editorReadOnly:!1},readonly:{activate:te,deactivate:te,editorReadOnly:!0}}),(E=S=this).serializer?Z1(E):E.on(\"PreInit\",function(){Z1(E)}),(N=S).on(\"ShowCaret\",function(e){Q1(N)&&e.preventDefault()}),N.on(\"ObjectSelected\",function(e){Q1(N)&&e.preventDefault()}),{isReadOnly:function(){return Q1(S)},set:function(e){return function(e,t,n,r){if(r!==n.get()){if(!Ne(t,r))throw new Error(\"Editor mode '\"+r+\"' is invalid\");e.initialized?sx(e,n,t,r):e.on(\"init\",function(){return sx(e,n,t,r)})}}(S,_.get(),k,e)},get:function(){return k.get()},register:function(e,t){_.set(function(e,t,n){var r;if(D(gx,t))throw new Error(\"Cannot override default mode \"+t);return _e(_e({},e),((r={})[t]=_e(_e({},n),{deactivate:function(){try{n.deactivate()}catch(e){console.error(\"problem while deactivating editor mode \"+t+\":\",e)}}}),r))}(_.get(),e,t))}});this.mode=A,this.setMode=A.set,n.fire(\"SetupEditor\",{editor:this}),this.execCallback(\"setup\",this),this.$=Wa.overrideDefaults(function(){return{context:x.inline?x.getBody():x.getDoc(),element:x.getBody()}})}function Ax(t){var n=t.type;Px(Hx.get(),function(e){switch(n){case\"scroll\":e.fire(\"ScrollWindow\",t);break;case\"resize\":e.fire(\"ResizeWindow\",t)}})}function Rx(e){e!==Mx&&(e?Wa(window).on(\"resize scroll\",Ax):Wa(window).off(\"resize scroll\",Ax),Mx=e)}function Dx(t){var e=Ux;delete Fx[t.id];for(var n=0;n<Fx.length;n++)if(Fx[n]===t){Fx.splice(n,1);break}return Ux=U(Ux,function(e){return t!==e}),Hx.activeEditor===t&&(Hx.activeEditor=0<Ux.length?Ux[0]:null),Hx.focusedEditor===t&&(Hx.focusedEditor=null),e.length!==Ux.length}var Tx,Ox=Ja.DOM,Bx=Et.explode,Px=Et.each,Lx=Et.extend,Ix=0,Mx=!1,Fx=[],Ux=[],zx=\"CSS1Compat\"!==document.compatMode,Hx=_e(_e({},fx),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:Wa,majorVersion:\"5\",minorVersion:\"10.1\",releaseDate:\"2021-11-03\",editors:Fx,i18n:uu,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e,t=\"\",n=Kd.getDocumentBaseUrl(document.location);/^[^:]+:\\/\\/\\/?[^\\/]+\\//.test(n)&&(n=n.replace(/[\\?#].*$/,\"\").replace(/[\\/\\\\][^\\/]+$/,\"\"),/[\\/\\\\]$/.test(n)||(n+=\"/\"));var r=window.tinymce||window.tinyMCEPreInit;if(r)e=r.base||r.baseURL,t=r.suffix;else{for(var o,i=document.getElementsByTagName(\"script\"),a=0;a<i.length;a++)if(\"\"!==(o=i[a].src||\"\")){var u=o.substring(o.lastIndexOf(\"/\"));if(/tinymce(\\.full|\\.jquery|)(\\.min|\\.dev|)\\.js/.test(o)){-1!==u.indexOf(\".min\")&&(t=\".min\"),e=o.substring(0,o.lastIndexOf(\"/\"));break}}!e&&document.currentScript&&(-1!==(o=document.currentScript.src).indexOf(\".min\")&&(t=\".min\"),e=o.substring(0,o.lastIndexOf(\"/\")))}this.baseURL=new Kd(n).toAbsolute(e),this.documentBaseURL=n,this.baseURI=new Kd(this.baseURL),this.suffix=t,this.on(\"AddEditor\",A(md,this)),this.on(\"RemoveEditor\",A(gd,this))},overrideDefaults:function(e){var t=e.base_url;t&&this._setBaseUrl(t);var n=e.suffix;e.suffix&&(this.suffix=n);var r=(this.defaultSettings=e).plugin_base_urls;void 0!==r&&ne(r,function(e,t){su.PluginManager.urls[t]=e})},init:function(r){function u(e){var t=e.id;return t||(t=ue(e,\"name\").filter(function(e){return!Ox.get(e)}).getOrThunk(Ox.uniqueId),e.setAttribute(\"id\",t)),t}function s(e,t){return t.constructor===RegExp?t.test(e.className):Ox.hasClass(e,t)}var n,c=this,l=Et.makeMap(\"area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu\",\" \"),f=function(e){n=e},t=function(){function n(e,t,n){var r=new kx(e,t,c);a.push(r),r.on(\"init\",function(){++i===o.length&&f(a)}),r.targetElm=r.targetElm||n,r.render()}var o,e,i=0,a=[];Ox.unbind(window,\"ready\",t),(e=r.onpageload)&&e.apply(c,[]),o=Wa.unique(function(t){var n=[];if(xt.browser.isIE()&&xt.browser.version.major<11)return ay(\"TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/\"),[];if(zx)return ay(\"Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode.\"),[];if(t.types)return Px(t.types,function(e){n=n.concat(Ox.select(e.selector))}),n;if(t.selector)return Ox.select(t.selector);if(t.target)return[t.target];switch(t.mode){case\"exact\":var e=t.elements||\"\";0<e.length&&Px(Bx(e),function(t){var e=Ox.get(t);e?n.push(e):Px(document.forms,function(e){Px(e.elements,function(e){e.name===t&&(t=\"mce_editor_\"+Ix++,Ox.setAttrib(e,\"id\",t),n.push(e))})})});break;case\"textareas\":case\"specific_textareas\":Px(Ox.select(\"textarea\"),function(e){t.editor_deselector&&s(e,t.editor_deselector)||t.editor_selector&&!s(e,t.editor_selector)||n.push(e)})}return n}(r)),r.types?Px(r.types,function(t){Et.each(o,function(e){return!Ox.is(e,t.selector)||(n(u(e),Lx({},r,t),e),!1)})}):(Et.each(o,function(e){var t;(t=c.get(e.id))&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(Dx(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0)}),0===(o=Et.grep(o,function(e){return!c.get(e.id)})).length?f([]):Px(o,function(e){var t=e;r.inline&&t.tagName.toLowerCase()in l?ay(\"Could not initialize inline editor on invalid inline target element\",e):n(u(e),r,e)}))};return c.settings=r,Ox.bind(window,\"ready\",t),new kr(function(t){n?t(n):f=function(e){t(e)}})},get:function(t){return 0===arguments.length?Ux.slice(0):X(t)?M(Ux,function(e){return e.id===t}).getOr(null):E(t)&&Ux[t]||null},add:function(e){var n=this;return Fx[e.id]===e||(null===n.get(e.id)&&(\"length\"!==e.id&&(Fx[e.id]=e),Fx.push(e),Ux.push(e)),Rx(!0),n.activeEditor=e,n.fire(\"AddEditor\",{editor:e}),Tx||(Tx=function(e){var t=n.fire(\"BeforeUnload\");if(t.returnValue)return e.preventDefault(),e.returnValue=t.returnValue,t.returnValue},window.addEventListener(\"beforeunload\",Tx))),e},createEditor:function(e,t){return this.add(new kx(e,t,this))},remove:function(e){var t,n,r=this;if(e){if(!X(e))return n=e,l(r.get(n.id))?null:(Dx(n)&&r.fire(\"RemoveEditor\",{editor:n}),0===Ux.length&&window.removeEventListener(\"beforeunload\",Tx),n.remove(),Rx(0<Ux.length),n);Px(Ox.select(e),function(e){(n=r.get(e.id))&&r.remove(n)})}else for(t=Ux.length-1;0<=t;t--)r.remove(Ux[t])},execCommand:function(e,t,n){var r=this.get(n);switch(e){case\"mceAddEditor\":return this.get(n)||new kx(n,this.settings,this).render(),!0;case\"mceRemoveEditor\":return r&&r.remove(),!0;case\"mceToggleEditor\":return r?r.isHidden()?r.show():r.hide():this.execCommand(\"mceAddEditor\",!1,n),!0}return!!this.activeEditor&&this.activeEditor.execCommand(e,t,n)},triggerSave:function(){Px(Ux,function(e){e.save()})},addI18n:function(e,t){uu.add(e,t)},translate:function(e){return uu.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire(\"deactivate\",{relatedTarget:e}),e.fire(\"activate\",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new Kd(this.documentBaseURL).toAbsolute(e.replace(/\\/+$/,\"\")),this.baseURI=new Kd(this.baseURL)}});function jx(e,t,n){var r=t.x,o=t.y,i=e.w,a=e.h,u=t.w,s=t.h,c=(n||\"\").split(\"\");return\"b\"===c[0]&&(o+=s),\"r\"===c[1]&&(r+=u),\"c\"===c[0]&&(o+=Jx(s/2)),\"c\"===c[1]&&(r+=Jx(u/2)),\"b\"===c[3]&&(o-=a),\"r\"===c[4]&&(r-=i),\"c\"===c[3]&&(o-=Jx(a/2)),\"c\"===c[4]&&(r-=Jx(i/2)),qx(r,o,i,a)}function Vx(){}Hx.setup();function qx(e,t,n,r){return{x:e,y:t,w:n,h:r}}var $x,Wx,Kx,Xx,Yx=Math.min,Gx=Math.max,Jx=Math.round,Qx={inflate:function(e,t,n){return qx(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},relativePosition:jx,findBestRelativePosition:function(e,t,n,r){for(var o,i=0;i<r.length;i++)if((o=jx(e,t,r[i])).x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i];return null},intersect:function(e,t){var n=Gx(e.x,t.x),r=Gx(e.y,t.y),o=Yx(e.x+e.w,t.x+t.w),i=Yx(e.y+e.h,t.y+t.h);return o-n<0||i-r<0?null:qx(n,r,o-n,i-r)},clamp:function(e,t,n){var r=e.x,o=e.y,i=e.x+e.w,a=e.y+e.h,u=t.x+t.w,s=t.y+t.h,c=Gx(0,t.x-r),l=Gx(0,t.y-o),f=Gx(0,i-u),d=Gx(0,a-s);return r+=c,o+=l,n&&(i+=c,a+=l,r-=f,o-=d),qx(r,o,(i-=f)-r,(a-=d)-o)},create:qx,fromClientRect:function(e){return qx(e.left,e.top,e.width,e.height)}},Zx=($x={},Wx={},{load:function(r,o){var i='Script at URL \"'+o+'\" failed to load',a='Script at URL \"'+o+\"\\\" did not call `tinymce.Resource.add('\"+r+\"', data)` within 1 second\";if(void 0!==$x[r])return $x[r];var e=new kr(function(e,t){var n=function(e,t,n){function r(n){return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o||(o=!0,null!==i&&(clearTimeout(i),i=null),n.apply(null,e))}}void 0===n&&(n=1e3);var o=!1,i=null,a=r(e),u=r(t);return{start:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o||null!==i||(i=setTimeout(function(){return u.apply(null,e)},n))},resolve:a,reject:u}}(e,t);Wx[r]=n.resolve,tu.ScriptLoader.loadScript(o,function(){return n.start(a)},function(){return n.reject(i)})});return $x[r]=e},add:function(e,t){void 0!==Wx[e]&&(Wx[e](t),delete Wx[e]),$x[e]=kr.resolve(t)}}),ew=Et.each,tw=Et.extend;Vx.extend=Kx=function(n){function r(){var e,t,n;if(!Xx&&(this.init&&this.init.apply(this,arguments),t=this.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(this,arguments)}function t(){return this}var o=this.prototype;Xx=!0;var i=new this;return Xx=!1,n.Mixins&&(ew(n.Mixins,function(e){for(var t in e)\"init\"!==t&&(n[t]=e[t])}),o.Mixins&&(n.Mixins=o.Mixins.concat(n.Mixins))),n.Methods&&ew(n.Methods.split(\",\"),function(e){n[e]=t}),n.Properties&&ew(n.Properties.split(\",\"),function(e){var t=\"_\"+e;n[e]=function(e){return void 0!==e?(this[t]=e,this):this[t]}}),n.Statics&&ew(n.Statics,function(e,t){r[t]=e}),n.Defaults&&o.Defaults&&(n.Defaults=tw({},o.Defaults,n.Defaults)),ne(n,function(e,t){var n,r;\"function\"==typeof e&&o[t]?i[t]=(n=t,r=e,function(){var e=this._super;this._super=o[n];var t=r.apply(this,arguments);return this._super=e,t}):i[t]=e}),r.prototype=i,(r.constructor=r).extend=Kx,r};var nw,rw,ow,iw=Math.min,aw=Math.max,uw=Math.round,sw={serialize:function(e){var t=JSON.stringify(e);return X(t)?t.replace(/[\\u0080-\\uFFFF]/g,function(e){var t=e.charCodeAt(0).toString(16);return\"\\\\u\"+\"0000\".substring(t.length)+t}):t},parse:function(e){try{return JSON.parse(e)}catch(e){}}},cw={callbacks:{},count:0,send:function(t){var n=this,r=Ja.DOM,o=(void 0!==t.count?t:n).count,i=\"tinymce_jsonp_\"+o;n.callbacks[o]=function(e){r.remove(i),delete n.callbacks[o],t.callback(e)},r.add(r.doc.body,\"script\",{id:i,src:t.url,type:\"text/javascript\"}),n.count++}},lw=_e(_e({},fx),{send:function(e){var t,n=0,r=function(){!e.async||4===t.readyState||1e4<n++?(e.success&&n<1e4&&200===t.status?e.success.call(e.success_scope,\"\"+t.responseText,t,e):e.error&&e.error.call(e.error_scope,1e4<n?\"TIMED_OUT\":\"GENERAL\",t,e),t=null):_r.setTimeout(r,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=!1!==e.async,e.data=e.data||\"\",lw.fire(\"beforeInitialize\",{settings:e}),(t=new XMLHttpRequest).overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?\"POST\":\"GET\"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader(\"Content-Type\",e.content_type),e.requestheaders&&Et.each(e.requestheaders,function(e){t.setRequestHeader(e.key,e.value)}),t.setRequestHeader(\"X-Requested-With\",\"XMLHttpRequest\"),(t=lw.fire(\"beforeSend\",{xhr:t,settings:e}).xhr).send(e.data),!e.async)return r();_r.setTimeout(r,10)}}),fw=Et.extend,dw=(mw.sendRPC=function(e){return(new mw).send(e)},mw.prototype.send=function(e){var n=e.error,r=e.success,o=fw(this.settings,e);o.success=function(e,t){(e=void 0===(e=sw.parse(e))?{error:\"JSON Parse error.\"}:e).error?n.call(o.error_scope||o.scope,e.error,t):r.call(o.success_scope||o.scope,e.result)},o.error=function(e,t){n&&n.call(o.error_scope||o.scope,e,t)},o.data=sw.serialize({id:e.id||\"c\"+this.count++,method:e.method,params:e.params}),o.content_type=\"application/json\",lw.send(o)},mw);function mw(e){this.settings=fw({},e),this.count=0}try{var gw,pw=\"__storage_test__\";(gw=window.localStorage).setItem(pw,pw),gw.removeItem(pw)}catch(e){nw={},rw=[],ow={getItem:function(e){return nw[e]||null},setItem:function(e,t){rw.push(e),nw[e]=String(t)},key:function(e){return rw[e]},removeItem:function(t){rw=rw.filter(function(e){return e===t}),delete nw[t]},clear:function(){rw=[],nw={}},length:0},Object.defineProperty(ow,\"length\",{get:function(){return rw.length},configurable:!1,enumerable:!1}),gw=ow}var hw={geom:{Rect:Qx},util:{Promise:kr,Delay:_r,Tools:Et,VK:Bf,URI:Kd,Class:Vx,EventDispatcher:nx,Observable:fx,I18n:uu,XHR:lw,JSON:sw,JSONRequest:dw,JSONP:cw,LocalStorage:gw,Color:function(e){function t(e){var t;return\"object\"==typeof e?\"r\"in e?(u=e.r,s=e.g,c=e.b):\"v\"in e&&function(e,t,n){if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,n=parseInt(n,10)/100,t=aw(0,iw(t,1)),n=aw(0,iw(n,1)),0!==t){var r=e/60,o=n*t,i=o*(1-Math.abs(r%2-1)),a=n-o;switch(Math.floor(r)){case 0:u=o,s=i,c=0;break;case 1:u=i,s=o,c=0;break;case 2:u=0,s=o,c=i;break;case 3:u=0,s=i,c=o;break;case 4:u=i,s=0,c=o;break;case 5:u=o,s=0,c=i;break;default:u=s=c=0}u=uw(255*(u+a)),s=uw(255*(s+a)),c=uw(255*(c+a))}else u=s=c=uw(255*n)}(e.h,e.s,e.v):(t=/rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)[^\\)]*\\)/gi.exec(e))?(u=parseInt(t[1],10),s=parseInt(t[2],10),c=parseInt(t[3],10)):(t=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(u=parseInt(t[1],16),s=parseInt(t[2],16),c=parseInt(t[3],16)):(t=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(u=parseInt(t[1]+t[1],16),s=parseInt(t[2]+t[2],16),c=parseInt(t[3]+t[3],16)),u=u<0?0:255<u?255:u,s=s<0?0:255<s?255:s,c=c<0?0:255<c?255:c,n}var n={},u=0,s=0,c=0;return e&&t(e),n.toRgb=function(){return{r:u,g:s,b:c}},n.toHsv=function(){return e=u,t=s,n=c,o=0,(i=iw(e/=255,iw(t/=255,n/=255)))===(a=aw(e,aw(t,n)))?{h:0,s:0,v:100*(o=i)}:(r=(a-i)/a,{h:uw(60*((e===i?3:n===i?1:5)-(e===i?t-n:n===i?e-t:n-e)/((o=a)-i))),s:uw(100*r),v:uw(100*o)});var e,t,n,r,o,i,a},n.toHex=function(){function e(e){return 1<(e=parseInt(e,10).toString(16)).length?e:\"0\"+e}return\"#\"+e(u)+e(s)+e(c)},n.parse=t,n},ImageUploader:function(n){var e=Hv(),r=Wv(n,e);return{upload:function(e,t){return r.upload(e,(t=void 0===t||t)?$v(n):void 0)}}}},dom:{EventUtils:ai,Sizzle:aa,DomQuery:Wa,TreeWalker:Rr,TextSeeker:Nu,DOMUtils:Ja,ScriptLoader:tu,RangeUtils:Of,Serializer:Xh,StyleSheetLoader:wr,ControlSelection:Cf,BookmarkManager:Fl,Selection:Lh,Event:ai.Event},html:{Styles:ro,Entities:Go,Node:Ud,Schema:to,SaxParser:Gd,DomParser:$h,Writer:tm,Serializer:nm},Env:xt,AddOnManager:su,Annotator:Ml,Formatter:Jv,UndoManager:Zv,EditorCommands:W1,WindowManager:Pv,NotificationManager:uv,EditorObservable:mx,Shortcuts:yx,Editor:kx,FocusManager:Ld,EditorManager:Hx,DOM:Ja.DOM,ScriptLoader:tu.ScriptLoader,PluginManager:Ov,ThemeManager:Bv,IconManager:_v,Resource:Zx,trim:Et.trim,isArray:Et.isArray,is:Et.is,toArray:Et.toArray,makeMap:Et.makeMap,each:Et.each,map:Et.map,grep:Et.grep,inArray:Et.inArray,extend:Et.extend,create:Et.create,walk:Et.walk,createNS:Et.createNS,resolve:Et.resolve,explode:Et.explode,_addCacheSuffix:Et._addCacheSuffix,isOpera:xt.opera,isWebKit:xt.webkit,isIE:xt.ie,isGecko:xt.gecko,isMac:xt.mac},vw=Et.extend(Hx,hw),bw=vw;window.tinymce=bw,window.tinyMCE=bw,function(e){if(\"object\"==typeof module)try{module.exports=e}catch(e){}}(vw)}();"]}]}